!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new t.Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="2d3705f1-4c63-48c8-b729-856c4b5dbc49",t._sentryDebugIdIdentifier="sentry-dbid-2d3705f1-4c63-48c8-b729-856c4b5dbc49")}catch(t){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[49168],{876275:function(t,e,i){i.d(e,{hJ:function(){return r},uS:function(){return y}});var r,n=i(331635),a=i(474848),s=i(826094),o=i(882439),d=i(296540),u=i(415044),c=i(478260),h=i(191132),l=i(877338),p=i(105146),f=i(131883),_=i(128633),E=i(518658),m=i(485272),g=i(641581),I=i(458083),D=i(602778),v=i(357515),w=i(358350);!function(t){t.Amazon="AAX"}(r||(r={}));var A=(0,h.U)({name:"AdSlot",category:"monetization"}),R=A.Available,S=A.Unavailable,T=function(t){function e(e){var i=t.call(this,e)||this;return i.logger=c.vF.withCategory("ad-slot"),i.adSessionId=(0,p.k3)(),i.originParams=o.parse(window.location.search),i.containTagFilters=i.originParams.tl||window.location.pathname.includes("directory/tags")||window.location.pathname.includes("directory/all/tags"),i.createSlot=function(t,e){return(0,n.__awaiter)(i,void 0,void 0,(function(){var i,a,o,d,u,h,l,_,A,R,S,T,y,O,C,P=this;return(0,n.__generator)(this,(function(b){switch(b.label){case 0:if(this.state.slotCreated&&!e)return[2];this.setState({slotCreated:!0}),b.label=1;case 1:if(b.trys.push([1,6,,7]),""===(i=(0,m.TN)(t.slotID)))throw"invalid bda placement";return a=i===v.A3.HEADLINER,o=(0,p.yr)(32),d=new Date,123,u=(0,f.wz)(c.x2.store.getState()),h={sdk:r.Amazon,tagParams:{platform:"web"},adFormat:i,sessionID:this.adSessionId,duration:123,twitchCorrelator:o,roll:w.df.Mid,game:null===(O=t.targeting)||void 0===O?void 0:O.game,status:status,requestTime:123,targetingTag:null===(C=t.targeting)||void 0===C?void 0:C.tag,userId:null==u?void 0:u.id},l=h,_=(0,D.L9)(new g.C,l),A=function(e,i){var a;return c.E5.track(e,(0,n.__assign)((0,n.__assign)({},i||{}),{ad_session_id:l.sessionID,requested_ad_size:JSON.stringify(t.adSize),ad_placement:t.slotID,allocation_strategy:t.slotID,date:d.toDateString(),browser:navigator.userAgent,game:null===(a=t.targeting)||void 0===a?void 0:a.game,sdk:r.Amazon,emitting_service:"AdvantEdge",twitch_correlator:o,stitched:!1,pbyp_visible:!1,is_mafs:!!l.mafsDecision,format_name:v.gz.BROWSE_DISPLAY}))},[4,E.F.requestAd(_,A)];case 2:if(R=b.sent(),(0,I.Jp)(R))throw new Error("response is not a display bid");return S=R.resp,[4,E.F.renderCreative(S,this.iframeRef,A,a,t.slotID)];case 3:return b.sent(),t.setCompetitiveSeparationParams&&t.setHeadlinerStatus?[4,t.setCompetitiveSeparationParams(S.adv,S.cat)]:[3,5];case 4:b.sent(),t.setHeadlinerStatus("Filled"),b.label=5;case 5:return this.setState({shouldDisplay:!0,dsaContext:(0,m.A9)(S,this.props.slotID,this.adSessionId)},(function(){P.props.onDisplay&&P.props.onDisplay()})),[3,7];case 6:return T=b.sent(),this.logger.warn("Unable to create ad slot",{slotID:t.slotID,adUnit:t.adUnit,adSize:t.adSize,targeting:t.targeting,autoEnable:t.autoEnable}),t.setHeadlinerStatus&&t.setHeadlinerStatus("Unfilled"),(y=(0,s.d)(T)).includes("error")&&this.setState({slotError:{error:!0,message:y}}),[3,7];case 7:return[2]}}))}))},i.renderExistingBid=function(t,e){return(0,n.__awaiter)(i,void 0,void 0,(function(){var i,a,o,d,u=this;return(0,n.__generator)(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),this.state.slotCreated&&!e?[2]:(this.setState({slotCreated:!0}),i="headliner"===this.props.slotID,a=function(e,i){var a;return c.E5.track(e,(0,n.__assign)((0,n.__assign)({},i||{}),{ad_session_id:u.adSessionId,requested_ad_size:JSON.stringify(u.props.adSize),ad_placement:u.props.slotID,allocation_strategy:u.props.slotID,date:(new Date).toDateString(),browser:navigator.userAgent,game:null===(a=u.props.targeting)||void 0===a?void 0:a.game,sdk:r.Amazon,emitting_service:"AdvantEdge",twitch_correlator:(0,p.yr)(32),stitched:!1,pbyp_visible:!1,is_mafs:!!t.updatedMafsDecision,format_name:v.gz.BROWSE_DISPLAY}))},[4,E.F.renderCreative(t,this.iframeRef,a,i,this.props.slotID)]);case 1:return h.sent(),this.setState({shouldDisplay:!0,dsaContext:(0,m.A9)(t,this.props.slotID,this.adSessionId)},(function(){u.props.onDisplay&&u.props.onDisplay()})),[3,3];case 2:return o=h.sent(),this.logger.warn("Unable to create ad slot",{slotID:this.props.slotID,adUnit:this.props.adUnit,adSize:this.props.adSize,targeting:this.props.targeting,autoEnable:this.props.autoEnable}),(d=(0,s.d)(o)).includes("error")&&this.setState({slotError:{error:!0,message:d}}),[3,3];case 3:return[2]}}))}))},i.setIFrameRef=function(t){return i.iframeRef=t},i.renderDSAButton=function(t){return(0,a.jsx)(_.V,{dsaContext:i.state.dsaContext,format:t})},i.state={dsaContext:{adInput:{advertiserIDNS:"",campaignIDNS:""},clientInput:{},countryInfo:{geoCode:null,isFromEU:!1}},shouldDisplay:!1},i}return(0,n.__extends)(e,t),e.prototype.componentDidMount=function(){c.E5.track("ad_request_opportunity",{ad_placement:this.props.slotID,ad_session_id:this.adSessionId,requested_format:JSON.stringify([v.gz.BROWSE_DISPLAY]),sdk:r.Amazon}),this.props.trackingSet?(this.logger.debug("Tracking is set. Creating slot (componentDidMount)",this.props.slotID),this.containTagFilters||(this.props.displayBid?this.renderExistingBid(this.props.displayBid):this.createSlot(this.props))):(this.logger.debug("Tracking is not set. Skipping slot creation (componentDidMount)",this.props.slotID),this.props.setHeadlinerStatus&&this.props.setHeadlinerStatus("Unfilled"))},e.prototype.componentDidUpdate=function(t){var e=!this.state.slotCreated&&!this.containTagFilters,i=!this.state.slotCreated&&"string"==typeof this.props.targeting.tag&&"string"==typeof t.targeting.tag&&t.targeting.tag!==this.props.targeting.tag;this.state.slotCreated&&!i||(this.props.trackingSet&&(t.trackingSet!==this.props.trackingSet&&e||i)?(this.logger.debug("Tracking is set. Creating slot (componentDidUpdate)",this.props.slotID),this.props.displayBid?this.renderExistingBid(this.props.displayBid,i):this.createSlot(this.props,i)):(this.logger.debug("Tracking is not set. Skipping slot creation (componentDidUpdate)",this.props.slotID),this.props.setHeadlinerStatus&&this.props.setHeadlinerStatus("Unfilled")))},e.prototype.render=function(){var t;if(null===(t=this.state.slotError)||void 0===t?void 0:t.error)return(0,a.jsx)(S,{reason:this.state.slotError.message});var e=(0,n.__assign)({},this.props.injectStyles);this.state.shouldDisplay||(e.display="none");var i={height:"100%",width:"100%"},r=(0,c.hw)("Display Ad","AdSlot");return(0,a.jsx)(R,{children:(0,a.jsx)("div",(0,n.__assign)({style:e,id:this.props.slotID},(0,l.F)(this.props),{children:"headliner"===this.props.slotID?(0,a.jsxs)(a.Fragment,{children:[this.renderDSAButton(this.props.slotID),(0,a.jsx)("iframe",{title:r,style:i,ref:this.setIFrameRef,scrolling:"no",marginHeight:0,marginWidth:0})]}):(0,a.jsxs)("div",{style:{position:"relative",width:"fit-content",margin:"auto"},children:[this.renderDSAButton(this.props.slotID),(0,a.jsx)("iframe",{title:r,style:i,ref:this.setIFrameRef,scrolling:"no",marginHeight:0,marginWidth:0})]})}))})},e}(d.Component);var y=(0,u.Ng)((function(t){return{trackingSet:t.ads.trackingSet}}),null)(T)},128633:function(t,e,i){i.d(e,{V:function(){return d}});var r=i(331635),n=i(474848),a=(i(296540),i(407827)),s=i(961420),o=a.x.wrap((function(){return i.e(20956).then(i.bind(i,281176))}),"DSAButton",{failSilently:!0,placeholder:null}),d=function(t){return(0,s.QN)((function(t){return t.session.firstPageLoaded}))?(0,n.jsx)(o,(0,r.__assign)({},t)):null}},518658:function(t,e,i){i.d(e,{F:function(){return E},q:function(){return p}});var r=i(331635),n=i(826094),a=i(882439),s=i(478260),o=i(105146),d=i(876275),u=i(485272),c=i(458083),h=i(743338),l=i(357515),p={XML:"XML",JSON:"JSON"},f=/[^A-Za-z0-9]+/g,_=s.x2.logger.withCategory("OutstreamAds"),E=function(){function t(){}return t.isInitialized=function(){return this.isReady},t.startProcessingRequests=function(){this.isReady=!0,this.processDeferredCmds()},t.setAppWideTracking=function(t,e){this.appWideTracking[t]=this.normalizeTargetingValue(e)},t.clearAppWideTracking=function(t){delete this.appWideTracking[t]},t.decline=function(t,e){void 0===e&&(e={sendEvent:!0}),this.declineReason||(e.sendEvent&&s.E5.track("ad_sdk_declined",{sdk:d.hJ.Amazon,sdk_decline_reason:t}),this.declineReason=t,this.processDeferredCmds())},t.requestAd=function(t,e,i){var a=this,s=this.augmentRequest(t).buildAdTagURL();return new Promise((function(o,d){a.deferredCmd({fn:function(){var u=Date.now();e("ad_edge_request",{}),fetch(s,{method:"GET",credentials:"include"}).then((function(i){return(0,r.__awaiter)(a,void 0,void 0,(function(){var n,a,s,d,f,_,E,m,g,I,D;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return 204!==i.status?[3,1]:(e("ad_edge_request_response",{available_impressions:0,request_duration:Date.now()-u}),e("ad_csai_served_impressions",{available_impressions:0}),o({}),[3,11]);case 1:return 200!==i.status?[3,9]:[4,i.headers.get("Content-Type")];case 2:return"application/json"!==(n=r.sent())?[3,4]:[4,i.json()];case 3:if(a=r.sent(),!this.validateAdEdgeDisplayBid(a))throw new Error("Invalid ad edge display bid response");return(0,h.df)(a.width,a.height)&&(e("ad_request_response_drop",{reason:"skyscraper kill switch on"}),o({})),e("ad_edge_request_response",{ad_size:"".concat(a.width,"x").concat(a.height),available_impressions:a.creativeHtml?1:0,format_name:(0,l.uN)(a.returnedAdFormat),sub_format_name:(0,c.Fn)(a.returnedAdFormat,a.height,a.width),request_duration:Date.now()-u}),e("ad_csai_bid_parse_success",{ad_size:"".concat(a.width,"x").concat(a.height),available_impressions:a.creativeHtml?1:0,format_name:(0,l.uN)(a.returnedAdFormat),sub_format_name:(0,c.Fn)(a.returnedAdFormat,a.height,a.width)}),o({type:p.JSON,resp:a}),e("ad_csai_served_impressions",{ad_size:"".concat(a.width,"x").concat(a.height),available_impressions:a.creativeHtml?1:0,format_name:(0,l.uN)(a.returnedAdFormat),sub_format_name:(0,c.Fn)(a.returnedAdFormat,a.height,a.width)}),[3,8];case 4:return"application/xml"!==n?[3,7]:[4,i.text()];case 5:return s=r.sent(),d=this.parseXML(s),[4,i.headers.get("X-Ad-Format")];case 6:if(f=r.sent(),_=(0,l.V2)(f),(E='<VAST version="3.0"></VAST>'!==s)&&![l.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO,l.Z$.OUTSTREAM_VERTICAL_VIDEO,l.Z$.OUTSTREAM_HOME_PAGE_VIDEO,l.Z$.OUTSTREAM_BROWSE_PAGE_VIDEO].includes(_))throw new Error("Invalid ad edge response format header");return m=E?(0,l.uN)(_):t.adFormat,e("ad_edge_request_response",{request_duration:Date.now()-u,format_name:m}),o({type:p.XML,format:_,resp:d}),[3,8];case 7:throw new Error("Invalid ad edge response content type");case 8:return[3,11];case 9:return g=Error.bind,D=(I="Status ".concat(i.status," ")).concat,[4,i.text()];case 10:throw new(g.apply(Error,[void 0,D.apply(I,[r.sent()])]));case 11:return[2]}}))}))})).catch((function(t){var r=Date.now()-u;null==i||i(r);var a=(0,n.d)(t,{useRawMessage:!0});e("ad_edge_request_error",{error_message:a,request_duration:r}),e("ad_csai_bid_parse_error",{error:a,available_impression:0}),d(a)}))},decline:function(t){e("ad_request_format_declined",{reason:JSON.stringify([t])}),d("Request declined for reason ".concat(t))}})}))},t.renderCreative=function(t,e,i,n,a,s){return new Promise((function(d,u){if(e.id=(0,o.k3)(),e.frameBorder="0",e.marginHeight="0",e.marginWidth="0",e.style.marginTop="0",e.style.marginLeft="0",e.scrolling="no",n?(e.style.width="100%",e.style.height="100%"):(e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px")),e.setAttribute("sandbox","allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-scripts"),e.onload=function(){d()},e.onerror=function(n){i("ad_error",(0,r.__assign)((0,r.__assign)({},s||{}),{ad_size:"".concat(t.width,"x").concat(t.height),impression_id:e.id,error_code:n,format_name:(0,l.uN)(t.returnedAdFormat)})),u(n)},t.imp){var h=new Image;h.addEventListener("error",(function(){_.debug("Error firing impression to AAX",t.imp)})),h.src=t.imp,i("ad_impression",(0,r.__assign)((0,r.__assign)({},s||{}),{impression_id:e.id,ad_size:"".concat(t.width,"x").concat(t.height),format_name:(0,l.uN)(t.returnedAdFormat),sub_format_name:(0,c.Fn)(t.returnedAdFormat,t.height,t.width),ad_id:t.adId,tas_line_item_id:t.adId,tas_creative_id:t.creativeCfId})),i("ad_client_impression",{ad_size:"".concat(t.width,"x").concat(t.height),format_name:(0,l.uN)(t.returnedAdFormat),creative_id:e.id,advertiser_id:t.adv,pbyp_visible:!1,pbyp_play_session_id:void 0,emitting_service:"AdvantEdge",allocation_strategy:a,available_impressions:t.creativeHtml?1:0,sub_format_name:(0,c.Fn)(t.returnedAdFormat,t.height,t.width),ad_id:t.adId,tas_line_item_id:t.adId,tas_creative_id:t.creativeCfId})}else t.isPreview||u("impression url empty in non-preview bid");e.srcdoc=t.creativeHtml}))},t.reset=function(){this.isReady=!1,this.appWideTracking={},this.deferredCmds=[],this.declineReason=null},t.validateAdEdgeDisplayBid=function(t){return t.creativeHtml&&t.width&&t.height},t.deferredCmd=function(t){this.declineReason?t.decline(this.declineReason):this.isReady?t.fn():this.deferredCmds.push(t)},t.processDeferredCmds=function(){for(;this.deferredCmds.length>0;){var t=this.deferredCmds.shift();t&&(this.declineReason?t.decline(this.declineReason):this.isReady&&t.fn())}},t.normalizeTargetingValue=function(t){var e=function(t){return t.toString().replace(f,"_").toLowerCase()};return Array.isArray(t)?t.map(e):e(t)},t.augmentRequest=function(t){this.appWideTracking.campaign&&t.withCampaign(this.appWideTracking.campaign.toString());var e=a.parse(window.location.search),i=Number(e.amzpvw);if((e.force_lower_third_display||e.force_squeezeback_display||e.force_headliner_display||e.force_banner_display)&&t.withForceRender(),e.amzpvw&&Number.isInteger(i)&&i>0&&e.previewSize&&(0,u.UK)(e.previewSize.toString())){var r="";e.env&&e.env.toString()&&(r=e.env.toString()),t.withPreview(e.amzpvw.toString(),e.previewSize.toString(),r)}return t},t.parseXML=function(t){return(new DOMParser).parseFromString(t,"application/xml")},t.isReady=!1,t.appWideTracking={},t.deferredCmds=[],t}()},485272:function(t,e,i){i.d(e,{A9:function(){return b},C_:function(){return D},Fz:function(){return y},Hb:function(){return O},MA:function(){return h},TN:function(){return C},UK:function(){return S},Wj:function(){return p},ZJ:function(){return I},Zl:function(){return T},_i:function(){return m},cL:function(){return g},fS:function(){return w},iN:function(){return _},ot:function(){return E},qi:function(){return u},qx:function(){return l},rF:function(){return v},rW:function(){return A},rg:function(){return c},tJ:function(){return P},zf:function(){return R}});var r=i(430228),n=i(478260),a=i(112736),s=i(267924),o=i(726726),d=i(357515),u="sda_suppress_flag",c="sda_v_experiment",h="sda_v_ctrs",l="78a931ff037d8cf739df0089321f27c1a8bd2d09575413b9c4d99352a2e11f11",p="audio_maf_web",f="ads_freeform_tags_deprecation",_={directory:{banner:"directory-banner",rectangle:"directory-rectangle"},headliner:"headliner",stream:{lowerthird:"stream-lowerthird",squeezeback:"stream-squeezeback"}},E={directory:{banner:[[970,66],[728,90]],rectangle:[[300,250]]},headliner:[[830,350]],stream:{lowerthird:[[970,66],[728,90]],squeezeback:[[300,1050],[160,600]]}},m={directory:"/".concat(n.$W.dfpNetworkCode,"/twitch/directory"),headliner:"/".concat(n.$W.dfpNetworkCode,"/twitch/headliner")},g={games:"games",frontpage:"homepage",stream:"stream"};new r.EventEmitter;function I(t){return t===d.Z$.STANDARD_AUDIO}function D(t){return t===d.Z$.OUTSTREAM_VERTICAL_VIDEO||t===d.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO||t===d.Z$.OUTSTREAM_HOME_PAGE_VIDEO||t===d.Z$.OUTSTREAM_BROWSE_PAGE_VIDEO}function v(t){return void 0!==t&&(D(t)||A(t))}function w(t){return t===d.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO||t===d.Z$.OUTSTREAM_HOME_PAGE_VIDEO||t===d.Z$.OUTSTREAM_BROWSE_PAGE_VIDEO}function A(t){return void 0!==t&&(t===d.Z$.LOWER_THIRD||t===d.Z$.SQUEEZEBACK)}function R(t){return t===d.Z$.STANDARD_AUDIO||t===d.Z$.STANDARD_VIDEO}function S(t){return t.match(/^([0-9]+x[0-9]+)$/)}function T(t){return t.getElementsByTagName("Ad").length>0}function y(t){if(T(t)){var e=t.getElementsByTagName("ClickTracking");return e.length>0?e[0].textContent:""}return""}function O(t,e){var i=n.Zn.get(f,!1)?null:(0,o.mV)((e||"").toLowerCase())||null;return(0,a.jP)([i,(0,o.mV)(t.filter((function(t){return t.scope===s.H3L.CATEGORY})).map((function(t){return(0,o.mV)(t.tagName.toLowerCase())})).join("|"))||null]).join("|")}function C(t){switch(t){case _.headliner:return d.A3.HEADLINER;case _.directory.banner:return d.A3.DIRECTORY_BANNER;case _.directory.rectangle:return d.A3.DIRECTORY_RECTANGLE;default:return""}}function P(t){switch(t){case _.headliner:return.5;case"mirrorc":return 4;case"video":return 1;default:return 0}}function b(t,e,i,r){var n,a,s,o,d,u,c,h,l,p,f;return{adInput:{adIDValue:t.adId,adProgramIDValue:t.programId,adSessionIDValue:i,advertiserIDNS:null!==(a=null===(n=t.transparencyInfo)||void 0===n?void 0:n.advertiserIdNS)&&void 0!==a?a:"",campaignIDNS:null!==(o=null===(s=t.transparencyInfo)||void 0===s?void 0:s.campaignIdNS)&&void 0!==o?o:"",creativeIDValue:t.creativeCfId,pageURL:document.URL,selectionSignals:{dsaPastActivity:null===(u=null===(d=t.transparencyInfo)||void 0===d?void 0:d.selectionSignals)||void 0===u?void 0:u.pastActivity,dsaVersion:null===(c=t.transparencyInfo)||void 0===c?void 0:c.version,isShownBasedOffUserDsaContext:null===(l=null===(h=t.transparencyInfo)||void 0===h?void 0:h.selectionSignals)||void 0===l?void 0:l.context,isShownBasedOffUserDsaLocation:null===(f=null===(p=t.transparencyInfo)||void 0===p?void 0:p.selectionSignals)||void 0===f?void 0:f.location},slotName:e},clientInput:{ttMedium:e===_.directory.banner||e===_.directory.rectangle?"twitch_browse_directory":e===_.headliner?"twitch_home":"channel_videos"},countryInfo:{geoCode:null!=r?r:null,isFromEU:!1}}}},641581:function(t,e,i){i.d(e,{C:function(){return o}});var r=i(478260),n=i(357515),a=i(44501),s={PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll"},o=function(){function t(){this.logger=r.x2.logger.withCategory("AdRequestBuilder"),this.baseDomain=a.x6,this.bidPath=a.ww,this.pageLoadId="".concat(Math.round(1e12*Math.random())).concat(Date.now()),this.cacheBuster=Math.round(1e7*Math.random()).toString(),this.breakPositions=s}return t.prototype.withReturnType=function(t){if(-1===a.le.indexOf(t)){var e=JSON.stringify(a.le);throw new Error("Invalid return type: ".concat(t,". Valid values are: ").concat(e))}return this.returnType=t,this},t.prototype.withAdFormat=function(t){return this.adFormat=t,this.baseDomain=a.VS,t===n.Z$[n.Z$.OUTSTREAM_HOME_PAGE_VIDEO]||t===n.Z$[n.Z$.OUTSTREAM_BROWSE_PAGE_VIDEO]?this.bidPath=a.G1:this.bidPath=a.we,this},t.prototype.withDuration=function(t){return t>a.iB&&(t/=1e3,this.logger.debug("Duration value was adjusted from milliseconds to seconds : ".concat(t))),t>0&&t<a.wl&&(this.logger.warn("Invalid Duration value ".concat(t," overriden to ").concat(a.jI)),t=a.jI),this.duration=t,this},t.prototype.withIPAddress=function(t){return this.ip=t,this},t.prototype.withGeocode=function(t){return this.countryCode=t,this},t.prototype.withDeviceCategory=function(t){return this.deviceCategory=t,this},t.prototype.withDeviceID=function(t){return this.deviceId=t,this},t.prototype.withDevicePlatform=function(t){return this.devicePlatform=t,this},t.prototype.withDeviceType=function(t){return this.deviceType=t,this},t.prototype.withBndl=function(t){return this.bndl=t,this},t.prototype.withApp=function(t){return this.app=t,this},t.prototype.withOS=function(t){return this.os=t,this},t.prototype.withDoNotTrack=function(t){return this.doNotTrack=t?"1":"0",this},t.prototype.withUserAgent=function(t){return this.userAgent=t,this},t.prototype.withPageLoadID=function(t){return this.pageLoadId=t,this},t.prototype.withCacheBuster=function(t){return this.cacheBuster=t,this},t.prototype.withAdCacheBypassed=function(){return this.bypassCache=!0,this},t.prototype.withCurrentWindowSize=function(){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i="".concat(t,"x").concat(e);return this.withWindowSize(i)},t.prototype.withWindowSize=function(t){return this.windowSize=t,this},t.prototype.withURL=function(t){return this.url=t,this},t.prototype.withSlot=function(t){return this.slots=this.slots||[],this.slots.push(t),this},t.prototype.withKeyValuePair=function(t,e){return this.keyValuePairs=this.keyValuePairs||{},this.keyValuePairs[t]="".concat(e),this},t.prototype.withRawPageReferrer=function(t){return this.referrerUrl=t,this},t.prototype.withGDPRL=function(t){return null===t&&this.logger.warn("Request Builder : gdprl value cannot be null"),this.gdprl=t,this},t.prototype.withPublisherExtendedID=function(t){return this.publisherExtendedId=t,this},t.prototype.withPublisherExtendedSource=function(t){return this.publisherExtendedSource=t,this},t.prototype.withPublisherID=function(t){return this.publisherId=t,this},t.prototype.withPublisherName=function(t){return this.publisherName=t,this},t.prototype.withProducerID=function(t){return this.producerId=t,this},t.prototype.withProducerName=function(t){return this.producerName=t,this},t.prototype.withS3TestMode=function(){return this.baseDomain="https://d2v02itv0y9u9t.cloudfront.net",this.bidPath="test/testvast.xml",this},t.prototype.withBreakPosition=function(t){return this.breakPosition=t,this},t.prototype.withRating=function(t){return this.rating=t,this},t.prototype.withCustomerID=function(t){return this.customerId=t,this},t.prototype.withDomain=function(t){return this.baseDomain=t,this},t.prototype.withCategoryId=function(t){return this.categoryId=t,this},t.prototype.withCategoryName=function(t){return this.categoryName=t,this},t.prototype.withChannelId=function(t){return this.channelId=t,this},t.prototype.withChannelName=function(t){return this.channelName=t,this},t.prototype.withChannelType=function(t){return this.channelType=t,this},t.prototype.withCommercialId=function(t){return this.commercialId=t,this},t.prototype.withContentLabels=function(t){return this.contentLabels=t,this},t.prototype.withMAFSDecision=function(t){return this.mafsDecision=t,this.baseDomain=a.VS,this.bidPath=a.G1,this},t.prototype.withIsMature=function(t){return this.isMature=t,this},t.prototype.withPlatform=function(t){return this.platform=t,this},t.prototype.withRadsToken=function(t){return this.radsToken=t,this},t.prototype.withAdSessionId=function(t){return this.adSessionId=t,this},t.prototype.withTags=function(t){return this.tags=t,this},t.prototype.withTwitchCorrelator=function(t){return this.twitchCorrelator=t,this},t.prototype.withUserId=function(t){return this.userId=t,this},t.prototype.withVodType=function(t){return this.vodType=t,this},t.prototype.withBroadcastType=function(t){return this.broadcastType=t,this},t.prototype.withAdvertisingID=function(t){return this.advertisingID=t,this},t.prototype.withV6SSdkVersion=function(t){return this.v6sSdkVersion=t,this},t.prototype.withCampaign=function(t){return this.campaign=t,this},t.prototype.withPreview=function(t,e,i){return this.previewCreativeId=t,this.previewCreativeSize=e,a.AG.has(i)&&(this.env=i),this},t.prototype.withSequenceNumber=function(t){return this.seqNumber=t,this},t.prototype.withMaxSequence=function(t){return this.maxSequence=t,this},t.prototype.withBlockedCategories=function(t){return this.blockedCategories=t,this},t.prototype.withBlockedAdvertisers=function(t){return this.blockedAdvertisers=t,this},t.prototype.withBlockedCreatives=function(t){return this.blockedCreatives=t,this},t.prototype.withForceRender=function(){return this.forceRender=!0,this},t.prototype.withDeclinedFormats=function(t){return this.declinedFormats=t,this},t.prototype.buildAdTagURL=function(){this.validateRequest(),this.logger.debug("Parameters passed validation");var t={};this.addParam(t,a.f0.CUSTOMER_ID,this.customerId),this.addParam(t,a.f0.RETURN_TYPE,this.returnType),this.addParam(t,a.f0.DURATION,this.duration),this.addParam(t,a.f0.IP,this.ip),this.addParam(t,a.f0.GEOCODE,this.countryCode),this.addParam(t,a.f0.DEVICE_CATEGORY,this.deviceCategory),this.addParam(t,a.f0.DEVICE_ID,this.deviceId),this.addParam(t,a.f0.DEVICE_PLATFORM,this.devicePlatform),this.addParam(t,a.f0.DEVICE_TYPE,this.deviceType),this.addParam(t,a.f0.OS,this.os),this.addParam(t,a.f0.BNDL,this.bndl),this.addParam(t,a.f0.APP,this.app),this.addParam(t,a.f0.AD_FORMAT,this.adFormat),this.addParam(t,a.f0.DO_NOT_TRACK,this.doNotTrack),this.addParam(t,a.f0.USER_AGENT,this.userAgent),this.addParam(t,a.f0.PAGE_LOAD_ID,this.pageLoadId),this.addParam(t,a.f0.CACHE_BUSTER,this.cacheBuster),this.bypassCache&&this.addParam(t,a.f0.BYPASS_CACHE,"true"),this.addParam(t,a.f0.WINDOW_SIZE,this.windowSize),this.addParam(t,a.f0.URL,this.url),this.addParam(t,a.f0.SLOTS,JSON.stringify(this.slots)),this.addParam(t,a.f0.KEY_VALUES,JSON.stringify(this.keyValuePairs)),this.addParam(t,a.f0.RAW_PAGE_REFERRER,this.referrerUrl),this.gdprEnabled&&this.addParam(t,a.f0.GDPR_ENABLED,"1"),this.addParam(t,a.f0.GDPR_CONSENT,this.gdprConsent),this.addParam(t,a.f0.GDPRL,JSON.stringify(this.gdprl)),this.addParam(t,a.f0.PRODUCER_ID,this.producerId),this.addParam(t,a.f0.PRODUCER_NAME,this.producerName),this.addParam(t,a.f0.PUBLISHER_ID,this.publisherId),this.addParam(t,a.f0.PUBLISHER_NAME,this.publisherName),this.addParam(t,a.f0.BREAK_POSITION,this.breakPosition),this.addParam(t,a.f0.RATING,this.rating),this.addParam(t,a.f0.ADVERTISING_ID,this.advertisingID),this.addParam(t,a.f0.CATEGORY_NAME,this.categoryName),this.addParam(t,a.f0.CATEGORY_ID,this.categoryId),this.addParam(t,a.f0.CHANNEL_ID,this.channelId),this.addParam(t,a.f0.CHANNEL_NAME,this.channelName),this.addParam(t,a.f0.CHANNEL_TYPE,this.channelType),this.addParam(t,a.f0.COMMERCIAL_ID,this.commercialId),this.addParam(t,a.f0.CONTENT_LABELS,this.contentLabels),this.addParam(t,a.f0.MAFS_DECISION,this.mafsDecision),this.addParam(t,a.f0.IS_MATURE,this.isMature),this.addParam(t,a.f0.PLATFORM,this.platform),this.addParam(t,a.f0.RADS_TOKEN,this.radsToken),this.addParam(t,a.f0.AD_SESSION_ID,this.adSessionId),this.addParam(t,a.f0.TAGS,this.tags),this.addParam(t,a.f0.BLOCKED_ADVERTISERS,this.blockedAdvertisers),this.addParam(t,a.f0.BLOCKED_CATEGORIES,this.blockedCategories),this.addParam(t,a.f0.BLOCKED_CREATIVES,this.blockedCreatives),this.addParam(t,a.f0.MAX_SEQUENCE,this.maxSequence),this.addParam(t,a.f0.SEQUENCE_NUMBER,this.seqNumber),this.addParam(t,a.f0.TWITCH_CORRELATOR,this.twitchCorrelator),this.addParam(t,a.f0.USER_ID,this.userId),this.addParam(t,a.f0.VOD_TYPE,this.vodType),this.addParam(t,a.f0.BROADCAST_TYPE,this.broadcastType),this.addParam(t,a.f0.PUBLISHER_EXTENDED_ID,this.publisherExtendedId),this.addParam(t,a.f0.PUBLISHER_EXTENDED_SOURCE,this.publisherExtendedSource),this.v6sSdkVersion&&this.addParam(t,a.f0.SDK_VERSION,"".concat(a.p2,"-").concat(this.v6sSdkVersion)),this.addParam(t,a.f0.CAMPAIGN,this.campaign),this.previewCreativeId&&this.previewCreativeSize&&(this.addParam(t,a.f0.PREVIEW_CREATIVE_ID,this.previewCreativeId),this.addParam(t,a.f0.PREVIEW_SIZE,this.previewCreativeSize),this.env&&this.addParam(t,a.f0.ENVIRONMENT_ID,this.env)),this.forceRender&&this.addParam(t,a.f0.FORCE_RENDER,this.forceRender),this.addParam(t,a.f0.DECLINED_FORMATS,JSON.stringify(this.declinedFormats)),this.addParam(t,a.f0.USER_LANGUAGE,r.x2.intl.getLanguageCode()||""),this.logger.debug("Request query parameters compiled",t);var e=this.stringifyQueryParameters(t),i=this.buildBidUrl()+e;return this.logger.debug("Request url built",i),i},t.prototype.buildBidUrl=function(){return this.baseURL?this.baseURL:"".concat(this.baseDomain+this.bidPath,"?")},t.prototype.stringifyQueryParameters=function(t){return Object.entries(t).map((function(t,e){var i=t[0],r=t[1];return"".concat(i,"=").concat(encodeURIComponent(r))})).join("&")},t.prototype.validateRequest=function(){this.validateRequiredField("Duration",this.duration),this.validateRequiredField("Geocode",this.countryCode),this.validateRequiredField("URL",this.url),this.validateRequiredField("Publisher ID",this.publisherId),this.validateDomain(),this.validateRangeField("Duration",this.duration,a.wl,a.iB)},t.prototype.validateDomain=function(){var t;try{t=new URL(this.baseDomain)}catch(t){throw new Error("Invalid url provided for Domain")}this.baseDomain=t.origin},t.prototype.validateRequiredField=function(t,e){if(null==e)throw new Error("Missing required field: ".concat(t))},t.prototype.validateRangeField=function(t,e,i,r){if(e<i||e>r)throw new Error("Invalid value for ".concat(t,". Valid Range is [").concat(i,", ").concat(r,"]"))},t.prototype.addParam=function(t,e,i){i&&(t[e]=i)},t}()},44501:function(t,e,i){i.d(e,{AG:function(){return p},G1:function(){return s},VS:function(){return n},f0:function(){return r},iB:function(){return h},jI:function(){return l},le:function(){return f},p2:function(){return u},we:function(){return o},wl:function(){return c},ww:function(){return d},x6:function(){return a}});var r,n="https://edge.ads.twitch.tv",a="https://vaes.amazon-adsystem.com",s="/ads",o="/ads/format",d="/2018-01-01/3p/ads",u="V6SJavaScriptSDK",c=4,h=3600,l=30,p=new Set(["beta","gamma","prod"]),f=["vast2","vast3","json"];!function(t){t.AD_FORMAT="afmt",t.AD_SESSION_ID="sid",t.ADVERTISING_ID="aid",t.APP="app",t.BLOCKED_ADVERTISERS="badvs",t.BLOCKED_CATEGORIES="bcats",t.BLOCKED_CREATIVES="bcrids",t.BNDL="bndl",t.BREAK_POSITION="bp",t.BROADCAST_TYPE="btype",t.BYPASS_CACHE="bypassCache",t.CACHE_BUSTER="cb",t.CAMPAIGN="campaign",t.CATEGORY_ID="catid",t.CATEGORY_NAME="cat",t.CHANNEL_ID="chanid",t.CHANNEL_NAME="chan",t.CHANNEL_TYPE="chantype",t.COMMERCIAL_ID="commid",t.CONTENT_LABELS="content_labels",t.CUSTOMER_ID="cid",t.DECLINED_FORMATS="dfmts",t.DEVICE_CATEGORY="dcat",t.DEVICE_ID="did",t.DEVICE_PLATFORM="dplat",t.DEVICE_TYPE="dt",t.DO_NOT_TRACK="dnt",t.DURATION="dur",t.ENVIRONMENT_ID="env",t.FORCE_RENDER="isForcedRender",t.GDPR_CONSENT="gdprc",t.GDPR_ENABLED="gdpre",t.GDPRL="gdprl",t.GEOCODE="geoc",t.IP="ip",t.IS_MATURE="mat",t.KEY_VALUES="pj",t.MAFS_DECISION="mafs",t.MAX_SEQUENCE="mseq",t.OS="os",t.PAGE_LOAD_ID="pid",t.PLATFORM="plat",t.PREVIEW_CREATIVE_ID="pcid",t.PREVIEW_SIZE="psize",t.PRODUCER_ID="pdid",t.PRODUCER_NAME="pdcn",t.PUBLISHER_EXTENDED_ID="pext_id",t.PUBLISHER_EXTENDED_SOURCE="pext_id_source",t.PUBLISHER_ID="pbid",t.PUBLISHER_NAME="pbn",t.RADS_TOKEN="rtok",t.RATING="rating",t.RAW_PAGE_REFERRER="pr",t.RETURN_TYPE="rt",t.SDK_VERSION="sdkv",t.SEQUENCE_NUMBER="sdaseq",t.SLOTS="slots",t.TAGS="tags",t.TWITCH_CORRELATOR="tcor",t.URL="u",t.USER_AGENT="uagent",t.USER_ID="uid",t.USER_LANGUAGE="ulang",t.VOD_TYPE="vtype",t.WINDOW_SIZE="ws"}(r||(r={}))},458083:function(t,e,i){i.d(e,{Fn:function(){return o},Jp:function(){return u},V4:function(){return d},zB:function(){return s}});var r=i(518658),n=i(485272),a=i(357515);function s(t){return t===a.Z$.SQUEEZEBACK?{slotId:n.iN.stream.squeezeback,size:n.ot.stream.squeezeback}:{slotId:n.iN.stream.lowerthird,size:n.ot.stream.lowerthird}}function o(t,e,i){return t===a.Z$.LOWER_THIRD?"LOWER_THIRD":t===a.Z$.SQUEEZEBACK&&600===e&&160===i?"SKYSCRAPER":t===a.Z$.SQUEEZEBACK&&(1050===e&&300===i||1050===e&&276===i)?"MIRROR-C":null}function d(t,e,i){return{adFormat:t.adFormat,adSessionId:t.sessionID,stitched:!1,status:"ready",duration:t.duration,adPosition:0,numberOfAds:1,roll:t.roll,start:0,isVLM:!!t.isVLM,trackingParams:i,bid:e}}var u=function(t){return t.type===r.q.XML}},602778:function(t,e,i){i.d(e,{L9:function(){return _},ff:function(){return I}});var r=i(331635),n=i(478260),a=i(345029),s=i(323587),o=i(711850),d=i(726726),u=i(357515),c=i(860203),h=i(871077),l=i(347953),p="csai",f="publisher_ext_ids";function _(t,e){var i,d,c,_,D,v,w,A,R,S=window.navigator.userAgent,T=I(e.adFormat),y=e.adFormat===u.Z$.OUTSTREAM_HOME_PAGE_VIDEO,O=e.adFormat===u.Z$.OUTSTREAM_BROWSE_PAGE_VIDEO;if(t.withURL(window.location.href).withDuration(e.duration).withGeocode((0,a.If)()||"US").withGDPRL({status:"no-cmp"}).withCurrentWindowSize().withBreakPosition(e.roll).withRawPageReferrer(e.tagParams.embedUrl||"").withPublisherID("twitch"),(0,s.e5)()&&t.withGDPRL({status:"cmp"}),e.mafsDecision&&(t=t.withMAFSDecision(e.mafsDecision).withCategoryId((null===(i=e.game)||void 0===i?void 0:i.id)||"").withCategoryName((null===(d=e.game)||void 0===d?void 0:d.name)||"").withChannelName((null===(c=e.broadcaster)||void 0===c?void 0:c.login)||"").withChannelId((null===(_=e.broadcaster)||void 0===_?void 0:_.id)||"").withChannelType(g(e.broadcaster)).withIsMature(!!(null===(v=null===(D=e.broadcaster)||void 0===D?void 0:D.broadcastSettings)||void 0===v?void 0:v.isMature)).withPlatform("web").withRadsToken(e.radsToken||"").withTags(E(e)).withTwitchCorrelator(e.twitchCorrelator).withUserId((null===(w=e.currentUser)||void 0===w?void 0:w.id)||"").withCustomerID((null===(A=e.currentUser)||void 0===A?void 0:A.id)||"").withCommercialId(e.commercialID||"").withVodType((0,l.DG)(e.content)?"live":"").withBroadcastType((null===(R=e.video)||void 0===R?void 0:R.broadcastType)||"").withAdvertisingID(n.x2.session.deviceID).withDeviceID(n.x2.session.deviceID).withAdSessionId(e.sessionID).withDeviceType((0,h.h)(S)).withContentLabels(m(e.video))),y&&(t=t.withAdFormat(u.Z$[u.Z$.OUTSTREAM_HOME_PAGE_VIDEO]).withCommercialId(e.commercialID||"").withPlatform("web").withRadsToken(e.radsToken||"").withTwitchCorrelator(e.twitchCorrelator).withAdvertisingID(n.x2.session.deviceID).withDeviceID(n.x2.session.deviceID).withAdSessionId(e.sessionID).withVodType("live").withDeviceType((0,h.h)(S)).withUserId(e.userId||"").withContentLabels(e.contentLabels).withBlockedAdvertisers(e.blockedAdvertisers).withBlockedCategories(e.blockedCategories)),O&&(t=t.withTags(e.targetingTag).withAdFormat(u.Z$[u.Z$.OUTSTREAM_BROWSE_PAGE_VIDEO]).withCommercialId(e.commercialID||"").withPlatform("web").withRadsToken(e.radsToken||"").withTwitchCorrelator(e.twitchCorrelator).withAdvertisingID(n.x2.session.deviceID).withDeviceID(n.x2.session.deviceID).withAdSessionId(e.sessionID).withVodType("live").withDeviceType((0,h.h)(S)).withCategoryName(e.game).withUserId(e.userId||"")),T&&(t=t.withTags(e.targetingTag).withAdFormat(e.adFormat.toString()).withCommercialId(e.commercialID||"").withPlatform("web").withRadsToken(e.radsToken||"").withTwitchCorrelator(e.twitchCorrelator).withAdvertisingID(n.x2.session.deviceID).withDeviceID(n.x2.session.deviceID).withAdSessionId(e.sessionID).withDeviceType((0,h.h)(S)).withCategoryName(e.game).withUserId(e.userId||"")),n.x2.experiments.__hardcodedStaleExperiment(f,"treatment")===o.eY.Treatment&&!T){var C=(0,h.h)(S);t=3===C&&null===e.currentUser?t.withDeviceType(C).withPublisherExtendedID(n.x2.session.deviceID).withPublisherExtendedSource("twitch"):t.withDeviceType(C)}var P=(0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({},e.tagParams),{delivery_type:p,vb:null,adunit:"web_".concat(p)}),!(T||y||O)&&e&&{loggedin:!!e.currentUser,v:e.video&&e.video.broadcastType||void 0,vod_type:(0,l.DG)(e.content)?"live":void 0,embed_url:e.tagParams.embedUrl||null,game_id:e.game&&e.game.id,user_lang:n.x2.intl.getLanguageCode()||""}),T&&e&&{game:e.game});return Object.keys(P).forEach((function(e){t=t.withKeyValuePair(e,P[e])})),t}var E=function(t){var e=t.broadcaster,i=t.video,n=t.content,a=[];return n.type!==c.FC.Live&&i&&i.contentTags&&(a=(0,r.__spreadArray)((0,r.__spreadArray)([],a,!0),i.contentTags,!0)),n.type!==c.FC.Live&&i&&i.game&&i.game.tags&&(a=(0,r.__spreadArray)((0,r.__spreadArray)([],a,!0),i.game.tags,!0)),n.type===c.FC.Live&&e&&e.stream&&e.stream.tags&&(a=(0,r.__spreadArray)((0,r.__spreadArray)([],a,!0),e.stream.tags,!0)),n.type===c.FC.Live&&e&&e.stream&&e.stream.game&&e.stream.game.tags&&(a=(0,r.__spreadArray)((0,r.__spreadArray)([],a,!0),e.stream.game.tags,!0)),a.map((function(t){return(0,d.mV)(t.tagName.toLowerCase())})).join("|")},m=function(t){var e;return(null===(e=null==t?void 0:t.contentClassificationLabels)||void 0===e?void 0:e.filter((function(t){return t.isEnabled})).map((function(t){return t.id})).join("|"))||""},g=function(t){var e,i;return(null===(e=null==t?void 0:t.roles)||void 0===e?void 0:e.isPartner)?"partner":(null===(i=null==t?void 0:t.roles)||void 0===i?void 0:i.isAffiliate)?"affiliate":"basic"},I=function(t){return t===u.A3.HEADLINER||t===u.A3.DIRECTORY_BANNER||t===u.A3.DIRECTORY_RECTANGLE}},711850:function(t,e,i){i.d(e,{eY:function(){return r},SD:function(){return h}});var r,n=i(882439),a=i(478260),s=function(){function t(){this.keyValuePairs={},this.logger=a.x2.logger.withCategory("AdSlotRequestBuilder")}return t.prototype.withId=function(t){return this.id=t,this},t.prototype.withSize=function(t){return this.size=t,this},t.prototype.withMediaType=function(t){return this.mediaType=t,this},t.prototype.withAdUnit=function(t){return this.adUnit=t,this},t.prototype.withKeyValuePair=function(t,e){return this.keyValuePairs[t]="".concat(e),this},t.prototype.build=function(){if(this.validateRequiredField("id",this.id),this.validateRequiredField("size",this.size),this.validateRequiredField("mediaType",this.mediaType),this.adUnit&&this.keyValuePairs.adUnit&&this.adUnit!==this.keyValuePairs.adUnit)throw new Error("Conflict between adUnit input [".concat(this.adUnit,"] and keyValuePair [").concat(this.keyValuePairs.adUnit,"]. Please only set one of them"));return this.logger.debug("Parameters passed validation"),this.adUnit&&this.withKeyValuePair("adUnit",this.adUnit),{id:this.id,mt:this.mediaType,kv:this.keyValuePairs,s:this.size}},t.prototype.validateRequiredField=function(t,e){if(null==e)throw new Error("Missing required field: ".concat(t))},t}(),o=i(641581),d=i(44501),u=i(602778),c="to_the_edge";function h(t){var e=t.request,i=t.sdkVersion,h=n.parse(window.location.search).testAdToken;if(h)return"https://edge.ads.twitch.tv/2018-01-01/ads?testAdToken=".concat(encodeURIComponent(h.toString()));var l=(new s).withId("twitch-player-ui").withSize("640x480").withMediaType("v").build(),p=(new o.C).withV6SSdkVersion(i).withSlot(l).withReturnType("vast3");return a.x2.experiments.__hardcodedStaleExperiment(c,"treatment")===r.Treatment&&(p=p.withAdvertisingID(a.x2.session.deviceID).withDomain(d.VS),e.currentUser&&(p=p.withCustomerID(e.currentUser.id))),(p=(0,u.L9)(p,e)).buildAdTagURL()}!function(t){t.Control="control",t.Treatment="treatment"}(r||(r={}))},743338:function(t,e,i){i.d(e,{Ny:function(){return a},c0:function(){return n},df:function(){return s}});var r=i(478260);function n(){return(0,r.hw)("Stream Display Ad","StreamDisplayAd")}function a(t){return 160===t.width&&600===t.height}function s(t,e){var i=r.Zn.get("skyscraper_kill_switch",!1);return 160===t&&600===e&&i}},726726:function(t,e,i){i.d(e,{Ix:function(){return s},SG:function(){return d},mV:function(){return a},vK:function(){return o}});var r=i(105146),n=i(357515);function a(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"_")}function s(t){return"string"==typeof t&&-1!==Object.values(n.gz).indexOf(t)}function o(t){return"string"!=typeof t&&t in n.Z$}function d(){return(0,r.yr)(32)}},357515:function(t,e,i){var r,n,a;i.d(e,{A3:function(){return a},V2:function(){return d},Z$:function(){return r},Zj:function(){return s},gz:function(){return n},uN:function(){return o}}),function(t){t[t.STANDARD_VIDEO=0]="STANDARD_VIDEO",t[t.STANDARD_AUDIO=2]="STANDARD_AUDIO",t[t.SQUEEZEBACK=3]="SQUEEZEBACK",t[t.LOWER_THIRD=4]="LOWER_THIRD",t[t.OUTSTREAM_VERTICAL_VIDEO=5]="OUTSTREAM_VERTICAL_VIDEO",t[t.OUTSTREAM_MIRROR_PBYP_VIDEO=6]="OUTSTREAM_MIRROR_PBYP_VIDEO",t[t.OUTSTREAM_HOME_PAGE_VIDEO=7]="OUTSTREAM_HOME_PAGE_VIDEO",t[t.OUTSTREAM_BROWSE_PAGE_VIDEO=8]="OUTSTREAM_BROWSE_PAGE_VIDEO"}(r||(r={})),function(t){t.STANDARD_VIDEO="ClientSideStandardVideo",t.BROWSE_DISPLAY="BDA"}(n||(n={})),function(t){t.HEADLINER="HEADLINER",t.DIRECTORY_BANNER="DIRECTORY_BANNER",t.DIRECTORY_RECTANGLE="DIRECTORY_RECTANGLE"}(a||(a={}));var s=function(t){var e;return((e={})[r.LOWER_THIRD]={},e)[t]||null},o=function(t){switch(t){case r.LOWER_THIRD:return"LOWER_THIRD";case r.SQUEEZEBACK:return"SQUEEZEBACK";case r.OUTSTREAM_VERTICAL_VIDEO:return"OUTSTREAM_VERTICAL_VIDEO";case r.OUTSTREAM_MIRROR_PBYP_VIDEO:return"OUTSTREAM_MIRROR_PBYP_VIDEO";case r.OUTSTREAM_HOME_PAGE_VIDEO:return"OUTSTREAM_HOME_PAGE_VIDEO";case r.OUTSTREAM_BROWSE_PAGE_VIDEO:return"OUTSTREAM_BROWSE_PAGE_VIDEO";case r.STANDARD_AUDIO:return"STANDARD_AUDIO";default:return"STANDARD_VIDEO"}},d=function(t){switch(t){case"LOWER_THIRD":return r.LOWER_THIRD;case"SQUEEZEBACK":return r.SQUEEZEBACK;case"OUTSTREAM_VERTICAL_VIDEO":return r.OUTSTREAM_VERTICAL_VIDEO;case"OUTSTREAM_MIRROR_PBYP_VIDEO":return r.OUTSTREAM_MIRROR_PBYP_VIDEO;case"OUTSTREAM_HOME_PAGE_VIDEO":return r.OUTSTREAM_HOME_PAGE_VIDEO;case"OUTSTREAM_BROWSE_PAGE_VIDEO":return r.OUTSTREAM_BROWSE_PAGE_VIDEO;case"STANDARD_AUDIO":return r.STANDARD_AUDIO;default:return r.STANDARD_VIDEO}}},358350:function(t,e,i){var r,n;i.d(e,{df:function(){return r},em:function(){return o},jA:function(){return d},ne:function(){return a},sC:function(){return n},tV:function(){return s}}),function(t){t.Pre="preroll",t.Mid="midroll",t.Post="postroll"}(r||(r={})),function(t){t.Pending="pending",t.Processed="processed",t.Transferred="transferred",t.Preparing="preparing",t.Filled="filled"}(n||(n={}));var a="CgQSAggE",s="CgQSAggD",o="CgQSAggF",d="CgQSAggG"},871077:function(t,e,i){i.d(e,{h:function(){return s},n:function(){return o}});var r=i(478260),n=i(267924),a=i(407310);function s(t){var e=(0,a.m)(t);return e.platform.isDesktop()?2:e.platform.isTv()?3:e.platform.isMobile()?4:e.platform.isTablet()?5:4}function o(t){var e=(0,a.m)(t),i=r.x2.tracking.getPlatform();if(e.platform.isMobile()||e.platform.isTablet()){if(e.os.isAndroid())return{deviceMake:"Android",deviceOS:e.os.name(),deviceType:n.S7w.IAB_DEVICE_TYPE_MOBILE_TABLET_GENERAL,platform:i};if(e.os.isIOS())return{deviceMake:"Apple",deviceOS:e.os.name(),deviceType:n.S7w.IAB_DEVICE_TYPE_MOBILE_TABLET_GENERAL,platform:i}}else{if(e.platform.isDesktop())return{deviceMake:"",deviceOS:"",deviceType:n.S7w.IAB_DEVICE_TYPE_PERSONAL_COMPUTER,platform:i};if(e.platform.isTv())return{deviceMake:"",deviceOS:"tvos",deviceType:n.S7w.IAB_DEVICE_TYPE_CONNECTED_TV,platform:i}}return{deviceMake:"",deviceOS:"",deviceType:n.S7w.IAB_DEVICE_TYPE_PERSONAL_COMPUTER,platform:i}}},347953:function(t,e,i){i.d(e,{pk:function(){return P},hd:function(){return g},gm:function(){return y},Qc:function(){return T},Eq:function(){return A},dB:function(){return S},N1:function(){return _},J8:function(){return E},jp:function(){return D},b3:function(){return w},NM:function(){return v},lI:function(){return I},eT:function(){return C},L$:function(){return b},xq:function(){return O},hq:function(){return R},Jn:function(){return l},P3:function(){return h},lp:function(){return c},JN:function(){return p},If:function(){return m},DG:function(){return d},wy:function(){return u}});var r=i(882439),n=i(145463),a=i(860203),s=i(331635),o=i(612567);function d(t){return t.type===a.FC.Live||t.type===a.FC.DVRLive}function u(t){return t.type===a.FC.VOD}function c(t){return t.type===a.FC.DVRLive||t.type===a.FC.DVRVOD}function h(t){return t.type===a.FC.Collection}function l(t){return t.type===a.FC.Clip}function p(t){return!!(u(t)||h(t)||l(t))&&!!t.editing}function f(t){if(u(t)||h(t)||l(t))return t.editing}function _(t){var e=f(t);return e&&e.segments}function E(t){var e=f(t);return!!(null==e?void 0:e.isPostEdit)}function m(t){return t.type===a.FC.Invalid}function g(t){if(d(t)||u(t)||h(t)||l(t)||c(t))return t.channelLogin}function I(t){if(d(t))return t.multiview}function D(t){if(d(t))return t.channelLogin}function v(t){if(d(t)&&t.multiview)return t.multiview.parentChannelLogin}function w(t){if(d(t)&&t.multiview)return t.multiview.parentChannelID}function A(t){if(h(t))return t.collectionID}function R(t){return u(t)||h(t)?t.vodID:null}function S(t){return c(t)?t.vodID:null}function T(t){return l(t)?t.clipSlug:null}function y(t){return l(t)?t.clipLocation:null}function O(t){if(l(t)||u(t)||h(t))return t.videoOffset}function C(t){return d(t)&&t.squad?t.squad.streamID:null}var P=function(t){return l(t)||u(t)||h(t)||function(t){return t.type===a.FC.DVRVOD}(t)};function b(t,e,i){switch(t.type){case a.FC.Live:var d=(0,n.VV)("/".concat(t.channelLogin));return e?"".concat(d,"?").concat(r.stringify(e)):d;case a.FC.VOD:return u=t.vodID,c=i&&i.getPosition(),h=e,l=void 0!==c?(0,o.W)(Math.floor(c)):void 0,(p=r.stringify((0,s.__assign)({t:l},h)))?(0,n.VV)("/videos/".concat(u,"?").concat(p)):(0,n.VV)("/videos/".concat(u));case a.FC.Clip:return function(t,e){var i=r.stringify((0,s.__assign)({},e));return i?(0,n.VV)("/".concat(t,"?").concat(i),"clips"):(0,n.VV)("/".concat(t),"clips")}(t.clipSlug,e);default:return"https://www.twitch.tv"}var u,c,h,l,p}}}]);