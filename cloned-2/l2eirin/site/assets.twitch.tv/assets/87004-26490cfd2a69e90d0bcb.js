!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="dfde7fc9-392a-4009-a6f6-94bfafd32af1",e._sentryDebugIdIdentifier="sentry-dbid-dfde7fc9-392a-4009-a6f6-94bfafd32af1")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[87004],{805450:function(e,n,t){t.d(n,{X:function(){return l}});var r=t(331635),i=t(474848),o=t(296540),a=t(779075),u=t(300235);function l(e){return function(n){var t;return t=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(o,t),o.prototype.render=function(){return(0,i.jsx)(a.t,(0,r.__assign)({},e,{children:(0,i.jsx)(n,(0,r.__assign)({},this.props))}))},o}(o.Component),t.displayName=(0,u.K)("WithErrorBoundary",n),t}}},125206:function(e,n,t){t.d(n,{HF:function(){return f},cU:function(){return l},sL:function(){return c}});var r,i=t(331635),o=t(474848),a=t(296540),u=t(105146),l=(r=(0,t(397568).q)("DVRPlayerContentContext",{content:void 0,setPlayerContent:function(){},playbackID:"",setPlaybackID:function(){}})).withContext,s=r.context,d=function(e){var n=e.children,t=(0,a.useState)(void 0),r=t[0],i=t[1],l=(0,a.useRef)(""),d=(0,a.useCallback)((function(){l.current=(0,u.aq)()}),[]);return(0,o.jsx)(s.Provider,{value:{content:r,setPlayerContent:i,playbackID:l.current,setPlaybackID:d},children:n})},c=function(){return(0,a.useContext)(s)};function f(e){return function(n){return(0,o.jsx)(d,{children:(0,o.jsx)(e,(0,i.__assign)({},n))})}}},66724:function(e,n,t){var r;t.d(n,{D7:function(){return r},qK:function(){return i},wu:function(){return o}}),function(e){e.Loading="pbyp_loading",e.Playing="pbyp_playing",e.Paused="pbyp_paused",e.Unavailable="pbyp_unavailable"}(r||(r={}));var i="p_by_p_adstart_show_player",o=new Map([["515214","Politics"],["116747788","Pools, Hot Tubs, and Beaches"],["498566","Slots"],["493887283","Casino"],["29452","Virtual Casino"],["498592","I'm only sleeping"],["509659","ASMR"],["1109340850","Weed Shop 3"],["27921","Dragon Age II"],["1076084581","Kingdoms of Amalur: Re-Reckoning"],["656954215","Leisure Suit Larry: Wet Dreams Don't Cry"],["190657827","OnlyCans: Thirst Date"],["1402669719","OnlyCans: Thirst Date (second game id)"],["513794","Apsulov: End of Gods"],["106662","The Cat Lady"],["357396995","Abyss of Neptune"],["512047","Struggling"],["77223888-8535-4614-974b-b1b2673456eb","Visual ASMR"],["64d9afa6-139a-48d5-ab4e-51d0a92b22de","Auditory ASMR"]])},787004:function(e,n,t){t.d(n,{FO:function(){return m},YJ:function(){return h},dC:function(){return S}});var r,i=t(331635),o=t(474848),a=t(296540),u=t(868238),l=t(478260),s=t(805450),d=t(337930),c=t(485272),f=t(641535),p=t(375747),g=t(359630),y=t(358350),P=t(347953),v=t(66724),m=(r=(0,p.e)("PictureByPictureContext",{onChannelChange:function(){return null},onMainPlayerContentRestricted:function(){return null},onMainPlayerContentClassificationChange:function(){return null},onMainPlayerPlay:function(){return null},onMainPlayerPause:function(){return null},onMainPlayerAdPodStart:function(){return null},onMainPlayerAdPodEnd:function(){return null},onMainPlayerInit:function(){return null},onMainPlayerHLSTrigger:function(){return null},onMirrorPbyPAdPodTrigger:function(){return null},onMirrorPbyPAdPodStart:function(){return null},setReady:function(){return null},setIsShowing:function(){return null},setIsShowingTurboAdsUpsell:function(){return null},setTriggerAfterAdBreakTurboUpsell:function(){return null},getMainPlayerMetadata:function(){return{playSessionId:""}},track:function(){return null},resetMirrorPbyPAd:function(){return null},setMainPlayerMuted:function(){return null},isEligible:!1,isShowing:!1,isReady:!1,isStitched:!1,isRestricted:!1,hasContentClassificationGate:!1,preflight:null,status:v.D7.Unavailable,rollType:null,adSessionID:null,isShowingTurboAdsUpsell:!1,triggerAfterAdBreakTurboUpsell:!1,mirrorPbyPAdMetadata:null,isShowingMirrorPbyPAdPod:!1},(function(e){return{pictureByPicturePlayerContext:e}}))).context,S=r.withMemoContext,A=function(e){function n(n){var t=e.call(this,n)||this;return t.logger=l.vF.withCategory("picture-by-picture-context"),t.setReady=function(e){t.setState({isReady:e})},t.setIsShowing=function(e){t.setState({isShowing:e})},t.setIsShowingTurboAdsUpsell=function(e){t.setState({isShowingTurboAdsUpsell:e})},t.setTriggerAfterAdBreakTurboUpsell=function(e){t.setState({triggerAfterAdBreakTurboUpsell:e})},t.onChannelChange=function(){t.logger.debug("pbyp player detected a channel change, reset isRestricted"),t.setState({isRestricted:!1})},t.onMainPlayerContentRestricted=function(){t.logger.debug("content restricted from pbyp context"),t.setState({isRestricted:!0})},t.onMainPlayerContentClassificationChange=function(e){var n=(0,f.cJ)(e);t.logger.debug("content classification change from pbyp context, should display gate:",n),t.setState({hasContentClassificationGate:n})},t.onMainPlayerPause=function(){t.logger.debug("pausing from pbyp context"),t.setState({status:v.D7.Paused})},t.onMainPlayerPlay=function(){t.logger.debug("playing from pbyp context"),t.setState({status:v.D7.Playing,isRestricted:!1})},t.onMainPlayerAdPodStart=function(e){var n=e.stitched,r=e.content,i=e.roll,o=e.sessionID,a=t.state.isReady,u=(0,d.fX)(v.qK),l=e.adFormat&&(0,c.ZJ)(e.adFormat);if(u&&(0,P.DG)(r)&&(i===y.df.Mid||i===y.df.Pre)&&!l){t.logger.debug("".concat("".concat(n?"stitched":"","adstart")," detected of rollType ").concat(i));var s=a;t.setState({isShowing:s,isStitched:n,rollType:i,adSessionID:o||"",isShowingTurboAdsUpsell:!0})}},t.onMainPlayerAdPodEnd=function(e){var n=e.stitched,r=e.roll;t.logger.debug("".concat("".concat(n?"stitched":"","adend")," detected of rollType ").concat(r)),t.setState({isShowing:!1,isStitched:n,rollType:null,adSessionID:null,isShowingTurboAdsUpsell:!1,triggerAfterAdBreakTurboUpsell:!0})},t.onMainPlayerInit=function(e){t.api=e},t.onMainPlayerHLSTrigger=function(e){t.setState({preflight:e})},t.getMainPlayerMetadata=function(){return t.api?t.api.getPlayerMetadata():g.S5},t.onMirrorPbyPAdPodTrigger=function(e){t.setState({mirrorPbyPAdMetadata:e})},t.onMirrorPbyPAdPodStart=function(e){t.setState({mirrorPbyPAdMetadata:e,isShowingMirrorPbyPAdPod:!0})},t.resetMirrorPbyPAd=function(){var e;if(t.state.mirrorPbyPAdMetadata){var n=t.state.mirrorPbyPAdMetadata.adFormatMetadata;null===(e=null==n?void 0:n.videoAd)||void 0===e||e.stop(),t.state.mirrorPbyPAdMetadata.resetAdContext()}t.setState({mirrorPbyPAdMetadata:null,isShowingMirrorPbyPAdPod:!1})},t.track=function(e,n){var r;null===(r=t.api)||void 0===r||r.track(e,n)},t.setMainPlayerMuted=function(e){var n;null===(n=t.api)||void 0===n||n.setMuted(e)},t.state={onChannelChange:t.onChannelChange,onMainPlayerContentRestricted:t.onMainPlayerContentRestricted,onMainPlayerContentClassificationChange:t.onMainPlayerContentClassificationChange,onMainPlayerPause:t.onMainPlayerPause,onMainPlayerPlay:t.onMainPlayerPlay,onMainPlayerAdPodStart:t.onMainPlayerAdPodStart,onMainPlayerAdPodEnd:t.onMainPlayerAdPodEnd,onMainPlayerInit:t.onMainPlayerInit,onMainPlayerHLSTrigger:t.onMainPlayerHLSTrigger,onMirrorPbyPAdPodTrigger:t.onMirrorPbyPAdPodTrigger,onMirrorPbyPAdPodStart:t.onMirrorPbyPAdPodStart,getMainPlayerMetadata:t.getMainPlayerMetadata,setReady:t.setReady,setIsShowing:t.setIsShowing,setIsShowingTurboAdsUpsell:t.setIsShowingTurboAdsUpsell,setTriggerAfterAdBreakTurboUpsell:t.setTriggerAfterAdBreakTurboUpsell,track:t.track,resetMirrorPbyPAd:t.resetMirrorPbyPAd,setMainPlayerMuted:t.setMainPlayerMuted,isEligible:!0,isShowing:!1,isStitched:!1,isReady:!1,isRestricted:!1,hasContentClassificationGate:!1,preflight:null,status:v.D7.Loading,rollType:null,adSessionID:null,isShowingTurboAdsUpsell:!1,triggerAfterAdBreakTurboUpsell:!1,mirrorPbyPAdMetadata:null,isShowingMirrorPbyPAdPod:!1},t}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,o.jsx)(m.Provider,{value:this.state,children:this.props.children})},n}(a.Component),h=(0,u.Zz)((0,s.X)({name:"PictureByPictureContextManager"}))(A)},954351:function(e,n,t){t.d(n,{AD:function(){return o},VX:function(){return l},jK:function(){return s}});var r=t(331635),i=t(375747),o={adPodStats:[],isPlaying:!1,userManuallyAdjustedVolumeDuringAd:!1,radToken:null,lastSDAAdRequestBlocked:!1,isSDAContainerHidden:!1,sdaRequestCount:-1},a=(0,r.__assign)((0,r.__assign)({},o),{emitClickEvent:function(){return null},addClickListener:function(){return null},removeClickListener:function(){return null},fillClientSideAd:function(){return null},transferClientSideAd:function(){return null},prepareClientSideAd:function(){return null},processAdRequest:function(){return null},requestAd:function(){return null},reset:function(){return null},resetForNewPlayerContent:function(){return null},resetOutstreamAd:function(){return null},setRadToken:function(){return null},startClientSideAd:function(){return null},startStitchedAd:function(){return null},updateAdElement:function(){return null},updateOutstreamAdElement:function(){return null},updateCompanionAdElement:function(){return null},updateOutstreamAdDisplayStatus:function(){return null},updateAdMuted:function(){return null},updateAdPlaying:function(){return null},updateAdStats:function(){return null},updateAdVolume:function(){return null},displaySDASequence:function(){return null},updateClientSideAdSelectionParams:function(){return null},updateSDAHiddenState:function(){return null},updateLastSDAAdRequestBlocked:function(){return null},incrementSDARequestCount:function(){return null},updateDeclinedFormats:function(){return null}}),u=(0,i.e)("AdContext",a,(function(e){return{adContext:e}})),l=u.withMemoContext,s=u.context},77451:function(e,n,t){var r,i,o;t.d(n,{HX:function(){return i},P8:function(){return r},ff:function(){return o}}),function(e){e.Unknown="unknown",e.None="none",e.FetchErrorDisclosure="error",e.AgeGate="block",e.LoginGate="login_gate",e.ContentWarningGate="signpost",e.ContentWarningDisclosure="disclosure"}(r||(r={})),function(e){e.PageLoad="initial_load",e.Interrupt="interrupt"}(i||(i={})),function(e){e[e.Success=0]="Success",e[e.Loading=1]="Loading",e[e.Skip=2]="Skip",e[e.Error=3]="Error"}(o||(o={}))},641535:function(e,n,t){t.d(n,{$Q:function(){return l},$p:function(){return c},Cp:function(){return f},NB:function(){return m},OI:function(){return g},Uw:function(){return y},aH:function(){return v},cJ:function(){return p},i5:function(){return u},ky:function(){return d}});var r=t(331635),i=t(267924),o=t(347953),a=t(77451),u=function(e){var n,t={clipSlug:"",isStream:!1,isClip:!1,isVOD:!1};return e&&e.type?((0,o.DG)(e)?(t.isStream=!0,t.login=(0,o.jp)(e)):(0,o.wy)(e)||(0,o.P3)(e)?(t.isVOD=!0,t.vodID=(0,o.hq)(e)):(0,o.Jn)(e)&&(t.isClip=!0,t.clipSlug=null!==(n=(0,o.Qc)(e))&&void 0!==n?n:""),t):t},l=function(e){var n,t,i,o,u,l,d,c,f,p,g,y,P,v,m,S,A,h,b,C,M,T,E,I,_,R,D,k,w,L,x,U,O,N,V,B,F,G,q,H,j,W=e.variables,Q=e.loading,Y=e.skip,z=e.data,K=e.error,J=null,X=null,Z=null,$=null,ee=null,ne={channelID:null,channelName:null,category:null,contentLabels:null,contentPolicies:null};return Q?(0,r.__assign)({status:a.ff.Loading},ne):Y||W.isStream&&!K&&null===(null===(n=null==z?void 0:z.user)||void 0===n?void 0:n.stream)?(0,r.__assign)({status:a.ff.Skip},ne):(W.isStream?(X=null!==(i=null===(t=null==z?void 0:z.user)||void 0===t?void 0:t.id)&&void 0!==i?i:null,J=null!==(u=null===(o=null==z?void 0:z.user)||void 0===o?void 0:o.displayName)&&void 0!==u?u:null,Z=null!==(f=null===(c=null===(d=null===(l=null==z?void 0:z.user)||void 0===l?void 0:l.stream)||void 0===d?void 0:d.game)||void 0===c?void 0:c.name)&&void 0!==f?f:null,$=null!==(y=null===(g=null===(p=null==z?void 0:z.user)||void 0===p?void 0:p.stream)||void 0===g?void 0:g.contentClassificationLabels)&&void 0!==y?y:null,ee=null!==(m=null===(v=null===(P=null==z?void 0:z.user)||void 0===P?void 0:P.stream)||void 0===v?void 0:v.contentClassificationLabelPolicyProperties)&&void 0!==m?m:null):W.isVOD?(X=null!==(h=null===(A=null===(S=null==z?void 0:z.video)||void 0===S?void 0:S.owner)||void 0===A?void 0:A.id)&&void 0!==h?h:null,J=null!==(M=null===(C=null===(b=null==z?void 0:z.video)||void 0===b?void 0:b.owner)||void 0===C?void 0:C.displayName)&&void 0!==M?M:null,Z=null!==(I=null===(E=null===(T=null==z?void 0:z.video)||void 0===T?void 0:T.game)||void 0===E?void 0:E.name)&&void 0!==I?I:null,$=null!==(R=null===(_=null==z?void 0:z.video)||void 0===_?void 0:_.contentClassificationLabels)&&void 0!==R?R:null,ee=null!==(k=null===(D=null==z?void 0:z.video)||void 0===D?void 0:D.contentClassificationLabelPolicyProperties)&&void 0!==k?k:null):W.isClip&&(X=null!==(x=null===(L=null===(w=null==z?void 0:z.clip)||void 0===w?void 0:w.broadcaster)||void 0===L?void 0:L.id)&&void 0!==x?x:null,J=null!==(N=null===(O=null===(U=null==z?void 0:z.clip)||void 0===U?void 0:U.broadcaster)||void 0===O?void 0:O.displayName)&&void 0!==N?N:null,Z=null!==(F=null===(B=null===(V=null==z?void 0:z.clip)||void 0===V?void 0:V.game)||void 0===B?void 0:B.name)&&void 0!==F?F:null,$=null!==(q=null===(G=null==z?void 0:z.clip)||void 0===G?void 0:G.contentClassificationLabels)&&void 0!==q?q:null,ee=null!==(j=null===(H=null==z?void 0:z.clip)||void 0===H?void 0:H.contentClassificationLabelPolicyProperties)&&void 0!==j?j:null),X&&J&&$&&ee?{status:a.ff.Success,channelID:X,channelName:J,category:Z,contentLabels:$,contentPolicies:ee}:(0,r.__assign)((0,r.__assign)({status:a.ff.Error},ne),{reason:s({channelID:X,channelName:J,contentLabels:$,contentPolicies:ee,variables:W})}))},s=function(e){var n=e.channelID,t=e.channelName,r=e.contentLabels,i=e.contentPolicies,o=e.variables,a=[];n||a.push("user.id"),t||a.push("user.displayName"),r||a.push("contentClassificationLabels"),i||a.push("contentClassificationLabelPolicyProperties");var u="invalid";return o.isStream?u="stream":o.isVOD?u="vod":o.isClip&&(u="clip"),"Missing field(s) on ".concat(u," query: ").concat(a.join(", "))},d=function(e,n){return e&&n?n.signPostProperties.signPost&&n.signPostProperties.signPost!==i.F9o.SIGN_POST_NOT_REQUIRED&&null!==n.signPostProperties.contentClassificationLabels?n.signPostProperties.contentClassificationLabels:e.map(P):null},c=function(e){var n=e.result,t=e.isAcknowledged;return n.status===a.ff.Skip?a.P8.None:n.status===a.ff.Loading?a.P8.Unknown:n.status===a.ff.Error?a.P8.FetchErrorDisclosure:n.contentPolicies.contentGateProperties.contentGate===i.ihT.CONTENT_GATE_TYPE_REGION?a.P8.LoginGate:n.contentPolicies.contentGateProperties.contentGate===i.ihT.CONTENT_GATE_TYPE_AGE_AND_REGION?a.P8.AgeGate:n.contentPolicies.signPostProperties.signPost===i.F9o.SIGN_POST_TYPE_MATURE?t?a.P8.ContentWarningDisclosure:a.P8.ContentWarningGate:n.contentLabels.length>0?a.P8.ContentWarningDisclosure:a.P8.None},f=function(e){for(var n=Date.now(),t={},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],a=o[0],u=o[1];u>n&&(t[a]=u)}return t},p=function(e){return[a.P8.ContentWarningGate,a.P8.AgeGate,a.P8.LoginGate].includes(e)},g=function(e){return e!==a.P8.None&&e!==a.P8.Unknown},y=function(e){return e.localizedName},P=function(e){return e.id},v=function(e){return e?JSON.stringify(e.map(P)):null},m=function(e,n){var t;return null!==(t=null==n?void 0:n.map((function(n){var t;return{__typename:"ContentClassificationLabel",id:n.label_id,localizedName:null!==(t=n.localized_name[e])&&void 0!==t?t:n.localized_name["en-US"]}})))&&void 0!==t?t:[]}},375747:function(e,n,t){t.d(n,{e:function(){return u}});var r=t(296540),i=t(868238),o=t(300235),a=t(397568);function u(e,n,t){var u=(0,a.q)(e,n),l=u.withContext;return{withMemoContext:function(e){return function(n){var a=l(e||t),u=(0,i.Zz)(a,r.memo)(n);return u.displayName=(0,o.K)("withVideoPlayerContext",n),u}},context:u.context}}},890675:function(e,n,t){t.d(n,{$g:function(){return f},Sw:function(){return s},dd:function(){return c}});var r=t(478260),i=t(105146),o=t(375747),a=t(650510),u=t(823583),l=t(742729),s={addRestriction:function(){return null},audioBlocked:!1,accessExpiration:null,availableQualities:[],unavailableQualities:[],hasPlayed:!1,isLiveLowLatencyEnabled:!0,isPlayerCoreLoading:!0,liftRestriction:function(){return null},logger:r.x2.logger.withCategory("DEFAULT-PLAYER-CONTEXT-PROVIDER"),playerRefID:"",playSessionId:(0,i.k3)(),playSessionStartTime:0,quality:u.s9,qualityBitrate:u.Bi,removeError:function(){return null},restrictions:(0,a.u)(),setError:function(){return null},manualResetRequested:!1,requestManualReset:function(){return null},sourceStatus:l.O.Loading,updateContext:function(){return null},resetOnSourceChange:function(){return null},playerLoadTimePromise:void 0,speed:1},d=(0,o.e)("PlayerContext",s,(function(e){return{playerContext:e}})),c=d.withMemoContext,f=d.context},933781:function(e,n,t){t.d(n,{cj:function(){return c},df:function(){return p},kl:function(){return f}});var r=t(331635),i=t(474848),o=t(296540),a=t(860203),u=t(491798),l=t(375747),s={behaviors:{},callbacks:{},content:{type:a.FC.Invalid},type:u.C.Site},d=(0,l.e)("PlayerPublicPropsContext",s,(function(e){return{playerPublicPropsContext:e}})),c=d.withMemoContext,f=d.context,p=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(n,e),n.prototype.render=function(){return(0,i.jsx)(f.Provider,{value:this.props,children:this.props.children||null})},n}(o.PureComponent)},359630:function(e,n,t){t.d(n,{AP:function(){return E},S5:function(){return C},Sm:function(){return M},UM:function(){return _},X0:function(){return D},wL:function(){return I}});var r=t(331635),i=t(474848),o=t(296540),a=t(868238),u=t(478260),l=t(125206),s=t(860203),d=t(823583),c=t(742729),f=t(378328),p=t(607788),g=t(420845),y=t(701356),P=t(347953),v=t(105774),m=t(583167),S=t(954351),A=t(375747),h=t(890675),b=t(933781),C={playSessionId:""},M={isPlaying:!0,userTriggeredPlay:!1,userTriggeredPause:!1,setUserTriggeredPause:function(){return null},setUserTriggeredPlay:function(){return null},play:function(){return null},pause:function(){return null},seek:function(){return null},dvrSeek:function(){return null},setMuted:function(){return null},setVolume:function(){return null},setQuality:function(){return null},getPlayerMetadata:function(){return C}},T=(0,A.e)("VideoPlaybackContext",M,(function(e){return{videoPlaybackContext:e}})),E=T.withMemoContext,I=T.context,_=15,R=function(e){function n(n){var t=e.call(this,n)||this;t.preRestrictionMuted=void 0,t.play=function(e){var n=t.props,r=n.mediaPlayerInstance,i=n.videoAd;if(i)return t.setState((function(e){return e.isPlaying?null:{isPlaying:!0,userTriggeredPause:!1}})),void i.play();r&&(t.setState((function(n){return n.isPlaying?null:{isPlaying:!0,userTriggeredPause:!1,userTriggeredPlay:(null==e?void 0:e.userTriggered)||!1}})),r.play())},t.setUserTriggeredPause=function(e){t.setState((function(n){return n.userTriggeredPause===e?null:{userTriggeredPause:e}}))},t.setUserTriggeredPlay=function(e){t.setState((function(n){return n.userTriggeredPlay===e?null:{userTriggeredPlay:e}}))},t.pause=function(e){var n=t.props,r=n.mediaPlayerInstance,i=n.videoAd;if(i)return t.setState({isPlaying:!1,userTriggeredPlay:!1}),void i.pause();r&&(t.setState({isPlaying:!1,userTriggeredPause:(null==e?void 0:e.userTriggered)||!1,userTriggeredPlay:!1}),r.pause())},t.dvrSeek=function(e,n){if(!t.props.isInstreamAdShowing){var i=t.props.content;n-e<_?(null==i?void 0:i.type)===s.FC.DVRVOD&&(t.props.setPlayerContent((0,r.__assign)((0,r.__assign)({},i),{type:s.FC.DVRLive})),t.setState({dvrSeekTime:void 0})):(null==i?void 0:i.type)===s.FC.DVRLive?(t.props.setPlayerContent((0,r.__assign)((0,r.__assign)({},i),{type:s.FC.DVRVOD})),t.setState({dvrSeekTime:e})):t.seek(e)}},t.seek=function(e){var n=t.props,r=n.mediaPlayerInstance,i=n.isInstreamAdShowing,o=n.contentIsLive;!i&&!o&&isFinite((0,y.Ds)(t.props))&&r&&r.seekTo(e)},t.setVolume=function(e,n){var r=t.props,i=r.videoAd,o=r.mediaPlayerInstance,a=r.audioBlocked,l=r.updateContext,s=r.updateAdVolume,d=r.disableUserPreferencePersistence,c=r.userEverUnmuted,f=Math.round(100*e)/100,p=n&&n.persist,y=n&&n.userTriggered;y&&e>0&&!c&&l({userEverUnmuted:!0}),i?(s(f,!!y),i.setVolume(f)):null==o||o.setVolume(f),p&&!d&&u.IG.set(g.U.VOLUME,f),a&&!i&&y&&l({audioBlocked:!1})},t.setMuted=function(e,n){var r=t.props,i=r.videoAd,o=r.isInstreamAdShowing,a=r.isOutstreamAdShowing,u=r.outstreamVideoAd,l=r.mediaPlayerInstance,s=r.audioBlocked,d=r.updateContext,c=r.updateAdMuted,f=r.disableUserPreferencePersistence,g=r.playerType,y=r.userEverUnmuted,P=n&&n.persist,v=n&&n.userTriggered;(!v||e||y||d({userEverUnmuted:!0}),v||!s)&&(i&&(i.setMuted(e),c(e,!!v)),i&&!(i&&!o)||null==l||l.setMuted(e),a&&u&&!e&&(u.setMuted(!0),c(!0,!!v)),P&&!f&&p.o.set("video-muted",g,e),s&&d({audioBlocked:!1}))},t.setQuality=function(e){if(t.props.mediaPlayerInstance){var n=t.props.availableQualities.find((function(n){return n.group.includes(e)}));n&&(t.props.updateContext({quality:n.group,qualityBitrate:n.bitrate}),n.group===d.s9?t.props.mediaPlayerInstance.setAutoQualityMode(!0):t.props.mediaPlayerInstance.setQuality(n))}},t.getPlayerMetadata=function(){var e=t.props,n=e.mediaPlayerInstance;return{playSessionId:e.playSessionId,latencyToBroadcaster:n?1e3*n.getLiveLatency():void 0}},t.getCombinedPlaybackState=function(e){return{muted:t.getMuted(e),volume:t.getVolume(e)}},t.isCurrentlyPlaying=function(e){var n=e.playerPlaying,t=e.playerBuffering,r=e.isInstreamAdShowing,i=e.videoAd,o=e.adPlaying;return r&&i?o:n||t},t.getVolume=function(e){var n=e.isInstreamAdShowing,t=e.videoAd,r=e.adVolume,i=e.playerVolume;return n&&t?r:i},t.getMuted=function(e){var n=e.isInstreamAdShowing,t=e.videoAd,r=e.adMuted,i=e.playerMuted;return n&&t?r:i},t.areStatesEqual=function(e,n){return Object.keys(n).every((function(t){return n[t]===e[t]}))},t.setNextPlayingState=function(e){var n=t.state.isPlaying;e.isPlayerCoreLoading&&t.props.isPlayerCoreLoading&&e.autoplay!==t.props.autoplay&&(n=!!t.props.autoplay);var i=!e.isOffline&&t.props.isOffline,o=!e.playerEnded&&t.props.playerEnded,a=!e.playerIdle&&t.props.playerIdle;!t.props.videoAd&&(i||o||a)&&(n=!1);var u=t.isCurrentlyPlaying(e),l=t.isCurrentlyPlaying(t.props);u!==l&&(n=l),t.props.manualResetRequested&&(n=!0);var s=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},t.state),t.getCombinedPlaybackState(t.props)),{isPlaying:n});t.areStatesEqual(t.state,s)||t.setState(s)},t.updateRestrictedPlayback=function(e){var n=e.hasPlaybackRestriction,r=t.props.hasPlaybackRestriction;n&&!r&&(t.play(),t.preRestrictionMuted||t.setMuted(!1)),!n&&r&&(t.preRestrictionMuted=t.state.muted,t.pause(),t.setMuted(!0))};var i=!(!n.autoplay||n.isOffline||n.playerEnded);return t.state=(0,r.__assign)((0,r.__assign)({},t.getCombinedPlaybackState(n)),{isPlaying:t.isCurrentlyPlaying(n)||i,userTriggeredPlay:!1,userTriggeredPause:!1,setUserTriggeredPause:t.setUserTriggeredPause,setUserTriggeredPlay:t.setUserTriggeredPlay,play:t.play,pause:t.pause,seek:t.seek,dvrSeek:t.dvrSeek,setMuted:t.setMuted,setVolume:t.setVolume,setQuality:t.setQuality,getPlayerMetadata:t.getPlayerMetadata}),t}return(0,r.__extends)(n,e),n.prototype.componentDidUpdate=function(e){var n;this.setNextPlayingState(e),this.updateRestrictedPlayback(e),this.props.sourceStatus===c.O.Provided&&e.sourceStatus!==this.props.sourceStatus&&this.state.dvrSeekTime&&(null===(n=this.props.mediaPlayerInstance)||void 0===n||n.seekTo(this.state.dvrSeekTime),this.setState({dvrSeekTime:void 0}))},n.prototype.render=function(){return(0,i.jsx)(I.Provider,{value:this.state,children:this.props.children||null})},n}(o.PureComponent),D=(0,a.Zz)((0,b.cj)((function(e){var n=(0,m.wk)({playerPublicPropsContext:e});return{disableAudio:!!n.disableAudio,disableUserPreferencePersistence:!!n.disableUserPreferencePersistence,playerType:e.type,contentIsLive:(0,P.DG)(e.content)}})),(0,h.dd)((function(e){return{availableQualities:e.availableQualities,playerVolume:e.volume,playerPlaying:(0,v.F4)(e),playerMuted:e.muted,playerEnded:(0,v.pl)(e),playerIdle:(0,v.xB)(e),playerBuffering:(0,v.TN)(e),playSessionId:e.playSessionId,autoplay:e.autoplay,isOffline:e.isOffline,isPlayerCoreLoading:e.isPlayerCoreLoading,audioBlocked:e.audioBlocked,hasPlaybackRestriction:(0,v.k1)(e),updateContext:e.updateContext,manualResetRequested:e.manualResetRequested,mediaPlayerInstance:e.mediaPlayerInstance,userEverUnmuted:e.userEverUnmuted,sourceStatus:e.sourceStatus}})),(0,S.VX)((function(e){return{videoAd:(0,f.A4)({adContext:e}),adPlaying:e.isPlaying,adMuted:e.muted,adVolume:e.volume,isInstreamAdShowing:(0,f.cz)(e.videoAdMetadata),isOutstreamAdShowing:(0,f.pt)(e.adFormatMetadata),outstreamVideoAd:(0,f.RO)(e.adFormatMetadata),updateAdMuted:e.updateAdMuted,updateAdVolume:e.updateAdVolume,videoAdMetadata:e.videoAdMetadata}})),(0,l.cU)((function(e){return{content:e.content,setPlayerContent:e.setPlayerContent}})))(R)},650510:function(e,n,t){var r;function i(){var e;return(e={})[r.AccountRestricted]=!1,e[r.Age]=!1,e[r.EmbedHardUpsell]=!1,e[r.Mature]=!1,e[r.PremiumContent]=!1,e[r.SubscriberVOD]=!1,e[r.TwitchGate]=!1,e}t.d(n,{S:function(){return r},u:function(){return i}}),function(e){e.AccountRestricted="account-restricted",e.Age="age",e.EmbedHardUpsell="embed-hard-upsell",e.Mature="mature",e.PremiumContent="premium-content",e.SubscriberVOD="subscriber-vod",e.TwitchGate="twitch-gate"}(r||(r={}))},196288:function(e,n,t){var r;t.d(n,{p:function(){return r}}),function(e){e.IDLE="Idle",e.READY="Ready",e.BUFFERING="Buffering",e.PLAYING="Playing",e.ENDED="Ended"}(r||(r={}))},567329:function(e,n,t){var r;t.d(n,{CK:function(){return o},_6:function(){return r},g6:function(){return i},k6:function(){return a},sY:function(){return u},vi:function(){return l}}),function(e){e.Auto="auto",e.HighHighFPS="1080p60",e.High="1080p30",e.MediumHighFPS="720p60",e.Medium="720p30",e.Low="360p30",e.VeryLow="160p30"}(r||(r={}));var i,o,a={group:"auto",width:1e5,height:1e5},u={group:"720p60",width:1280,height:720},l={group:"360p30",width:640,height:360};!function(e){e.Delete="delete",e.DeleteAll="deleteAll",e.ReportUser="report"}(i||(i={})),function(e){e.PlayAndPauseAtCurrentEditingSegmentEnd="playAndPauseAtCurrentEditingSegmentEnd",e.PlayAndPauseAtLastEditingSegmentEnd="playAndPauseAtLastEditingSegmentEnd",e.PlayAndReplayAtCurrentEditingSegmentEnd="playAndReplayAtCurrentEditingSegmentEnd"}(o||(o={}))},823583:function(e,n,t){t.d(n,{A8:function(){return u},Bi:function(){return a},IJ:function(){return l},s9:function(){return i},w_:function(){return o}});var r=t(567329),i=r._6.Auto,o="chunked",a=992e3,u="s-qs-ts",l={bitrate:999999999,codecs:"",framerate:60,group:i,height:0,isDefault:!1,name:r._6.Auto,width:0}},742729:function(e,n,t){var r;t.d(n,{O:function(){return r}}),function(e){e.Loading="loading",e.None="none",e.Provided="provided"}(r||(r={}))},378328:function(e,n,t){t.d(n,{A4:function(){return s},DU:function(){return v},EF:function(){return f},Eg:function(){return u},I9:function(){return P},RO:function(){return d},cz:function(){return o},g:function(){return a},hr:function(){return p},jC:function(){return c},lq:function(){return y},pt:function(){return l},tl:function(){return g}});var r=t(485272),i=t(357515);function o(e){return!!e&&(e.stitched||e.started)}function a(e){return f(e)&&(0,r.ZJ)(e.adFormat)&&e.started}function u(e){return P(e)&&(0,r.rW)(e.adFormat)&&"visible"===e.status}function l(e){return p(e)&&e.started}function s(e){var n=e.adContext.videoAdMetadata;return f(n)&&n.videoAd||void 0}function d(e){return p(e)&&e.videoAd||void 0}function c(e,n){return f(e)&&e.videoAd||p(n)&&n.videoAd||void 0}function f(e){return!!e&&!e.stitched&&!(0,r.C_)(e.adFormat)}function p(e){return!!e&&!e.stitched&&(0,r.C_)(e.adFormat)}function g(e){return!!e&&(0,r.C_)(e.adFormat)}function y(e){return!!e&&e.stitched}function P(e){return!(!e||!e.adFormat||e.adFormat!==i.Z$.LOWER_THIRD&&e.adFormat!==i.Z$.SQUEEZEBACK)}function v(e){return void 0!==e.creativeHtml}},607788:function(e,n,t){t.d(n,{o:function(){return l}});var r=t(478260),i=t(491798),o="default",a={"video-muted":[{segmentKey:"carousel",playerTypes:[i.C.Frontpage]}],"video-quality":[{segmentKey:"clips",playerTypes:[i.C.ClipsEditing,i.C.ClipsViewing,i.C.ClipsEmbed,i.C.ClipsWatchPage]}]};function u(e,n){var t=a[e];for(var r in t)if(t[r].playerTypes&&t[r].playerTypes.includes(n))return t[r].segmentKey;return o}var l={get:function(e,n){return r.x2.storage.get(e,{})[u(e,n)]},set:function(e,n,t){var i=r.x2.storage.get(e,{});i[u(e,n)]=t,r.x2.storage.set(e,i)}}},420845:function(e,n,t){var r;t.d(n,{U:function(){return r}}),function(e){e.PLAYBACK_RATE="playback-rate",e.BITRATE="quality-bitrate",e.VOLUME="volume",e.LOW_LATENCY_MODE="lowLatencyModeEnabled",e.PERSISTENCE_ENABLED="persistenceEnabled",e.VOD_RESUME_TIMES="vodResumeTimes",e.LIVE_RESUME_TIMES="livestreamResumeTimes"}(r||(r={}))},701356:function(e,n,t){t.d(n,{Ds:function(){return a},E9:function(){return u},qr:function(){return s},ym:function(){return l}});var r=t(478260),i=t(378328),o=t(420845);function a(e){var n=e.mediaPlayerInstance,t=e.videoAdMetadata;return(0,i.cz)(t)?0:n?n.getDuration():0}function u(e){var n=e.mediaPlayerInstance,t=e.videoAdMetadata;return(0,i.cz)(t)?0:n?n.getPosition():0}function l(e){var n=e.mediaPlayerInstance,t=e.videoAdMetadata;return(0,i.cz)(t)?1:n?n.getPlaybackRate():1}function s(e,n){var t=n.disableUserPreferencePersistence,i=n.mediaPlayerInstance;i&&i.setPlaybackRate(e),t||r.IG.set(o.U.PLAYBACK_RATE,e)}},105774:function(e,n,t){t.d(n,{F4:function(){return o},GY:function(){return f},NZ:function(){return s},RO:function(){return c},RX:function(){return P},TN:function(){return a},YN:function(){return y},i_:function(){return l},k1:function(){return p},pl:function(){return u},uJ:function(){return g},xB:function(){return d}});var r=t(650510),i=t(196288);function o(e){return e.playerState===i.p.PLAYING}function a(e){return e.playerState===i.p.BUFFERING}function u(e){return e.playerState===i.p.ENDED}function l(e){return e.playerState===i.p.READY}function s(e){return e?{videoWidth:e.getVideoWidth(),videoHeight:e.getVideoHeight()}:{videoWidth:void 0,videoHeight:void 0}}function d(e){return e.playerState===i.p.IDLE}function c(e){var n=e.mediaPlayerInstance;return!!n&&!!n.getSessionData().FUTURE}function f(e,n){var t=e.isLiveLowLatencyEnabled,r=e.mediaPlayerInstance,i=e.updateContext;r&&(r.setLiveLowLatencyEnabled(n),n!==t&&i({isLiveLowLatencyEnabled:n}))}function p(e,n){var t=e.restrictions;return n?!!t[n]:Object.keys(t).some((function(e){return!!t[e]}))}function g(e){var n=e.restrictions,t=e.accessExpiration;return!!n[r.S.PremiumContent]||!!n[r.S.SubscriberVOD]||!!t}function y(e){var n=e.mediaPlayerInstance;return n&&n.getSessionData()["SERVING-ID"]}function P(e){var n=e.mediaPlayerInstance;return n&&n.getSessionData()["BROADCAST-ID"]}},583167:function(e,n,t){function r(e){return e.playerPublicPropsContext.behaviors||{}}function i(e,n){return!(!e||!e[n])}function o(e){return e.playerPublicPropsContext.content}function a(e){return e.playerPublicPropsContext.callbacks||{}}t.d(n,{N8:function(){return i},Rh:function(){return o},wk:function(){return r},zB:function(){return a}})}}]);