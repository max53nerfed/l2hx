!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="92ed6f94-11e5-4a49-a58e-1b40006ba59e",e._sentryDebugIdIdentifier="sentry-dbid-92ed6f94-11e5-4a49-a58e-1b40006ba59e")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[60761],{69737:function(e,t,r){r.d(t,{Fd:function(){return c},Hp:function(){return f},Qh:function(){return a}});var n=r(331635),i=r(336160),s=r(789907),o=r(729621),u=Symbol();function a(e){var t;return(t={})[u]=e,t}function c(e){return e[u]}var l=["canonizeResults","context","errorPolicy","fetchPolicy","refetchWritePolicy","returnPartialData"],f=function(){function e(e,t){var r=this;this.listeners=new Set,this.status="loading",this.references=0,this.handleNext=this.handleNext.bind(this),this.handleError=this.handleError.bind(this),this.dispose=this.dispose.bind(this),this.observable=e,this.result=e.getCurrentResult(!1),this.key=t.key,t.onDispose&&(this.onDispose=t.onDispose),(0,s.D2)(this.result.networkStatus)||this.result.data&&(!this.result.partial||this.watchQueryOptions.returnPartialData)?(this.promise=(0,o.$D)(this.result),this.status="idle"):this.promise=new Promise((function(e,t){r.resolve=e,r.reject=t})),this.subscription=e.filter((function(e){var t=e.data;return!(0,i.L)(t,{})})).subscribe({next:this.handleNext,error:this.handleError});var n=function(){var e;r.references||(r.autoDisposeTimeoutId=setTimeout(r.dispose,null!==(e=t.autoDisposeTimeoutMs)&&void 0!==e?e:3e4))};this.promise.then(n,n)}return Object.defineProperty(e.prototype,"watchQueryOptions",{get:function(){return this.observable.options},enumerable:!1,configurable:!0}),e.prototype.retain=function(){var e=this;this.references++,clearTimeout(this.autoDisposeTimeoutId);var t=!1;return function(){t||(t=!0,e.references--,setTimeout((function(){e.references||e.dispose()})))}},e.prototype.didChangeOptions=function(e){var t=this;return l.some((function(r){return!(0,i.L)(t.watchQueryOptions[r],e[r])}))},e.prototype.applyOptions=function(e){var t=this.watchQueryOptions,r=t.fetchPolicy,i=t.canonizeResults;return"standby"===r&&r!==e.fetchPolicy?this.initiateFetch(this.observable.reobserve(e)):(this.observable.silentSetOptions(e),i!==e.canonizeResults&&(this.result=(0,n.__assign)((0,n.__assign)({},this.result),this.observable.getCurrentResult()),this.promise=(0,o.$D)(this.result))),this.promise},e.prototype.listen=function(e){var t=this;return this.listeners.add(e),function(){t.listeners.delete(e)}},e.prototype.refetch=function(e){return this.initiateFetch(this.observable.refetch(e))},e.prototype.fetchMore=function(e){return this.initiateFetch(this.observable.fetchMore(e))},e.prototype.dispose=function(){this.subscription.unsubscribe(),this.onDispose()},e.prototype.onDispose=function(){},e.prototype.handleNext=function(e){var t;switch(this.status){case"loading":void 0===e.data&&(e.data=this.result.data),this.status="idle",this.result=e,null===(t=this.resolve)||void 0===t||t.call(this,e);break;case"idle":if(e.data===this.result.data)return;void 0===e.data&&(e.data=this.result.data),this.result=e,this.promise=(0,o.$D)(e),this.deliver(this.promise)}},e.prototype.handleError=function(e){var t;switch(this.subscription.unsubscribe(),this.subscription=this.observable.resubscribeAfterError(this.handleNext,this.handleError),this.status){case"loading":this.status="idle",null===(t=this.reject)||void 0===t||t.call(this,e);break;case"idle":this.promise=(0,o.Il)(e),this.deliver(this.promise)}},e.prototype.deliver=function(e){this.listeners.forEach((function(t){return t(e)}))},e.prototype.initiateFetch=function(e){var t=this;return this.status="loading",this.promise=new Promise((function(e,r){t.resolve=e,t.reject=r})),this.promise.catch((function(){})),e.then((function(e){var r;"loading"===t.status&&(t.status="idle",t.result=e,null===(r=t.resolve)||void 0===r||r.call(t,e))})).catch((function(){})),e},e}()},800718:function(e,t,r){r.d(t,{B:function(){return a}});var n=r(878921),i=r(314479),s=r(69737),o=function(){function e(e){void 0===e&&(e=Object.create(null)),this.queryRefs=new n.b(i.et),this.options=e}return e.prototype.getQueryRef=function(e,t){var r=this.queryRefs.lookupArray(e);return r.current||(r.current=new s.Hp(t(),{key:e,autoDisposeTimeoutMs:this.options.autoDisposeTimeoutMs,onDispose:function(){delete r.current}})),r.current},e}(),u=Symbol.for("apollo.suspenseCache");function a(e){var t;return e[u]||(e[u]=new o(null===(t=e.defaultOptions.react)||void 0===t?void 0:t.suspense)),e[u]}},236277:function(e,t,r){r.d(t,{h:function(){return n}});var n=Symbol.for("apollo.skipToken")},358109:function(e,t,r){var n;r.d(t,{y:function(){return o}});var i=r(729621),s=r(296540),o=(n||(n=r.t(s,2))).use||function(e){var t=(0,i.zq)(e);switch(t.status){case"pending":throw t;case"rejected":throw t.reason;case"fulfilled":return t.value}}},511795:function(e,t,r){r.d(t,{E:function(){return l}});var n=r(331635),i=r(296540),s=r(486651),o=r(69737),u=r(800718),a=r(822177),c=r(908338);function l(e,t){void 0===t&&(t=Object.create(null));var r=(0,s.m)(t.client),l=(0,u.B)(r),f=(0,a.hO)({client:r,query:e,options:t}),h=f.fetchPolicy,d=f.variables,p=t.queryKey,y=void 0===p?[]:p,v=i.useRef("standby"!==h);v.current||(v.current="standby"!==h);var b=(0,n.__spreadArray)([e,(0,c.M)(d)],[].concat(y),!0),g=l.getQueryRef(b,(function(){return r.watchQuery(f)})),m=i.useState((function(){return new Map([[g.key,g.promise]])})),w=m[0],k=m[1];if(g.didChangeOptions(f)){var _=g.applyOptions(f);w.set(g.key,_)}i.useEffect((function(){return g.retain()}),[g]);var P=i.useCallback((function(e){var t=g.fetchMore(e);return k((function(e){return new Map(e).set(g.key,g.promise)})),t}),[g]),M=i.useCallback((function(e){var t=g.refetch(e);return k((function(e){return new Map(e).set(g.key,g.promise)})),t}),[g]);g.promiseCache=w;var D=i.useMemo((function(){return(0,o.Qh)(g)}),[g]);return[v.current?D:void 0,{fetchMore:P,refetch:M}]}},554669:function(e,t,r){r.d(t,{_:function(){return c}});var n=r(331635),i=r(296540),s=r(15228),o=r(327135),u=r(486651),a=["refetch","reobserve","fetchMore","updateQuery","startPolling","subscribeToMore"];function c(e,t){var r,c=i.useRef(),l=i.useRef(),f=i.useRef(),h=(0,s.l)(t,c.current||{}),d=null!==(r=null==h?void 0:h.query)&&void 0!==r?r:e;l.current=h,f.current=d;var p=(0,o.k)((0,u.m)(t&&t.client),d),y=p.useQuery((0,n.__assign)((0,n.__assign)({},h),{skip:!c.current})),v=y.initialFetchPolicy||p.getDefaultFetchPolicy(),b=Object.assign(y,{called:!!c.current}),g=i.useMemo((function(){for(var e={},t=function(t){var r=b[t];e[t]=function(){return c.current||(c.current=Object.create(null),p.forceUpdateState()),r.apply(this,arguments)}},r=0,n=a;r<n.length;r++){t(n[r])}return e}),[]);Object.assign(b,g);var m=i.useCallback((function(e){c.current=e?(0,n.__assign)((0,n.__assign)({},e),{fetchPolicy:e.fetchPolicy||v}):{fetchPolicy:v};var t=(0,s.l)(l.current,(0,n.__assign)({query:f.current},c.current)),r=p.executeQuery((0,n.__assign)((0,n.__assign)({},t),{skip:!1})).then((function(e){return Object.assign(e,g)}));return r.catch((function(){})),r}),[]);return[m,b]}},32883:function(e,t,r){r.d(t,{o:function(){return c}});var n=r(296540),i=r(69737),s=r(358109),o=r(822177),u=r(807289),a=r(356806);function c(e){var t=(0,i.Fd)(e);(0,u.V1)(t.promiseCache,51);var r=t.promiseCache,c=t.key;r.has(c)||r.set(c,t.promise);var l=(0,a.r)(n.useCallback((function(e){return t.listen((function(r){t.promiseCache.set(t.key,r),e()}))}),[t]),(function(){return r.get(c)}),(function(){return r.get(c)})),f=(0,s.y)(l);return n.useMemo((function(){return{data:f.data,networkStatus:f.networkStatus,error:(0,o.jy)(f)}}),[f])}},822177:function(e,t,r){r.d(t,{jy:function(){return g},UX:function(){return v},hO:function(){return m}});var n=r(331635),i=r(296540),s=r(807289),o=r(789907),u=r(535807),a=r(703872),c=r(486651),l=r(184951),f=r(358109),h=r(336160);var d=r(800718),p=r(908338),y=r(236277);function v(e,t){void 0===t&&(t=Object.create(null));var r=(0,c.m)(t.client),s=(0,d.B)(r),u=m({client:r,query:e,options:t}),a=u.fetchPolicy,l=u.variables,h=t.queryKey,y=void 0===h?[]:h,v=(0,n.__spreadArray)([e,(0,p.M)(l)],[].concat(y),!0),b=s.getQueryRef(v,(function(){return r.watchQuery(u)})),w=i.useState((function(){return new Map([[b.key,b.promise]])})),k=w[0],_=w[1],P=k.get(b.key);b.didChangeOptions(u)&&(P=b.applyOptions(u),k.set(b.key,P)),P||(P=b.promise,k.set(b.key,P)),i.useEffect((function(){var e=b.retain(),t=b.listen((function(e){_((function(t){return new Map(t).set(b.key,e)}))}));return function(){t(),e()}}),[b]);var M=i.useMemo((function(){var e=g(b.result);return{loading:!1,data:b.result.data,networkStatus:e?o.pT.error:o.pT.ready,error:e}}),[b.result]),D="standby"===a?M:(0,f.y)(P),O=i.useCallback((function(e){var t=b.fetchMore(e);return _((function(e){return new Map(e).set(b.key,b.promise)})),t}),[b]),C=i.useCallback((function(e){var t=b.refetch(e);return _((function(e){return new Map(e).set(b.key,b.promise)})),t}),[b]),j=i.useCallback((function(e){return b.observable.subscribeToMore(e)}),[b]);return i.useMemo((function(){return{client:r,data:D.data,error:g(D),networkStatus:D.networkStatus,fetchMore:O,refetch:C,subscribeToMore:j}}),[r,O,C,D,j])}function b(e){var t=e.query,r=e.fetchPolicy,n=e.returnPartialData;(0,l.D$)(t,l.KG.Query),function(e){void 0===e&&(e="cache-first");var t=["cache-first","network-only","no-cache","cache-and-network"];(0,s.V1)(t.includes(e),56,e)}(r),function(e,t){"no-cache"===e&&t&&s.V1.warn(57)}(r,n)}function g(e){return(0,a.E)(e.errors)?new u.K4({graphQLErrors:e.errors}):e.error}function m(e){var t,r,s,o=e.client,u=e.query,a=e.options;return t=function(){var e;if(a===y.h)return{query:u,fetchPolicy:"standby"};var t=a.fetchPolicy||(null===(e=o.defaultOptions.watchQuery)||void 0===e?void 0:e.fetchPolicy)||"cache-first",r=(0,n.__assign)((0,n.__assign)({},a),{fetchPolicy:t,query:u,notifyOnNetworkStatusChange:!1,nextFetchPolicy:void 0});return b(r),a.skip&&(r.fetchPolicy="standby"),r},r=[o,a,u],(s=i.useRef()).current&&(0,h.L)(s.current.deps,r)||(s.current={value:t(),deps:r}),s.current.value}},729621:function(e,t,r){function n(e){var t=Promise.resolve(e);return t.status="fulfilled",t.value=e,t}function i(e){var t=Promise.reject(e);return t.catch((function(){})),t.status="rejected",t.reason=e,t}function s(e){if(function(e){return"status"in e}(e))return e;var t=e;return t.status="pending",t.then((function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}}),(function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})),e}r.d(t,{$D:function(){return n},Il:function(){return i},zq:function(){return s}})}}]);