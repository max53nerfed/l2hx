!function(){try{var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new n.Error).stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="5dc12a37-6c42-40f3-99ab-873bcde93ca9",n._sentryDebugIdIdentifier="sentry-dbid-5dc12a37-6c42-40f3-99ab-873bcde93ca9")}catch(n){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[33246],{816280:function(n){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetEmoteAnimations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetEmoteAnimationsEnabledInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setEmoteAnimationsEnabled"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteAnimationsEnabled"},arguments:[],directives:[]}]}}]}}]};function t(n,e){if("FragmentSpread"===n.kind)e.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&e.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){t(n,e)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){t(n,e)})),n.definitions&&n.definitions.forEach((function(n){t(n,e)}))}var i={};e.definitions.forEach((function(n){if(n.name){var e=new Set;t(n,e),i[n.name.value]=e}})),n.exports=e},906435:function(n){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsEmoteAnimations"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteAnimationsEnabled"},arguments:[],directives:[]}]}}]}}]}}]};function t(n,e){if("FragmentSpread"===n.kind)e.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&e.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){t(n,e)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){t(n,e)})),n.definitions&&n.definitions.forEach((function(n){t(n,e)}))}var i={};e.definitions.forEach((function(n){if(n.name){var e=new Set;t(n,e),i[n.name.value]=e}})),n.exports=e},309759:function(n,e,t){"use strict";t.d(e,{n:function(){return o}});var i=t(331635),r=t(474848),a=(t(296540),t(611407));function o(n){return function(e){return function(t){return(0,a.C)(n(t)),(0,r.jsx)(e,(0,i.__assign)({},t))}}}},740934:function(n,e,t){"use strict";function i(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}t.d(e,{N:function(){return i}})},651342:function(n,e,t){"use strict";t.d(e,{Ov:function(){return y},lv:function(){return w},nK:function(){return I},se:function(){return _}});var i=t(331635),r=t(474848),a=t(973421),o=t.n(a),u=t(296540),s=t(415044),c=t(868238),d=t(478260),l=t(928778),f=t(309759),v=t(982821),m=t(503472),h=t(456450),p=t(131883),k=t(397568),g=t(816280),S=t.n(g),E=t(906435),b=t.n(E),y="emoteAnimationsEnabled",D=(0,k.q)("EmoteAnimationsSettingContext",{setValue:function(){return null},value:!0}),I=D.context,w=D.withContext,U=function(n){function e(e){var t=n.call(this,e)||this;return t.setValue=function(n){if(t.setState({localOverride:n}),d.IG.set(y,n),t.props.isLoggedIn){var e=(0,i.__assign)((0,i.__assign)({},(0,m.AR)({isEmoteAnimationsEnabled:n})),{optimisticResponse:{setEmoteAnimationsEnabled:{__typename:"SetEmoteAnimationsEnabledPayload",isEmoteAnimationsEnabled:n}},update:function(e){var t;try{t=e.readQuery({query:b()})}catch(n){return}if(t&&t.currentUser&&t.currentUser.chatUISettings){var i=o()(t,(function(n){return n.currentUser.chatUISettings.isEmoteAnimationsEnabled}),(function(){return n}));e.writeQuery({query:b(),data:i})}}});t.props.setEmoteAnimations(e)}},t.state={},t}return(0,i.__extends)(e,n),e.prototype.render=function(){return(0,r.jsx)(I.Provider,{value:{setValue:this.setValue,value:this.value},children:this.props.children})},e.prototype.componentDidUpdate=function(n){var e,t,i;if(this.hasData(this.props)&&!this.hasData(n)){var r=null===(i=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.chatUISettings)||void 0===i?void 0:i.isEmoteAnimationsEnabled;null!=r?d.IG.set(y,r):this.setValue(this.value)}},e.prototype.hasData=function(n){return n.data&&!n.data.error&&!n.data.loading&&n.data.currentUser&&n.data.currentUser.chatUISettings},Object.defineProperty(e.prototype,"value",{get:function(){var n,e,t;if(void 0!==this.state.localOverride)return this.state.localOverride;var i=null===(t=null===(e=null===(n=this.props.data)||void 0===n?void 0:n.currentUser)||void 0===e?void 0:e.chatUISettings)||void 0===t?void 0:t.isEmoteAnimationsEnabled;return null!=i?i:d.IG.get(y,!0)},enumerable:!1,configurable:!0}),e}(u.Component);var _=(0,c.Zz)((0,s.Ng)((function(n){return{isLoggedIn:(0,p.M3)(n)}})),(0,l._v)(b(),{skip:function(n){return!n.isLoggedIn}}),(0,f.n)((function(n){var e,t;return{query:b(),topic:(0,h.ew)((null===(t=null===(e=n.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.id)||""),skip:!n.data||n.data.loading||!n.isLoggedIn,skipMessage:function(n){return n.type!==v.PD.UserPreferencesEmoteAnimations},type:v.PD.UserPreferencesEmoteAnimations,mutator:function(n,e){return e=o()(e,(function(n){return n.currentUser.chatUISettings.isEmoteAnimationsEnabled}),(function(){return n.new_value}))}}})),(0,l._v)(S(),{name:"setEmoteAnimations"}))(U)},979537:function(n,e,t){"use strict";t.d(e,{$G:function(){return k},F6:function(){return h},Sn:function(){return l},W1:function(){return p},YW:function(){return d},am:function(){return f},eG:function(){return m},i1:function(){return g}});var i=t(331635),r=t(963423),a=t(740934),o=t(827009),u={"B-?\\)":"B)","\\:-?[z|Z|\\|]":":|","\\:-?\\)":":)","\\:-?\\(":":(","\\:-?(p|P)":":P","\\;-?(p|P)":";P","\\:-?[\\\\/]":":/","\\;-?\\)":";)","R-?\\)":"R)",":>":":>","\\:\\&gt\\;":":>","[oO](_|\\.)[oO]":"O_o","\\:-?D":":D","\\:-?(o|O)":":O",">\\\\(":">(",":-?(?:7|L)":":7","\\:-?(S|s)":":S","#-?[\\\\/]":"#/","<\\]":"<]","<3":"<3","\\&lt\\;3":"<3","\\&lt\\;\\]":"<]","\\&gt\\;\\(":">("},s=["1.0","2.0","3.0"],c=new Set([457,33,42,0]);function d(n,e,t){void 0===e&&(e=!0),void 0===t&&(t=r.S.Light);for(var i=[],a=0,o=n;a<o.length;a++){var u=o[a];u&&null!==u.id&&null!==u.token&&i.push(f(u,e,t))}return i}function l(n){return u[n.token]||n.token}function f(n,e,t){void 0===e&&(e=!0),void 0===t&&(t=r.S.Light);var a=e?"default":"static",o=t===r.S.Light?"light":"dark",u=s.reduce((function(e,t){var i=e;return i&&(i=i.concat(", ")),i.concat("https://static-cdn.jtvnw.net/emoticons/v2/".concat(n.id,"/").concat(a,"/").concat(o,"/").concat(t," ").concat(t,"x"))}),"");return(0,i.__assign)((0,i.__assign)({},n),{displayName:l(n),srcSet:u})}function v(n){return n.filter((function(n){return!!n&&!!n.id&&!!n.token})).sort((function(n,e){return parseInt(e.id,10)-parseInt(n.id,10)}))}function m(n){for(var e=[],t=0,i=n;t<i.length;t++){var r=i[t];if(r&&r.id&&r.emotes){for(var a={id:r.id,emotes:[]},o=0,u=r.emotes;o<u.length;o++){var s=u[o];s&&s.id&&s.token&&a.emotes.push(s)}e.push(a)}}return e}function h(n,e){for(var t=[],i=[],r=0,a=n;r<a.length;r++){var o=a[r];if(o&&o.id&&o.emotes){var u={id:o.id,emotes:d(v(o.emotes),e)};o.owner&&(u.owner=o.owner),c.has(parseInt(o.id,10))?t.push(u):i.push(u)}}return i.concat(t)}var p=function(n,e,t){var i=t||o.I4,r=[],u=[],s=[],c=new RegExp("^".concat((0,a.N)(e)),"i");return n.forEach((function(n){i[n.token]?s.push(n):n.token.match(c)?r.push(n):u.push(n)})),r.sort((function(n,e){return n.token.localeCompare(e.token)})),u.sort((function(n,e){return n.token.localeCompare(e.token)})),s.sort((function(n,e){return i[e.token].count-i[n.token].count})),s.concat(r).concat(u)},k=function(n){var e={};return n.filter((function(n){return!e.hasOwnProperty(n.token)&&(e[n.token]=!0)}))},g=function(n){var e=n.split(" ");return 6===e.length?e[2]:e[0]}},833246:function(n,e,t){"use strict";t.d(e,{B:function(){return s}});var i=t(474848),r=(t(296540),t(917602)),a=t(772204),o=t(551453),u=t(979537),s=function(n){var e=n.emote,t=n.size,s=n.style,c=(0,a.U)(),d=(0,o.m)(e.id,t,c),l=(0,u.Sn)(e);return(0,i.jsx)(r.F,{style:s,alt:l,sources:d})}},772204:function(n,e,t){"use strict";t.d(e,{U:function(){return l}});var i=t(296540),r=t(415044),a=t(478260),o=t(783321),u=t(131883),s=t(651342),c=t(906435),d=t.n(c),l=function(){var n=(0,r.d4)(u.M3),e=i.useState(a.IG.get(s.Ov,!0)),t=e[0],c=e[1];return(0,o.IT)(d(),{fetchPolicy:"cache-and-network",skip:!n,onCompleted:i.useCallback((function(n){var e,t,i=null===(t=null===(e=null==n?void 0:n.currentUser)||void 0===e?void 0:e.chatUISettings)||void 0===t?void 0:t.isEmoteAnimationsEnabled;null!=i&&c(i)}),[c])}),t}},551453:function(n,e,t){"use strict";t.d(e,{m:function(){return o},q:function(){return a}});var i=t(963423),r=t(686751);function a(n,e,t,r){void 0===t&&(t=!0),void 0===r&&(r=i.S.Light);var a=t?"default":"static",o=r===i.S.Light?"light":"dark";return"https://static-cdn.jtvnw.net/emoticons/v2/".concat(n,"/").concat(a,"/").concat(o,"/").concat(e,".0")}function o(n,e,t){void 0===t&&(t=!0);var o={dark:{},light:{},themed:!0};switch(e){case r.G.LARGE:o.dark={"1x":a(n,3,t,i.S.Dark)},o.light={"1x":a(n,3,t,i.S.Light)};break;case r.G.MEDIUM:o.dark={"1x":a(n,2,t,i.S.Dark),"2x":a(n,3,t,i.S.Dark)},o.light={"1x":a(n,2,t,i.S.Light),"2x":a(n,3,t,i.S.Light)};break;default:o.dark={"1x":a(n,1,t,i.S.Dark),"2x":a(n,2,t,i.S.Dark),"4x":a(n,3,t,i.S.Dark)},o.light={"1x":a(n,1,t,i.S.Light),"2x":a(n,2,t,i.S.Light),"4x":a(n,3,t,i.S.Light)}}return o}}}]);