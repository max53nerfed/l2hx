!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d6f10fe9-7e12-4525-8470-ccc2a86826a3",e._sentryDebugIdIdentifier="sentry-dbid-d6f10fe9-7e12-4525-8470-ccc2a86826a3")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[54324],{127660:function(e,t,n){"use strict";var r=n(585715),i=n(517383),a=n(334579);Object.defineProperty(t,"__esModule",{value:!0});var o=n(723490),s=function(){return a((function e(t){var n;i(this,e),this.params=t,this.params.baseUrl=null!==(n=t.baseUrl)&&void 0!==n?n:o.BASE_URL}),[{key:"endpoint",value:function(e){var t="".concat(this.params.baseUrl).concat(e),n=this.params.queryParams;if(!n)return t;var i=new URLSearchParams;return Object.entries(n).forEach((function(e){var t=r(e,2),n=t[0],a=t[1];return i.append(n,a)})),"".concat(t,"?").concat(i)}},{key:"ufcEndpoint",value:function(){return this.endpoint(o.UFC_ENDPOINT)}},{key:"banditParametersEndpoint",value:function(){return this.endpoint(o.BANDIT_ENDPOINT)}},{key:"precomputedFlagsEndpoint",value:function(){return this.endpoint(o.PRECOMPUTED_FLAGS_ENDPOINT)}}])}();t.default=s},328902:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.loggerPrefix=void 0;var i=n(429738);t.loggerPrefix="[Eppo SDK]",t.logger=(0,i.default)({level:null!==(r={API_BASE_URL:void 0,CDN_URL:"https://assets.twitch.tv/",GQL_BASE_URL:void 0,PASSPORT_BASE_URL:void 0,INTERPOL_BASE_URL:void 0,PUBSUB_ENV:void 0,TMI_BASE_URL:void 0,MANIFEST_URL:"https://assets.twitch.tv/config/manifest.json?v=1",NODE_ENV:"production",PLAYER_BASE_URL:"https://player.twitch.tv",SITE_NAME:void 0,IS_DEV_BUILD:!1,IS_STAGING_BUILD:!1,IS_LOCAL_DEVSERVER:!1}.LOG_LEVEL)&&void 0!==r?r:"warn",browser:{disabled:!0}})},889182:function(e,t,n){"use strict";var r=n(585715),i=n(443693),a=n(373738);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){return Boolean("object"===a(e)&&e&&"numericAttributes"in e&&"categoricalAttributes"in e)}function c(e){var t={numericAttributes:{},categoricalAttributes:{}};return Object.entries(e).forEach((function(e){var n=r(e,2),i=n[0],a=n[1];"number"==typeof a?t.numericAttributes[i]=a:t.categoricalAttributes[i]=a})),t}Object.defineProperty(t,"__esModule",{value:!0}),t.isInstanceOfContextualAttributes=u,t.ensureNonContextualSubjectAttributes=function(e){var t;if(u(e)){var n=e;t=s(s({},n.numericAttributes),n.categoricalAttributes)}else t=e;return t},t.ensureContextualSubjectAttributes=function(e){return u(e)?e:c(e)},t.deduceAttributeContext=c,t.ensureActionsWithContextualAttributes=function(e){var t={};Array.isArray(e)?e.forEach((function(e){t[e]={numericAttributes:{},categoricalAttributes:{}}})):Object.values(e).every(u)?t=e:Object.entries(e).forEach((function(e){var n=r(e,2),i=n[0],a=n[1];t[i]=c(a)}));return t}},30033:function(e,t,n){"use strict";var r=n(585715),i=n(517383),a=n(334579);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.BanditEvaluator=void 0;var u=n(723490),c=n(736055),l=function(){return a((function e(){i(this,e),this.assignmentShards=u.BANDIT_ASSIGNMENT_SHARDS,this.sharder=new c.MD5Sharder}),[{key:"evaluateBestBanditAction",value:function(e,t,n){var r=this.scoreActions(e,t,n);return this.getTopScore(r).topAction}},{key:"evaluateBandit",value:function(e,t,n,r,i){var a=this.scoreActions(n,r,i),o=this.weighActions(a,i.gamma,i.actionProbabilityFloor),s=this.selectAction(e,t,o),u=Object.values(a).reduce((function(e,t){return t>e?t:e}),-1/0)-a[s];return{flagKey:e,subjectKey:t,subjectAttributes:n,actionKey:s,actionAttributes:r[s],actionScore:a[s],actionWeight:o[s],gamma:i.gamma,optimalityGap:u}}},{key:"scoreActions",value:function(e,t,n){var i=this,a={};return Object.entries(t).forEach((function(t){var o=r(t,2),s=o[0],u=o[1],c=n.defaultActionScore,l=n.coefficients[s];l&&(c=l.intercept,c+=i.scoreNumericAttributes(l.subjectNumericCoefficients,e.numericAttributes),c+=i.scoreCategoricalAttributes(l.subjectCategoricalCoefficients,e.categoricalAttributes),c+=i.scoreNumericAttributes(l.actionNumericCoefficients,u.numericAttributes),c+=i.scoreCategoricalAttributes(l.actionCategoricalCoefficients,u.categoricalAttributes)),a[s]=c})),a}},{key:"scoreNumericAttributes",value:function(e,t){return e.reduce((function(e,n){var r=t[n.attributeKey];return"number"==typeof r&&isFinite(r)?e+=r*n.coefficient:e+=n.missingValueCoefficient,e}),0)}},{key:"scoreCategoricalAttributes",value:function(e,t){return e.reduce((function(e,n){var r,i=null===(r=t[n.attributeKey])||void 0===r?void 0:r.toString(),a=i&&n.valueCoefficients[i];return e+="number"==typeof a?a:n.missingValueCoefficient}),0)}},{key:"weighActions",value:function(e,t,n){var i={},a=Object.entries(e);if(!a.length)return i;var o=this.getTopScore(e),s=o.topScore,u=o.topAction;if(null===s||null===u)throw new Error("Unable to find top score");var c=s,l=u,f=a.length,d=n/f,v=0;return a.forEach((function(e){var n=r(e,2),a=n[0],o=n[1];if(a!==l){var s=1/(f+t*(c-o)),u=Math.max(s,d);v+=u,i[a]=u}})),i[l]=Math.max(1-v,0),i}},{key:"selectAction",value:function(e,t,n){var r,i=this,a=Object.entries(n).sort((function(n,r){var a=i.sharder.getShard("".concat(e,"-").concat(t,"-").concat(n[0]),i.assignmentShards)-i.sharder.getShard("".concat(e,"-").concat(t,"-").concat(r[0]),i.assignmentShards);return 0===a&&(a=n[0]<r[0]?-1:1),a})),s=this.sharder.getShard("".concat(e,"-").concat(t),this.assignmentShards)/this.assignmentShards,u=0,c=null,l=o(a);try{for(l.s();!(r=l.n()).done;){var f=r.value;if((u+=f[1])>s){c=f[0];break}}}catch(e){l.e(e)}finally{l.f()}if(null===c)throw new Error('No bandit action selected for flag "'.concat(e,'" and subject "').concat(t,'"'));return c}},{key:"getTopScore",value:function(e){var t=Object.entries(e),n=null,i=null;return t.forEach((function(e){var t=r(e,2),a=t[0],o=t[1];(null===n||null===i||o>n||o===n&&a<i)&&(n=o,i=a)})),{topScore:n,topAction:i}}}])}();t.BanditEvaluator=l},305397:function(e,t,n){"use strict";var r=n(517383),i=n(334579);Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractAssignmentCache=void 0,t.assignmentCacheKeyToString=o,t.assignmentCacheValueToString=s;var a=n(142060);function o(e){var t=e.subjectKey,n=e.flagKey;return(0,a.getMD5Hash)([t,n].join(";"))}function s(e){return(0,a.getMD5Hash)(Object.values(e).join(";"))}var u=function(){return i((function e(t){r(this,e),this.delegate=t}),[{key:"has",value:function(e){return this.get(e)===s(e)}},{key:"get",value:function(e){return this.delegate.get(o(e))}},{key:"set",value:function(e){this.delegate.set(o(e),s(e))}},{key:"entries",value:function(){return this.delegate.entries()}}])}();t.AbstractAssignmentCache=u},158368:function(e,t,n){"use strict";var r=n(517383),i=n(334579);Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;var a=function(e){return i((function e(t){r(this,e),this.capacity=t,this.cache=new Map,this.size=this.cache.size}),[{key:e,value:function(){return this.cache[Symbol.iterator]()}},{key:"forEach",value:function(e,t){this.cache.forEach(e,t)}},{key:"entries",value:function(){return this.cache.entries()}},{key:"clear",value:function(){this.cache.clear()}},{key:"delete",value:function(e){return this.cache.delete(e)}},{key:"keys",value:function(){return this.cache.keys()}},{key:"values",value:function(){return this.cache.values()}},{key:"has",value:function(e){return this.cache.has(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.cache.get(e);return void 0!==t&&(this.delete(e),this.cache.set(e,t)),t}}},{key:"set",value:function(e,t){if(0===this.capacity)return this;if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.capacity){var n=this.cache.keys().next().value;n&&this.delete(n)}return this.cache.set(e,t),this}}])}((Symbol.toStringTag,Symbol.iterator));t.LRUCache=a},704814:function(e,t,n){"use strict";var r=n(334579),i=n(517383),a=n(728452),o=n(863072),s=n(829511);function u(e,t,n){return t=o(t),a(e,c()?Reflect.construct(t,n||[],o(e).constructor):t.apply(e,n))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.LRUInMemoryAssignmentCache=void 0;var l=n(305397),f=n(158368),d=function(e){function t(e){return i(this,t),u(this,t,[new f.LRUCache(e)])}return s(t,e),r(t)}(l.AbstractAssignmentCache);t.LRUInMemoryAssignmentCache=d},358651:function(e,t,n){"use strict";var r=n(334579),i=n(517383),a=n(728452),o=n(863072),s=n(829511);function u(e,t,n){return t=o(t),a(e,c()?Reflect.construct(t,n||[],o(e).constructor):t.apply(e,n))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.NonExpiringInMemoryAssignmentCache=void 0;var l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;return i(this,t),u(this,t,[e])}return s(t,e),r(t)}(n(305397).AbstractAssignmentCache);t.NonExpiringInMemoryAssignmentCache=l},998350:function(e,t,n){"use strict";var r=n(517383),i=n(334579),a=n(728452),o=n(863072),s=n(432395),u=n(829511);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){return t=o(t),a(e,d()?Reflect.construct(t,n||[],o(e).constructor):t.apply(e,n))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function v(e,t,n,r){var i=s(o(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}Object.defineProperty(t,"__esModule",{value:!0}),t.TLRUCache=void 0;var h=function(e){function t(e,n){var i;return r(this,t),(i=f(this,t,[e])).maxSize=e,i.ttl=n,i.cacheEntriesTTLRegistry=new Map,i}return u(t,e),i(t,[{key:"getCacheEntryEvictionTime",value:function(){return new Date(Date.now()+this.ttl)}},{key:"clearCacheEntryEvictionTimeIfExists",value:function(e){this.cacheEntriesTTLRegistry.has(e)&&this.cacheEntriesTTLRegistry.delete(e)}},{key:"isCacheEntryValid",value:function(e){var t=new Date(Date.now()),n=this.cacheEntriesTTLRegistry.get(e);return void 0!==n&&t<n}},{key:"setCacheEntryEvictionTime",value:function(e){this.cacheEntriesTTLRegistry.set(e,this.getCacheEntryEvictionTime())}},{key:"resetCacheEntryEvictionTime",value:function(e){this.clearCacheEntryEvictionTimeIfExists(e),this.setCacheEntryEvictionTime(e)}},{key:"evictExpiredCacheEntries",value:function(){var e,t,n=c(this.cache.keys());try{for(n.s();!(t=n.n()).done&&(e=t.value,!this.isCacheEntryValid(e));)this.delete(e)}catch(e){n.e(e)}finally{n.f()}}},{key:"entries",value:function(){return this.evictExpiredCacheEntries(),v(t,"entries",this,3)([])}},{key:"keys",value:function(){return this.evictExpiredCacheEntries(),v(t,"keys",this,3)([])}},{key:"values",value:function(){return this.evictExpiredCacheEntries(),v(t,"values",this,3)([])}},{key:"delete",value:function(e){return this.clearCacheEntryEvictionTimeIfExists(e),v(t,"delete",this,3)([e])}},{key:"has",value:function(e){return this.isCacheEntryValid(e)?this.cache.has(e):(this.delete(e),!1)}},{key:"get",value:function(e){if(this.isCacheEntryValid(e)){var n=v(t,"get",this,3)([e]);return void 0!==n&&this.resetCacheEntryEvictionTime(e),n}this.delete(e)}},{key:"set",value:function(e,n){var r=v(t,"set",this,3)([e,n]);return this.resetCacheEntryEvictionTime(e),r}}])}(n(158368).LRUCache);t.TLRUCache=h},655096:function(e,t,n){"use strict";var r=n(334579),i=n(517383),a=n(728452),o=n(863072),s=n(829511);function u(e,t,n){return t=o(t),a(e,c()?Reflect.construct(t,n||[],o(e).constructor):t.apply(e,n))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.TLRUInMemoryAssignmentCache=void 0;var l=n(723490),f=n(305397),d=n(998350),v=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.DEFAULT_TLRU_TTL_MS;return i(this,t),u(this,t,[new d.TLRUCache(e,n)])}return s(t,e),r(t)}(f.AbstractAssignmentCache);t.TLRUInMemoryAssignmentCache=v},252635:function(e,t,n){"use strict";var r=n(443693),i=n(585715),a=n(354756),o=n(29293),s=n(517383),u=n(334579);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.checkTypeMatch=B,t.checkValueTypeMatch=function(e,t){if(null==e)return!0;switch(e){case R.VariationType.STRING:return"string"==typeof t;case R.VariationType.BOOLEAN:return"boolean"==typeof t;case R.VariationType.INTEGER:return"number"==typeof t&&Number.isInteger(t);case R.VariationType.NUMERIC:return"number"==typeof t;case R.VariationType.JSON:return"string"==typeof t;default:return!1}};var f=n(611775),d=n(127660),v=n(328902),h=n(889182),p=n(30033),g=n(704814),y=n(358651),m=n(655096),b=n(371152),E=n(780952),_=n(738882),A=n(723490),S=n(178898),k=n(923481),w=n(742686),O=n(660359),I=n(164503),C=n(111385),T=n(518963),x=n(833027),N=n(271067),R=n(763483),P=n(142060),L=n(294364),j=n(348869),D=n(63071),M=n(793252),F=n(212911),U=function(){return u((function e(t){var n=t.eventDispatcher,r=void 0===n?new I.default:n,i=t.isObfuscated,a=t.flagConfigurationStore,o=t.banditVariationConfigurationStore,u=t.banditModelConfigurationStore,c=t.overrideStore,l=t.configurationRequestParameters;s(this,e),this.assignmentEventsQueue=new O.BoundedEventQueue("assignments"),this.banditEventsQueue=new O.BoundedEventQueue("bandit"),this.banditEvaluator=new p.BanditEvaluator,this.isGracefulFailureMode=!0,this.evaluator=new w.Evaluator,this.overrideValidator=new L.OverrideValidator,this.eventDispatcher=r,this.flagConfigurationStore=a,this.banditVariationConfigurationStore=o,this.banditModelConfigurationStore=u,this.overrideStore=c,this.configurationRequestParameters=l,void 0!==i&&v.logger.warn("[Eppo SDK] specifying isObfuscated no longer has an effect and will be removed in the next major release; obfuscation is now inferred from the configuration, so you can safely remove the option.")}),[{key:"getConfiguration",value:function(){return this.configurationRequestor?this.configurationRequestor.getConfiguration():new N.StoreBackedConfiguration(this.flagConfigurationStore,this.banditVariationConfigurationStore,this.banditModelConfigurationStore)}},{key:"parseOverrides",value:(t=o(a.mark((function e(t){var n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return n=this.overrideValidator.parseOverridePayload(t),e.next=5,this.overrideValidator.validateKey(n.browserExtensionKey);case 5:return e.abrupt("return",n.overrides);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"withOverrides",value:function(e){if(e&&Object.keys(e).length){var t=(0,D.shallowClone)(this);return t.overrideStore=new E.MemoryOnlyConfigurationStore,t.overrideStore.setEntries(e),t}return this}},{key:"setConfigurationRequestParameters",value:function(e){this.configurationRequestParameters=e}},{key:"setFlagConfigurationStore",value:function(e){this.flagConfigurationStore=e,this.updateConfigRequestorIfExists()}},{key:"setBanditVariationConfigurationStore",value:function(e){this.banditVariationConfigurationStore=e,this.updateConfigRequestorIfExists()}},{key:"setEventDispatcher",value:function(e){this.eventDispatcher=e}},{key:"setContext",value:function(e,t){var n;null===(n=this.eventDispatcher)||void 0===n||n.attachContext(e,t)}},{key:"setBanditModelConfigurationStore",value:function(e){this.banditModelConfigurationStore=e,this.updateConfigRequestorIfExists()}},{key:"updateConfigRequestorIfExists",value:function(){this.configurationRequestor&&this.configurationRequestor.setConfigurationStores(this.flagConfigurationStore,this.banditVariationConfigurationStore||null,this.banditModelConfigurationStore||null)}},{key:"setIsObfuscated",value:function(e){v.logger.warn("[Eppo SDK] setIsObfuscated no longer has an effect and will be removed in the next major release; obfuscation is now inferred from the configuration, so you can safely remove the call to this method.")}},{key:"setOverrideStore",value:function(e){this.overrideStore=e}},{key:"unsetOverrideStore",value:function(){this.overrideStore=void 0}},{key:"getOverrideVariationKeys",value:function(){var e,t;return Object.fromEntries(Object.entries(null!==(e=null===(t=this.overrideStore)||void 0===t?void 0:t.entries())&&void 0!==e?e:{}).map((function(e){var t=i(e,2);return[t[0],t[1].key]})))}},{key:"fetchFlagConfigurations",value:(e=o(a.mark((function e(){var t,n,r,i,s,u,c,l,f,h,p,g,y,m,E,_,S,k,w,O,I,C,T,N,R,P,L,D;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.configurationRequestParameters){e.next=2;break}throw new Error("Eppo SDK unable to fetch flag configurations without configuration request parameters");case 2:return null===(t=this.requestPoller)||void 0===t||t.stop(),i=this.configurationRequestParameters,s=i.apiKey,u=i.sdkName,c=i.sdkVersion,l=i.baseUrl,f=i.requestTimeoutMs,h=void 0===f?A.DEFAULT_REQUEST_TIMEOUT_MS:f,p=i.numInitialRequestRetries,g=void 0===p?A.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES:p,y=i.numPollRequestRetries,m=void 0===y?A.DEFAULT_POLL_CONFIG_REQUEST_RETRIES:y,E=i.pollAfterSuccessfulInitialization,_=void 0!==E&&E,S=i.pollAfterFailedInitialization,k=void 0!==S&&S,w=i.throwOnFailedInitialization,O=void 0!==w&&w,I=i.skipInitialPoll,C=void 0!==I&&I,T=this.configurationRequestParameters.pollingIntervalMs,(N=void 0===T?A.DEFAULT_POLL_INTERVAL_MS:T)<=0&&(v.logger.error("pollingIntervalMs must be greater than 0. Using default"),N=A.DEFAULT_POLL_INTERVAL_MS),R=new d.default({baseUrl:l,queryParams:{apiKey:s,sdkName:u,sdkVersion:c}}),P=new x.default(R,h),L=new b.default(P,this.flagConfigurationStore,null!==(n=this.banditVariationConfigurationStore)&&void 0!==n?n:null,null!==(r=this.banditModelConfigurationStore)&&void 0!==r?r:null),this.configurationRequestor=L,D=function(){var e=o(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.isFlagConfigExpired();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",L.fetchAndStoreConfigurations());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),this.requestPoller=(0,j.default)(N,D,{maxStartRetries:g,maxPollRetries:m,pollAfterSuccessfulStart:_,pollAfterFailedStart:k,errorOnFailedStart:O,skipInitialPoll:C}),e.next=14,this.requestPoller.start();case 14:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"stopPolling",value:function(){this.requestPoller&&this.requestPoller.stop()}},{key:"getStringAssignment",value:function(e,t,n,r){return this.getStringAssignmentDetails(e,t,n,r).variation}},{key:"getStringAssignmentDetails",value:function(e,t,n,r){var i,a=this.getAssignmentVariation(e,t,n,k.EppoValue.String(r),R.VariationType.STRING),o=a.eppoValue,s=a.flagEvaluationDetails;return{variation:null!==(i=o.stringValue)&&void 0!==i?i:r,action:null,evaluationDetails:s}}},{key:"getBoolAssignment",value:function(e,t,n,r){return this.getBooleanAssignment(e,t,n,r)}},{key:"getBooleanAssignment",value:function(e,t,n,r){return this.getBooleanAssignmentDetails(e,t,n,r).variation}},{key:"getBooleanAssignmentDetails",value:function(e,t,n,r){var i,a=this.getAssignmentVariation(e,t,n,k.EppoValue.Bool(r),R.VariationType.BOOLEAN),o=a.eppoValue,s=a.flagEvaluationDetails;return{variation:null!==(i=o.boolValue)&&void 0!==i?i:r,action:null,evaluationDetails:s}}},{key:"getIntegerAssignment",value:function(e,t,n,r){return this.getIntegerAssignmentDetails(e,t,n,r).variation}},{key:"getIntegerAssignmentDetails",value:function(e,t,n,r){var i,a=this.getAssignmentVariation(e,t,n,k.EppoValue.Numeric(r),R.VariationType.INTEGER),o=a.eppoValue,s=a.flagEvaluationDetails;return{variation:null!==(i=o.numericValue)&&void 0!==i?i:r,action:null,evaluationDetails:s}}},{key:"getNumericAssignment",value:function(e,t,n,r){return this.getNumericAssignmentDetails(e,t,n,r).variation}},{key:"getNumericAssignmentDetails",value:function(e,t,n,r){var i,a=this.getAssignmentVariation(e,t,n,k.EppoValue.Numeric(r),R.VariationType.NUMERIC),o=a.eppoValue,s=a.flagEvaluationDetails;return{variation:null!==(i=o.numericValue)&&void 0!==i?i:r,action:null,evaluationDetails:s}}},{key:"getJSONAssignment",value:function(e,t,n,r){return this.getJSONAssignmentDetails(e,t,n,r).variation}},{key:"getJSONAssignmentDetails",value:function(e,t,n,r){var i,a=this.getAssignmentVariation(e,t,n,k.EppoValue.JSON(r),R.VariationType.JSON),o=a.eppoValue,s=a.flagEvaluationDetails;return{variation:null!==(i=o.objectValue)&&void 0!==i?i:r,action:null,evaluationDetails:s}}},{key:"getBanditAction",value:function(e,t,n,r,i){var a=this.getBanditActionDetails(e,t,n,r,i);return{variation:a.variation,action:a.action}}},{key:"getBestAction",value:function(e,t,n,r){var i,a=this.getConfiguration(),o=null,s=a.getFlagBanditVariations(e),u=null==s||null===(i=s.at(0))||void 0===i?void 0:i.key;if(u){var c=a.getBandit(u);if(c){var l=(0,h.ensureContextualSubjectAttributes)(t),f=(0,h.ensureActionsWithContextualAttributes)(n);o=this.banditEvaluator.evaluateBestBanditAction(l,f,c.modelData)}}return null!=o?o:r}},{key:"getBanditActionDetails",value:function(e,t,n,r,i){var a=this.getConfiguration(),o=i,s=null,u=this.newFlagEvaluationDetailsBuilder(a,e).buildForNoneResult("ASSIGNMENT_ERROR","Unexpected error getting assigned variation for bandit action");try{var c=(0,h.ensureNonContextualSubjectAttributes)(n),l=this.getStringAssignmentDetails(e,t,c,i),f=l.variation,d=l.evaluationDetails;o=f,u=d;var p=a.getFlagVariationBandit(e,o);if(!p)return{variation:o,action:null,evaluationDetails:u};u.banditKey=p.banditKey;var g=this.evaluateBanditAction(e,t,n,r,p.modelData);if(null!=g&&g.actionKey){s=g.actionKey;var y={timestamp:(new Date).toISOString(),featureFlag:e,bandit:p.banditKey,subject:t,action:s,actionProbability:g.actionWeight,optimalityGap:g.optimalityGap,modelVersion:p.modelVersion,subjectNumericAttributes:g.subjectAttributes.numericAttributes,subjectCategoricalAttributes:g.subjectAttributes.categoricalAttributes,actionNumericAttributes:g.actionAttributes.numericAttributes,actionCategoricalAttributes:g.actionAttributes.categoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:u};try{this.logBanditAction(y)}catch(e){v.logger.error("Error logging bandit event",e)}u.banditAction=s}}catch(e){if(v.logger.error("Error determining bandit action",e),!this.isGracefulFailureMode)throw e;o&&(u.flagEvaluationCode="BANDIT_ERROR"),u.flagEvaluationDescription="Error evaluating bandit action: ".concat(e.message)}return{variation:o,action:s,evaluationDetails:u}}},{key:"getExperimentContainerEntry",value:function(e,t,n){var r=e.flagKey,i=e.controlVariationEntry,a=e.treatmentVariationEntries,o=this.getStringAssignment(r,t,n,"control");if("control"===o)return i;if(!o.startsWith("treatment-"))return v.logger.warn("Variation '".concat(o,"' cannot be mapped to a container. Defaulting to control variation.")),i;var s=Number.parseInt(o.split("-")[1])-1;return isNaN(s)?(v.logger.warn("Variation '".concat(o,"' cannot be mapped to a container. Defaulting to control variation.")),i):s>=a.length?(v.logger.warn("Selected treatment variation (".concat(s,") index is out of bounds. Defaulting to control variation.")),i):a[s]}},{key:"evaluateBanditAction",value:function(e,t,n,r,i){if(!Object.keys(r).length)return null;var a=(0,h.ensureContextualSubjectAttributes)(n),o=(0,h.ensureActionsWithContextualAttributes)(r);return this.banditEvaluator.evaluateBandit(e,t,a,o,i)}},{key:"logBanditAction",value:function(e){var t,n,r=e.subject,i={flagKey:e.featureFlag,subjectKey:r,banditKey:e.bandit,actionKey:null!==(t=e.action)&&void 0!==t?t:"__eppo_no_action"};if(null===(n=this.banditAssignmentCache)||void 0===n||!n.has(i))try{var a;this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),null===(a=this.banditAssignmentCache)||void 0===a||a.set(i)}catch(e){v.logger.warn("Error encountered logging bandit action",e)}}},{key:"getAssignmentVariation",value:function(e,t,n,r,i){try{var a=this.getAssignmentDetail(e,t,n,i);return this.parseVariationWithDetails(a,r,i)}catch(e){var o=this.rethrowIfNotGraceful(e,r);return e instanceof T.FlagEvaluationError&&e.flagEvaluationDetails?{eppoValue:o,flagEvaluationDetails:e.flagEvaluationDetails}:{eppoValue:o,flagEvaluationDetails:new C.FlagEvaluationDetailsBuilder("",[],"","").buildForNoneResult("ASSIGNMENT_ERROR","Assignment Error: ".concat(e.message))}}}},{key:"parseVariationWithDetails",value:function(e,t,n){var r=e.flagEvaluationDetails,i=e.variation;try{return i&&"MATCH"===r.flagEvaluationCode?{eppoValue:k.EppoValue.valueOf(i.value,n),flagEvaluationDetails:r}:{eppoValue:t,flagEvaluationDetails:r}}catch(e){return{eppoValue:this.rethrowIfNotGraceful(e,t),flagEvaluationDetails:r}}}},{key:"rethrowIfNotGraceful",value:function(e,t){if(this.isGracefulFailureMode)return v.logger.error("".concat(v.loggerPrefix," Error getting assignment: ").concat(e.message)),null!=t?t:k.EppoValue.Null();throw e}},{key:"getAllAssignments",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getConfiguration(),i=r.getFlagConfigDetails(),a=this.getFlagKeys(),o={};return a.forEach((function(a){var s=t.getNormalizedFlag(r,a);if(s){var u=t.evaluator.evaluateFlag(s,i,e,n,r.isObfuscated());u.variation&&u.allocationKey?o[a]={flagKey:a,allocationKey:u.allocationKey,doLog:u.doLog,extraLogging:u.extraLogging,variationKey:u.variation.key,variationType:s.variationType,variationValue:u.variation.value.toString()}:v.logger.debug("".concat(v.loggerPrefix," No assigned variation: ").concat(a))}else v.logger.debug("".concat(v.loggerPrefix," No assigned variation. Flag does not exist."))})),o}},{key:"getPrecomputedConfiguration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=this.getConfiguration(),a=i.getFlagConfigDetails(),o=(0,h.ensureContextualSubjectAttributes)(t),s=(0,h.ensureNonContextualSubjectAttributes)(t),u=this.getAllAssignments(e,s),c=this.computeBanditsForFlags(i,e,o,n,u),l=_.PrecomputedConfiguration.obfuscated(e,u,c,null!=r?r:"",o,a.configEnvironment),f=_.ConfigurationWireV1.precomputed(l);return JSON.stringify(f)}},{key:"getAssignmentDetail",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;(0,M.validateNotBlank)(t,"Invalid argument: subjectKey cannot be blank"),(0,M.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");var a=this.getConfiguration(),o=this.newFlagEvaluationDetailsBuilder(a,e),s=null===(n=this.overrideStore)||void 0===n?void 0:n.get(e);if(s)return(0,w.overrideResult)(e,t,r,s,o);var u=a.getFlagConfigDetails(),c=this.getNormalizedFlag(a,e);if(null===c){v.logger.warn("".concat(v.loggerPrefix," No assigned variation. Flag not found: ").concat(e));var l=o.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED","Unrecognized or disabled flag: ".concat(e));return(0,w.noneResult)(e,t,r,l,u.configFormat)}if(!B(i,c.variationType)){var f="Variation value does not have the correct type. Found ".concat(c.variationType,", but expected ").concat(i," for flag ").concat(e);if(this.isGracefulFailureMode){var d=o.buildForNoneResult("TYPE_MISMATCH",f);return(0,w.noneResult)(e,t,r,d,u.configFormat)}throw new TypeError(f)}if(!c.enabled){v.logger.info("".concat(v.loggerPrefix," No assigned variation. Flag is disabled: ").concat(e));var h=o.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED","Unrecognized or disabled flag: ".concat(e));return(0,w.noneResult)(e,t,r,h,u.configFormat)}var p=a.isObfuscated(),g=this.evaluator.evaluateFlag(c,u,t,r,p,i);p&&(g.flagKey=e);try{null!=g&&g.doLog&&this.maybeLogAssignment(g)}catch(e){v.logger.error("".concat(v.loggerPrefix," Error logging assignment event: ").concat(e))}return g}},{key:"track",value:function(e,t){this.eventDispatcher.dispatch({uuid:(0,f.v4)(),type:e,timestamp:(new Date).getTime(),payload:t})}},{key:"newFlagEvaluationDetailsBuilder",value:function(e,t){var n,r=this.getNormalizedFlag(e,t),i=e.getFlagConfigDetails();return new C.FlagEvaluationDetailsBuilder(i.configEnvironment.name,null!==(n=null==r?void 0:r.allocations)&&void 0!==n?n:[],i.configFetchedAt,i.configPublishedAt)}},{key:"getNormalizedFlag",value:function(e,t){return e.isObfuscated()?this.getObfuscatedFlag(e,t):e.getFlag(t)}},{key:"getObfuscatedFlag",value:function(e,t){var n=e.getFlag((0,P.getMD5Hash)(t));return n?(0,S.decodeFlag)(n):null}},{key:"getFlagKeys",value:function(){return this.getConfiguration().getFlagKeys()}},{key:"isInitialized",value:function(){return this.getConfiguration().isInitialized()}},{key:"setLogger",value:function(e){this.setAssignmentLogger(e)}},{key:"setAssignmentLogger",value:function(e){var t;this.assignmentLogger=e,this.flushQueuedEvents(this.assignmentEventsQueue,null===(t=this.assignmentLogger)||void 0===t?void 0:t.logAssignment)}},{key:"setBanditLogger",value:function(e){var t;this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,null===(t=this.banditLogger)||void 0===t?void 0:t.logBanditAction)}},{key:"disableAssignmentCache",value:function(){this.assignmentCache=void 0}},{key:"useNonExpiringInMemoryAssignmentCache",value:function(){this.assignmentCache=new y.NonExpiringInMemoryAssignmentCache}},{key:"useLRUInMemoryAssignmentCache",value:function(e){this.assignmentCache=new g.LRUInMemoryAssignmentCache(e)}},{key:"useCustomAssignmentCache",value:function(e){this.assignmentCache=e}},{key:"disableBanditAssignmentCache",value:function(){this.banditAssignmentCache=void 0}},{key:"useNonExpiringInMemoryBanditAssignmentCache",value:function(){this.banditAssignmentCache=new y.NonExpiringInMemoryAssignmentCache}},{key:"useExpiringInMemoryBanditAssignmentCache",value:function(e,t){this.banditAssignmentCache=new m.TLRUInMemoryAssignmentCache(e,t)}},{key:"useCustomBanditAssignmentCache",value:function(e){this.banditAssignmentCache=e}},{key:"setIsGracefulFailureMode",value:function(e){this.isGracefulFailureMode=e}},{key:"getFlagConfigurations",value:function(){return this.getConfiguration().getFlags()}},{key:"flushQueuedEvents",value:function(e,t){var n=e.flush();t&&n.forEach((function(e){try{t(e)}catch(e){v.logger.error("".concat(v.loggerPrefix," Error flushing event to logger: ").concat(e.message))}}))}},{key:"maybeLogAssignment",value:function(e){var t,n,r=e.flagKey,i=e.format,a=e.subjectKey,o=e.allocationKey,s=void 0===o?null:o,u=e.subjectAttributes,c=e.variation,f=e.flagEvaluationDetails,d=e.extraLogging,h=void 0===d?{}:d,p=e.entityId,g=l(l({},h),{},{allocation:s,experiment:s?"".concat(r,"-").concat(s):null,featureFlag:r,format:i,variation:null!==(t=null==c?void 0:c.key)&&void 0!==t?t:null,subject:a,timestamp:(new Date).toISOString(),subjectAttributes:u,metaData:this.buildLoggerMetadata(),evaluationDetails:f,entityId:p});if(c&&s&&(null===(n=this.assignmentCache)||void 0===n?void 0:n.has({flagKey:r,subjectKey:a,allocationKey:s,variationKey:c.key})))return;try{var y,m;this.assignmentLogger?this.assignmentLogger.logAssignment(g):this.assignmentEventsQueue.push(g),null===(y=this.assignmentCache)||void 0===y||y.set({flagKey:r,subjectKey:a,allocationKey:null!=s?s:"__eppo_no_allocation",variationKey:null!==(m=null==c?void 0:c.key)&&void 0!==m?m:"__eppo_no_variation"})}catch(e){v.logger.error("".concat(v.loggerPrefix," Error logging assignment event: ").concat(e.message))}}},{key:"buildLoggerMetadata",value:function(){return{obfuscated:this.getConfiguration().isObfuscated(),sdkLanguage:"javascript",sdkLibVersion:F.LIB_VERSION}}},{key:"computeBanditsForFlags",value:function(e,t,n,r,i){var a=this,o={};return Object.keys(r).forEach((function(s){var u=i[s];if(u){var c=a.getPrecomputedBandit(e,s,u.variationValue,t,n,r[s]);c&&(o[s]=c)}})),o}},{key:"getPrecomputedBandit",value:function(e,t,n,r,i,a){var o=e.getFlagVariationBandit(t,n);if(!o)return null;var s=this.evaluateBanditAction(t,r,i,a,o.modelData);return s?{banditKey:o.banditKey,action:s.actionKey,actionNumericAttributes:s.actionAttributes.numericAttributes,actionCategoricalAttributes:s.actionAttributes.categoricalAttributes,actionProbability:s.actionWeight,modelVersion:o.modelVersion,optimalityGap:s.optimalityGap}:null}}]);var e,t}();function B(e,t){return void 0===e||t===e}t.default=U},956738:function(e,t,n){"use strict";var r=n(443693),i=n(41132),a=n(354756),o=n(29293),s=n(517383),u=n(334579);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.defineProperty(t,"__esModule",{value:!0});var f=n(127660),d=n(328902),v=n(889182),h=n(704814),p=n(358651),g=n(723490),y=n(178898),m=n(833027),b=n(763483),E=n(142060),_=n(348869),A=n(675012),S=n(793252),k=n(212911),w=n(252635),O=function(){return u((function e(t){s(this,e),this.queuedAssignmentEvents=[],this.banditEventsQueue=[],this.precomputedFlagStore=t.precomputedFlagStore,this.precomputedBanditStore=t.precomputedBanditStore,this.overrideStore=t.overrideStore;var n=t.subject,r=n.subjectKey,i=n.subjectAttributes;this.subject={subjectKey:r,subjectAttributes:(0,v.ensureContextualSubjectAttributes)(i)},this.banditActions=t.banditActions,t.requestParameters?this.requestParameters=t.requestParameters:(this.precomputedFlagStore.getKeys().length>0&&(this.precomputedFlagStore.isInitialized()||d.logger.error("".concat(d.loggerPrefix," EppoPrecomputedClient requires an initialized precomputedFlagStore if requestParameters are not provided")),this.precomputedFlagStore.salt||d.logger.error("".concat(d.loggerPrefix," EppoPrecomputedClient requires a precomputedFlagStore with a salt if requestParameters are not provided"))),this.precomputedBanditStore&&!this.precomputedBanditStore.isInitialized()&&d.logger.error("".concat(d.loggerPrefix," Passing banditOptions without requestParameters requires an initialized precomputedBanditStore")),this.precomputedBanditStore&&!this.precomputedBanditStore.salt&&d.logger.warn("".concat(d.loggerPrefix," EppoPrecomputedClient missing or empty salt for precomputedBanditStore")))}),[{key:"fetchPrecomputedFlags",value:(e=o(a.mark((function e(){var t,n,r,i,s,u,c,l,v,h,p,y,b,E,S,k,w,O,I,C,T,x,N,R,P,L,j,D,M,F=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.requestParameters){e.next=2;break}throw new Error("Eppo SDK unable to fetch precomputed flags without the request parameters");case 2:return null===(t=this.requestPoller)||void 0===t||t.stop(),n=this.requestParameters,r=n.apiKey,i=n.sdkName,s=n.sdkVersion,u=n.baseUrl,c=n.requestTimeoutMs,l=void 0===c?g.DEFAULT_REQUEST_TIMEOUT_MS:c,v=n.numInitialRequestRetries,h=void 0===v?g.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES:v,p=n.numPollRequestRetries,y=void 0===p?g.DEFAULT_POLL_CONFIG_REQUEST_RETRIES:p,b=n.pollAfterSuccessfulInitialization,E=void 0!==b&&b,S=n.pollAfterFailedInitialization,k=void 0!==S&&S,w=n.throwOnFailedInitialization,O=void 0!==w&&w,I=n.skipInitialPoll,C=void 0!==I&&I,T=this.subject,x=T.subjectKey,N=T.subjectAttributes,R=this.requestParameters.pollingIntervalMs,(P=void 0===R?g.DEFAULT_POLL_INTERVAL_MS:R)<=0&&(d.logger.error("pollingIntervalMs must be greater than 0. Using default"),P=g.DEFAULT_POLL_INTERVAL_MS),L=new f.default({baseUrl:null!=u?u:g.PRECOMPUTED_BASE_URL,queryParams:{apiKey:r,sdkName:i,sdkVersion:s}}),j=new m.default(L,l),D=new A.default(j,this.precomputedFlagStore,x,N,this.precomputedBanditStore,this.banditActions),M=function(){var e=o(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.precomputedFlagStore.isExpired();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",D.fetchAndStorePrecomputedFlags());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),this.requestPoller=(0,_.default)(P,M,{maxStartRetries:h,maxPollRetries:y,pollAfterSuccessfulStart:E,pollAfterFailedStart:k,errorOnFailedStart:O,skipInitialPoll:C}),e.next=14,this.requestPoller.start();case 14:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"stopPolling",value:function(){this.requestPoller&&this.requestPoller.stop()}},{key:"getPrecomputedAssignment",value:function(e,t,n){var r,i,a,o,s,u,c,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};(0,S.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");var f=null===(r=this.overrideStore)||void 0===r?void 0:r.get(e);if(f)return l(f.value);var h=this.getPrecomputedFlag(e);if(null==h)return d.logger.warn("".concat(d.loggerPrefix," No assigned variation. Flag not found: ").concat(e)),t;if(!(0,w.checkTypeMatch)(n,h.variationType)){var p="".concat(d.loggerPrefix," Type mismatch: expected ").concat(n," but flag ").concat(e," has type ").concat(h.variationType);return d.logger.error(p),t}var g={flagKey:e,format:null!==(i=this.precomputedFlagStore.getFormat())&&void 0!==i?i:"",subjectKey:null!==(a=this.subject.subjectKey)&&void 0!==a?a:"",subjectAttributes:(0,v.ensureNonContextualSubjectAttributes)(null!==(o=this.subject.subjectAttributes)&&void 0!==o?o:{}),variation:{key:null!==(s=h.variationKey)&&void 0!==s?s:"",value:h.variationValue},allocationKey:null!==(u=h.allocationKey)&&void 0!==u?u:"",extraLogging:null!==(c=h.extraLogging)&&void 0!==c?c:{},doLog:h.doLog,entityId:null};try{null!=g&&g.doLog&&this.logAssignment(g)}catch(e){d.logger.error("".concat(d.loggerPrefix," Error logging assignment event: ").concat(e))}try{var y;return void 0!==(null===(y=g.variation)||void 0===y?void 0:y.value)?l(g.variation.value):t}catch(e){return d.logger.error("".concat(d.loggerPrefix," Error transforming value: ").concat(e)),t}}},{key:"getStringAssignment",value:function(e,t){return this.getPrecomputedAssignment(e,t,b.VariationType.STRING)}},{key:"getBooleanAssignment",value:function(e,t){return this.getPrecomputedAssignment(e,t,b.VariationType.BOOLEAN)}},{key:"getIntegerAssignment",value:function(e,t){return this.getPrecomputedAssignment(e,t,b.VariationType.INTEGER)}},{key:"getNumericAssignment",value:function(e,t){return this.getPrecomputedAssignment(e,t,b.VariationType.NUMERIC)}},{key:"getJSONAssignment",value:function(e,t){return this.getPrecomputedAssignment(e,t,b.VariationType.JSON,(function(e){return"string"==typeof e?JSON.parse(e):t}))}},{key:"getBanditAction",value:function(e,t){if(!this.getPrecomputedFlag(e))return d.logger.warn("".concat(d.loggerPrefix," No assigned variation. Flag not found: ").concat(e)),{variation:t,action:null};var n=this.getPrecomputedBandit(e),r=this.getStringAssignment(e,t);if(n){var i,a={timestamp:(new Date).toISOString(),featureFlag:e,bandit:n.banditKey,subject:null!==(i=this.subject.subjectKey)&&void 0!==i?i:"",action:n.action,actionProbability:n.actionProbability,optimalityGap:n.optimalityGap,modelVersion:n.modelVersion,subjectNumericAttributes:n.actionNumericAttributes,subjectCategoricalAttributes:n.actionCategoricalAttributes,actionNumericAttributes:n.actionNumericAttributes,actionCategoricalAttributes:n.actionCategoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:null};try{this.logBanditAction(a)}catch(e){d.logger.error("".concat(d.loggerPrefix," Error logging bandit action: ").concat(e))}return{variation:r,action:a.action}}return{variation:r,action:null}}},{key:"getPrecomputedFlag",value:function(e){return this.getObfuscatedFlag(e)}},{key:"getObfuscatedFlag",value:function(e){var t=this.precomputedFlagStore.salt,n=(0,E.getMD5Hash)(e,t),r=this.precomputedFlagStore.get(n);return r?(0,y.decodePrecomputedFlag)(r):null}},{key:"getPrecomputedBandit",value:function(e){var t=this.getObfuscatedPrecomputedBandit(e);return t?(0,y.decodePrecomputedBandit)(t):null}},{key:"getObfuscatedPrecomputedBandit",value:function(e){var t,n,r=null===(t=this.precomputedBanditStore)||void 0===t?void 0:t.salt,i=(0,E.getMD5Hash)(e,r),a=null===(n=this.precomputedBanditStore)||void 0===n?void 0:n.get(i);return null!=a?a:null}},{key:"isInitialized",value:function(){return this.precomputedFlagStore.isInitialized()}},{key:"setAssignmentLogger",value:function(e){var t;this.assignmentLogger=e,this.flushQueuedEvents(this.queuedAssignmentEvents,null===(t=this.assignmentLogger)||void 0===t?void 0:t.logAssignment)}},{key:"setBanditLogger",value:function(e){var t;this.banditLogger=e,this.flushQueuedEvents(this.banditEventsQueue,null===(t=this.banditLogger)||void 0===t?void 0:t.logBanditAction)}},{key:"disableAssignmentCache",value:function(){this.assignmentCache=void 0}},{key:"useNonExpiringInMemoryAssignmentCache",value:function(){this.assignmentCache=new p.NonExpiringInMemoryAssignmentCache}},{key:"useLRUInMemoryAssignmentCache",value:function(e){this.assignmentCache=new h.LRUInMemoryAssignmentCache(e)}},{key:"useCustomAssignmentCache",value:function(e){this.assignmentCache=e}},{key:"flushQueuedEvents",value:function(e,t){var n=i(e);e.length=0,t&&n.forEach((function(e){try{t(e)}catch(e){d.logger.error("".concat(d.loggerPrefix," Error flushing event to logger: ").concat(e.message))}}))}},{key:"logAssignment",value:function(e){var t,n,r,i=e.flagKey,a=e.subjectKey,o=e.allocationKey,s=e.subjectAttributes,u=e.variation,c=e.format,f=l(l({},null!==(t=e.extraLogging)&&void 0!==t?t:{}),{},{allocation:null!=o?o:null,experiment:o?"".concat(i,"-").concat(o):null,featureFlag:i,format:c,variation:null!==(n=null==u?void 0:u.key)&&void 0!==n?n:null,subject:a,timestamp:(new Date).toISOString(),subjectAttributes:s,metaData:this.buildLoggerMetadata(),evaluationDetails:null});if(u&&o&&(null===(r=this.assignmentCache)||void 0===r?void 0:r.has({flagKey:i,subjectKey:a,allocationKey:o,variationKey:u.key})))return;try{var v,h;this.assignmentLogger?this.assignmentLogger.logAssignment(f):this.queuedAssignmentEvents.length<g.MAX_EVENT_QUEUE_SIZE&&this.queuedAssignmentEvents.push(f),null===(v=this.assignmentCache)||void 0===v||v.set({flagKey:i,subjectKey:a,allocationKey:null!=o?o:"__eppo_no_allocation",variationKey:null!==(h=null==u?void 0:u.key)&&void 0!==h?h:"__eppo_no_variation"})}catch(e){d.logger.error("".concat(d.loggerPrefix," Error logging assignment event: ").concat(e.message))}}},{key:"logBanditAction",value:function(e){var t,n,r=e.subject,i={flagKey:e.featureFlag,subjectKey:r,banditKey:e.bandit,actionKey:null!==(t=e.action)&&void 0!==t?t:"__eppo_no_action"};if(null===(n=this.banditAssignmentCache)||void 0===n||!n.has(i))try{var a;this.banditLogger?this.banditLogger.logBanditAction(e):this.banditEventsQueue.push(e),null===(a=this.banditAssignmentCache)||void 0===a||a.set(i)}catch(e){d.logger.warn("Error encountered logging bandit action",e)}}},{key:"buildLoggerMetadata",value:function(){return{obfuscated:!0,sdkLanguage:"javascript",sdkLibVersion:k.LIB_VERSION}}},{key:"setOverrideStore",value:function(e){this.overrideStore=e}},{key:"unsetOverrideStore",value:function(){this.overrideStore=void 0}}]);var e}();t.default=O},371152:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(517383),o=n(334579);Object.defineProperty(t,"__esModule",{value:!0});var s=n(271067),u=function(){return o((function e(t,n,r,i){a(this,e),this.httpClient=t,this.flagConfigurationStore=n,this.banditVariationConfigurationStore=r,this.banditModelConfigurationStore=i,this.banditModelVersions=[],this.configuration=new s.StoreBackedConfiguration(this.flagConfigurationStore,this.banditVariationConfigurationStore,this.banditModelConfigurationStore)}),[{key:"setConfigurationStores",value:function(e,t,n){this.flagConfigurationStore=e,this.banditVariationConfigurationStore=t,this.banditModelConfigurationStore=n,this.configuration=new s.StoreBackedConfiguration(this.flagConfigurationStore,this.banditVariationConfigurationStore,this.banditModelConfigurationStore)}},{key:"isFlagConfigExpired",value:function(){return this.flagConfigurationStore.isExpired()}},{key:"getConfiguration",value:function(){return this.configuration}},{key:"fetchAndStoreConfigurations",value:(e=i(r.mark((function e(){var t,n,i,a,o,s,u,c,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpClient.getUniversalFlagConfiguration();case 2:if(null!=(n=e.sent)&&n.flags){e.next=5;break}return e.abrupt("return");case 5:if(i={entries:n.flags,environment:n.environment,createdAt:n.createdAt,format:n.format},s=Object.keys(null!==(t=n.banditReferences)&&void 0!==t?t:{}).length>0,u=Boolean(this.banditVariationConfigurationStore&&this.banditModelConfigurationStore),!s||!u){e.next=16;break}if(c=this.indexBanditVariationsByFlagKey(n.banditReferences),a={entries:c,environment:n.environment,createdAt:n.createdAt,format:n.format},!this.requiresBanditModelConfigurationStoreUpdate(this.banditModelVersions,n.banditReferences)){e.next=16;break}return e.next=14,this.httpClient.getBanditParameters();case 14:null!=(l=e.sent)&&l.bandits&&(o={entries:l.bandits,environment:n.environment,createdAt:n.createdAt,format:n.format},this.banditModelVersions=this.getLoadedBanditModelVersions(l.bandits));case 16:return e.next=18,this.configuration.hydrateConfigurationStores(i,a,o);case 18:if(!e.sent){e.next=19;break}case 19:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"getLoadedBanditModelVersions",value:function(e){return Object.values(e).map((function(e){return e.modelVersion}))}},{key:"requiresBanditModelConfigurationStoreUpdate",value:function(e,t){return!Object.values(t).map((function(e){return e.modelVersion})).every((function(t){return e.includes(t)}))}},{key:"indexBanditVariationsByFlagKey",value:function(e){var t={};return Object.values(e).forEach((function(e){e.flagVariations.forEach((function(e){var n=t[e.flagKey];n||(n=[],t[e.flagKey]=n),n.push(e)}))})),t}}]);var e}();t.default=u},646168:function(e,t,n){"use strict";var r=n(354756),i=n(29293);function a(){return(a=i(r.mark((function e(t,n){var i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,t.setEntries(n.entries);case 3:return(i=e.sent)&&(t.setEnvironment(n.environment),t.setConfigFetchedAt((new Date).toISOString()),t.setConfigPublishedAt(n.createdAt),t.setFormat(n.format),t.salt=n.salt),e.abrupt("return",i);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.hydrateConfigurationStore=function(e,t){return a.apply(this,arguments)}},901741:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(517383),o=n(334579);Object.defineProperty(t,"__esModule",{value:!0}),t.HybridConfigurationStore=void 0;var s=n(328902),u=function(){return o((function e(t,n){a(this,e),this.servingStore=t,this.persistentStore=n,this.environment=null,this.configFetchedAt=null,this.configPublishedAt=null,this.format=null}),[{key:"init",value:(n=i(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistentStore){e.next=2;break}return e.abrupt("return");case 2:return this.persistentStore.isInitialized()||s.logger.warn("".concat(s.loggerPrefix," Persistent store is not initialized from remote configuration. Serving assignments that may be stale.")),e.next=5,this.persistentStore.entries();case 5:t=e.sent,this.servingStore.setEntries(t);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"isInitialized",value:function(){var e,t;return this.servingStore.isInitialized()&&(null===(e=null===(t=this.persistentStore)||void 0===t?void 0:t.isInitialized())||void 0===e||e)}},{key:"isExpired",value:(t=i(r.mark((function e(){var t,n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.persistentStore)||void 0===t?void 0:t.isExpired();case 2:return n=e.sent,e.abrupt("return",null==n||n);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"get",value:function(e){return this.servingStore.isInitialized()||s.logger.warn("".concat(s.loggerPrefix," getting a value from a ServingStore that is not initialized.")),this.servingStore.get(e)}},{key:"entries",value:function(){return this.servingStore.entries()}},{key:"getKeys",value:function(){return this.servingStore.getKeys()}},{key:"setEntries",value:(e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.persistentStore){e.next=3;break}return e.next=3,this.persistentStore.setEntries(t);case 3:return this.servingStore.setEntries(t),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"setEnvironment",value:function(e){this.environment=e}},{key:"getEnvironment",value:function(){return this.environment}},{key:"getConfigFetchedAt",value:function(){return this.configFetchedAt}},{key:"setConfigFetchedAt",value:function(e){this.configFetchedAt=e}},{key:"getConfigPublishedAt",value:function(){return this.configPublishedAt}},{key:"setConfigPublishedAt",value:function(e){this.configPublishedAt=e}},{key:"getFormat",value:function(){return this.format}},{key:"setFormat",value:function(e){this.format=e}}]);var e,t,n}();t.HybridConfigurationStore=u},780952:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(443693),o=n(517383),s=n(334579);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryOnlyConfigurationStore=t.MemoryStore=void 0;var c=function(){return s((function e(){o(this,e),this.store={},this.initialized=!1}),[{key:"get",value:function(e){var t;return null!==(t=this.store[e])&&void 0!==t?t:null}},{key:"entries",value:function(){return this.store}},{key:"getKeys",value:function(){return Object.keys(this.store)}},{key:"isInitialized",value:function(){return this.initialized}},{key:"setEntries",value:function(e){this.store=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),this.initialized=!0}}])}();t.MemoryStore=c;var l=function(){return s((function e(){o(this,e),this.servingStore=new c,this.initialized=!1,this.configFetchedAt=null,this.configPublishedAt=null,this.environment=null,this.format=null}),[{key:"init",value:function(){return this.initialized=!0,Promise.resolve()}},{key:"get",value:function(e){return this.servingStore.get(e)}},{key:"entries",value:function(){return this.servingStore.entries()}},{key:"getKeys",value:function(){return this.servingStore.getKeys()}},{key:"isExpired",value:(t=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"isInitialized",value:function(){return this.initialized}},{key:"setEntries",value:(e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.servingStore.setEntries(t),this.initialized=!0,e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"getEnvironment",value:function(){return this.environment}},{key:"setEnvironment",value:function(e){this.environment=e}},{key:"getConfigFetchedAt",value:function(){return this.configFetchedAt}},{key:"setConfigFetchedAt",value:function(e){this.configFetchedAt=e}},{key:"getConfigPublishedAt",value:function(){return this.configPublishedAt}},{key:"setConfigPublishedAt",value:function(e){this.configPublishedAt=e}},{key:"getFormat",value:function(){return this.format}},{key:"setFormat",value:function(e){this.format=e}}]);var e,t}();t.MemoryOnlyConfigurationStore=l},58135:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(517383),o=n(334579);Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationWireHelper=void 0;var s=n(127660),u=n(833027),c=n(738882),l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"android",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"4.0.0",i=arguments.length>3?arguments[3]:void 0;a(this,e);var o={sdkName:n,sdkVersion:r,apiKey:t},c=new s.default({baseUrl:i,queryParams:o});this.httpClient=new u.default(c,5e3)}return o(e,[{key:"fetchBootstrapConfiguration",value:(t=i(r.mark((function e(){var t,n,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpClient.getUniversalFlagConfiguration();case 2:if(null!=(i=e.sent)&&i.flags){e.next=6;break}return console.warn("Unable to fetch configuration, returning empty configuration"),e.abrupt("return",Promise.resolve(c.ConfigurationWireV1.empty()));case 6:if(!(Object.keys(null!==(t=i.banditReferences)&&void 0!==t?t:{}).length>0)){e.next=11;break}return e.next=10,this.httpClient.getBanditParameters();case 10:n=e.sent;case 11:return e.abrupt("return",c.ConfigurationWireV1.fromResponses(i,n));case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"build",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{sdkName:"android",sdkVersion:"4.0.0"};return new e(t,n.sdkName,n.sdkVersion,n.baseUrl)}}]);var t}();t.ConfigurationWireHelper=l},738882:function(e,t,n){"use strict";var r=n(728452),i=n(863072),a=n(829511),o=n(334579),s=n(517383);function u(e,t,n){return t=i(t),r(e,c()?Reflect.construct(t,n||[],i(e).constructor):t.apply(e,n))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationWireV1=t.ObfuscatedPrecomputedConfigurationResponse=t.PrecomputedConfigurationResponse=t.PrecomputedConfiguration=void 0,t.inflateResponse=function(e){return JSON.parse(e)},t.deflateResponse=g;var l=n(763483),f=n(142060),d=o((function e(t,n,r){s(this,e),this.subjectKey=t,this.subjectAttributes=n,this.environment=r,this.format=l.FormatEnum.PRECOMPUTED,this.createdAt=(new Date).toISOString()})),v=function(){function e(t,n,r){s(this,e),this.response=t,this.subjectKey=n,this.subjectAttributes=r}return o(e,null,[{key:"obfuscated",value:function(t,n,r,i,a,o){var s=new p(t,n,r,i,a,o);return new e(JSON.stringify(s),t,a)}},{key:"unobfuscated",value:function(t,n,r,i,a){var o=new h(t,n,r,i,a);return new e(JSON.stringify(o),t,i)}}])}();t.PrecomputedConfiguration=v;var h=function(e){function t(e,n,r,i,a){var o;return s(this,t),(o=u(this,t,[e,i,a])).flags=n,o.bandits=r,o.obfuscated=!1,o}return a(t,e),o(t)}(d);t.PrecomputedConfigurationResponse=h;var p=function(e){function t(e,n,r,i,a,o){var c;return s(this,t),(c=u(this,t,[e,a,o])).obfuscated=!0,c.salt=i,c.bandits=(0,f.obfuscatePrecomputedBanditMap)(c.salt,r),c.flags=(0,f.obfuscatePrecomputedFlags)(c.salt,n),c}return a(t,e),o(t)}(d);function g(e){return JSON.stringify(e)}t.ObfuscatedPrecomputedConfigurationResponse=p;var y=function(){function e(t,n,r){s(this,e),this.precomputed=t,this.config=n,this.bandits=r,this.version=1}return o(e,null,[{key:"fromResponses",value:function(t,n,r,i){return new e(void 0,{response:g(t),fetchedAt:(new Date).toISOString(),etag:r},n?{response:g(n),fetchedAt:(new Date).toISOString(),etag:i}:void 0)}},{key:"precomputed",value:function(t){return new e(t)}},{key:"empty",value:function(){return new e}}])}();t.ConfigurationWireV1=y},723490:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OBFUSCATED_FORMATS=t.DEFAULT_TLRU_TTL_MS=t.BANDIT_ASSIGNMENT_SHARDS=t.MAX_EVENT_QUEUE_SIZE=t.NULL_SENTINEL=t.SESSION_ASSIGNMENT_CONFIG_LOADED=t.PRECOMPUTED_FLAGS_ENDPOINT=t.PRECOMPUTED_BASE_URL=t.BANDIT_ENDPOINT=t.UFC_ENDPOINT=t.BASE_URL=t.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=t.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=t.POLL_JITTER_PCT=t.DEFAULT_POLL_INTERVAL_MS=t.REQUEST_TIMEOUT_MILLIS=t.DEFAULT_REQUEST_TIMEOUT_MS=void 0;var r=n(763483);t.DEFAULT_REQUEST_TIMEOUT_MS=5e3,t.REQUEST_TIMEOUT_MILLIS=t.DEFAULT_REQUEST_TIMEOUT_MS,t.DEFAULT_POLL_INTERVAL_MS=3e4,t.POLL_JITTER_PCT=.1,t.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=1,t.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=7,t.BASE_URL="https://fscdn.eppo.cloud/api",t.UFC_ENDPOINT="/flag-config/v1/config",t.BANDIT_ENDPOINT="/flag-config/v1/bandits",t.PRECOMPUTED_BASE_URL="https://fs-edge-assignment.eppo.cloud",t.PRECOMPUTED_FLAGS_ENDPOINT="/assignments",t.SESSION_ASSIGNMENT_CONFIG_LOADED="eppo-session-assignment-config-loaded",t.NULL_SENTINEL="EPPO_NULL",t.MAX_EVENT_QUEUE_SIZE=100,t.BANDIT_ASSIGNMENT_SHARDS=1e4,t.DEFAULT_TLRU_TTL_MS=6e5,t.OBFUSCATED_FORMATS=[r.FormatEnum.CLIENT,r.FormatEnum.PRECOMPUTED]},178898:function(e,t,n){"use strict";var r=n(585715),i=n(443693);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.decodeFlag=function(e){return o(o({},e),{},{variations:c(e.variations,e.variationType),allocations:e.allocations.map(f)})},t.decodeVariations=c,t.decodeValue=l,t.decodeAllocation=f,t.decodeSplit=d,t.decodeShard=v,t.decodeObject=h,t.decodeObjectTo=p,t.decodePrecomputedFlag=function(e){var t,n,r;return o(o({},e),{},{allocationKey:(0,u.decodeBase64)(null!==(t=e.allocationKey)&&void 0!==t?t:""),variationKey:(0,u.decodeBase64)(null!==(n=e.variationKey)&&void 0!==n?n:""),variationValue:l(e.variationValue,e.variationType),extraLogging:h(null!==(r=e.extraLogging)&&void 0!==r?r:{})})},t.decodePrecomputedBandit=function(e){var t,n;return o(o({},e),{},{banditKey:(0,u.decodeBase64)(e.banditKey),action:(0,u.decodeBase64)(e.action),modelVersion:(0,u.decodeBase64)(e.modelVersion),actionNumericAttributes:p(null!==(t=e.actionNumericAttributes)&&void 0!==t?t:{},(function(e){return+e})),actionCategoricalAttributes:h(null!==(n=e.actionCategoricalAttributes)&&void 0!==n?n:{})})};var s=n(763483),u=n(142060);function c(e,t){return Object.fromEntries(Object.entries(e).map((function(e){var n=r(e,2)[1],i=(0,u.decodeBase64)(n.key);return[i,{key:i,value:l(n.value,t)}]})))}function l(e,t){switch(t){case s.VariationType.INTEGER:case s.VariationType.NUMERIC:return Number((0,u.decodeBase64)(e));case s.VariationType.BOOLEAN:return"true"===(0,u.decodeBase64)(e);default:return(0,u.decodeBase64)(e)}}function f(e){return o(o({},e),{},{key:(0,u.decodeBase64)(e.key),splits:e.splits.map(d),startAt:e.startAt?new Date((0,u.decodeBase64)(e.startAt)).toISOString():void 0,endAt:e.endAt?new Date((0,u.decodeBase64)(e.endAt)).toISOString():void 0})}function d(e){return{extraLogging:e.extraLogging?h(e.extraLogging):void 0,variationKey:(0,u.decodeBase64)(e.variationKey),shards:e.shards.map(v)}}function v(e){return o(o({},e),{},{salt:(0,u.decodeBase64)(e.salt)})}function h(e){return p(e,(function(e){return e}))}function p(e,t){return Object.fromEntries(Object.entries(e).map((function(e){var n=r(e,2),i=n[0],a=n[1];return[(0,u.decodeBase64)(i),t((0,u.decodeBase64)(a))]})))}},427310:function(e,t,n){"use strict";var r=n(517383),i=n(334579);Object.defineProperty(t,"__esModule",{value:!0}),t.EppoAssignmentLogger=void 0;var a=function(){return i((function e(t){r(this,e),this.eppoClient=t}),[{key:"logAssignment",value:function(e){var t=e.entityId,n=e.featureFlag,r=e.experiment,i=e.allocation,a=e.holdoutKey,o=e.holdoutVariation,s=e.subject,u=e.variation;if(t){var c={entity_id:t,experiment:r,feature_flag:n,allocation:i,holdout_variation:o,holdout:a,subject:s,variation:u};this.eppoClient.track("__eppo_assignment",c)}}}])}();t.EppoAssignmentLogger=a},923481:function(e,t,n){"use strict";var r=n(517383),i=n(334579);Object.defineProperty(t,"__esModule",{value:!0}),t.EppoValue=t.EppoValueType=void 0;var a,o=n(763483),s=n(142060);!function(e){e[e.NullType=0]="NullType",e[e.BoolType=1]="BoolType",e[e.NumericType=2]="NumericType",e[e.StringType=3]="StringType",e[e.JSONType=4]="JSONType"}(a||(t.EppoValueType=a={}));var u=function(){function e(t,n,i,a,o){r(this,e),this.valueType=t,this.boolValue=n,this.numericValue=i,this.stringValue=a,this.objectValue=o}return i(e,[{key:"toString",value:function(){var e;switch(this.valueType){case a.NullType:return"null";case a.BoolType:return this.boolValue?"true":"false";case a.NumericType:return this.numericValue?this.numericValue.toString():"0";case a.StringType:return null!==(e=this.stringValue)&&void 0!==e?e:"";case a.JSONType:try{var t;return null!==(t=JSON.stringify(this.objectValue))&&void 0!==t?t:""}catch(e){var n;return null!==(n=this.stringValue)&&void 0!==n?n:""}}}},{key:"toHashedString",value:function(){var e=this.toString();return(0,s.getMD5Hash)(e)}}],[{key:"valueOf",value:function(t,n){if(null==t)return e.Null();switch(n){case o.VariationType.BOOLEAN:return e.Bool(t);case o.VariationType.NUMERIC:case o.VariationType.INTEGER:return e.Numeric(t);case o.VariationType.STRING:return e.String(t);case o.VariationType.JSON:return e.JSON(t);default:return e.String(t)}}},{key:"Bool",value:function(t){return new e(a.BoolType,t,void 0,void 0,void 0)}},{key:"Numeric",value:function(t){return new e(a.NumericType,void 0,t,void 0,void 0)}},{key:"String",value:function(t){return new e(a.StringType,void 0,void 0,t,void 0)}},{key:"JSON",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){return new e(a.JSONType,void 0,void 0,void 0,"string"==typeof t?JSON.parse(t):t)}))},{key:"Null",value:function(){return new e(a.NullType,void 0,void 0,void 0,void 0)}}])}();t.EppoValue=u},742686:function(e,t,n){"use strict";var r=n(443693),i=n(517383),a=n(334579);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.Evaluator=void 0,t.isInShardRange=p,t.hashKey=g,t.noneResult=y,t.matchesRules=m,t.overrideResult=function(e,t,n,r,i){var a="override-"+r.key,o=i.setMatch(0,r,{key:a,splits:[],doLog:!1},null,void 0).build("MATCH","Flag override applied");return{flagKey:e,subjectKey:t,variation:r,subjectAttributes:n,flagEvaluationDetails:o,doLog:!1,format:"",allocationKey:a,extraLogging:{},entityId:null}};var c=n(252635),l=n(111385),f=n(518963),d=n(131344),v=n(736055),h=function(){return a((function e(t){i(this,e),this.getMatchedEvaluationCodeAndDescription=function(e,t,n,r,i){var a;if(!(0,c.checkValueTypeMatch)(i,e.value)){var o=e.key,s=e.value;return{flagEvaluationCode:"ASSIGNMENT_ERROR",flagEvaluationDescription:"Variation (".concat(o,") is configured for type ").concat(i,", but is set to incompatible value (").concat(s,")")}}var u=!(null===(a=t.rules)||void 0===a||!a.length),l=t.splits.length>1,f=n.shards.length>1,d=l||f;return u&&d?{flagEvaluationCode:"MATCH",flagEvaluationDescription:'Supplied attributes match rules defined in allocation "'.concat(t.key,'" and ').concat(r,' belongs to the range of traffic assigned to "').concat(n.variationKey,'".')}:u&&!d?{flagEvaluationCode:"MATCH",flagEvaluationDescription:'Supplied attributes match rules defined in allocation "'.concat(t.key,'".')}:{flagEvaluationCode:"MATCH",flagEvaluationDescription:"".concat(r,' belongs to the range of traffic assigned to "').concat(n.variationKey,'" defined in allocation "').concat(t.key,'".')}},this.sharder=null!=t?t:new v.MD5Sharder}),[{key:"evaluateFlag",value:function(e,t,n,i,a,s){var c=this,d=new l.FlagEvaluationDetailsBuilder(t.configEnvironment.name,e.allocations,t.configFetchedAt,t.configPublishedAt);try{if(!e.enabled)return y(e.key,n,i,d.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED","Unrecognized or disabled flag: ".concat(e.key)),t.configFormat);for(var v,h=new Date,p=function(f){var v,p=e.allocations[f],g=function(e){d.addUnmatchedAllocation({key:p.key,allocationEvaluationCode:e,orderPosition:f+1})};if(p.startAt&&h<new Date(p.startAt))return g(l.AllocationEvaluationCode.BEFORE_START_TIME),0;if(p.endAt&&h>new Date(p.endAt))return g(l.AllocationEvaluationCode.AFTER_END_TIME),0;var y=m(null!==(v=null==p?void 0:p.rules)&&void 0!==v?v:[],function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:n},i),a),b=y.matched,E=y.matchedRule;if(b){var _,A=o(p.splits);try{for(A.s();!(_=A.n()).done;){var S=_.value;if(S.shards.every((function(t){return c.matchesShard(t,n,e.totalShards)}))){var k,w,O=e.variations[S.variationKey],I=c.getMatchedEvaluationCodeAndDescription(O,p,S,n,s),C=I.flagEvaluationCode,T=I.flagEvaluationDescription,x=d.setMatch(f,O,p,E,s).build(C,T);return{v:{flagKey:e.key,format:t.configFormat,subjectKey:n,subjectAttributes:i,allocationKey:p.key,variation:O,extraLogging:null!==(k=S.extraLogging)&&void 0!==k?k:{},doLog:p.doLog,flagEvaluationDetails:x,entityId:null!==(w=e.entityId)&&void 0!==w?w:null}}}}}catch(e){A.e(e)}finally{A.f()}g(l.AllocationEvaluationCode.TRAFFIC_EXPOSURE_MISS)}else g(l.AllocationEvaluationCode.FAILING_RULE)},g=0;g<e.allocations.length;g++)if(0!==(v=p(g))&&v)return v.v;return y(e.key,n,i,d.buildForNoneResult("DEFAULT_ALLOCATION_NULL",'No allocations matched. Falling back to "Default Allocation", serving NULL'),t.configFormat)}catch(e){console.error(">>>>",e);var b=d.gracefulBuild("ASSIGNMENT_ERROR","Assignment Error: ".concat(e.message));if(b){var E=new f.FlagEvaluationError(e.message);throw E.flagEvaluationDetails=b,E}throw e}}},{key:"matchesShard",value:function(e,t,n){var r=this.sharder.getShard(g(e.salt,t),n);return e.ranges.some((function(e){return p(r,e)}))}}])}();function p(e,t){return t.start<=e&&e<t.end}function g(e,t){return"".concat(e,"-").concat(t)}function y(e,t,n,r,i){return{flagKey:e,format:i,subjectKey:t,subjectAttributes:n,allocationKey:null,variation:null,extraLogging:{},doLog:!1,flagEvaluationDetails:r,entityId:null}}function m(e,t,n){if(!e.length)return{matched:!0,matchedRule:null};var r=null;return e.some((function(e){var i=(0,d.matchesRule)(e,t,n);return i&&(r=e),i}))?{matched:!0,matchedRule:r}:{matched:!1,matchedRule:null}}t.Evaluator=h},978333:function(e,t,n){"use strict";var r=n(517383),i=n(334579);Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return i((function e(t,n){r(this,e),this.eventQueue=t,this.batchSize=Math.max(100,Math.min(1e4,n))}),[{key:"nextBatch",value:function(){return this.eventQueue.splice(this.batchSize)}},{key:"push",value:function(){var e;(e=this.eventQueue).push.apply(e,arguments)}},{key:"isEmpty",value:function(){return this.eventQueue.isEmpty()}}])}();t.default=a},59320:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(517383),o=n(334579);Object.defineProperty(t,"__esModule",{value:!0});var s=n(328902),u=function(){return o((function e(t,n){a(this,e),this.delivery=t,this.config=n}),[{key:"retry",value:(e=i(r.mark((function e(t,n){var i,a,o,u,c,l,f,d,v=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=v.length>2&&void 0!==v[2]?v[2]:0,a=this.config,o=a.retryIntervalMs,u=a.maxRetryDelayMs,c=a.maxRetries,l=Math.min(o*Math.pow(2,i),u),s.logger.info("[BatchRetryManager] Retrying batch delivery of ".concat(t.length," events in ").concat(l,"ms...")),e.next=6,new Promise((function(e){return setTimeout(e,l)}));case 6:return e.next=8,this.delivery.deliver(t,n);case 8:if(f=e.sent,0!==(d=f.failedEvents).length){e.next=13;break}return s.logger.info("[BatchRetryManager] Batch delivery successfully after ".concat(i+1," tries.")),e.abrupt("return",[]);case 13:if(!(i<c-1)){e.next=17;break}return e.abrupt("return",this.retry(d,n,i+1));case 17:return s.logger.warn("[BatchRetryManager] Failed to deliver batch after ".concat(c," tries, bailing")),e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})}]);var e}();t.default=u},660359:function(e,t,n){"use strict";var r=n(41132),i=n(517383),a=n(334579);Object.defineProperty(t,"__esModule",{value:!0}),t.BoundedEventQueue=void 0;var o=n(328902),s=n(723490),u=function(){return a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.MAX_EVENT_QUEUE_SIZE;i(this,e),this.name=t,this.queue=n,this.maxSize=r}),[{key:"length",get:function(){return this.queue.length}},{key:"splice",value:function(e){return this.queue.splice(0,e)}},{key:"isEmpty",value:function(){return 0===this.queue.length}},{key:Symbol.iterator,value:function(){return this.queue[Symbol.iterator]()}},{key:"push",value:function(){for(var e=this.name,t=this.maxSize,n=this.queue,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];for(;n.length<t&&a.length>0;)n.push.apply(n,r(a.splice(0,1)));a.length>0&&o.logger.warn("Dropping ".concat(a.length," events for queue ").concat(e," since maxSize of ").concat(t," reached."))}},{key:"flush",value:function(){var e=r(this.queue);return this.queue.length=0,e}}])}();t.BoundedEventQueue=u},456355:function(e,t,n){"use strict";var r=n(354756),i=n(41132),a=n(29293),o=n(443693),s=n(373738),u=n(517383),c=n(334579);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_EVENT_DISPATCHER_CONFIG=t.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=void 0,t.newDefaultEventDispatcher=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.DEFAULT_EVENT_DISPATCHER_CONFIG,o=(new y.default).decodeEventIngestionUrl(r);if(!o)return d.logger.debug("Unable to parse Event ingestion URL from SDK key, falling back to no-op event dispatcher"),new g.default;return new m(new v.default(e,i),n,f(f({},a),{},{ingestionUrl:o,sdkKey:r}))};var d=n(328902),v=n(978333),h=n(59320),p=n(703278),g=n(164503),y=n(599050);t.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=1e3,t.DEFAULT_EVENT_DISPATCHER_CONFIG={deliveryIntervalMs:1e4,retryIntervalMs:5e3,maxRetryDelayMs:3e4,maxRetries:3};var m=function(){return c((function e(t,n,r){var i=this;u(this,e),this.batchProcessor=t,this.networkStatusListener=n,this.context={},this.dispatchTimer=null,this.isOffline=!1,this.ensureConfigFields(r);var a=r.sdkKey,o=r.ingestionUrl,s=r.retryIntervalMs,c=r.maxRetryDelayMs,l=r.maxRetries,f=void 0===l?3:l;this.eventDelivery=new p.default(a,o),this.retryManager=new h.default(this.eventDelivery,{retryIntervalMs:s,maxRetryDelayMs:c,maxRetries:f}),this.deliveryIntervalMs=r.deliveryIntervalMs,this.networkStatusListener.onNetworkStatusChange((function(e){d.logger.info("[EventDispatcher] Network status change, isOffline=".concat(e,".")),i.isOffline=e,e?i.dispatchTimer=null:i.maybeScheduleNextDelivery()}))}),[{key:"attachContext",value:function(e,t){this.ensureValidContext(e,t),this.context[e]=t}},{key:"dispatch",value:function(e){this.ensureValidEvent(e),this.batchProcessor.push(e),this.maybeScheduleNextDelivery()}},{key:"ensureValidContext",value:function(e,t){if(t&&("object"===s(t)||Array.isArray(t)))throw new Error("Context value must be a string, number, boolean, or null");if(t&&JSON.stringify(f(f({},this.context),{},o({},e,t))).length>2048)throw new Error("The total context size must be less than ".concat(2048," characters"))}},{key:"ensureValidEvent",value:function(e){if(JSON.stringify(e).length>4096)throw new Error("Event serialized length exceeds maximum allowed length of ".concat(4096))}},{key:"deliverNextBatch",value:(e=a(r.mark((function e(){var t,n,a,o,s,u;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isOffline){e.next=3;break}return d.logger.warn("[EventDispatcher] Skipping delivery; network status is offline."),e.abrupt("return");case 3:if(0!==(t=this.batchProcessor.nextBatch()).length){e.next=7;break}return this.dispatchTimer=null,e.abrupt("return");case 7:return n=f({},this.context),e.next=10,this.eventDelivery.deliver(t,n);case 10:if(a=e.sent,!((o=a.failedEvents).length>0)){e.next=18;break}return d.logger.warn("[EventDispatcher] Failed to deliver some events from batch, retrying..."),e.next=16,this.retryManager.retry(o,n);case 16:(s=e.sent).length>0&&(u=this.batchProcessor).push.apply(u,i(s));case 18:d.logger.debug("[EventDispatcher] Delivered batch of ".concat(t.length," events.")),this.dispatchTimer=null,this.maybeScheduleNextDelivery();case 21:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"maybeScheduleNextDelivery",value:function(){var e=this;this.isOffline||this.batchProcessor.isEmpty()||this.dispatchTimer||(d.logger.info("[EventDispatcher] Scheduling next delivery in ".concat(this.deliveryIntervalMs,"ms.")),this.dispatchTimer=setTimeout((function(){return e.deliverNextBatch()}),this.deliveryIntervalMs))}},{key:"ensureConfigFields",value:function(e){if(!e.ingestionUrl)throw new Error("Missing required ingestionUrl in EventDispatcherConfig");if(!e.deliveryIntervalMs)throw new Error("Missing required deliveryIntervalMs in EventDispatcherConfig");if(!e.retryIntervalMs)throw new Error("Missing required retryIntervalMs in EventDispatcherConfig");if(!e.maxRetryDelayMs)throw new Error("Missing required maxRetryDelayMs in EventDispatcherConfig")}}]);var e}();t.default=m},703278:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(517383),o=n(334579);Object.defineProperty(t,"__esModule",{value:!0});var s=n(328902),u=function(){return o((function e(t,n){a(this,e),this.sdkKey=t,this.ingestionUrl=n}),[{key:"deliver",value:(t=i(r.mark((function e(t,n){var i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s.logger.info("[EventDispatcher] Delivering batch of ".concat(t.length," events to ").concat(this.ingestionUrl,"...")),e.next=4,fetch(this.ingestionUrl,{method:"POST",headers:{"Content-Type":"application/json","x-eppo-token":this.sdkKey},body:JSON.stringify({eppo_events:t,context:n})});case 4:if(!(i=e.sent).ok){e.next=11;break}return e.next=8,this.parseFailedEvents(i,t);case 8:return e.abrupt("return",e.sent);case 11:return e.abrupt("return",{failedEvents:t});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),s.logger.warn("Failed to upload event batch",e.t0),e.abrupt("return",{failedEvents:t});case 18:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(e,n){return t.apply(this,arguments)})},{key:"parseFailedEvents",value:(e=i(r.mark((function e(t,n){var i,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.logger.info("[EventDispatcher] Batch delivered successfully."),e.next=3,t.json();case 3:if(i=e.sent,!((a=new Set((null==i?void 0:i.failed_events)||[])).size>0)){e.next=10;break}return s.logger.warn("[EventDispatcher] ".concat(a.size,"/").concat(n.length," events failed ingestion.")),e.abrupt("return",{failedEvents:n.filter((function(e){var t=e.uuid;return a.has(t)}))});case 10:return e.abrupt("return",{failedEvents:[]});case 11:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)})}]);var e,t}();t.default=u},164503:function(e,t,n){"use strict";var r=n(517383),i=n(334579);Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return i((function e(){r(this,e)}),[{key:"attachContext",value:function(e,t){}},{key:"dispatch",value:function(e){}}])}();t.default=a},599050:function(e,t,n){"use strict";var r=n(517383),i=n(334579);Object.defineProperty(t,"__esModule",{value:!0});var a=n(808127),o="v0/i",s=function(){return i((function e(){r(this,e)}),[{key:"decodeEventIngestionUrl",value:function(e){var t=e.split(".")[1];if(!t)return null;var n=a.Base64.decode(t),r=new URLSearchParams(n).get("eh");if(!r)return null;var i=r.endsWith("/")?"".concat(r).concat(o):"".concat(r,"/").concat(o);return i.startsWith("http://")||i.startsWith("https://")?i:"https://".concat(i)}}])}();t.default=s},111385:function(e,t,n){"use strict";var r=n(334579),i=n(517383);Object.defineProperty(t,"__esModule",{value:!0}),t.FlagEvaluationDetailsBuilder=t.AllocationEvaluationCode=t.flagEvaluationCodes=void 0;var a,o=n(763483);t.flagEvaluationCodes=["MATCH","FLAG_UNRECOGNIZED_OR_DISABLED","TYPE_MISMATCH","ASSIGNMENT_ERROR","DEFAULT_ALLOCATION_NULL","NO_ACTIONS_SUPPLIED_FOR_BANDIT","BANDIT_ERROR"],function(e){e.UNEVALUATED="UNEVALUATED",e.MATCH="MATCH",e.BEFORE_START_TIME="BEFORE_START_TIME",e.TRAFFIC_EXPOSURE_MISS="TRAFFIC_EXPOSURE_MISS",e.AFTER_END_TIME="AFTER_END_TIME",e.FAILING_RULE="FAILING_RULE"}(a||(t.AllocationEvaluationCode=a={}));var s=r((function e(t,n,r,s){var u=this;i(this,e),this.environmentName=t,this.allocations=n,this.configFetchedAt=r,this.configPublishedAt=s,this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this.unmatchedAllocations=[],this.addUnmatchedAllocation=function(e){u.unmatchedAllocations.push(e)},this.setNone=function(){return u.variationKey=null,u.variationValue=null,u.matchedRule=null,u.matchedAllocation=null,u},this.setMatch=function(e,t,n,r,i){return u.variationKey=t.key,u.variationValue=i===o.VariationType.JSON&&"string"==typeof t.value?JSON.parse(t.value):t.value,u.matchedRule=r,u.matchedAllocation={key:n.key,allocationEvaluationCode:a.MATCH,orderPosition:e+1},u},this.buildForNoneResult=function(e,t){return u.setNone().build(e,t)},this.build=function(e,t){return{environmentName:u.environmentName,flagEvaluationCode:e,flagEvaluationDescription:t,variationKey:u.variationKey,variationValue:u.variationValue,banditKey:null,banditAction:null,configFetchedAt:u.configFetchedAt,configPublishedAt:u.configPublishedAt,matchedRule:u.matchedRule,matchedAllocation:u.matchedAllocation,unmatchedAllocations:u.unmatchedAllocations,unevaluatedAllocations:u.calculateUnevaluatedAllocations()}},this.gracefulBuild=function(e,t){try{return u.build(e,t)}catch(e){return null}},this.calculateUnevaluatedAllocations=function(){var e=u.matchedAllocation?u.unmatchedAllocations.length+1:u.unmatchedAllocations.length,t=e+1;return u.allocations.slice(e).map((function(e,n){return{key:e.key,allocationEvaluationCode:a.UNEVALUATED,orderPosition:t+n}}))},this.setNone()}));t.FlagEvaluationDetailsBuilder=s},518963:function(e,t,n){"use strict";var r=n(334579),i=n(517383),a=n(728452),o=n(863072),s=n(829511),u=n(361837);function c(e,t,n){return t=o(t),a(e,l()?Reflect.construct(t,n||[],o(e).constructor):t.apply(e,n))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.FlagEvaluationError=void 0;var f=function(e){function t(){return i(this,t),c(this,t,arguments)}return s(t,e),r(t)}(u(Error));t.FlagEvaluationError=f},833027:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(334579),o=n(517383),s=n(728452),u=n(863072),c=n(829511),l=n(361837);function f(e,t,n){return t=u(t),s(e,d()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.HttpRequestError=void 0;var v=function(e){function t(e,n,r){var i;return o(this,t),(i=f(this,t,[e])).message=e,i.status=n,i.cause=r,r&&(i.cause=r),i}return c(t,e),a(t)}(l(Error));t.HttpRequestError=v;var h=function(){return a((function e(t,n){o(this,e),this.apiEndpoints=t,this.timeout=n}),[{key:"getUniversalFlagConfiguration",value:(u=i(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.apiEndpoints.ufcEndpoint(),e.next=3,this.rawGet(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getBanditParameters",value:(s=i(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.apiEndpoints.banditParametersEndpoint(),e.next=3,this.rawGet(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getPrecomputedFlags",value:(n=i(r.mark((function e(t){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.apiEndpoints.precomputedFlagsEndpoint(),e.next=3,this.rawPost(n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"rawGet",value:(t=i(r.mark((function e(t){var n,i,a,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new AbortController,i=n.signal,a=setTimeout((function(){return n.abort()}),this.timeout),e.next=6,fetch(t,{signal:i});case 6:if(o=e.sent,clearTimeout(a),null!=o&&o.ok){e.next=10;break}throw new v("Failed to fetch data",null==o?void 0:o.status);case 10:return e.next=12,o.json();case 12:return e.abrupt("return",e.sent);case 15:if(e.prev=15,e.t0=e.catch(0),"AbortError"!==e.t0.name){e.next=21;break}throw new v("Request timed out",408,e.t0);case 21:if(!(e.t0 instanceof v)){e.next=23;break}throw e.t0;case 23:throw new v("Network error",0,e.t0);case 24:case"end":return e.stop()}}),e,this,[[0,15]])}))),function(e){return t.apply(this,arguments)})},{key:"rawPost",value:(e=i(r.mark((function e(t,n){var i,a,o,s,u;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=new AbortController,a=i.signal,o=setTimeout((function(){return i.abort()}),this.timeout),e.next=6,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),signal:a});case 6:if(s=e.sent,clearTimeout(o),null!=s&&s.ok){e.next=13;break}return e.next=11,s.text();case 11:throw u=e.sent,new v(u||"Failed to post data",null==s?void 0:s.status);case 13:return e.next=15,s.json();case 15:return e.abrupt("return",e.sent);case 18:if(e.prev=18,e.t0=e.catch(0),"AbortError"!==e.t0.name){e.next=24;break}throw new v("Request timed out",408,e.t0);case 24:if(!(e.t0 instanceof v)){e.next=26;break}throw e.t0;case 26:throw new v("Network error",0,e.t0);case 27:case"end":return e.stop()}}),e,this,[[0,18]])}))),function(t,n){return e.apply(this,arguments)})}]);var e,t,n,s,u}();t.default=h},271067:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(517383),o=n(334579);Object.defineProperty(t,"__esModule",{value:!0}),t.StoreBackedConfiguration=void 0;var s=n(646168),u=n(723490),c=function(){return o((function e(t,n,r){a(this,e),this.flagConfigurationStore=t,this.banditVariationConfigurationStore=n,this.banditModelConfigurationStore=r}),[{key:"hydrateConfigurationStores",value:(e=i(r.mark((function e(t,n,i){var a,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.hydrateConfigurationStore)(this.flagConfigurationStore,t);case 2:return a=e.sent,o=[],this.banditVariationConfigurationStore&&n&&o.push((0,s.hydrateConfigurationStore)(this.banditVariationConfigurationStore,n)),this.banditModelConfigurationStore&&i&&o.push((0,s.hydrateConfigurationStore)(this.banditModelConfigurationStore,i)),e.next=8,Promise.all(o);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)}))),function(t,n,r){return e.apply(this,arguments)})},{key:"getBandit",value:function(e){var t,n;return null!==(t=null===(n=this.banditModelConfigurationStore)||void 0===n?void 0:n.get(e))&&void 0!==t?t:null}},{key:"getFlagVariationBandit",value:function(e,t){var n,r,i=null===(n=this.banditVariationConfigurationStore)||void 0===n?void 0:n.get(e),a=null==i||null===(r=i.find((function(e){return e.variationValue===t})))||void 0===r?void 0:r.key;return a?this.getBandit(a):null}},{key:"getFlag",value:function(e){var t;return null!==(t=this.flagConfigurationStore.get(e))&&void 0!==t?t:null}},{key:"getFlagConfigDetails",value:function(){var e,t,n,r;return{configFetchedAt:null!==(e=this.flagConfigurationStore.getConfigFetchedAt())&&void 0!==e?e:"",configPublishedAt:null!==(t=this.flagConfigurationStore.getConfigPublishedAt())&&void 0!==t?t:"",configEnvironment:null!==(n=this.flagConfigurationStore.getEnvironment())&&void 0!==n?n:{name:""},configFormat:null!==(r=this.flagConfigurationStore.getFormat())&&void 0!==r?r:""}}},{key:"getFlagBanditVariations",value:function(e){var t,n;return null!==(t=null===(n=this.banditVariationConfigurationStore)||void 0===n?void 0:n.get(e))&&void 0!==t?t:[]}},{key:"getFlagKeys",value:function(){return this.flagConfigurationStore.getKeys()}},{key:"getFlags",value:function(){return this.flagConfigurationStore.entries()}},{key:"isObfuscated",value:function(){var e;return u.OBFUSCATED_FORMATS.includes(null!==(e=this.getFlagConfigDetails().configFormat)&&void 0!==e?e:"SERVER")}},{key:"isInitialized",value:function(){return this.flagConfigurationStore.isInitialized()&&(!this.banditVariationConfigurationStore||this.banditVariationConfigurationStore.isInitialized())&&(!this.banditModelConfigurationStore||this.banditModelConfigurationStore.isInitialized())}},{key:"getBandits",value:function(){var e,t;return null!==(e=null===(t=this.banditModelConfigurationStore)||void 0===t?void 0:t.entries())&&void 0!==e?e:{}}},{key:"getBanditVariations",value:function(){var e,t;return null!==(e=null===(t=this.banditVariationConfigurationStore)||void 0===t?void 0:t.entries())&&void 0!==e?e:{}}}]);var e}();t.StoreBackedConfiguration=c},123231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildStorageKeySuffix=t.decodePrecomputedFlag=t.ConfigurationWireHelper=t.DefaultEventDispatcher=t.BatchEventProcessor=t.newDefaultEventDispatcher=t.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE=t.DEFAULT_EVENT_DISPATCHER_CONFIG=t.BoundedEventQueue=t.FormatEnum=t.VariationType=t.assignmentCacheValueToString=t.assignmentCacheKeyToString=t.LRUInMemoryAssignmentCache=t.NonExpiringInMemoryAssignmentCache=t.MemoryOnlyConfigurationStore=t.HybridConfigurationStore=t.MemoryStore=t.EppoPrecomputedClient=t.validation=t.HttpClient=t.FlagConfigRequestor=t.ApiEndpoints=t.constants=t.EppoClient=t.EppoAssignmentLogger=t.AbstractAssignmentCache=t.applicationLogger=t.loggerPrefix=void 0;var r=n(127660);t.ApiEndpoints=r.default;var i=n(328902);Object.defineProperty(t,"applicationLogger",{enumerable:!0,get:function(){return i.logger}}),Object.defineProperty(t,"loggerPrefix",{enumerable:!0,get:function(){return i.loggerPrefix}});var a=n(305397);Object.defineProperty(t,"AbstractAssignmentCache",{enumerable:!0,get:function(){return a.AbstractAssignmentCache}}),Object.defineProperty(t,"assignmentCacheKeyToString",{enumerable:!0,get:function(){return a.assignmentCacheKeyToString}}),Object.defineProperty(t,"assignmentCacheValueToString",{enumerable:!0,get:function(){return a.assignmentCacheValueToString}});var o=n(704814);Object.defineProperty(t,"LRUInMemoryAssignmentCache",{enumerable:!0,get:function(){return o.LRUInMemoryAssignmentCache}});var s=n(358651);Object.defineProperty(t,"NonExpiringInMemoryAssignmentCache",{enumerable:!0,get:function(){return s.NonExpiringInMemoryAssignmentCache}});var u=n(252635);t.EppoClient=u.default;var c=n(956738);t.EppoPrecomputedClient=c.default;var l=n(371152);t.FlagConfigRequestor=l.default;var f=n(901741);Object.defineProperty(t,"HybridConfigurationStore",{enumerable:!0,get:function(){return f.HybridConfigurationStore}});var d=n(780952);Object.defineProperty(t,"MemoryStore",{enumerable:!0,get:function(){return d.MemoryStore}}),Object.defineProperty(t,"MemoryOnlyConfigurationStore",{enumerable:!0,get:function(){return d.MemoryOnlyConfigurationStore}});var v=n(58135);Object.defineProperty(t,"ConfigurationWireHelper",{enumerable:!0,get:function(){return v.ConfigurationWireHelper}});var h=n(723490);t.constants=h;var p=n(178898);Object.defineProperty(t,"decodePrecomputedFlag",{enumerable:!0,get:function(){return p.decodePrecomputedFlag}});var g=n(427310);Object.defineProperty(t,"EppoAssignmentLogger",{enumerable:!0,get:function(){return g.EppoAssignmentLogger}});var y=n(978333);t.BatchEventProcessor=y.default;var m=n(660359);Object.defineProperty(t,"BoundedEventQueue",{enumerable:!0,get:function(){return m.BoundedEventQueue}});var b=n(456355);t.DefaultEventDispatcher=b.default,Object.defineProperty(t,"DEFAULT_EVENT_DISPATCHER_CONFIG",{enumerable:!0,get:function(){return b.DEFAULT_EVENT_DISPATCHER_CONFIG}}),Object.defineProperty(t,"DEFAULT_EVENT_DISPATCHER_BATCH_SIZE",{enumerable:!0,get:function(){return b.DEFAULT_EVENT_DISPATCHER_BATCH_SIZE}}),Object.defineProperty(t,"newDefaultEventDispatcher",{enumerable:!0,get:function(){return b.newDefaultEventDispatcher}});var E=n(833027);t.HttpClient=E.default;var _=n(763483);Object.defineProperty(t,"VariationType",{enumerable:!0,get:function(){return _.VariationType}}),Object.defineProperty(t,"FormatEnum",{enumerable:!0,get:function(){return _.FormatEnum}});var A=n(142060);Object.defineProperty(t,"buildStorageKeySuffix",{enumerable:!0,get:function(){return A.buildStorageKeySuffix}});var S=n(793252);t.validation=S},763483:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.FormatEnum=t.UNKNOWN_ENVIRONMENT_NAME=t.VariationType=void 0,function(e){e.STRING="STRING",e.INTEGER="INTEGER",e.NUMERIC="NUMERIC",e.BOOLEAN="BOOLEAN",e.JSON="JSON"}(n||(t.VariationType=n={})),t.UNKNOWN_ENVIRONMENT_NAME="UNKNOWN",function(e){e.SERVER="SERVER",e.CLIENT="CLIENT",e.PRECOMPUTED="PRECOMPUTED"}(r||(t.FormatEnum=r={}))},142060:function(e,t,n){"use strict";var r=n(585715);Object.defineProperty(t,"__esModule",{value:!0}),t.getMD5Hash=o,t.buildStorageKeySuffix=function(e){return o(e).slice(0,16)},t.encodeBase64=s,t.attributeEncodeBase64=u,t.decodeBase64=function(e){return i.decode(e)},t.obfuscatePrecomputedBanditMap=function(e,t){return Object.fromEntries(Object.entries(t).map((function(t){var n,i=r(t,2),a=i[0],u=i[1];return[o(a,e),(n=u,{banditKey:s(n.banditKey),action:s(n.action),actionProbability:n.actionProbability,optimalityGap:n.optimalityGap,modelVersion:s(n.modelVersion),actionNumericAttributes:c(n.actionNumericAttributes),actionCategoricalAttributes:c(n.actionCategoricalAttributes)})]})))},t.obfuscatePrecomputedFlags=function(e,t){var n={};return Object.keys(t).forEach((function(r){var i,a,u,c=t[r],l=Object.fromEntries(Object.entries(null!==(i=c.extraLogging)&&void 0!==i?i:{}).map((function(e){return e.map(s)}))),f=o(r,e);n[f]={flagKey:f,variationType:c.variationType,extraLogging:l,doLog:c.doLog,allocationKey:s(null!==(a=c.allocationKey)&&void 0!==a?a:""),variationKey:s(null!==(u=c.variationKey)&&void 0!==u?u:""),variationValue:s(c.variationValue)}})),n};var i=n(808127),a=n(275735);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(new a).append(t).append(e).end()}function s(e){return i.encode(e)}function u(e){return s("string"!=typeof e?String(e):e)}function c(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=r(e,2),n=t[0],i=t[1];return[s(n),u(i)]})))}},294364:function(e,t,n){"use strict";var r=n(373738),i=n(517383),a=n(334579),o=n(354756),s=n(29293);Object.defineProperty(t,"__esModule",{value:!0}),t.OverrideValidator=t.sendValidationRequest=void 0;var u=n(998350),c=function(){var e=s(o.mark((function e(t){var n;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://eppo.cloud/api/flag-overrides/v1/validate-key",{method:"POST",body:JSON.stringify({key:t}),headers:{"Content-Type":"application/json"}});case 2:if(200===(n=e.sent).status){e.next=5;break}throw new Error("Unable to authorize key: ".concat(n.statusText));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.sendValidationRequest=c;var l=function(){return a((function e(){i(this,e),this.validKeyCache=new u.TLRUCache(100,18e6)}),[{key:"parseOverridePayload",value:function(e){try{var t=JSON.parse(e);return this.validateParsedOverridePayload(t),t}catch(e){var n,r=null!==(n=null==e?void 0:e.message)&&void 0!==n?n:"unknown error";throw new Error("Unable to parse overridePayload: ".concat(r))}}},{key:"validateParsedOverridePayload",value:function(e){if("object"!==r(e))throw new Error("Expected object, but received ".concat(r(e)));var t=Object.keys(e);if(!t.includes("browserExtensionKey"))throw new Error("Missing required field: 'browserExtensionKey'");if(!t.includes("overrides"))throw new Error("Missing required field: 'overrides'");if("string"!=typeof e.browserExtensionKey)throw new Error("Invalid type for 'browserExtensionKey'. Expected string, but received ".concat(r(e.browserExtensionKey)));if("object"!==r(e.overrides))throw new Error("Invalid type for 'overrides'. Expected object, but received ".concat(r(e.overrides),"."))}},{key:"validateKey",value:(e=s(o.mark((function e(n){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!==this.validKeyCache.get(n)){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,(0,t.sendValidationRequest)(n);case 4:this.validKeyCache.set(n,"true");case 5:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e}();t.OverrideValidator=l},348869:function(e,t,n){"use strict";var r=n(354756),i=n(29293);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var c=!1,l=0,f=e,d=!1,v=void 0,h=function(){var l=i(r.mark((function i(){var l,f,h,y,m;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:c=!1,f=!1,h=null!=n&&n.skipInitialPoll?0:1+(null!==(l=null==n?void 0:n.maxStartRetries)&&void 0!==l?l:o.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES),y=null;case 4:if(f||!(h>0)){r.next=28;break}return r.prev=5,r.next=8,t();case 8:f=!0,d=!1,a.logger.info("Eppo SDK successfully requested initial configuration"),r.next=26;break;case 13:if(r.prev=13,r.t0=r.catch(5),d=!0,a.logger.warn("Eppo SDK encountered an error with initial poll of configurations: ".concat(r.t0.message)),!(--h>0)){r.next=24;break}return m=u(e),a.logger.warn("Eppo SDK will retry the initial poll again in ".concat(m," ms (").concat(h," attempts remaining)")),r.next=22,(0,s.waitForMs)(m);case 22:r.next=26;break;case 24:null!=n&&n.pollAfterFailedStart?a.logger.warn("Eppo SDK initial poll failed; will attempt regular polling"):(a.logger.error("Eppo SDK initial poll failed. Aborting polling"),p()),null!=n&&n.errorOnFailedStart&&(y=r.t0);case 26:r.next=4;break;case 28:if(!c&&(f&&(null==n?void 0:n.pollAfterSuccessfulStart)||!f&&(null==n?void 0:n.pollAfterFailedStart))?(a.logger.info("Eppo SDK starting regularly polling every ".concat(e," ms")),v=setTimeout(g,e)):a.logger.info("Eppo SDK will not poll for configuration updates"),!y){r.next=33;break}throw a.logger.info("Eppo SDK rethrowing start error"),y;case 33:case"end":return r.stop()}}),i,null,[[5,13]])})));return function(){return l.apply(this,arguments)}}(),p=function(){c||(c=!0,v&&clearTimeout(v),a.logger.info("Eppo SDK polling stopped"))};function g(){return y.apply(this,arguments)}function y(){return(y=i(r.mark((function i(){var s,v,h,y;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!c){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,t();case 5:l=0,f=e,d&&(d=!1,a.logger.info("Eppo SDK poll successful; resuming normal polling")),r.next=16;break;case 10:r.prev=10,r.t0=r.catch(2),d=!0,a.logger.warn("Eppo SDK encountered an error polling configurations: ".concat(r.t0.message)),v=1+(null!==(s=null==n?void 0:n.maxPollRetries)&&void 0!==s?s:o.DEFAULT_POLL_CONFIG_REQUEST_RETRIES),++l<v?(h=Math.pow(2,l),y=u(e),f=h*e+y,a.logger.warn("Eppo SDK will try polling again in ".concat(f," ms (").concat(v-l," attempts remaining)"))):(a.logger.error("Eppo SDK reached maximum of ".concat(l," failed polling attempts. Stopping polling")),p());case 16:setTimeout(g,f);case 17:case"end":return r.stop()}}),i,null,[[2,10]])})))).apply(this,arguments)}return{start:h,stop:p}};var a=n(328902),o=n(723490),s=n(63071);function u(e){return e*o.POLL_JITTER_PCT/2+Math.max(Math.floor(Math.random()*e*o.POLL_JITTER_PCT/2),1)}},675012:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(517383),o=n(334579);Object.defineProperty(t,"__esModule",{value:!0});var s=n(646168),u=n(763483),c=function(){return o((function e(t,n,r,i,o,s){a(this,e),this.httpClient=t,this.precomputedFlagStore=n,this.subjectKey=r,this.subjectAttributes=i,this.precomputedBanditsStore=o,this.banditActions=s}),[{key:"fetchAndStorePrecomputedFlags",value:(e=i(r.mark((function e(){var t,n,i,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpClient.getPrecomputedFlags({subject_key:this.subjectKey,subject_attributes:this.subjectAttributes,bandit_actions:this.banditActions});case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return(i=[]).push((0,s.hydrateConfigurationStore)(this.precomputedFlagStore,{entries:n.flags,environment:null!==(t=n.environment)&&void 0!==t?t:{name:u.UNKNOWN_ENVIRONMENT_NAME},createdAt:n.createdAt,format:n.format,salt:n.salt})),this.precomputedBanditsStore&&i.push((0,s.hydrateConfigurationStore)(this.precomputedBanditsStore,{entries:n.bandits,environment:null!==(a=n.environment)&&void 0!==a?a:{name:u.UNKNOWN_ENVIRONMENT_NAME},createdAt:n.createdAt,format:n.format,salt:n.salt})),e.next=10,Promise.all(i);case 10:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e}();t.default=c},131344:function(e,t,n){"use strict";var r=n(443693),i=n(585715);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.ObfuscatedOperatorType=t.OperatorType=void 0,t.matchesRule=function(e,t,n){return!function(e,t,n){return t.map((function(t){return n?function(e,t){var n=e[t.attribute];if(t.operator===s.IS_NULL)return t.value===(0,l.getMD5Hash)("true")?null==n:null!=n;if(null!=n)switch(t.operator){case s.GTE:case s.GT:case s.LTE:case s.LT:var r=(0,l.decodeBase64)(t.value);if(g(r)===u.SEM_VER)return p(n,r,t.operator===s.GTE?c.gte:t.operator===s.GT?c.gt:t.operator===s.LTE?c.lte:c.lt);var i=function(e,n){return t.operator===s.GTE?e>=n:t.operator===s.GT?e>n:t.operator===s.LTE?e<=n:e<n};return h(n,Number(r),i);case s.MATCHES:return new RegExp((0,l.decodeBase64)(t.value)).test(n);case s.NOT_MATCHES:return!new RegExp((0,l.decodeBase64)(t.value)).test(n);case s.ONE_OF:return f((0,l.getMD5Hash)(n.toString()),t.value);case s.NOT_ONE_OF:return d((0,l.getMD5Hash)(n.toString()),t.value)}return!1}(Object.entries(e).reduce((function(e,t){var n=i(t,2),o=n[0],s=n[1];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(r({},(0,l.getMD5Hash)(o),s),e)}),{}),t):function(e,t){var n=e[t.attribute];if(t.operator===o.IS_NULL)return t.value?null==n:null!=n;if(null!=n)switch(t.operator){case o.GTE:case o.GT:case o.LTE:case o.LT:if(g(t.value)===u.SEM_VER){var r=t.operator===o.GTE?c.gte:t.operator===o.GT?c.gt:t.operator===o.LTE?c.lte:c.lt;return p(n,t.value,r)}var i=function(e,n){return t.operator===o.GTE?e>=n:t.operator===o.GT?e>n:t.operator===o.LTE?e<=n:e<n};return h(n,t.value,i);case o.MATCHES:return new RegExp(t.value).test(n);case o.NOT_MATCHES:return!new RegExp(t.value).test(n);case o.ONE_OF:return f(n.toString(),t.value);case o.NOT_ONE_OF:return d(n.toString(),t.value)}return!1}(e,t)}))}(t,e.conditions,n).includes(!1)};var o,s,u,c=n(389477),l=n(142060);function f(e,t){return v(e,t).length>0}function d(e,t){return 0===v(e,t).length}function v(e,t){return t.filter((function(t){return t===e}))}function h(e,t,n){return n(Number(e),Number(t))}function p(e,t,n){return!!(0,c.valid)(e)&&!!(0,c.valid)(t)&&n(e,t)}function g(e){return"number"==typeof e?u.NUMERIC:Array.isArray(e)?u.STRING_ARRAY:"string"==typeof e&&(0,c.valid)(e)?u.SEM_VER:isNaN(Number(e))?u.PLAIN_STRING:u.NUMERIC}!function(e){e.MATCHES="MATCHES",e.NOT_MATCHES="NOT_MATCHES",e.GTE="GTE",e.GT="GT",e.LTE="LTE",e.LT="LT",e.ONE_OF="ONE_OF",e.NOT_ONE_OF="NOT_ONE_OF",e.IS_NULL="IS_NULL"}(o||(t.OperatorType=o={})),function(e){e.MATCHES="05015086bdd8402218f6aad6528bef08",e.NOT_MATCHES="8323761667755378c3a78e0a6ed37a78",e.GTE="32d35312e8f24bc1669bd2b45c00d47c",e.GT="cd6a9bd2a175104eed40f0d33a8b4020",e.LTE="cc981ecc65ecf63ad1673cbec9c64198",e.LT="c562607189d77eb9dfb707464c1e7b0b",e.ONE_OF="27457ce369f2a74203396a35ef537c0b",e.NOT_ONE_OF="602f5ee0b6e84fe29f43ab48b9e1addf",e.IS_NULL="dbd9c38e0339e6c34bd48cafc59be388"}(s||(t.ObfuscatedOperatorType=s={})),function(e){e.PLAIN_STRING="PLAIN_STRING",e.STRING_ARRAY="STRING_ARRAY",e.SEM_VER="SEM_VER",e.NUMERIC="NUMERIC"}(u||(u={}))},736055:function(e,t,n){"use strict";var r=n(728452),i=n(863072),a=n(829511),o=n(334579),s=n(517383);function u(e,t,n){return t=i(t),r(e,c()?Reflect.construct(t,n||[],i(e).constructor):t.apply(e,n))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.DeterministicSharder=t.MD5Sharder=t.Sharder=void 0;var l=n(142060),f=o((function e(){s(this,e)}));t.Sharder=f;var d=function(e){function t(){return s(this,t),u(this,t,arguments)}return a(t,e),o(t,[{key:"getShard",value:function(e,t){var n=(0,l.getMD5Hash)(e);return parseInt(n.slice(0,8),16)%t}}])}(f);t.MD5Sharder=d;var v=function(e){function t(e){var n;return s(this,t),(n=u(this,t)).lookup=e,n}return a(t,e),o(t,[{key:"getShard",value:function(e,t){var n;return null!==(n=this.lookup[e])&&void 0!==n?n:0}}])}(f);t.DeterministicSharder=v},63071:function(e,t,n){"use strict";var r=n(354756),i=n(29293);function a(){return(a=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.waitForMs=function(e){return a.apply(this,arguments)},t.shallowClone=function(e){return Object.assign(Object.create(Object.getPrototypeOf(e)),e)}},793252:function(e,t,n){"use strict";var r=n(334579),i=n(517383),a=n(728452),o=n(863072),s=n(829511),u=n(361837);function c(e,t,n){return t=o(t),a(e,l()?Reflect.construct(t,n||[],o(e).constructor):t.apply(e,n))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidArgumentError=void 0,t.validateNotBlank=function(e,t){if(null==e||0===e.length)throw new f(t)};var f=function(e){function t(){return i(this,t),c(this,t,arguments)}return s(t,e),r(t)}(u(Error));t.InvalidArgumentError=f},212911:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIB_VERSION=void 0;var r=n(841461);t.LIB_VERSION=r.version},783971:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignmentCacheFactory=void 0;var r=n(930800),i=n(975503),a=n(718515),o=n(889486),s=n(789607);t.assignmentCacheFactory=function(e){var t=e.forceMemoryOnly,n=void 0!==t&&t,u=e.chromeStorage,c=e.storageKeySuffix,l=new s.default;if(n)return l;if(u){var f=new i.default(u);return new a.default(l,f)}if((0,r.hasWindowLocalStorage)()){var d=new o.LocalStorageAssignmentCache(c);return new a.default(l,d)}return l}},975503:function(e,t,n){"use strict";var r=n(354756),i=n(585715),a=n(29293),o=n(517383),s=n(334579);Object.defineProperty(t,"__esModule",{value:!0});var u=n(123231),c=n(47730),l=function(){return s((function e(t){o(this,e),this.storage=new c.default(t)}),[{key:"set",value:function(e){this.storage.set((0,u.assignmentCacheKeyToString)(e),(0,u.assignmentCacheValueToString)(e))}},{key:"has",value:function(e){throw new Error("This should never be called for ChromeStorageAssignmentCache, use getEntries() instead.")}},{key:"getEntries",value:(e=a(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.entries();case 2:return t=e.sent,e.abrupt("return",Object.entries(t).map((function(e){var t=i(e,2);return[t[0],t[1]]})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e}();t.default=l},47730:function(e,t,n){"use strict";var r=n(443693),i=n(354756),a=n(29293),o=n(517383),s=n(334579);Object.defineProperty(t,"__esModule",{value:!0});var u=function(){return s((function e(t){o(this,e),this.storage=t}),[{key:"has",value:(u=a(i.mark((function e(t){var n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return n=e.sent,e.abrupt("return",!!n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"get",value:(n=a(i.mark((function e(t){var n,r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.get(t);case 2:return r=e.sent,e.abrupt("return",null!==(n=null==r?void 0:r[t])&&void 0!==n?n:void 0);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"entries",value:(t=a(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.get(null);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"set",value:(e=a(i.mark((function e(t,n){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.set(r({},t,n));case 2:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})}]);var e,t,n,u}();t.default=u},718515:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(517383),o=n(334579);Object.defineProperty(t,"__esModule",{value:!0});var s=function(){return o((function e(t,n){a(this,e),this.servingStore=t,this.persistentStore=n}),[{key:"init",value:(e=i(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistentStore.getEntries();case 2:(t=e.sent)&&this.servingStore.setEntries(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"set",value:function(e){this.servingStore.set(e),this.persistentStore.set(e)}},{key:"has",value:function(e){return this.servingStore.has(e)}}]);var e}();t.default=s},889486:function(e,t,n){"use strict";var r=n(585715),i=n(517383),a=n(334579),o=n(728452),s=n(863072),u=n(829511);function c(e,t,n){return t=s(t),o(e,l()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageAssignmentCache=void 0;var f=n(123231),d=n(556903),v=function(e){function t(e){return i(this,t),c(this,t,[new d.LocalStorageAssignmentShim(e)])}return u(t,e),a(t,[{key:"setEntries",value:function(e){var t=this;e.forEach((function(e){var n=r(e,2),i=n[0],a=n[1];i&&a&&t.delegate.set(i,a)}))}},{key:"getEntries",value:function(){return Promise.resolve(Array.from(this.entries()))}}])}(f.AbstractAssignmentCache);t.LocalStorageAssignmentCache=v},556903:function(e,t,n){"use strict";var r,i=n(517383),a=n(334579);Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageAssignmentShim=void 0;var o=n(930800),s=function(){return a((function e(t){if(i(this,e),this.size=this.getCache().size,this[r]=this.getCache()[Symbol.toStringTag],!(0,o.hasWindowLocalStorage)())throw new Error("LocalStorage is not available");var n=t?"-".concat(t):"";this.localStorageKey="eppo-assignment".concat(n)}),[{key:"clear",value:function(){this.getCache().clear()}},{key:"delete",value:function(e){return this.getCache().delete(e)}},{key:"forEach",value:function(e,t){this.getCache().forEach(e,t)}},{key:"entries",value:function(){return this.getCache().entries()}},{key:"keys",value:function(){return this.getCache().keys()}},{key:"values",value:function(){return this.getCache().values()}},{key:Symbol.iterator,value:function(){return this.getCache()[Symbol.iterator]()}},{key:"has",value:function(e){return this.getCache().has(e)}},{key:"get",value:function(e){var t;return null!==(t=this.getCache().get(e))&&void 0!==t?t:void 0}},{key:"set",value:function(e,t){return this.setCache(this.getCache().set(e,t))}},{key:"getCache",value:function(){var e=window.localStorage.getItem(this.localStorageKey);return e?new Map(JSON.parse(e)):new Map}},{key:"setCache",value:function(e){return window.localStorage.setItem(this.localStorageKey,JSON.stringify(Array.from(e.entries()))),this}}])}();t.LocalStorageAssignmentShim=s,r=Symbol.toStringTag},789607:function(e,t,n){"use strict";var r=n(585715),i=n(517383),a=n(334579);Object.defineProperty(t,"__esModule",{value:!0});var o=n(123231),s=function(){return a((function e(){i(this,e),this.store=new Map,this.cache=new o.NonExpiringInMemoryAssignmentCache(this.store)}),[{key:"set",value:function(e){this.cache.set(e)}},{key:"has",value:function(e){return this.cache.has(e)}},{key:"setEntries",value:function(e){var t=this.store;e.forEach((function(e){var n=r(e,2),i=n[0],a=n[1];return t.set(i,a)}))}},{key:"getEntries",value:function(){return Promise.resolve(Array.from(this.cache.entries()))}}])}();t.default=s},432414:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(334579),o=n(517383);Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeStorageEngine=void 0;var s=n(180006),u=a((function e(t,n){var a=this;o(this,e),this.storageMap=t,this.getContentsJsonString=i(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.storageMap.get(a.contentsKey);case 2:return t=e.sent,e.abrupt("return",null!=t?t:null);case 4:case"end":return e.stop()}}),e)}))),this.getMetaJsonString=i(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.storageMap.get(a.metaKey);case 2:return t=e.sent,e.abrupt("return",null!=t?t:null);case 4:case"end":return e.stop()}}),e)}))),this.setContentsJsonString=function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.storageMap.set(a.contentsKey,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setMetaJsonString=function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.storageMap.set(a.metaKey,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var u=n?"-".concat(n):"";this.contentsKey=s.CONFIGURATION_KEY+u,this.metaKey=s.META_KEY+u}));t.ChromeStorageEngine=u},209231:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigSource=t.ConfigLoaderStatus=void 0,function(e){e[e.FAILED=0]="FAILED",e[e.DID_NOT_PRODUCE=1]="DID_NOT_PRODUCE",e[e.COMPLETED=2]="COMPLETED"}(t.ConfigLoaderStatus||(t.ConfigLoaderStatus={})),function(e){e[e.CONFIG_STORE=0]="CONFIG_STORE",e[e.FETCH=1]="FETCH",e[e.NONE=2]="NONE"}(t.ConfigSource||(t.ConfigSource={}))},930800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localStorageIfAvailable=t.hasWindowLocalStorage=t.chromeStorageIfAvailable=t.hasChromeStorage=t.overrideStorageFactory=t.configurationStorageFactory=t.precomputedBanditStoreFactory=t.precomputedFlagsStorageFactory=void 0;var r=n(123231),i=n(47730),a=n(432414),o=n(109005),s=n(480349),u=n(180006),c=n(231493);function l(){return"undefined"!=typeof chrome&&!!chrome.storage}function f(){try{return"undefined"!=typeof window&&!!window.localStorage}catch(e){return!1}}t.precomputedFlagsStorageFactory=function(){return new r.MemoryOnlyConfigurationStore},t.precomputedBanditStoreFactory=function(){return new r.MemoryOnlyConfigurationStore},t.configurationStorageFactory=function(e){var t=e.maxAgeSeconds,n=void 0===t?0:t,u=e.servingStoreUpdateStrategy,l=void 0===u?"always":u,f=e.hasChromeStorage,d=void 0!==f&&f,v=e.hasWindowLocalStorage,h=void 0!==v&&v,p=e.persistentStore,g=void 0===p?void 0:p,y=e.forceMemoryOnly,m=void 0!==y&&y,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=b.chromeStorage,_=b.windowLocalStorage,A=b.storageKeySuffix;if(m)return new r.MemoryOnlyConfigurationStore;if(g)return new o.IsolatableHybridConfigurationStore(new r.MemoryStore,g,l);if(d&&E){var S=new a.ChromeStorageEngine(new i.default(E),null!=A?A:"");return new o.IsolatableHybridConfigurationStore(new r.MemoryStore,new c.StringValuedAsyncStore(S,n),l)}if(h&&_){var k=new s.LocalStorageEngine(_,null!=A?A:"");return new o.IsolatableHybridConfigurationStore(new r.MemoryStore,new c.StringValuedAsyncStore(k,n),l)}return new r.MemoryOnlyConfigurationStore},t.overrideStorageFactory=function(e){var t=e.hasWindowLocalStorage,n=void 0!==t&&t,i=e.forceMemoryOnly,a=void 0!==i&&i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.windowLocalStorage,c=o.storageKey,l=void 0===c?u.OVERRIDES_KEY:c,f=new r.MemoryStore;if(!a&&n&&s){var d=s.getItem(l);if(d){var v=JSON.parse(d);f.setEntries(v)}}return f},t.hasChromeStorage=l,t.chromeStorageIfAvailable=function(){return l()?chrome.storage.local:void 0},t.hasWindowLocalStorage=f,t.localStorageIfAvailable=function(){return f()?window.localStorage:void 0}},229092:function(e,t,n){"use strict";var r=n(41132),i=n(517383),a=n(334579);Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return a((function e(){var t=this;if(i(this,e),this.listeners=[],this.debounceTimer=null,"undefined"==typeof window)throw new Error("BrowserNetworkStatusListener can only be used in a browser environment");this._isOffline="boolean"==typeof navigator.onLine&&!navigator.onLine,window.addEventListener("offline",(function(){return t.notifyListeners(!0)})),window.addEventListener("online",(function(){return t.notifyListeners(!1)}))}),[{key:"isOffline",value:function(){return this._isOffline}},{key:"onNetworkStatusChange",value:function(e){this.listeners.push(e)}},{key:"removeNetworkStatusChange",value:function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}},{key:"notifyListeners",value:function(e){var t=this;this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){t._isOffline=e,r(t.listeners).forEach((function(t){return t(e)}))}),200)}}])}();t.default=o},129592:function(e,t,n){"use strict";var r=n(354756),i=n(517383),a=n(334579);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0});var u=n(123231),c=n(801769),l=function(){return a((function e(t){i(this,e),this.name=t,this.eventKeys=[],this.localStorageKey="eventQueue:".concat(this.name),this.loadStateFromLocalStorage()}),[{key:"splice",value:function(e){var t=this,n=Array.from({length:e},(function(){return t.shift()}));return(0,c.takeWhile)(n,(function(e){return void 0!==e}))}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"length",get:function(){return this.eventKeys.length}},{key:"push",value:function(e){var t=this.generateEventKey(e),n=JSON.stringify(e);localStorage.setItem(t,n),this.eventKeys.push(t),this.saveStateToLocalStorage()}},{key:Symbol.iterator,value:r.mark((function e(){var t,n,i,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o(this.eventKeys),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}if(i=n.value,!(a=localStorage.getItem(i))){e.next=9;break}return e.next=9,JSON.parse(a);case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"shift",value:function(){if(0!==this.eventKeys.length){var e=this.eventKeys.shift();if(!e)throw new Error("Unexpected undefined event key");var t=localStorage.getItem(e);return t?(localStorage.removeItem(e),this.saveStateToLocalStorage(),JSON.parse(t)):void 0}}},{key:"loadStateFromLocalStorage",value:function(){var e=localStorage.getItem(this.localStorageKey);if(e)try{this.eventKeys=JSON.parse(e)}catch(e){u.applicationLogger.error("Failed to parse event queue ".concat(this.name," state. Initializing empty queue.")),this.eventKeys=[]}}},{key:"saveStateToLocalStorage",value:function(){var e=JSON.stringify(this.eventKeys);localStorage.setItem(this.localStorageKey,e)}},{key:"generateEventKey",value:function(e){var t=this.hashEvent(e);return"eventQueue:".concat(this.name,":").concat(t)}},{key:"hashEvent",value:function(e){for(var t=JSON.stringify(e),n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r),n|=0;return n.toString(36)}}])}();t.default=l},329377:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(517383),o=n(334579),s=n(728452),u=n(863072),c=n(432395),l=n(829511);function f(e,t,n){return t=u(t),s(e,d()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function v(e,t,n,r){var i=c(u(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}t.ge=t.LR=void 0;var h=n(123231),p=n(783971),g=n(718515),y=n(209231),m=n(930800),b=n(229092),E=n(129592),_=n(943638),A=n(123231);var S=n(432414);var k=(0,m.configurationStorageFactory)({forceMemoryOnly:!0}),w=(0,m.precomputedFlagsStorageFactory)(),O=(0,m.precomputedBanditStoreFactory)();t.LR={attachContext:function(){},dispatch:function(){}};var I=function(e){function t(){var e;return a(this,t),(e=f(this,t,arguments)).initialized=!1,e}return l(t,e),o(t,[{key:"getStringAssignment",value:function(e,n,r,i){return this.ensureInitialized(),v(t,"getStringAssignment",this,3)([e,n,r,i])}},{key:"getStringAssignmentDetails",value:function(e,n,r,i){return this.ensureInitialized(),v(t,"getStringAssignmentDetails",this,3)([e,n,r,i])}},{key:"getBoolAssignment",value:function(e,t,n,r){return this.getBooleanAssignment(e,t,n,r)}},{key:"getBooleanAssignment",value:function(e,n,r,i){return this.ensureInitialized(),v(t,"getBooleanAssignment",this,3)([e,n,r,i])}},{key:"getBooleanAssignmentDetails",value:function(e,n,r,i){return this.ensureInitialized(),v(t,"getBooleanAssignmentDetails",this,3)([e,n,r,i])}},{key:"getIntegerAssignment",value:function(e,n,r,i){return this.ensureInitialized(),v(t,"getIntegerAssignment",this,3)([e,n,r,i])}},{key:"getIntegerAssignmentDetails",value:function(e,n,r,i){return this.ensureInitialized(),v(t,"getIntegerAssignmentDetails",this,3)([e,n,r,i])}},{key:"getNumericAssignment",value:function(e,n,r,i){return this.ensureInitialized(),v(t,"getNumericAssignment",this,3)([e,n,r,i])}},{key:"getNumericAssignmentDetails",value:function(e,n,r,i){return this.ensureInitialized(),v(t,"getNumericAssignmentDetails",this,3)([e,n,r,i])}},{key:"getJSONAssignment",value:function(e,n,r,i){return this.ensureInitialized(),v(t,"getJSONAssignment",this,3)([e,n,r,i])}},{key:"getJSONAssignmentDetails",value:function(e,n,r,i){return this.ensureInitialized(),v(t,"getJSONAssignmentDetails",this,3)([e,n,r,i])}},{key:"getBanditAction",value:function(e,n,r,i,a){return this.ensureInitialized(),v(t,"getBanditAction",this,3)([e,n,r,i,a])}},{key:"getBanditActionDetails",value:function(e,n,r,i,a){return this.ensureInitialized(),v(t,"getBanditActionDetails",this,3)([e,n,r,i,a])}},{key:"getExperimentContainerEntry",value:function(e,n,r){return this.ensureInitialized(),v(t,"getExperimentContainerEntry",this,3)([e,n,r])}},{key:"ensureInitialized",value:function(){this.initialized||h.applicationLogger.warn("Eppo SDK assignment requested before init() completed")}},{key:"init",value:(n=i(r.mark((function e(t){var n,a,o,s,u,c,l,f,d,v,b,E,A,S,k,w,O,I,T,x,N,R,P,j,D,M,F,U,B,V,K,Z,z,G;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.validation.validateNotBlank(t.apiKey,"API key required"),o=t.apiKey,s=t.persistentStore,u=t.baseUrl,c=t.maxCacheAgeSeconds,l=t.updateOnFetch,f=t.requestTimeoutMs,d=t.numInitialRequestRetries,v=t.numPollRequestRetries,b=t.pollingIntervalMs,E=t.pollAfterSuccessfulInitialization,A=void 0!==E&&E,S=t.pollAfterFailedInitialization,k=void 0!==S&&S,w=t.skipInitialRequest,O=void 0!==w&&w,I=t.eventTracking,T=t.enableOverrides,x=void 0!==T&&T,e.prev=2,this.stopPolling(),this.setAssignmentLogger(t.assignmentLogger),t.banditLogger&&this.setBanditLogger(t.banditLogger),N=C(o),(R=(0,m.configurationStorageFactory)({maxAgeSeconds:c,servingStoreUpdateStrategy:l,persistentStore:s,hasChromeStorage:(0,m.hasChromeStorage)(),hasWindowLocalStorage:(0,m.hasWindowLocalStorage)()},{chromeStorage:(0,m.chromeStorageIfAvailable)(),windowLocalStorage:(0,m.localStorageIfAvailable)(),storageKeySuffix:N})).setFormat(h.FormatEnum.CLIENT),this.setFlagConfigurationStore(R),x?(P=(0,m.overrideStorageFactory)({hasWindowLocalStorage:(0,m.hasWindowLocalStorage)()},{windowLocalStorage:(0,m.localStorageIfAvailable)(),storageKey:t.overridesStorageKey}),this.setOverrideStore(P)):this.unsetOverrideStore(),!((j=(0,p.assignmentCacheFactory)({chromeStorage:(0,m.chromeStorageIfAvailable)(),storageKeySuffix:N}))instanceof g.default)){e.next=15;break}return e.next=15,j.init();case 15:return this.useCustomAssignmentCache(j),D={apiKey:o,sdkName:_.sdkName,sdkVersion:_.sdkVersion,baseUrl:u,requestTimeoutMs:f,numInitialRequestRetries:d,numPollRequestRetries:v,pollAfterSuccessfulInitialization:A,pollAfterFailedInitialization:k,pollingIntervalMs:b,throwOnFailedInitialization:!0,skipInitialPoll:O},this.setConfigurationRequestParameters(D),this.setEventDispatcher(L(o,I)),M=void 0,F=void 0,U=R.init().then(i(r.mark((function e(){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R.getKeys().length){e.next=4;break}return h.applicationLogger.warn("Eppo SDK cached configuration is empty"),M=new Error("Configuration store was empty"),e.abrupt("return",y.ConfigLoaderStatus.DID_NOT_PRODUCE);case 4:return e.next=6,R.isExpired();case 6:if(!(n=e.sent)||t.useExpiredCache){e.next=13;break}return h.applicationLogger.warn("Eppo SDK set not to use expired cached configuration"),M=new Error("Configuration store was expired"),e.abrupt("return",y.ConfigLoaderStatus.DID_NOT_PRODUCE);case 13:n&&t.useExpiredCache&&h.applicationLogger.warn("Eppo SDK config.useExpiredCache is true; using expired cache");case 14:return e.abrupt("return",y.ConfigLoaderStatus.COMPLETED);case 15:case"end":return e.stop()}}),e)})))).catch((function(e){return h.applicationLogger.warn("Eppo SDK encountered an error initializing from the configuration store",e),M=e,y.ConfigLoaderStatus.FAILED})).then((function(e){return{source:y.ConfigSource.CONFIG_STORE,result:e}})),B=this.fetchFlagConfigurations().then((function(){return R.isInitialized()?y.ConfigLoaderStatus.COMPLETED:y.ConfigLoaderStatus.DID_NOT_PRODUCE})).catch((function(e){return h.applicationLogger.warn("Eppo SDK encountered an error initializing from fetching",e),F=e,y.ConfigLoaderStatus.FAILED})).then((function(e){return{source:y.ConfigSource.FETCH,result:e}})),V=[U],t.skipInitialRequest||V.push(B),e.next=27,Promise.race(V);case 27:if(Z=e.sent,z=Z.source,Z.result!==y.ConfigLoaderStatus.COMPLETED){e.next=34;break}K=z,e.next=38;break;case 34:return G=z===y.ConfigSource.FETCH?U:B,e.next=37,G.then((function(e){var t=e.source;return e.result===y.ConfigLoaderStatus.COMPLETED?t:y.ConfigSource.NONE}));case 37:K=e.sent;case 38:K===y.ConfigSource.NONE&&(a=F||M||new Error("Eppo SDK: No configuration source produced a valid configuration")),h.applicationLogger.debug("Initialization source",K),e.next=45;break;case 42:e.prev=42,e.t0=e.catch(2),a=e.t0 instanceof Error?e.t0:new Error(String(e.t0));case 45:if(!a){e.next=49;break}if(h.applicationLogger.warn("Eppo SDK was unable to initialize with a configuration, assignment calls will return the default value and not be logged"+(t.pollAfterFailedInitialization?" until an experiment configuration is successfully retrieved":"")),null!==(n=t.throwOnFailedInitialization)&&void 0!==n&&!n){e.next=49;break}throw a;case 49:return this.initialized=!0,e.abrupt("return",this);case 51:case"end":return e.stop()}}),e,this,[[2,42]])}))),function(e){return n.apply(this,arguments)})},{key:"offlineInit",value:function(e){var t,n,r,i=null!==(t=e.isObfuscated)&&void 0!==t&&t,a=null===(n=e.throwOnFailedInitialization)||void 0===n||n,o=null!==(r=e.enableOverrides)&&void 0!==r&&r;try{var s=(0,m.configurationStorageFactory)({forceMemoryOnly:!0});if(s.setFormat(i?h.FormatEnum.CLIENT:h.FormatEnum.SERVER),s.setEntries(e.flagsConfiguration).catch((function(e){return h.applicationLogger.warn("Error setting flags for memory-only configuration store",e)})),this.setFlagConfigurationStore(s),o){var u=(0,m.overrideStorageFactory)({hasWindowLocalStorage:(0,m.hasWindowLocalStorage)()},{windowLocalStorage:(0,m.localStorageIfAvailable)(),storageKey:e.overridesStorageKey});this.setOverrideStore(u)}else this.unsetOverrideStore();e.assignmentLogger&&this.setAssignmentLogger(e.assignmentLogger),e.banditLogger&&this.setBanditLogger(e.banditLogger);var c=(0,p.assignmentCacheFactory)({storageKeySuffix:"offline",forceMemoryOnly:!0});this.useCustomAssignmentCache(c)}catch(e){if(h.applicationLogger.warn("Eppo SDK encountered an error initializing, assignment calls will return the default value and not be logged"),a)throw e}this.initialized=!0}}]);var n}(h.EppoClient);function C(e){return e.replace(/\W/g,"").substring(0,8)}I.instance=new I({flagConfigurationStore:k}),I.initialized=!1,t.ge=function(e){var t=N();return t.offlineInit(e),I.initialized=!0,t};var T=null;function x(){return(x=i(r.mark((function e(t){var n,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.validation.validateNotBlank(t.apiKey,"API key required"),n=N(),!I.initialized){e.next=9;break}if(!t.forceReinitialize){e.next=7;break}h.applicationLogger.info("Eppo SDK is already initialized, reinitializing since forceReinitialize is true."),e.next=9;break;case 7:return h.applicationLogger.warn("Eppo SDK is already initialized, skipping reinitialization since forceReinitialize is false."),e.abrupt("return",n);case 9:return null===T?T=n.init(t):h.applicationLogger.warn("Initialization is already in progress. init should be called only once at application startup."),e.next=12,T;case 12:return i=e.sent,T=null,I.initialized=!0,e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return I.instance}var R=function(e){function t(){return a(this,t),f(this,t,arguments)}return l(t,e),o(t,[{key:"getStringAssignment",value:function(e,n){return t.getAssignmentInitializationCheck(),v(t,"getStringAssignment",this,3)([e,n])}},{key:"getBooleanAssignment",value:function(e,n){return t.getAssignmentInitializationCheck(),v(t,"getBooleanAssignment",this,3)([e,n])}},{key:"getIntegerAssignment",value:function(e,n){return t.getAssignmentInitializationCheck(),v(t,"getIntegerAssignment",this,3)([e,n])}},{key:"getNumericAssignment",value:function(e,n){return t.getAssignmentInitializationCheck(),v(t,"getNumericAssignment",this,3)([e,n])}},{key:"getJSONAssignment",value:function(e,n){return t.getAssignmentInitializationCheck(),v(t,"getJSONAssignment",this,3)([e,n])}},{key:"getBanditAction",value:function(e,n){return t.getAssignmentInitializationCheck(),v(t,"getBanditAction",this,3)([e,n])}}],[{key:"getAssignmentInitializationCheck",value:function(){I.initialized||h.applicationLogger.warn("Eppo SDK assignment requested before init() completed")}}])}(h.EppoPrecomputedClient);function P(){return(P=i(r.mark((function e(t){var n,i,a,o,s,u,c,l,f,d,v,y,b,E,A,S,k,I,T,x,N,P,L,j,D;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R.initialized){e.next=2;break}return e.abrupt("return",R.instance);case 2:if(h.validation.validateNotBlank(t.apiKey,"API key required"),h.validation.validateNotBlank(t.precompute.subjectKey,"Subject key required"),n=t.apiKey,i=t.precompute,a=i.subjectKey,o=i.subjectAttributes,s=void 0===o?{}:o,u=i.banditActions,c=t.baseUrl,l=t.requestTimeoutMs,f=t.numInitialRequestRetries,d=t.numPollRequestRetries,v=t.pollingIntervalMs,y=t.pollAfterSuccessfulInitialization,b=void 0!==y&&y,E=t.pollAfterFailedInitialization,A=void 0!==E&&E,S=t.skipInitialRequest,k=void 0!==S&&S,I=t.enableOverrides,T=void 0!==I&&I,x=t.overridesStorageKey,N=C(n),!((P=(0,p.assignmentCacheFactory)({chromeStorage:(0,m.chromeStorageIfAvailable)(),storageKeySuffix:N}))instanceof g.default)){e.next=10;break}return e.next=10,P.init();case 10:return L={apiKey:n,sdkName:_.sdkName,sdkVersion:_.sdkVersion,baseUrl:c,requestTimeoutMs:l,numInitialRequestRetries:f,numPollRequestRetries:d,pollAfterSuccessfulInitialization:b,pollAfterFailedInitialization:A,pollingIntervalMs:v,throwOnFailedInitialization:!0,skipInitialPoll:k},j={subjectKey:a,subjectAttributes:s},R.instance=new R({precomputedFlagStore:w,requestParameters:L,subject:j,precomputedBanditStore:O,banditActions:u}),T?(D=(0,m.overrideStorageFactory)({hasWindowLocalStorage:(0,m.hasWindowLocalStorage)()},{windowLocalStorage:(0,m.localStorageIfAvailable)(),storageKey:x}),R.instance.setOverrideStore(D)):R.instance.unsetOverrideStore(),R.instance.setAssignmentLogger(t.assignmentLogger),t.banditLogger&&R.instance.setBanditLogger(t.banditLogger),R.instance.useCustomAssignmentCache(P),e.next=19,R.instance.fetchPrecomputedFlags();case 19:return R.initialized=!0,e.abrupt("return",R.instance);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.batchSize,i=void 0===r?1e3:r,a=n.deliveryIntervalMs,o=void 0===a?1e4:a,s=n.enabled,u=void 0!==s&&s,c=n.maxQueueSize,l=void 0===c?1e4:c,f=n.maxRetries,d=void 0===f?3:f,v=n.maxRetryDelayMs,p=void 0===v?3e4:v,g=n.retryIntervalMs,y=void 0===g?5e3:g;if(!u)return t.LR;var _=(0,m.hasWindowLocalStorage)()?new E.default("events"):new h.BoundedEventQueue("events",[],l),A="undefined"!=typeof window?new b.default:{isOffline:function(){return!1},onNetworkStatusChange:function(){}};return(0,h.newDefaultEventDispatcher)(_,A,e,i,{deliveryIntervalMs:o,retryIntervalMs:y,maxRetryDelayMs:p,maxRetries:d})}R.instance=new R({precomputedFlagStore:w,subject:{subjectKey:"",subjectAttributes:{}}}),R.initialized=!1},109005:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(517383),o=n(334579),s=n(728452),u=n(863072),c=n(829511);function l(e,t,n){return t=u(t),s(e,f()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}Object.defineProperty(t,"__esModule",{value:!0}),t.IsolatableHybridConfigurationStore=void 0;var d=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"always";return a(this,t),(r=l(this,t,[e,n])).servingStoreUpdateStrategy=i,r}return c(t,e),o(t,[{key:"setEntries",value:(n=i(r.mark((function e(t){var n,i,a,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.persistentStore){e.next=3;break}return e.next=3,this.persistentStore.setEntries(t);case 3:if(e.t0=!this.persistentStore,e.t0){e.next=8;break}return e.next=7,this.persistentStore.isExpired();case 7:e.t0=e.sent;case 8:return i=e.t0,a=!(null===(n=this.servingStore.getKeys())||void 0===n?void 0:n.length),(o="always"===this.servingStoreUpdateStrategy||i&&"expired"===this.servingStoreUpdateStrategy||i&&a)&&this.servingStore.setEntries(t),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]);var n}(n(123231).HybridConfigurationStore);t.IsolatableHybridConfigurationStore=d},480349:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(334579),o=n(517383);Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageEngine=void 0;var s=n(180006),u=a((function e(t,n){var a=this;o(this,e),this.localStorage=t,this.getContentsJsonString=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.localStorage.getItem(a.contentsKey));case 1:case"end":return e.stop()}}),e)}))),this.getMetaJsonString=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.localStorage.getItem(a.metaKey));case 1:case"end":return e.stop()}}),e)}))),this.setContentsJsonString=function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.localStorage.setItem(a.contentsKey,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setMetaJsonString=function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.localStorage.setItem(a.metaKey,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var u=n?"-".concat(n):"";this.contentsKey=s.CONFIGURATION_KEY+u,this.metaKey=s.META_KEY+u}));t.LocalStorageEngine=u},943638:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sdkName=t.sdkVersion=void 0;var r=n(670299);t.sdkVersion=r.version,t.sdkName="js-client-sdk"},180006:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OVERRIDES_KEY=t.META_KEY=t.CONFIGURATION_KEY=void 0,t.CONFIGURATION_KEY="eppo-configuration",t.META_KEY="eppo-configuration-meta",t.OVERRIDES_KEY="eppo-overrides"},231493:function(e,t,n){"use strict";var r=n(354756),i=n(29293),a=n(517383),o=n(334579);Object.defineProperty(t,"__esModule",{value:!0}),t.StringValuedAsyncStore=void 0;var s=function(){return o((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;a(this,e),this.storageEngine=t,this.cooldownSeconds=n,this.initialized=!1}),[{key:"isInitialized",value:function(){return this.initialized}},{key:"isExpired",value:(n=i(r.mark((function e(){var t,n,i,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cooldownSeconds){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,this.storageEngine.getMetaJsonString();case 4:return t=e.sent,n=!0,t&&(i=JSON.parse(t),a=i.lastUpdatedAtMs,n=!a||Date.now()-a>1e3*this.cooldownSeconds),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"entries",value:(t=i(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.getContentsJsonString();case 2:return t=e.sent,e.abrupt("return",t?JSON.parse(t):{});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setEntries",value:(e=i(r.mark((function e(t){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageEngine.setContentsJsonString(JSON.stringify(t));case 2:return n={lastUpdatedAtMs:(new Date).getTime()},e.next=5,this.storageEngine.setMetaJsonString(JSON.stringify(n));case 5:this.initialized=!0;case 6:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e,t,n}();t.StringValuedAsyncStore=s},801769:function(e,t){"use strict";function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.takeWhile=void 0,t.takeWhile=function(e,t){var r,i=[],a=n(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(!t(o))break;i.push(o)}}catch(e){a.e(e)}finally{a.f()}return i}},307536:function(e,t,n){var r=n(517383),i=n(334579),a=Symbol("SemVer ANY"),o=function(){"use strict";function e(t,n){if(r(this,e),n=s(n),t instanceof e){if(t.loose===!!n.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),d("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===a?this.value="":this.value=this.operator+this.semver.version,d("comp",this)}return i(e,[{key:"parse",value:function(e){var t=this.options.loose?c[l.COMPARATORLOOSE]:c[l.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: ".concat(e));this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new v(n[2],this.options.loose):this.semver=a}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(e){if(d("Comparator.test",e,this.options.loose),this.semver===a||e===a)return!0;if("string"==typeof e)try{e=new v(e,this.options)}catch(e){return!1}return f(e,this.operator,this.semver,this.options)}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new h(t.value,n).test(this.value):""===t.operator?""===t.value||new h(this.value,n).test(t.semver):(!(n=s(n)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==t.value)&&(!(!n.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!t.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!t.operator.startsWith("<"))||(!(this.semver.version!==t.semver.version||!this.operator.includes("=")||!t.operator.includes("="))||(!!(f(this.semver,"<",t.semver,n)&&this.operator.startsWith(">")&&t.operator.startsWith("<"))||!!(f(this.semver,">",t.semver,n)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))))))}}],[{key:"ANY",get:function(){return a}}])}();e.exports=o;var s=n(356987),u=n(395494),c=u.safeRe,l=u.t,f=n(48879),d=n(63992),v=n(660628),h=n(38727)},38727:function(e,t,n){var r=n(41132),i=n(517383),a=n(334579);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=/\s+/g,c=function(){"use strict";function e(t,n){var r=this;if(i(this,e),n=f(n),t instanceof e)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new e(t.raw,n);if(t instanceof d)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t.trim().replace(u," "),this.set=this.raw.split("||").map((function(e){return r.parseRange(e.trim())})).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(this.raw));if(this.set.length>1){var a=this.set[0];if(this.set=this.set.filter((function(e){return!k(e[0])})),0===this.set.length)this.set=[a];else if(this.set.length>1){var s,c=o(this.set);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(1===l.length&&w(l[0])){this.set=[l];break}}}catch(e){c.e(e)}finally{c.f()}}}this.formatted=void 0}return a(e,[{key:"range",get:function(){if(void 0===this.formatted){this.formatted="";for(var e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");for(var t=this.set[e],n=0;n<t.length;n++)n>0&&(this.formatted+=" "),this.formatted+=t[n].toString().trim()}}return this.formatted}},{key:"format",value:function(){return this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var t=this,n=((this.options.includePrerelease&&A)|(this.options.loose&&S))+":"+e,i=l.get(n);if(i)return i;var a=this.options.loose,s=a?g[y.HYPHENRANGELOOSE]:g[y.HYPHENRANGE];e=e.replace(s,M(this.options.includePrerelease)),v("hyphen replace",e),e=e.replace(g[y.COMPARATORTRIM],m),v("comparator trim",e),e=e.replace(g[y.TILDETRIM],b),v("tilde trim",e),e=e.replace(g[y.CARETTRIM],E),v("caret trim",e);var u=e.split(" ").map((function(e){return I(e,t.options)})).join(" ").split(/\s+/).map((function(e){return D(e,t.options)}));a&&(u=u.filter((function(e){return v("loose invalid filter",e,t.options),!!e.match(g[y.COMPARATORLOOSE])}))),v("range list",u);var c,f=new Map,h=u.map((function(e){return new d(e,t.options)})),p=o(h);try{for(p.s();!(c=p.n()).done;){var _=c.value;if(k(_))return[_];f.set(_.value,_)}}catch(e){p.e(e)}finally{p.f()}f.size>1&&f.has("")&&f.delete("");var w=r(f.values());return l.set(n,w),w}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((function(e){return O(e,n)&&t.set.some((function(t){return O(t,n)&&e.every((function(e){return t.every((function(t){return e.intersects(t,n)}))}))}))}))}},{key:"test",value:function(e){if(!e)return!1;if("string"==typeof e)try{e=new h(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(F(this.set[t],e,this.options))return!0;return!1}}])}();e.exports=c;var l=new(n(279546)),f=n(356987),d=n(307536),v=n(63992),h=n(660628),p=n(395494),g=p.safeRe,y=p.t,m=p.comparatorTrimReplace,b=p.tildeTrimReplace,E=p.caretTrimReplace,_=n(630506),A=_.FLAG_INCLUDE_PRERELEASE,S=_.FLAG_LOOSE,k=function(e){return"<0.0.0-0"===e.value},w=function(e){return""===e.value},O=function(e,t){for(var n=!0,r=e.slice(),i=r.pop();n&&r.length;)n=r.every((function(e){return i.intersects(e,t)})),i=r.pop();return n},I=function(e,t){return v("comp",e,t),e=N(e,t),v("caret",e),e=T(e,t),v("tildes",e),e=P(e,t),v("xrange",e),e=j(e,t),v("stars",e),e},C=function(e){return!e||"x"===e.toLowerCase()||"*"===e},T=function(e,t){return e.trim().split(/\s+/).map((function(e){return x(e,t)})).join(" ")},x=function(e,t){var n=t.loose?g[y.TILDELOOSE]:g[y.TILDE];return e.replace(n,(function(t,n,r,i,a){var o;return v("tilde",e,t,n,r,i,a),C(n)?o="":C(r)?o=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):C(i)?o=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):a?(v("replaceTilde pr",a),o=">=".concat(n,".").concat(r,".").concat(i,"-").concat(a," <").concat(n,".").concat(+r+1,".0-0")):o=">=".concat(n,".").concat(r,".").concat(i," <").concat(n,".").concat(+r+1,".0-0"),v("tilde return",o),o}))},N=function(e,t){return e.trim().split(/\s+/).map((function(e){return R(e,t)})).join(" ")},R=function(e,t){v("caret",e,t);var n=t.loose?g[y.CARETLOOSE]:g[y.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(function(t,n,i,a,o){var s;return v("caret",e,t,n,i,a,o),C(n)?s="":C(i)?s=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):C(a)?s="0"===n?">=".concat(n,".").concat(i,".0").concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".0").concat(r," <").concat(+n+1,".0.0-0"):o?(v("replaceCaret pr",o),s="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(+n+1,".0.0-0")):(v("no pr"),s="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a).concat(r," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a).concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a," <").concat(+n+1,".0.0-0")),v("caret return",s),s}))},P=function(e,t){return v("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return L(e,t)})).join(" ")},L=function(e,t){e=e.trim();var n=t.loose?g[y.XRANGELOOSE]:g[y.XRANGE];return e.replace(n,(function(n,r,i,a,o,s){v("xRange",e,n,r,i,a,o,s);var u=C(i),c=u||C(a),l=c||C(o),f=l;return"="===r&&f&&(r=""),s=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&f?(c&&(a=0),o=0,">"===r?(r=">=",c?(i=+i+1,a=0,o=0):(a=+a+1,o=0)):"<="===r&&(r="<",c?i=+i+1:a=+a+1),"<"===r&&(s="-0"),n="".concat(r+i,".").concat(a,".").concat(o).concat(s)):c?n=">=".concat(i,".0.0").concat(s," <").concat(+i+1,".0.0-0"):l&&(n=">=".concat(i,".").concat(a,".0").concat(s," <").concat(i,".").concat(+a+1,".0-0")),v("xRange return",n),n}))},j=function(e,t){return v("replaceStars",e,t),e.trim().replace(g[y.STAR],"")},D=function(e,t){return v("replaceGTE0",e,t),e.trim().replace(g[t.includePrerelease?y.GTE0PRE:y.GTE0],"")},M=function(e){return function(t,n,r,i,a,o,s,u,c,l,f,d){return n=C(r)?"":C(i)?">=".concat(r,".0.0").concat(e?"-0":""):C(a)?">=".concat(r,".").concat(i,".0").concat(e?"-0":""):o?">=".concat(n):">=".concat(n).concat(e?"-0":""),u=C(c)?"":C(l)?"<".concat(+c+1,".0.0-0"):C(f)?"<".concat(c,".").concat(+l+1,".0-0"):d?"<=".concat(c,".").concat(l,".").concat(f,"-").concat(d):e?"<".concat(c,".").concat(l,".").concat(+f+1,"-0"):"<=".concat(u),"".concat(n," ").concat(u).trim()}},F=function(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(var i=0;i<e.length;i++)if(v(e[i].semver),e[i].semver!==d.ANY&&e[i].semver.prerelease.length>0){var a=e[i].semver;if(a.major===t.major&&a.minor===t.minor&&a.patch===t.patch)return!0}return!1}return!0}},660628:function(e,t,n){var r=n(373738),i=n(517383),a=n(334579),o=n(63992),s=n(630506),u=s.MAX_LENGTH,c=s.MAX_SAFE_INTEGER,l=n(395494),f=l.safeRe,d=l.safeSrc,v=l.t,h=n(356987),p=n(164003).compareIdentifiers,g=function(){"use strict";function e(t,n){if(i(this,e),n=h(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError('Invalid version. Must be a string. Got type "'.concat(r(t),'".'));if(t.length>u)throw new TypeError("version is longer than ".concat(u," characters"));o("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var a=t.trim().match(n.loose?f[v.LOOSE]:f[v.FULL]);if(!a)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>c||this.major<0)throw new TypeError("Invalid major version");if(this.minor>c||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>c||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<c)return t}return e})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}return a(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(o("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"==typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return t instanceof e||(t=new e(t,this.options)),p(this.major,t.major)||p(this.minor,t.minor)||p(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],i=t.prerelease[n];if(o("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return p(r,i)}while(++n)}},{key:"compareBuild",value:function(t){t instanceof e||(t=new e(t,this.options));var n=0;do{var r=this.build[n],i=t.build[n];if(o("build compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return p(r,i)}while(++n)}},{key:"inc",value:function(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(t){var r=new RegExp("^".concat(this.options.loose?d[v.PRERELEASELOOSE]:d[v.PRERELEASE],"$")),i="-".concat(t).match(r);if(!i||i[1]!==t)throw new Error("invalid identifier: ".concat(t))}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw new Error("version ".concat(this.raw," is not a prerelease"));this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":var a=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[a];else{for(var o=this.prerelease.length;--o>=0;)"number"==typeof this.prerelease[o]&&(this.prerelease[o]++,o=-2);if(-1===o){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(a)}}if(t){var s=[t,a];!1===n&&(s=[t]),0===p(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break;default:throw new Error("invalid increment argument: ".concat(e))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}}])}();e.exports=g},256774:function(e,t,n){var r=n(545856);e.exports=function(e,t){var n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},48879:function(e,t,n){var r=n(373738),i=n(494257),a=n(390767),o=n(818844),s=n(414505),u=n(490323),c=n(601968);e.exports=function(e,t,n,l){switch(t){case"===":return"object"===r(e)&&(e=e.version),"object"===r(n)&&(n=n.version),e===n;case"!==":return"object"===r(e)&&(e=e.version),"object"===r(n)&&(n=n.version),e!==n;case"":case"=":case"==":return i(e,n,l);case"!=":return a(e,n,l);case">":return o(e,n,l);case">=":return s(e,n,l);case"<":return u(e,n,l);case"<=":return c(e,n,l);default:throw new TypeError("Invalid operator: ".concat(t))}}},132858:function(e,t,n){var r=n(660628),i=n(545856),a=n(395494),o=a.safeRe,s=a.t;e.exports=function(e,t){if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;var n=null;if((t=t||{}).rtl){for(var a,u=t.includePrerelease?o[s.COERCERTLFULL]:o[s.COERCERTL];(a=u.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&a.index+a[0].length===n.index+n[0].length||(n=a),u.lastIndex=a.index+a[1].length+a[2].length;u.lastIndex=-1}else n=e.match(t.includePrerelease?o[s.COERCEFULL]:o[s.COERCE]);if(null===n)return null;var c=n[2],l=n[3]||"0",f=n[4]||"0",d=t.includePrerelease&&n[5]?"-".concat(n[5]):"",v=t.includePrerelease&&n[6]?"+".concat(n[6]):"";return i("".concat(c,".").concat(l,".").concat(f).concat(d).concat(v),t)}},939021:function(e,t,n){var r=n(660628);e.exports=function(e,t,n){var i=new r(e,n),a=new r(t,n);return i.compare(a)||i.compareBuild(a)}},809875:function(e,t,n){var r=n(444960);e.exports=function(e,t){return r(e,t,!0)}},444960:function(e,t,n){var r=n(660628);e.exports=function(e,t,n){return new r(e,n).compare(new r(t,n))}},58552:function(e,t,n){var r=n(545856);e.exports=function(e,t){var n=r(e,null,!0),i=r(t,null,!0),a=n.compare(i);if(0===a)return null;var o=a>0,s=o?n:i,u=o?i:n,c=!!s.prerelease.length;if(!!u.prerelease.length&&!c){if(!u.patch&&!u.minor)return"major";if(0===u.compareMain(s))return u.minor&&!u.patch?"minor":"patch"}var l=c?"pre":"";return n.major!==i.major?l+"major":n.minor!==i.minor?l+"minor":n.patch!==i.patch?l+"patch":"prerelease"}},494257:function(e,t,n){var r=n(444960);e.exports=function(e,t,n){return 0===r(e,t,n)}},818844:function(e,t,n){var r=n(444960);e.exports=function(e,t,n){return r(e,t,n)>0}},414505:function(e,t,n){var r=n(444960);e.exports=function(e,t,n){return r(e,t,n)>=0}},53423:function(e,t,n){var r=n(660628);e.exports=function(e,t,n,i,a){"string"==typeof n&&(a=i,i=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,i,a).version}catch(e){return null}}},490323:function(e,t,n){var r=n(444960);e.exports=function(e,t,n){return r(e,t,n)<0}},601968:function(e,t,n){var r=n(444960);e.exports=function(e,t,n){return r(e,t,n)<=0}},248650:function(e,t,n){var r=n(660628);e.exports=function(e,t){return new r(e,t).major}},945614:function(e,t,n){var r=n(660628);e.exports=function(e,t){return new r(e,t).minor}},390767:function(e,t,n){var r=n(444960);e.exports=function(e,t,n){return 0!==r(e,t,n)}},545856:function(e,t,n){var r=n(660628);e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},740205:function(e,t,n){var r=n(660628);e.exports=function(e,t){return new r(e,t).patch}},750961:function(e,t,n){var r=n(545856);e.exports=function(e,t){var n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},23602:function(e,t,n){var r=n(444960);e.exports=function(e,t,n){return r(t,e,n)}},673637:function(e,t,n){var r=n(939021);e.exports=function(e,t){return e.sort((function(e,n){return r(n,e,t)}))}},259878:function(e,t,n){var r=n(38727);e.exports=function(e,t,n){try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},150647:function(e,t,n){var r=n(939021);e.exports=function(e,t){return e.sort((function(e,n){return r(e,n,t)}))}},756313:function(e,t,n){var r=n(545856);e.exports=function(e,t){var n=r(e,t);return n?n.version:null}},389477:function(e,t,n){var r=n(395494),i=n(630506),a=n(660628),o=n(164003),s=n(545856),u=n(756313),c=n(256774),l=n(53423),f=n(58552),d=n(248650),v=n(945614),h=n(740205),p=n(750961),g=n(444960),y=n(23602),m=n(809875),b=n(939021),E=n(150647),_=n(673637),A=n(818844),S=n(490323),k=n(494257),w=n(390767),O=n(414505),I=n(601968),C=n(48879),T=n(132858),x=n(307536),N=n(38727),R=n(259878),P=n(787263),L=n(429260),j=n(326254),D=n(654893),M=n(397138),F=n(503795),U=n(881491),B=n(511262),V=n(771180),K=n(688237),Z=n(251800);e.exports={parse:s,valid:u,clean:c,inc:l,diff:f,major:d,minor:v,patch:h,prerelease:p,compare:g,rcompare:y,compareLoose:m,compareBuild:b,sort:E,rsort:_,gt:A,lt:S,eq:k,neq:w,gte:O,lte:I,cmp:C,coerce:T,Comparator:x,Range:N,satisfies:R,toComparators:P,maxSatisfying:L,minSatisfying:j,minVersion:D,validRange:M,outside:F,gtr:U,ltr:B,intersects:V,simplifyRange:K,subset:Z,SemVer:a,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},630506:function(e){var t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},63992:function(e,t,n){var r=n(373738),i="object"===("undefined"==typeof process?"undefined":r(process))&&{API_BASE_URL:void 0,CDN_URL:"https://assets.twitch.tv/",GQL_BASE_URL:void 0,PASSPORT_BASE_URL:void 0,INTERPOL_BASE_URL:void 0,PUBSUB_ENV:void 0,TMI_BASE_URL:void 0,MANIFEST_URL:"https://assets.twitch.tv/config/manifest.json?v=1",NODE_ENV:"production",PLAYER_BASE_URL:"https://player.twitch.tv",SITE_NAME:void 0,IS_DEV_BUILD:!1,IS_STAGING_BUILD:!1,IS_LOCAL_DEVSERVER:!1}.NODE_DEBUG&&/\bsemver\b/i.test({API_BASE_URL:void 0,CDN_URL:"https://assets.twitch.tv/",GQL_BASE_URL:void 0,PASSPORT_BASE_URL:void 0,INTERPOL_BASE_URL:void 0,PUBSUB_ENV:void 0,TMI_BASE_URL:void 0,MANIFEST_URL:"https://assets.twitch.tv/config/manifest.json?v=1",NODE_ENV:"production",PLAYER_BASE_URL:"https://player.twitch.tv",SITE_NAME:void 0,IS_DEV_BUILD:!1,IS_STAGING_BUILD:!1,IS_LOCAL_DEVSERVER:!1}.NODE_DEBUG)?function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["SEMVER"].concat(n))}:function(){};e.exports=i},164003:function(e){var t=/^[0-9]+$/,n=function(e,n){var r=t.test(e),i=t.test(n);return r&&i&&(e=+e,n=+n),e===n?0:r&&!i?-1:i&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:function(e,t){return n(t,e)}}},279546:function(e,t,n){var r=n(517383),i=n(334579),a=function(){"use strict";return i((function e(){r(this,e),this.max=1e3,this.map=new Map}),[{key:"get",value:function(e){var t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}},{key:"delete",value:function(e){return this.map.delete(e)}},{key:"set",value:function(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){var n=this.map.keys().next().value;this.delete(n)}this.map.set(e,t)}return this}}])}();e.exports=a},356987:function(e,t,n){var r=n(373738),i=Object.freeze({loose:!0}),a=Object.freeze({});e.exports=function(e){return e?"object"!==r(e)?i:e:a}},395494:function(e,t,n){var r=n(585715),i=n(630506),a=i.MAX_SAFE_COMPONENT_LENGTH,o=i.MAX_SAFE_BUILD_LENGTH,s=i.MAX_LENGTH,u=n(63992),c=(t=e.exports={}).re=[],l=t.safeRe=[],f=t.src=[],d=t.safeSrc=[],v=t.t={},h=0,p="[a-zA-Z0-9-]",g=[["\\s",1],["\\d",s],[p,o]],y=function(e,t,n){var i=function(e){for(var t=0,n=g;t<n.length;t++){var i=r(n[t],2),a=i[0],o=i[1];e=e.split("".concat(a,"*")).join("".concat(a,"{0,").concat(o,"}")).split("".concat(a,"+")).join("".concat(a,"{1,").concat(o,"}"))}return e}(t),a=h++;u(e,a,t),v[e]=a,f[a]=t,d[a]=i,c[a]=new RegExp(t,n?"g":void 0),l[a]=new RegExp(i,n?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(p,"*")),y("MAINVERSION","(".concat(f[v.NUMERICIDENTIFIER],")\\.")+"(".concat(f[v.NUMERICIDENTIFIER],")\\.")+"(".concat(f[v.NUMERICIDENTIFIER],")")),y("MAINVERSIONLOOSE","(".concat(f[v.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(f[v.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(f[v.NUMERICIDENTIFIERLOOSE],")")),y("PRERELEASEIDENTIFIER","(?:".concat(f[v.NUMERICIDENTIFIER],"|").concat(f[v.NONNUMERICIDENTIFIER],")")),y("PRERELEASEIDENTIFIERLOOSE","(?:".concat(f[v.NUMERICIDENTIFIERLOOSE],"|").concat(f[v.NONNUMERICIDENTIFIER],")")),y("PRERELEASE","(?:-(".concat(f[v.PRERELEASEIDENTIFIER],"(?:\\.").concat(f[v.PRERELEASEIDENTIFIER],")*))")),y("PRERELEASELOOSE","(?:-?(".concat(f[v.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(f[v.PRERELEASEIDENTIFIERLOOSE],")*))")),y("BUILDIDENTIFIER","".concat(p,"+")),y("BUILD","(?:\\+(".concat(f[v.BUILDIDENTIFIER],"(?:\\.").concat(f[v.BUILDIDENTIFIER],")*))")),y("FULLPLAIN","v?".concat(f[v.MAINVERSION]).concat(f[v.PRERELEASE],"?").concat(f[v.BUILD],"?")),y("FULL","^".concat(f[v.FULLPLAIN],"$")),y("LOOSEPLAIN","[v=\\s]*".concat(f[v.MAINVERSIONLOOSE]).concat(f[v.PRERELEASELOOSE],"?").concat(f[v.BUILD],"?")),y("LOOSE","^".concat(f[v.LOOSEPLAIN],"$")),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE","".concat(f[v.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),y("XRANGEIDENTIFIER","".concat(f[v.NUMERICIDENTIFIER],"|x|X|\\*")),y("XRANGEPLAIN","[v=\\s]*(".concat(f[v.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(f[v.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(f[v.XRANGEIDENTIFIER],")")+"(?:".concat(f[v.PRERELEASE],")?").concat(f[v.BUILD],"?")+")?)?"),y("XRANGEPLAINLOOSE","[v=\\s]*(".concat(f[v.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(f[v.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(f[v.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(f[v.PRERELEASELOOSE],")?").concat(f[v.BUILD],"?")+")?)?"),y("XRANGE","^".concat(f[v.GTLT],"\\s*").concat(f[v.XRANGEPLAIN],"$")),y("XRANGELOOSE","^".concat(f[v.GTLT],"\\s*").concat(f[v.XRANGEPLAINLOOSE],"$")),y("COERCEPLAIN","".concat("(^|[^\\d])(\\d{1,").concat(a,"})")+"(?:\\.(\\d{1,".concat(a,"}))?")+"(?:\\.(\\d{1,".concat(a,"}))?")),y("COERCE","".concat(f[v.COERCEPLAIN],"(?:$|[^\\d])")),y("COERCEFULL",f[v.COERCEPLAIN]+"(?:".concat(f[v.PRERELEASE],")?")+"(?:".concat(f[v.BUILD],")?")+"(?:$|[^\\d])"),y("COERCERTL",f[v.COERCE],!0),y("COERCERTLFULL",f[v.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM","(\\s*)".concat(f[v.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",y("TILDE","^".concat(f[v.LONETILDE]).concat(f[v.XRANGEPLAIN],"$")),y("TILDELOOSE","^".concat(f[v.LONETILDE]).concat(f[v.XRANGEPLAINLOOSE],"$")),y("LONECARET","(?:\\^)"),y("CARETTRIM","(\\s*)".concat(f[v.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",y("CARET","^".concat(f[v.LONECARET]).concat(f[v.XRANGEPLAIN],"$")),y("CARETLOOSE","^".concat(f[v.LONECARET]).concat(f[v.XRANGEPLAINLOOSE],"$")),y("COMPARATORLOOSE","^".concat(f[v.GTLT],"\\s*(").concat(f[v.LOOSEPLAIN],")$|^$")),y("COMPARATOR","^".concat(f[v.GTLT],"\\s*(").concat(f[v.FULLPLAIN],")$|^$")),y("COMPARATORTRIM","(\\s*)".concat(f[v.GTLT],"\\s*(").concat(f[v.LOOSEPLAIN],"|").concat(f[v.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE","^\\s*(".concat(f[v.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(f[v.XRANGEPLAIN],")")+"\\s*$"),y("HYPHENRANGELOOSE","^\\s*(".concat(f[v.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(f[v.XRANGEPLAINLOOSE],")")+"\\s*$"),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},881491:function(e,t,n){var r=n(503795);e.exports=function(e,t,n){return r(e,t,">",n)}},771180:function(e,t,n){var r=n(38727);e.exports=function(e,t,n){return e=new r(e,n),t=new r(t,n),e.intersects(t,n)}},511262:function(e,t,n){var r=n(503795);e.exports=function(e,t,n){return r(e,t,"<",n)}},429260:function(e,t,n){var r=n(660628),i=n(38727);e.exports=function(e,t,n){var a=null,o=null,s=null;try{s=new i(t,n)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(a&&-1!==o.compare(e)||(o=new r(a=e,n)))})),a}},326254:function(e,t,n){var r=n(660628),i=n(38727);e.exports=function(e,t,n){var a=null,o=null,s=null;try{s=new i(t,n)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(a&&1!==o.compare(e)||(o=new r(a=e,n)))})),a}},654893:function(e,t,n){var r=n(660628),i=n(38727),a=n(818844);e.exports=function(e,t){e=new i(e,t);var n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(var o=function(){var t=e.set[s],i=null;t.forEach((function(e){var t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!a(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(e.operator))}})),!i||n&&!a(n,i)||(n=i)},s=0;s<e.set.length;++s)o();return n&&e.test(n)?n:null}},503795:function(e,t,n){var r=n(660628),i=n(307536),a=i.ANY,o=n(38727),s=n(259878),u=n(818844),c=n(490323),l=n(601968),f=n(414505);e.exports=function(e,t,n,d){var v,h,p,g,y;switch(e=new r(e,d),t=new o(t,d),n){case">":v=u,h=l,p=c,g=">",y=">=";break;case"<":v=c,h=f,p=u,g="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,d))return!1;for(var m,b=function(){var n=t.set[E],r=null,o=null;return n.forEach((function(e){e.semver===a&&(e=new i(">=0.0.0")),r=r||e,o=o||e,v(e.semver,r.semver,d)?r=e:p(e.semver,o.semver,d)&&(o=e)})),r.operator===g||r.operator===y?{v:!1}:o.operator&&o.operator!==g||!h(e,o.semver)?o.operator===y&&p(e,o.semver)?{v:!1}:void 0:{v:!1}},E=0;E<t.set.length;++E)if(m=b())return m.v;return!0}},688237:function(e,t,n){var r=n(585715);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o=n(259878),s=n(444960);e.exports=function(e,t,n){var a,u=[],c=null,l=null,f=e.sort((function(e,t){return s(e,t,n)})),d=i(f);try{for(d.s();!(a=d.n()).done;){var v=a.value;o(v,t,n)?(l=v,c||(c=v)):(l&&u.push([c,l]),l=null,c=null)}}catch(e){d.e(e)}finally{d.f()}c&&u.push([c,null]);for(var h=[],p=0,g=u;p<g.length;p++){var y=r(g[p],2),m=y[0],b=y[1];m===b?h.push(m):b||m!==f[0]?b?m===f[0]?h.push("<=".concat(b)):h.push("".concat(m," - ").concat(b)):h.push(">=".concat(m)):h.push("*")}var E=h.join(" || "),_="string"==typeof t.raw?t.raw:String(t);return E.length<_.length?E:t}},251800:function(e,t,n){function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=n(38727),o=n(307536),s=o.ANY,u=n(259878),c=n(444960),l=[new o(">=0.0.0-0")],f=[new o(">=0.0.0")],d=function(e,t,n){if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=n.includePrerelease?l:f}if(1===t.length&&t[0].semver===s){if(n.includePrerelease)return!0;t=f}var i,a,o,d,p=new Set,g=r(e);try{for(g.s();!(o=g.n()).done;){var y=o.value;">"===y.operator||">="===y.operator?i=v(i,y,n):"<"===y.operator||"<="===y.operator?a=h(a,y,n):p.add(y.semver)}}catch(e){g.e(e)}finally{g.f()}if(p.size>1)return null;if(i&&a){if((d=c(i.semver,a.semver,n))>0)return null;if(0===d&&(">="!==i.operator||"<="!==a.operator))return null}var m,b,E,_,A,S=r(p);try{for(S.s();!(m=S.n()).done;){var k=m.value;if(i&&!u(k,String(i),n))return null;if(a&&!u(k,String(a),n))return null;var w,O=r(t);try{for(O.s();!(w=O.n()).done;){var I=w.value;if(!u(k,String(I),n))return!1}}catch(e){O.e(e)}finally{O.f()}return!0}}catch(e){S.e(e)}finally{S.f()}var C=!(!a||n.includePrerelease||!a.semver.prerelease.length)&&a.semver,T=!(!i||n.includePrerelease||!i.semver.prerelease.length)&&i.semver;C&&1===C.prerelease.length&&"<"===a.operator&&0===C.prerelease[0]&&(C=!1);var x,N=r(t);try{for(N.s();!(x=N.n()).done;){var R=x.value;if(A=A||">"===R.operator||">="===R.operator,_=_||"<"===R.operator||"<="===R.operator,i)if(T&&R.semver.prerelease&&R.semver.prerelease.length&&R.semver.major===T.major&&R.semver.minor===T.minor&&R.semver.patch===T.patch&&(T=!1),">"===R.operator||">="===R.operator){if((b=v(i,R,n))===R&&b!==i)return!1}else if(">="===i.operator&&!u(i.semver,String(R),n))return!1;if(a)if(C&&R.semver.prerelease&&R.semver.prerelease.length&&R.semver.major===C.major&&R.semver.minor===C.minor&&R.semver.patch===C.patch&&(C=!1),"<"===R.operator||"<="===R.operator){if((E=h(a,R,n))===R&&E!==a)return!1}else if("<="===a.operator&&!u(a.semver,String(R),n))return!1;if(!R.operator&&(a||i)&&0!==d)return!1}}catch(e){N.e(e)}finally{N.f()}return!(i&&_&&!a&&0!==d)&&(!(a&&A&&!i&&0!==d)&&(!T&&!C))},v=function(e,t,n){if(!e)return t;var r=c(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},h=function(e,t,n){if(!e)return t;var r=c(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;e=new a(e,n),t=new a(t,n);var i,o=!1,s=r(e.set);try{e:for(s.s();!(i=s.n()).done;){var u,c=i.value,l=r(t.set);try{for(l.s();!(u=l.n()).done;){var f=u.value,v=d(c,f,n);if(o=o||null!==v,v)continue e}}catch(e){l.e(e)}finally{l.f()}if(o)return!1}}catch(e){s.e(e)}finally{s.f()}return!0}},787263:function(e,t,n){var r=n(38727);e.exports=function(e,t){return new r(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))}},397138:function(e,t,n){var r=n(38727);e.exports=function(e,t){try{return new r(e,t).range||"*"}catch(e){return null}}},271306:function(e,t,n){var r=n(177693),i=n(286162),a=i;a.v1=r,a.v4=i,e.exports=a},851187:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},40490:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},177693:function(e,t,n){var r,i,a=n(40490),o=n(851187),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var v=a();null==f&&(f=r=[1|v[0],v[1],v[2],v[3],v[4],v[5]]),null==d&&(d=i=16383&(v[6]<<8|v[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),p=void 0!==e.nsecs?e.nsecs:u+1,g=h-s+(p-u)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=p,i=d;var y=(1e4*(268435455&(h+=122192928e5))+p)%4294967296;l[c++]=y>>>24&255,l[c++]=y>>>16&255,l[c++]=y>>>8&255,l[c++]=255&y;var m=h/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||o(l)}},286162:function(e,t,n){var r=n(40490),i=n(851187);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},275735:function(e){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|a>>>20)+n|0)&n|~a&r)+t[2]+606105819|0)<<17|i>>>15)+a|0)&a|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|a>>>20)+n|0)&n|~a&r)+t[6]-1473231341|0)<<17|i>>>15)+a|0)&a|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|a>>>20)+n|0)&n|~a&r)+t[10]-42063|0)<<17|i>>>15)+a|0)&a|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&i|~r&a)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|a>>>20)+n|0)&n|~a&r)+t[14]-1502002290|0)<<17|i>>>15)+a|0)&a|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|a>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+a|0)&n|a&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|a>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+a|0)&n|a&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|a>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+a|0)&n|a&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r&a|i&~a)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|a>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+a|0)&n|a&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|a>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+a|0)^a^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|a>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+a|0)^a^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|a>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+a|0)^a^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((a=((a+=((n=((n+=(r^i^a)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|a>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+a|0)^a^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+t[14]-1416354905|0)<<15|i>>>17)+a|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+t[10]-1051523|0)<<15|i>>>17)+a|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+t[6]-1560198380|0)<<15|i>>>17)+a|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((a=((a+=(r^((n=((n+=(i^(r|~a))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|a>>>22)+n|0)^((i=((i+=(n^(a|~r))+t[2]+718787259|0)<<15|i>>>17)+a|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=a+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function a(e){var t,i,a,o,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(l,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(n(l,a),t=0;t<16;t+=1)a[t]=0;return o=(o=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(o[2],16),u=parseInt(o[1],16)||0,a[14]=s,a[15]=u,n(l,a),l}function o(e){var t,r,a,o,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(l,i(e.subarray(t-64,t)));for(r=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)a[t>>2]|=e[t]<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(n(l,a),t=0;t<16;t+=1)a[t]=0;return o=(o=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(o[2],16),u=parseInt(o[1],16)||0,a[14]=s,a[15]=u,n(l,a),l}function s(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function u(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e,t){var n,r=e.length,i=new ArrayBuffer(r),a=new Uint8Array(i);for(n=0;n<r;n+=1)a[n]=e.charCodeAt(n);return t?a:i}function f(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function d(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function v(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function h(){this.reset()}return u(a("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var i,a,o,s,u=this.byteLength,c=t(n,u),l=u;return r!==e&&(l=t(r,u)),c>l?new ArrayBuffer(0):(i=l-c,a=new ArrayBuffer(i),o=new Uint8Array(a),s=new Uint8Array(this,c,i),o.set(s),a)}}(),h.prototype.append=function(e){return this.appendBinary(c(e)),this},h.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},h.prototype.end=function(e){var t,n,r=this._buff,i=r.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)a[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(a,i),n=u(this._hash),e&&(n=v(n)),this.reset(),n},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},h.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(e,t){var r,i,a,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(n(this._hash,e),o=0;o<16;o+=1)e[o]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),a=parseInt(r[1],16)||0,e[14]=i,e[15]=a,n(this._hash,e)},h.hash=function(e,t){return h.hashBinary(c(e),t)},h.hashBinary=function(e,t){var n=u(a(e));return t?v(n):n},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(e){var t,r=d(this._buff.buffer,e,!0),a=r.length;for(this._length+=e.byteLength,t=64;t<=a;t+=64)n(this._hash,i(r.subarray(t-64,t)));return this._buff=t-64<a?new Uint8Array(r.buffer.slice(t-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)a[t>>2]|=r[t]<<(t%4<<3);return this._finish(a,i),n=u(this._hash),e&&(n=v(n)),this.reset(),n},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var e=h.prototype.getState.call(this);return e.buff=f(e.buff),e},h.ArrayBuffer.prototype.setState=function(e){return e.buff=l(e.buff,!0),h.prototype.setState.call(this,e)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(e,t){var n=u(o(new Uint8Array(e)));return t?v(n):n},h}()},611775:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=t.validate=t.v7=t.v6ToV1=t.v6=t.v5=t.v4=t.v3=t.v1ToV6=t.v1=t.stringify=t.parse=t.NIL=t.MAX=void 0;var r=n(559253);Object.defineProperty(t,"MAX",{enumerable:!0,get:function(){return r.default}});var i=n(632392);Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return i.default}});var a=n(835848);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return a.default}});var o=n(409958);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.default}});var s=n(673598);Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return s.default}});var u=n(703831);Object.defineProperty(t,"v1ToV6",{enumerable:!0,get:function(){return u.default}});var c=n(129140);Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return c.default}});var l=n(756737);Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return l.default}});var f=n(865810);Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return f.default}});var d=n(72607);Object.defineProperty(t,"v6",{enumerable:!0,get:function(){return d.default}});var v=n(29923);Object.defineProperty(t,"v6ToV1",{enumerable:!0,get:function(){return v.default}});var h=n(537992);Object.defineProperty(t,"v7",{enumerable:!0,get:function(){return h.default}});var p=n(203389);Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return p.default}});var g=n(806159);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return g.default}})},559253:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="ffffffff-ffff-ffff-ffff-ffffffffffff"},813495:function(e,t){"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function r(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,i,a,o){return r((s=r(r(t,e),r(i,o)))<<(u=a)|s>>>32-u,n);var s,u}function a(e,t,n,r,a,o,s){return i(t&n|~t&r,e,t,a,o,s)}function o(e,t,n,r,a,o,s){return i(t&r|n&~r,e,t,a,o,s)}function s(e,t,n,r,a,o,s){return i(t^n^r,e,t,a,o,s)}function u(e,t,n,r,a,o,s){return i(n^(t|~r),e,t,a,o,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(e){for(var t=new Uint8Array(4*e.length),n=0;n<4*e.length;n++)t[n]=e[n>>2]>>>n%4*8&255;return t}(function(e,t){var i=new Uint32Array(n(t)).fill(0);i.set(e),i[t>>5]|=128<<t%32,i[i.length-1]=t,e=i;for(var c=1732584193,l=-271733879,f=-1732584194,d=271733878,v=0;v<e.length;v+=16){var h=c,p=l,g=f,y=d;c=a(c,l,f,d,e[v],7,-680876936),d=a(d,c,l,f,e[v+1],12,-389564586),f=a(f,d,c,l,e[v+2],17,606105819),l=a(l,f,d,c,e[v+3],22,-1044525330),c=a(c,l,f,d,e[v+4],7,-176418897),d=a(d,c,l,f,e[v+5],12,1200080426),f=a(f,d,c,l,e[v+6],17,-1473231341),l=a(l,f,d,c,e[v+7],22,-45705983),c=a(c,l,f,d,e[v+8],7,1770035416),d=a(d,c,l,f,e[v+9],12,-1958414417),f=a(f,d,c,l,e[v+10],17,-42063),l=a(l,f,d,c,e[v+11],22,-1990404162),c=a(c,l,f,d,e[v+12],7,1804603682),d=a(d,c,l,f,e[v+13],12,-40341101),f=a(f,d,c,l,e[v+14],17,-1502002290),c=o(c,l=a(l,f,d,c,e[v+15],22,1236535329),f,d,e[v+1],5,-165796510),d=o(d,c,l,f,e[v+6],9,-1069501632),f=o(f,d,c,l,e[v+11],14,643717713),l=o(l,f,d,c,e[v],20,-373897302),c=o(c,l,f,d,e[v+5],5,-701558691),d=o(d,c,l,f,e[v+10],9,38016083),f=o(f,d,c,l,e[v+15],14,-660478335),l=o(l,f,d,c,e[v+4],20,-405537848),c=o(c,l,f,d,e[v+9],5,568446438),d=o(d,c,l,f,e[v+14],9,-1019803690),f=o(f,d,c,l,e[v+3],14,-187363961),l=o(l,f,d,c,e[v+8],20,1163531501),c=o(c,l,f,d,e[v+13],5,-1444681467),d=o(d,c,l,f,e[v+2],9,-51403784),f=o(f,d,c,l,e[v+7],14,1735328473),c=s(c,l=o(l,f,d,c,e[v+12],20,-1926607734),f,d,e[v+5],4,-378558),d=s(d,c,l,f,e[v+8],11,-2022574463),f=s(f,d,c,l,e[v+11],16,1839030562),l=s(l,f,d,c,e[v+14],23,-35309556),c=s(c,l,f,d,e[v+1],4,-1530992060),d=s(d,c,l,f,e[v+4],11,1272893353),f=s(f,d,c,l,e[v+7],16,-155497632),l=s(l,f,d,c,e[v+10],23,-1094730640),c=s(c,l,f,d,e[v+13],4,681279174),d=s(d,c,l,f,e[v],11,-358537222),f=s(f,d,c,l,e[v+3],16,-722521979),l=s(l,f,d,c,e[v+6],23,76029189),c=s(c,l,f,d,e[v+9],4,-640364487),d=s(d,c,l,f,e[v+12],11,-421815835),f=s(f,d,c,l,e[v+15],16,530742520),c=u(c,l=s(l,f,d,c,e[v+2],23,-995338651),f,d,e[v],6,-198630844),d=u(d,c,l,f,e[v+7],10,1126891415),f=u(f,d,c,l,e[v+14],15,-1416354905),l=u(l,f,d,c,e[v+5],21,-57434055),c=u(c,l,f,d,e[v+12],6,1700485571),d=u(d,c,l,f,e[v+3],10,-1894986606),f=u(f,d,c,l,e[v+10],15,-1051523),l=u(l,f,d,c,e[v+1],21,-2054922799),c=u(c,l,f,d,e[v+8],6,1873313359),d=u(d,c,l,f,e[v+15],10,-30611744),f=u(f,d,c,l,e[v+6],15,-1560198380),l=u(l,f,d,c,e[v+13],21,1309151649),c=u(c,l,f,d,e[v+4],6,-145523070),d=u(d,c,l,f,e[v+11],10,-1120210379),f=u(f,d,c,l,e[v+2],15,718787259),l=u(l,f,d,c,e[v+9],21,-343485551),c=r(c,h),l=r(l,p),f=r(f,g),d=r(d,y)}return Uint32Array.of(c,l,f,d)}(function(e){if(0===e.length)return new Uint32Array;for(var t=new Uint32Array(n(8*e.length)).fill(0),r=0;r<e.length;r++)t[r>>2]|=(255&e[r])<<r%4*8;return t}(e),8*e.length))}},525612:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:n}},632392:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="00000000-0000-0000-0000-000000000000"},835848:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(203389);t.default=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");var t;return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,255&t,(t=parseInt(e.slice(9,13),16))>>>8,255&t,(t=parseInt(e.slice(14,18),16))>>>8,255&t,(t=parseInt(e.slice(19,23),16))>>>8,255&t,(t=parseInt(e.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,255&t)}},367256:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},876954:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var r=new Uint8Array(16);t.default=function(){if(!n){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");n=crypto.getRandomValues.bind(crypto)}return n(r)}},826786:function(e,t){"use strict";function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520],a=new Uint8Array(e.length+1);a.set(e),a[e.length]=128;for(var o=(e=a).length/4+2,s=Math.ceil(o/16),u=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),f=0;f<16;++f)l[f]=e[64*c+4*f]<<24|e[64*c+4*f+1]<<16|e[64*c+4*f+2]<<8|e[64*c+4*f+3];u[c]=l}u[s-1][14]=8*(e.length-1)/Math.pow(2,32),u[s-1][14]=Math.floor(u[s-1][14]),u[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var v=new Uint32Array(80),h=0;h<16;++h)v[h]=u[d][h];for(var p=16;p<80;++p)v[p]=r(v[p-3]^v[p-8]^v[p-14]^v[p-16],1);for(var g=i[0],y=i[1],m=i[2],b=i[3],E=i[4],_=0;_<80;++_){var A=Math.floor(_/20),S=r(g,5)+n(A,y,m,b)+E+t[A]+v[_]>>>0;E=b,b=m,m=r(y,30)>>>0,y=g,g=S}i[0]=i[0]+g>>>0,i[1]=i[1]+y>>>0,i[2]=i[2]+m>>>0,i[3]=i[3]+b>>>0,i[4]=i[4]+E>>>0}return Uint8Array.of(i[0]>>24,i[0]>>16,i[0]>>8,i[0],i[1]>>24,i[1]>>16,i[1]>>8,i[1],i[2]>>24,i[2]>>16,i[2]>>8,i[2],i[3]>>24,i[3]>>16,i[3]>>8,i[3],i[4]>>24,i[4]>>16,i[4]>>8,i[4])}},409958:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsafeStringify=void 0;for(var r=n(203389),i=[],a=0;a<256;++a)i.push((a+256).toString(16).slice(1));function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}t.unsafeStringify=o,t.default=function(e){var t=o(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,r.default)(t))throw TypeError("Stringified UUID is invalid");return t}},673598:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV1State=void 0;var r=n(876954),i=n(409958),a={};function o(e,t,n){var r,i;return null!==(r=e.msecs)&&void 0!==r||(e.msecs=-1/0),null!==(i=e.nsecs)&&void 0!==i||(e.nsecs=0),t===e.msecs?(e.nsecs++,e.nsecs>=1e4&&(e.node=void 0,e.nsecs=0)):t>e.msecs?e.nsecs=0:t<e.msecs&&(e.node=void 0),e.node||(e.node=n.slice(10,16),e.node[0]|=1,e.clockseq=16383&(n[8]<<8|n[9])),e.msecs=t,e}function s(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(e.length<16)throw new Error("Random bytes length must be >= 16");if(a){if(o<0||o+16>a.length)throw new RangeError("UUID byte range ".concat(o,":").concat(o+15," is out of buffer bounds"))}else a=new Uint8Array(16),o=0;null!=t||(t=Date.now()),null!=n||(n=0),null!=r||(r=16383&(e[8]<<8|e[9])),null!=i||(i=e.slice(10,16));var s=(1e4*(268435455&(t+=122192928e5))+n)%4294967296;a[o++]=s>>>24&255,a[o++]=s>>>16&255,a[o++]=s>>>8&255,a[o++]=255&s;var u=t/4294967296*1e4&268435455;a[o++]=u>>>8&255,a[o++]=255&u,a[o++]=u>>>24&15|16,a[o++]=u>>>16&255,a[o++]=r>>>8|128,a[o++]=255&r;for(var c=0;c<6;++c)a[o++]=i[c];return a}t.updateV1State=o,t.default=function(e,t,n){var u,c,l,f=null!==(u=null===(c=e)||void 0===c?void 0:c._v6)&&void 0!==u&&u;if(e){var d=Object.keys(e);1===d.length&&"_v6"===d[0]&&(e=void 0)}if(e){var v,h,p,g;l=s(null!==(v=null!==(h=e.random)&&void 0!==h?h:null===(p=(g=e).rng)||void 0===p?void 0:p.call(g))&&void 0!==v?v:(0,r.default)(),e.msecs,e.nsecs,e.clockseq,e.node,t,n)}else{var y=Date.now(),m=(0,r.default)();o(a,y,m),l=s(m,a.msecs,a.nsecs,f?void 0:a.clockseq,f?void 0:a.node,t,n)}return null!=t?t:(0,i.unsafeStringify)(l)}},703831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(835848),i=n(409958);t.default=function(e){var t=function(e){return Uint8Array.of((15&e[6])<<4|e[7]>>4&15,(15&e[7])<<4|(240&e[4])>>4,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,(15&e[1])<<4|(240&e[2])>>4,96|15&e[2],e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"==typeof e?(0,r.default)(e):e);return"string"==typeof e?(0,i.unsafeStringify)(t):t}},129140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;var r=n(813495),i=n(245345),a=n(245345);function o(e,t,n,a){return(0,i.default)(48,r.default,e,t,n,a)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return a.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return a.URL}}),o.DNS=i.DNS,o.URL=i.URL,t.default=o},245345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=t.stringToBytes=void 0;var r=n(835848),i=n(409958);function a(e){e=unescape(encodeURIComponent(e));for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}t.stringToBytes=a,t.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",t.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",t.default=function(e,t,n,o,s,u){var c,l="string"==typeof n?a(n):n,f="string"==typeof o?(0,r.default)(o):o;if("string"==typeof o&&(o=(0,r.default)(o)),16!==(null===(c=o)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+l.length);if(d.set(f),d.set(l,f.length),(d=t(d))[6]=15&d[6]|e,d[8]=63&d[8]|128,s){u=u||0;for(var v=0;v<16;++v)s[u+v]=d[v];return s}return(0,i.unsafeStringify)(d)}},756737:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(525612),i=n(876954),a=n(409958);t.default=function(e,t,n){var o,s,u,c;if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();var l=null!==(o=null!==(s=(e=e||{}).random)&&void 0!==s?s:null===(u=(c=e).rng)||void 0===u?void 0:u.call(c))&&void 0!==o?o:(0,i.default)();if(l.length<16)throw new Error("Random bytes length must be >= 16");if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError("UUID byte range ".concat(n,":").concat(n+15," is out of buffer bounds"));for(var f=0;f<16;++f)t[n+f]=l[f];return t}return(0,a.unsafeStringify)(l)}},865810:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;var r=n(826786),i=n(245345),a=n(245345);function o(e,t,n,a){return(0,i.default)(80,r.default,e,t,n,a)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return a.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return a.URL}}),o.DNS=i.DNS,o.URL=i.URL,t.default=o},72607:function(e,t,n){"use strict";var r=n(443693);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(409958),s=n(673598),u=n(703831);t.default=function(e,t,n){null!=e||(e={}),null!=n||(n=0);var r=(0,s.default)(a(a({},e),{},{_v6:!0}),new Uint8Array(16));if(r=(0,u.default)(r),t){for(var i=0;i<16;i++)t[n+i]=r[i];return t}return(0,o.unsafeStringify)(r)}},29923:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(835848),i=n(409958);t.default=function(e){var t=function(e){return Uint8Array.of((15&e[3])<<4|e[4]>>4&15,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|15&e[6],e[7],(15&e[1])<<4|(240&e[2])>>4,(15&e[2])<<4|(240&e[3])>>4,16|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"==typeof e?(0,r.default)(e):e);return"string"==typeof e?(0,i.unsafeStringify)(t):t}},537992:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV7State=void 0;var r=n(876954),i=n(409958),a={};function o(e,t,n){var r,i;return null!==(r=e.msecs)&&void 0!==r||(e.msecs=-1/0),null!==(i=e.seq)&&void 0!==i||(e.seq=0),t>e.msecs?(e.seq=n[6]<<23|n[7]<<16|n[8]<<8|n[9],e.msecs=t):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++),e}function s(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e.length<16)throw new Error("Random bytes length must be >= 16");if(r){if(i<0||i+16>r.length)throw new RangeError("UUID byte range ".concat(i,":").concat(i+15," is out of buffer bounds"))}else r=new Uint8Array(16),i=0;return null!=t||(t=Date.now()),null!=n||(n=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9]),r[i++]=t/1099511627776&255,r[i++]=t/4294967296&255,r[i++]=t/16777216&255,r[i++]=t/65536&255,r[i++]=t/256&255,r[i++]=255&t,r[i++]=112|n>>>28&15,r[i++]=n>>>20&255,r[i++]=128|n>>>14&63,r[i++]=n>>>6&255,r[i++]=n<<2&255|3&e[10],r[i++]=e[11],r[i++]=e[12],r[i++]=e[13],r[i++]=e[14],r[i++]=e[15],r}t.updateV7State=o,t.default=function(e,t,n){var u;if(e){var c,l,f;u=s(null!==(c=null!==(l=e.random)&&void 0!==l?l:null===(f=e.rng)||void 0===f?void 0:f.call(e))&&void 0!==c?c:(0,r.default)(),e.msecs,e.seq,t,n)}else{var d=Date.now(),v=(0,r.default)();o(a,d,v),u=s(v,a.msecs,a.seq,t,n)}return null!=t?t:(0,i.unsafeStringify)(u)}},203389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(367256);t.default=function(e){return"string"==typeof e&&r.default.test(e)}},806159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(203389);t.default=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},59616:function(e,t,n){"use strict";n.d(t,{Ay:function(){return Zt},z:function(){return Zt}});var r,i,a=n(205544),o=n(310467),s=n(160436),u=n(23029),c=n(92901),l=n(56822),f=n(353954),d=n(885501),v=n(328614),h=n(282284),p=n(364467),g=n(354756);function y(e,t,n){return t=(0,f.A)(t),(0,l.A)(e,m()?Reflect.construct(t,n||[],(0,f.A)(e).constructor):t.apply(e,n))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,p.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.assertEqual=function(e){return e},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=function(e){var t,n={},r=_(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i]=i}}catch(e){r.e(e)}finally{r.f()}return n},e.getValidEnumValues=function(t){var n,r=e.objectKeys(t).filter((function(e){return"number"!=typeof t[t[e]]})),i={},a=_(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;i[o]=t[o]}}catch(e){a.e(e)}finally{a.f()}return e.objectValues(i)},e.objectValues=function(t){return e.objectKeys(t).map((function(e){return t[e]}))},e.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=function(e,t){var n,r=_(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t(i))return i}}catch(e){r.e(e)}finally{r.f()}},e.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.joinValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((function(e){return"string"==typeof e?"'".concat(e,"'"):e})).join(t)},e.jsonStringifyReplacer=function(e,t){return"bigint"==typeof t?t.toString():t}}(r||(r={})),function(e){e.mergeShapes=function(e,t){return E(E({},e),t)}}(i||(i={}));var S=r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),k=function(e){switch((0,h.A)(e)){case"undefined":return S.undefined;case"string":return S.string;case"number":return isNaN(e)?S.nan:S.number;case"boolean":return S.boolean;case"function":return S.function;case"bigint":return S.bigint;case"symbol":return S.symbol;case"object":return Array.isArray(e)?S.array:null===e?S.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?S.promise:"undefined"!=typeof Map&&e instanceof Map?S.map:"undefined"!=typeof Set&&e instanceof Set?S.set:"undefined"!=typeof Date&&e instanceof Date?S.date:S.object;default:return S.unknown}},w=r.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),O=function(e){function t(e){var n;(0,u.A)(this,t),(n=y(this,t)).issues=[],n.addIssue=function(e){n.issues=[].concat((0,s.A)(n.issues),[e])},n.addIssues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n.issues=[].concat((0,s.A)(n.issues),(0,s.A)(e))};var r=(this instanceof t?this.constructor:void 0).prototype;return Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r,n.name="ZodError",n.issues=e,n}return(0,d.A)(t,e),(0,c.A)(t,[{key:"errors",get:function(){return this.issues}},{key:"format",value:function(e){var t=e||function(e){return e.message},n={_errors:[]},r=function(e){var i,a=_(e.issues);try{for(a.s();!(i=a.n()).done;){var o=i.value;if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else for(var s=n,u=0;u<o.path.length;){var c=o.path[u];u===o.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(t(o))):s[c]=s[c]||{_errors:[]},s=s[c],u++}}}catch(e){a.e(e)}finally{a.f()}};return r(this),n}},{key:"toString",value:function(){return this.message}},{key:"message",get:function(){return JSON.stringify(this.issues,r.jsonStringifyReplacer,2)}},{key:"isEmpty",get:function(){return 0===this.issues.length}},{key:"flatten",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.message},n={},r=[],i=_(this.issues);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a))}}catch(e){i.e(e)}finally{i.f()}return{formErrors:r,fieldErrors:n}}},{key:"formErrors",get:function(){return this.flatten()}}],[{key:"assert",value:function(e){if(!(e instanceof t))throw new Error("Not a ZodError: ".concat(e))}}])}((0,v.A)(Error));O.create=function(e){return new O(e)};var I=function(e,t){var n;switch(e.code){case w.invalid_type:n=e.received===S.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case w.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,r.jsonStringifyReplacer));break;case w.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(r.joinValues(e.keys,", "));break;case w.invalid_union:n="Invalid input";break;case w.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(r.joinValues(e.options));break;case w.invalid_enum_value:n="Invalid enum value. Expected ".concat(r.joinValues(e.options),", received '").concat(e.received,"'");break;case w.invalid_arguments:n="Invalid function arguments";break;case w.invalid_return_type:n="Invalid function return type";break;case w.invalid_date:n="Invalid date";break;case w.invalid_string:"object"===(0,h.A)(e.validation)?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"==typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):r.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case w.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case w.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case w.custom:n="Invalid input";break;case w.invalid_intersection_types:n="Intersection results could not be merged";break;case w.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case w.not_finite:n="Number must be finite";break;default:n=t.defaultError,r.assertNever(e)}return{message:n}},C=I;function T(){return C}var x=function(e){var t=e.data,n=e.path,r=e.errorMaps,i=e.issueData,a=[].concat((0,s.A)(n),(0,s.A)(i.path||[])),o=E(E({},i),{},{path:a});if(void 0!==i.message)return E(E({},i),{},{path:a,message:i.message});var u,c="",l=_(r.filter((function(e){return!!e})).slice().reverse());try{for(l.s();!(u=l.n()).done;){c=(0,u.value)(o,{data:t,defaultError:c}).message}}catch(e){l.e(e)}finally{l.f()}return E(E({},i),{},{path:a,message:c})};function N(e,t){var n=T(),r=x({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===I?void 0:I].filter((function(e){return!!e}))});e.common.issues.push(r)}var R,P,L,j=function(){function e(){(0,u.A)(this,e),this.value="valid"}return(0,c.A)(e,[{key:"dirty",value:function(){"valid"===this.value&&(this.value="dirty")}},{key:"abort",value:function(){"aborted"!==this.value&&(this.value="aborted")}}],[{key:"mergeArray",value:function(e,t){var n,r=[],i=_(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("aborted"===a.status)return D;"dirty"===a.status&&e.dirty(),r.push(a.value)}}catch(e){i.e(e)}finally{i.f()}return{status:e.value,value:r}}},{key:"mergeObjectAsync",value:(t=(0,o.A)(g.mark((function t(n,r){var i,a,o,s,u,c;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=[],a=_(r),t.prev=2,a.s();case 4:if((o=a.n()).done){t.next=15;break}return s=o.value,t.next=8,s.key;case 8:return u=t.sent,t.next=11,s.value;case 11:c=t.sent,i.push({key:u,value:c});case 13:t.next=4;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),a.e(t.t0);case 20:return t.prev=20,a.f(),t.finish(20);case 23:return t.abrupt("return",e.mergeObjectSync(n,i));case 24:case"end":return t.stop()}}),t,null,[[2,17,20,23]])}))),function(e,n){return t.apply(this,arguments)})},{key:"mergeObjectSync",value:function(e,t){var n,r={},i=_(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.key,s=a.value;if("aborted"===o.status)return D;if("aborted"===s.status)return D;"dirty"===o.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"===o.value||void 0===s.value&&!a.alwaysSet||(r[o.value]=s.value)}}catch(e){i.e(e)}finally{i.f()}return{status:e.value,value:r}}}]);var t}(),D=Object.freeze({status:"aborted"}),M=function(e){return{status:"dirty",value:e}},F=function(e){return{status:"valid",value:e}},U=function(e){return"aborted"===e.status},B=function(e){return"dirty"===e.status},V=function(e){return"valid"===e.status},K=function(e){return"undefined"!=typeof Promise&&e instanceof Promise};function Z(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function z(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},e.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message}}(R||(R={}));var G=function(){return(0,c.A)((function e(t,n,r,i){(0,u.A)(this,e),this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}),[{key:"path",get:function(){var e,t;this._cachedPath.length||(this._key instanceof Array?(e=this._cachedPath).push.apply(e,(0,s.A)(this._path).concat((0,s.A)(this._key))):(t=this._cachedPath).push.apply(t,(0,s.A)(this._path).concat([this._key])));return this._cachedPath}}])}(),q=function(e,t){if(V(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;var t=new O(e.common.issues);return this._error=t,this._error}}};function H(e){if(!e)return{};var t=e.errorMap,n=e.invalid_type_error,r=e.required_error,i=e.description;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:function(t,i){var a,o,s=e.message;return"invalid_enum_value"===t.code?{message:null!=s?s:i.defaultError}:void 0===i.data?{message:null!==(a=null!=s?s:r)&&void 0!==a?a:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(o=null!=s?s:n)&&void 0!==o?o:i.defaultError}},description:i}}var J,W=function(){return(0,c.A)((function e(t){var n=this;(0,u.A)(this,e),this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:function(e){return n["~validate"](e)}}}),[{key:"description",get:function(){return this._def.description}},{key:"_getType",value:function(e){return k(e.data)}},{key:"_getOrReturnCtx",value:function(e,t){return t||{common:e.parent.common,data:e.data,parsedType:k(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}},{key:"_processInputParams",value:function(e){return{status:new j,ctx:{common:e.parent.common,data:e.data,parsedType:k(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}},{key:"_parseSync",value:function(e){var t=this._parse(e);if(K(t))throw new Error("Synchronous parse encountered promise.");return t}},{key:"_parseAsync",value:function(e){var t=this._parse(e);return Promise.resolve(t)}},{key:"parse",value:function(e,t){var n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}},{key:"safeParse",value:function(e,t){var n,r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:k(e)},i=this._parseSync({data:e,path:r.path,parent:r});return q(r,i)}},{key:"~validate",value:function(e){var t,n,r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:k(e)};if(!this["~standard"].async)try{var i=this._parseSync({data:e,path:[],parent:r});return V(i)?{value:i.value}:{issues:r.common.issues}}catch(e){(null===(n=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then((function(e){return V(e)?{value:e.value}:{issues:r.common.issues}}))}},{key:"parseAsync",value:(t=(0,o.A)(g.mark((function e(t,n){var r;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.safeParseAsync(t,n);case 2:if(!(r=e.sent).success){e.next=5;break}return e.abrupt("return",r.data);case 5:throw r.error;case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"safeParseAsync",value:(e=(0,o.A)(g.mark((function e(t,n){var r,i,a;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={common:{issues:[],contextualErrorMap:null==n?void 0:n.errorMap,async:!0},path:(null==n?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:k(t)},i=this._parse({data:t,path:r.path,parent:r}),e.next=4,K(i)?i:Promise.resolve(i);case 4:return a=e.sent,e.abrupt("return",q(r,a));case 6:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"refine",value:function(e,t){return this._refinement((function(n,r){var i=e(n),a=function(){return r.addIssue(E({code:w.custom},function(e){return"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t}(n)))};return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return!!e||(a(),!1)})):!!i||(a(),!1)}))}},{key:"refinement",value:function(e,t){return this._refinement((function(n,r){return!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)}))}},{key:"_refinement",value:function(e){return new He({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:e}})}},{key:"superRefine",value:function(e){return this._refinement(e)}},{key:"optional",value:function(){return Je.create(this,this._def)}},{key:"nullable",value:function(){return We.create(this,this._def)}},{key:"nullish",value:function(){return this.nullable().optional()}},{key:"array",value:function(){return Ce.create(this)}},{key:"promise",value:function(){return qe.create(this,this._def)}},{key:"or",value:function(e){return Ne.create([this,e],this._def)}},{key:"and",value:function(e){return je.create(this,e,this._def)}},{key:"transform",value:function(e){return new He(E(E({},H(this._def)),{},{schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:e}}))}},{key:"default",value:function(e){var t="function"==typeof e?e:function(){return e};return new $e(E(E({},H(this._def)),{},{innerType:this,defaultValue:t,typeName:at.ZodDefault}))}},{key:"brand",value:function(){return new et(E({typeName:at.ZodBranded,type:this},H(this._def)))}},{key:"catch",value:function(e){var t="function"==typeof e?e:function(){return e};return new Qe(E(E({},H(this._def)),{},{innerType:this,catchValue:t,typeName:at.ZodCatch}))}},{key:"describe",value:function(e){return new(0,this.constructor)(E(E({},this._def),{},{description:e}))}},{key:"pipe",value:function(e){return tt.create(this,e)}},{key:"readonly",value:function(){return nt.create(this)}},{key:"isOptional",value:function(){return this.safeParse(void 0).success}},{key:"isNullable",value:function(){return this.safeParse(null).success}}]);var e,t}(),$=/^c[^\s-]{8,}$/i,Q=/^[0-9a-z]+$/,X=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Y=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ee=/^[a-z0-9_-]{21}$/i,te=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ne=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,re=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,se=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ue=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ce=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,le="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fe=new RegExp("^".concat(le,"$"));function de(e){var t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?")),t}function ve(e){var t="".concat(le,"T").concat(de(e)),n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function he(e,t){if(!te.test(e))return!1;try{var n=e.split("."),r=(0,a.A)(n,1)[0],i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(i));return"object"===(0,h.A)(o)&&null!==o&&(!(!o.typ||!o.alg)&&(!t||o.alg===t))}catch(e){return!1}}function pe(e,t){return!("v4"!==t&&t||!ae.test(e))||!("v6"!==t&&t||!se.test(e))}var ge=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==S.string){var t=this._getOrReturnCtx(e);return N(t,{code:w.invalid_type,expected:S.string,received:t.parsedType}),D}var n,i,a,o=new j,s=void 0,u=_(this._def.checks);try{for(u.s();!(n=u.n()).done;){var c=n.value;if("min"===c.kind)e.data.length<c.value&&(N(s=this._getOrReturnCtx(e,s),{code:w.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),o.dirty());else if("max"===c.kind)e.data.length>c.value&&(N(s=this._getOrReturnCtx(e,s),{code:w.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),o.dirty());else if("length"===c.kind){var l=e.data.length>c.value,f=e.data.length<c.value;(l||f)&&(s=this._getOrReturnCtx(e,s),l?N(s,{code:w.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):f&&N(s,{code:w.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),o.dirty())}else if("email"===c.kind)re.test(e.data)||(N(s=this._getOrReturnCtx(e,s),{validation:"email",code:w.invalid_string,message:c.message}),o.dirty());else if("emoji"===c.kind)J||(J=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),J.test(e.data)||(N(s=this._getOrReturnCtx(e,s),{validation:"emoji",code:w.invalid_string,message:c.message}),o.dirty());else if("uuid"===c.kind)Y.test(e.data)||(N(s=this._getOrReturnCtx(e,s),{validation:"uuid",code:w.invalid_string,message:c.message}),o.dirty());else if("nanoid"===c.kind)ee.test(e.data)||(N(s=this._getOrReturnCtx(e,s),{validation:"nanoid",code:w.invalid_string,message:c.message}),o.dirty());else if("cuid"===c.kind)$.test(e.data)||(N(s=this._getOrReturnCtx(e,s),{validation:"cuid",code:w.invalid_string,message:c.message}),o.dirty());else if("cuid2"===c.kind)Q.test(e.data)||(N(s=this._getOrReturnCtx(e,s),{validation:"cuid2",code:w.invalid_string,message:c.message}),o.dirty());else if("ulid"===c.kind)X.test(e.data)||(N(s=this._getOrReturnCtx(e,s),{validation:"ulid",code:w.invalid_string,message:c.message}),o.dirty());else if("url"===c.kind)try{new URL(e.data)}catch(t){N(s=this._getOrReturnCtx(e,s),{validation:"url",code:w.invalid_string,message:c.message}),o.dirty()}else if("regex"===c.kind){c.regex.lastIndex=0,c.regex.test(e.data)||(N(s=this._getOrReturnCtx(e,s),{validation:"regex",code:w.invalid_string,message:c.message}),o.dirty())}else if("trim"===c.kind)e.data=e.data.trim();else if("includes"===c.kind)e.data.includes(c.value,c.position)||(N(s=this._getOrReturnCtx(e,s),{code:w.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),o.dirty());else if("toLowerCase"===c.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===c.kind)e.data=e.data.toUpperCase();else if("startsWith"===c.kind)e.data.startsWith(c.value)||(N(s=this._getOrReturnCtx(e,s),{code:w.invalid_string,validation:{startsWith:c.value},message:c.message}),o.dirty());else if("endsWith"===c.kind)e.data.endsWith(c.value)||(N(s=this._getOrReturnCtx(e,s),{code:w.invalid_string,validation:{endsWith:c.value},message:c.message}),o.dirty());else if("datetime"===c.kind){ve(c).test(e.data)||(N(s=this._getOrReturnCtx(e,s),{code:w.invalid_string,validation:"datetime",message:c.message}),o.dirty())}else if("date"===c.kind){fe.test(e.data)||(N(s=this._getOrReturnCtx(e,s),{code:w.invalid_string,validation:"date",message:c.message}),o.dirty())}else if("time"===c.kind){new RegExp("^".concat(de(c),"$")).test(e.data)||(N(s=this._getOrReturnCtx(e,s),{code:w.invalid_string,validation:"time",message:c.message}),o.dirty())}else"duration"===c.kind?ne.test(e.data)||(N(s=this._getOrReturnCtx(e,s),{validation:"duration",code:w.invalid_string,message:c.message}),o.dirty()):"ip"===c.kind?(i=e.data,("v4"!==(a=c.version)&&a||!ie.test(i))&&("v6"!==a&&a||!oe.test(i))&&(N(s=this._getOrReturnCtx(e,s),{validation:"ip",code:w.invalid_string,message:c.message}),o.dirty())):"jwt"===c.kind?he(e.data,c.alg)||(N(s=this._getOrReturnCtx(e,s),{validation:"jwt",code:w.invalid_string,message:c.message}),o.dirty()):"cidr"===c.kind?pe(e.data,c.version)||(N(s=this._getOrReturnCtx(e,s),{validation:"cidr",code:w.invalid_string,message:c.message}),o.dirty()):"base64"===c.kind?ue.test(e.data)||(N(s=this._getOrReturnCtx(e,s),{validation:"base64",code:w.invalid_string,message:c.message}),o.dirty()):"base64url"===c.kind?ce.test(e.data)||(N(s=this._getOrReturnCtx(e,s),{validation:"base64url",code:w.invalid_string,message:c.message}),o.dirty()):r.assertNever(c)}}catch(e){u.e(e)}finally{u.f()}return{status:o.value,value:e.data}}},{key:"_regex",value:function(e,t,n){return this.refinement((function(t){return e.test(t)}),E({validation:t,code:w.invalid_string},R.errToObj(n)))}},{key:"_addCheck",value:function(e){return new t(E(E({},this._def),{},{checks:[].concat((0,s.A)(this._def.checks),[e])}))}},{key:"email",value:function(e){return this._addCheck(E({kind:"email"},R.errToObj(e)))}},{key:"url",value:function(e){return this._addCheck(E({kind:"url"},R.errToObj(e)))}},{key:"emoji",value:function(e){return this._addCheck(E({kind:"emoji"},R.errToObj(e)))}},{key:"uuid",value:function(e){return this._addCheck(E({kind:"uuid"},R.errToObj(e)))}},{key:"nanoid",value:function(e){return this._addCheck(E({kind:"nanoid"},R.errToObj(e)))}},{key:"cuid",value:function(e){return this._addCheck(E({kind:"cuid"},R.errToObj(e)))}},{key:"cuid2",value:function(e){return this._addCheck(E({kind:"cuid2"},R.errToObj(e)))}},{key:"ulid",value:function(e){return this._addCheck(E({kind:"ulid"},R.errToObj(e)))}},{key:"base64",value:function(e){return this._addCheck(E({kind:"base64"},R.errToObj(e)))}},{key:"base64url",value:function(e){return this._addCheck(E({kind:"base64url"},R.errToObj(e)))}},{key:"jwt",value:function(e){return this._addCheck(E({kind:"jwt"},R.errToObj(e)))}},{key:"ip",value:function(e){return this._addCheck(E({kind:"ip"},R.errToObj(e)))}},{key:"cidr",value:function(e){return this._addCheck(E({kind:"cidr"},R.errToObj(e)))}},{key:"datetime",value:function(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(E({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n},R.errToObj(null==e?void 0:e.message)))}},{key:"date",value:function(e){return this._addCheck({kind:"date",message:e})}},{key:"time",value:function(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(E({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision},R.errToObj(null==e?void 0:e.message)))}},{key:"duration",value:function(e){return this._addCheck(E({kind:"duration"},R.errToObj(e)))}},{key:"regex",value:function(e,t){return this._addCheck(E({kind:"regex",regex:e},R.errToObj(t)))}},{key:"includes",value:function(e,t){return this._addCheck(E({kind:"includes",value:e,position:null==t?void 0:t.position},R.errToObj(null==t?void 0:t.message)))}},{key:"startsWith",value:function(e,t){return this._addCheck(E({kind:"startsWith",value:e},R.errToObj(t)))}},{key:"endsWith",value:function(e,t){return this._addCheck(E({kind:"endsWith",value:e},R.errToObj(t)))}},{key:"min",value:function(e,t){return this._addCheck(E({kind:"min",value:e},R.errToObj(t)))}},{key:"max",value:function(e,t){return this._addCheck(E({kind:"max",value:e},R.errToObj(t)))}},{key:"length",value:function(e,t){return this._addCheck(E({kind:"length",value:e},R.errToObj(t)))}},{key:"nonempty",value:function(e){return this.min(1,R.errToObj(e))}},{key:"trim",value:function(){return new t(E(E({},this._def),{},{checks:[].concat((0,s.A)(this._def.checks),[{kind:"trim"}])}))}},{key:"toLowerCase",value:function(){return new t(E(E({},this._def),{},{checks:[].concat((0,s.A)(this._def.checks),[{kind:"toLowerCase"}])}))}},{key:"toUpperCase",value:function(){return new t(E(E({},this._def),{},{checks:[].concat((0,s.A)(this._def.checks),[{kind:"toUpperCase"}])}))}},{key:"isDatetime",get:function(){return!!this._def.checks.find((function(e){return"datetime"===e.kind}))}},{key:"isDate",get:function(){return!!this._def.checks.find((function(e){return"date"===e.kind}))}},{key:"isTime",get:function(){return!!this._def.checks.find((function(e){return"time"===e.kind}))}},{key:"isDuration",get:function(){return!!this._def.checks.find((function(e){return"duration"===e.kind}))}},{key:"isEmail",get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))}},{key:"isURL",get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))}},{key:"isEmoji",get:function(){return!!this._def.checks.find((function(e){return"emoji"===e.kind}))}},{key:"isUUID",get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))}},{key:"isNANOID",get:function(){return!!this._def.checks.find((function(e){return"nanoid"===e.kind}))}},{key:"isCUID",get:function(){return!!this._def.checks.find((function(e){return"cuid"===e.kind}))}},{key:"isCUID2",get:function(){return!!this._def.checks.find((function(e){return"cuid2"===e.kind}))}},{key:"isULID",get:function(){return!!this._def.checks.find((function(e){return"ulid"===e.kind}))}},{key:"isIP",get:function(){return!!this._def.checks.find((function(e){return"ip"===e.kind}))}},{key:"isCIDR",get:function(){return!!this._def.checks.find((function(e){return"cidr"===e.kind}))}},{key:"isBase64",get:function(){return!!this._def.checks.find((function(e){return"base64"===e.kind}))}},{key:"isBase64url",get:function(){return!!this._def.checks.find((function(e){return"base64url"===e.kind}))}},{key:"minLength",get:function(){var e,t=null,n=_(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"maxLength",get:function(){var e,t=null,n=_(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}}])}(W);ge.create=function(e){var t;return new ge(E({checks:[],typeName:at.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},H(e)))};var ye=function(e){function t(){var e;return(0,u.A)(this,t),(e=y(this,t,arguments)).min=e.gte,e.max=e.lte,e.step=e.multipleOf,e}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==S.number){var t=this._getOrReturnCtx(e);return N(t,{code:w.invalid_type,expected:S.number,received:t.parsedType}),D}var n,i,a,o,s,u,c=void 0,l=new j,f=_(this._def.checks);try{for(f.s();!(n=f.n()).done;){var d=n.value;if("int"===d.kind)r.isInteger(e.data)||(N(c=this._getOrReturnCtx(e,c),{code:w.invalid_type,expected:"integer",received:"float",message:d.message}),l.dirty());else if("min"===d.kind){(d.inclusive?e.data<d.value:e.data<=d.value)&&(N(c=this._getOrReturnCtx(e,c),{code:w.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),l.dirty())}else if("max"===d.kind){(d.inclusive?e.data>d.value:e.data>=d.value)&&(N(c=this._getOrReturnCtx(e,c),{code:w.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),l.dirty())}else"multipleOf"===d.kind?0!=(i=e.data,a=d.value,o=void 0,s=void 0,u=void 0,o=(i.toString().split(".")[1]||"").length,s=(a.toString().split(".")[1]||"").length,u=o>s?o:s,parseInt(i.toFixed(u).replace(".",""))%parseInt(a.toFixed(u).replace(".",""))/Math.pow(10,u))&&(N(c=this._getOrReturnCtx(e,c),{code:w.not_multiple_of,multipleOf:d.value,message:d.message}),l.dirty()):"finite"===d.kind?Number.isFinite(e.data)||(N(c=this._getOrReturnCtx(e,c),{code:w.not_finite,message:d.message}),l.dirty()):r.assertNever(d)}}catch(e){f.e(e)}finally{f.f()}return{status:l.value,value:e.data}}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,R.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,R.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,R.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,R.toString(t))}},{key:"setLimit",value:function(e,n,r,i){return new t(E(E({},this._def),{},{checks:[].concat((0,s.A)(this._def.checks),[{kind:e,value:n,inclusive:r,message:R.toString(i)}])}))}},{key:"_addCheck",value:function(e){return new t(E(E({},this._def),{},{checks:[].concat((0,s.A)(this._def.checks),[e])}))}},{key:"int",value:function(e){return this._addCheck({kind:"int",message:R.toString(e)})}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:R.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:R.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:R.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:R.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(t)})}},{key:"finite",value:function(e){return this._addCheck({kind:"finite",message:R.toString(e)})}},{key:"safe",value:function(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:R.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:R.toString(e)})}},{key:"minValue",get:function(){var e,t=null,n=_(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"maxValue",get:function(){var e,t=null,n=_(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"isInt",get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind||"multipleOf"===e.kind&&r.isInteger(e.value)}))}},{key:"isFinite",get:function(){var e,t=null,n=null,r=_(this._def.checks);try{for(r.s();!(e=r.n()).done;){var i=e.value;if("finite"===i.kind||"int"===i.kind||"multipleOf"===i.kind)return!0;"min"===i.kind?(null===n||i.value>n)&&(n=i.value):"max"===i.kind&&(null===t||i.value<t)&&(t=i.value)}}catch(e){r.e(e)}finally{r.f()}return Number.isFinite(n)&&Number.isFinite(t)}}])}(W);ye.create=function(e){return new ye(E({checks:[],typeName:at.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1},H(e)))};var me=function(e){function t(){var e;return(0,u.A)(this,t),(e=y(this,t,arguments)).min=e.gte,e.max=e.lte,e}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==S.bigint)return this._getInvalidInput(e);var t,n=void 0,i=new j,a=_(this._def.checks);try{for(a.s();!(t=a.n()).done;){var o=t.value;if("min"===o.kind)(o.inclusive?e.data<o.value:e.data<=o.value)&&(N(n=this._getOrReturnCtx(e,n),{code:w.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty());else if("max"===o.kind){(o.inclusive?e.data>o.value:e.data>=o.value)&&(N(n=this._getOrReturnCtx(e,n),{code:w.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty())}else"multipleOf"===o.kind?e.data%o.value!==BigInt(0)&&(N(n=this._getOrReturnCtx(e,n),{code:w.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):r.assertNever(o)}}catch(e){a.e(e)}finally{a.f()}return{status:i.value,value:e.data}}},{key:"_getInvalidInput",value:function(e){var t=this._getOrReturnCtx(e);return N(t,{code:w.invalid_type,expected:S.bigint,received:t.parsedType}),D}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,R.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,R.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,R.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,R.toString(t))}},{key:"setLimit",value:function(e,n,r,i){return new t(E(E({},this._def),{},{checks:[].concat((0,s.A)(this._def.checks),[{kind:e,value:n,inclusive:r,message:R.toString(i)}])}))}},{key:"_addCheck",value:function(e){return new t(E(E({},this._def),{},{checks:[].concat((0,s.A)(this._def.checks),[e])}))}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:R.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:R.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:R.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:R.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(t)})}},{key:"minValue",get:function(){var e,t=null,n=_(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"maxValue",get:function(){var e,t=null,n=_(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return t}}])}(W);me.create=function(e){var t;return new me(E({checks:[],typeName:at.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},H(e)))};var be=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==S.boolean){var t=this._getOrReturnCtx(e);return N(t,{code:w.invalid_type,expected:S.boolean,received:t.parsedType}),D}return F(e.data)}}])}(W);be.create=function(e){return new be(E({typeName:at.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1},H(e)))};var Ee=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==S.date){var t=this._getOrReturnCtx(e);return N(t,{code:w.invalid_type,expected:S.date,received:t.parsedType}),D}if(isNaN(e.data.getTime()))return N(this._getOrReturnCtx(e),{code:w.invalid_date}),D;var n,i=new j,a=void 0,o=_(this._def.checks);try{for(o.s();!(n=o.n()).done;){var s=n.value;"min"===s.kind?e.data.getTime()<s.value&&(N(a=this._getOrReturnCtx(e,a),{code:w.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):"max"===s.kind?e.data.getTime()>s.value&&(N(a=this._getOrReturnCtx(e,a),{code:w.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):r.assertNever(s)}}catch(e){o.e(e)}finally{o.f()}return{status:i.value,value:new Date(e.data.getTime())}}},{key:"_addCheck",value:function(e){return new t(E(E({},this._def),{},{checks:[].concat((0,s.A)(this._def.checks),[e])}))}},{key:"min",value:function(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:R.toString(t)})}},{key:"max",value:function(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:R.toString(t)})}},{key:"minDate",get:function(){var e,t=null,n=_(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return null!=t?new Date(t):null}},{key:"maxDate",get:function(){var e,t=null,n=_(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(e){n.e(e)}finally{n.f()}return null!=t?new Date(t):null}}])}(W);Ee.create=function(e){return new Ee(E({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:at.ZodDate},H(e)))};var _e=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){if(this._getType(e)!==S.symbol){var t=this._getOrReturnCtx(e);return N(t,{code:w.invalid_type,expected:S.symbol,received:t.parsedType}),D}return F(e.data)}}])}(W);_e.create=function(e){return new _e(E({typeName:at.ZodSymbol},H(e)))};var Ae=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){if(this._getType(e)!==S.undefined){var t=this._getOrReturnCtx(e);return N(t,{code:w.invalid_type,expected:S.undefined,received:t.parsedType}),D}return F(e.data)}}])}(W);Ae.create=function(e){return new Ae(E({typeName:at.ZodUndefined},H(e)))};var Se=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){if(this._getType(e)!==S.null){var t=this._getOrReturnCtx(e);return N(t,{code:w.invalid_type,expected:S.null,received:t.parsedType}),D}return F(e.data)}}])}(W);Se.create=function(e){return new Se(E({typeName:at.ZodNull},H(e)))};var ke=function(e){function t(){var e;return(0,u.A)(this,t),(e=y(this,t,arguments))._any=!0,e}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){return F(e.data)}}])}(W);ke.create=function(e){return new ke(E({typeName:at.ZodAny},H(e)))};var we=function(e){function t(){var e;return(0,u.A)(this,t),(e=y(this,t,arguments))._unknown=!0,e}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){return F(e.data)}}])}(W);we.create=function(e){return new we(E({typeName:at.ZodUnknown},H(e)))};var Oe=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=this._getOrReturnCtx(e);return N(t,{code:w.invalid_type,expected:S.never,received:t.parsedType}),D}}])}(W);Oe.create=function(e){return new Oe(E({typeName:at.ZodNever},H(e)))};var Ie=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){if(this._getType(e)!==S.undefined){var t=this._getOrReturnCtx(e);return N(t,{code:w.invalid_type,expected:S.void,received:t.parsedType}),D}return F(e.data)}}])}(W);Ie.create=function(e){return new Ie(E({typeName:at.ZodVoid},H(e)))};var Ce=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.ctx,r=t.status,i=this._def;if(n.parsedType!==S.array)return N(n,{code:w.invalid_type,expected:S.array,received:n.parsedType}),D;if(null!==i.exactLength){var a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(N(n,{code:a?w.too_big:w.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&n.data.length<i.minLength.value&&(N(n,{code:w.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&n.data.length>i.maxLength.value&&(N(n,{code:w.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all((0,s.A)(n.data).map((function(e,t){return i.type._parseAsync(new G(n,e,n.path,t))}))).then((function(e){return j.mergeArray(r,e)}));var u=(0,s.A)(n.data).map((function(e,t){return i.type._parseSync(new G(n,e,n.path,t))}));return j.mergeArray(r,u)}},{key:"element",get:function(){return this._def.type}},{key:"min",value:function(e,n){return new t(E(E({},this._def),{},{minLength:{value:e,message:R.toString(n)}}))}},{key:"max",value:function(e,n){return new t(E(E({},this._def),{},{maxLength:{value:e,message:R.toString(n)}}))}},{key:"length",value:function(e,n){return new t(E(E({},this._def),{},{exactLength:{value:e,message:R.toString(n)}}))}},{key:"nonempty",value:function(e){return this.min(1,e)}}])}(W);function Te(e){if(e instanceof xe){var t={};for(var n in e.shape){var r=e.shape[n];t[n]=Je.create(Te(r))}return new xe(E(E({},e._def),{},{shape:function(){return t}}))}return e instanceof Ce?new Ce(E(E({},e._def),{},{type:Te(e.element)})):e instanceof Je?Je.create(Te(e.unwrap())):e instanceof We?We.create(Te(e.unwrap())):e instanceof De?De.create(e.items.map((function(e){return Te(e)}))):e}Ce.create=function(e,t){return new Ce(E({type:e,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray},H(t)))};var xe=function(e){function t(){var e;return(0,u.A)(this,t),(e=y(this,t,arguments))._cached=null,e.nonstrict=e.passthrough,e.augment=e.extend,e}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_getCached",value:function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=r.objectKeys(e);return this._cached={shape:e,keys:t}}},{key:"_parse",value:function(e){if(this._getType(e)!==S.object){var t=this._getOrReturnCtx(e);return N(t,{code:w.invalid_type,expected:S.object,received:t.parsedType}),D}var n=this._processInputParams(e),r=n.status,i=n.ctx,a=this._getCached(),s=a.shape,u=a.keys,c=[];if(!(this._def.catchall instanceof Oe&&"strip"===this._def.unknownKeys))for(var l in i.data)u.includes(l)||c.push(l);var f,d=[],v=_(u);try{for(v.s();!(f=v.n()).done;){var h=f.value,p=s[h],y=i.data[h];d.push({key:{status:"valid",value:h},value:p._parse(new G(i,y,i.path,h)),alwaysSet:h in i.data})}}catch(e){v.e(e)}finally{v.f()}if(this._def.catchall instanceof Oe){var m=this._def.unknownKeys;if("passthrough"===m){var b,E=_(c);try{for(E.s();!(b=E.n()).done;){var A=b.value;d.push({key:{status:"valid",value:A},value:{status:"valid",value:i.data[A]}})}}catch(e){E.e(e)}finally{E.f()}}else if("strict"===m)c.length>0&&(N(i,{code:w.unrecognized_keys,keys:c}),r.dirty());else if("strip"!==m)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var k,O=this._def.catchall,I=_(c);try{for(I.s();!(k=I.n()).done;){var C=k.value,T=i.data[C];d.push({key:{status:"valid",value:C},value:O._parse(new G(i,T,i.path,C)),alwaysSet:C in i.data})}}catch(e){I.e(e)}finally{I.f()}}return i.common.async?Promise.resolve().then((0,o.A)(g.mark((function e(){var t,n,r,i,a,o;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=_(d),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=15;break}return i=r.value,e.next=8,i.key;case 8:return a=e.sent,e.next=11,i.value;case 11:o=e.sent,t.push({key:a,value:o,alwaysSet:i.alwaysSet});case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,null,[[2,17,20,23]])})))).then((function(e){return j.mergeObjectSync(r,e)})):j.mergeObjectSync(r,d)}},{key:"shape",get:function(){return this._def.shape()}},{key:"strict",value:function(e){var n=this;return R.errToObj,new t(E(E({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:function(t,r){var i,a,o,s,u=null!==(o=null===(a=(i=n._def).errorMap)||void 0===a?void 0:a.call(i,t,r).message)&&void 0!==o?o:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=R.errToObj(e).message)&&void 0!==s?s:u}:{message:u}}}:{}))}},{key:"strip",value:function(){return new t(E(E({},this._def),{},{unknownKeys:"strip"}))}},{key:"passthrough",value:function(){return new t(E(E({},this._def),{},{unknownKeys:"passthrough"}))}},{key:"extend",value:function(e){var n=this;return new t(E(E({},this._def),{},{shape:function(){return E(E({},n._def.shape()),e)}}))}},{key:"merge",value:function(e){var n=this;return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return E(E({},n._def.shape()),e._def.shape())},typeName:at.ZodObject})}},{key:"setKey",value:function(e,t){return this.augment((0,p.A)({},e,t))}},{key:"catchall",value:function(e){return new t(E(E({},this._def),{},{catchall:e}))}},{key:"pick",value:function(e){var n=this,i={};return r.objectKeys(e).forEach((function(t){e[t]&&n.shape[t]&&(i[t]=n.shape[t])})),new t(E(E({},this._def),{},{shape:function(){return i}}))}},{key:"omit",value:function(e){var n=this,i={};return r.objectKeys(this.shape).forEach((function(t){e[t]||(i[t]=n.shape[t])})),new t(E(E({},this._def),{},{shape:function(){return i}}))}},{key:"deepPartial",value:function(){return Te(this)}},{key:"partial",value:function(e){var n=this,i={};return r.objectKeys(this.shape).forEach((function(t){var r=n.shape[t];e&&!e[t]?i[t]=r:i[t]=r.optional()})),new t(E(E({},this._def),{},{shape:function(){return i}}))}},{key:"required",value:function(e){var n=this,i={};return r.objectKeys(this.shape).forEach((function(t){if(e&&!e[t])i[t]=n.shape[t];else{for(var r=n.shape[t];r instanceof Je;)r=r._def.innerType;i[t]=r}})),new t(E(E({},this._def),{},{shape:function(){return i}}))}},{key:"keyof",value:function(){return Ze(r.objectKeys(this.shape))}}])}(W);xe.create=function(e,t){return new xe(E({shape:function(){return e},unknownKeys:"strip",catchall:Oe.create(),typeName:at.ZodObject},H(t)))},xe.strictCreate=function(e,t){return new xe(E({shape:function(){return e},unknownKeys:"strict",catchall:Oe.create(),typeName:at.ZodObject},H(t)))},xe.lazycreate=function(e,t){return new xe(E({shape:e,unknownKeys:"strip",catchall:Oe.create(),typeName:at.ZodObject},H(t)))};var Ne=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=this._def.options;if(t.common.async)return Promise.all(n.map(function(){var e=(0,o.A)(g.mark((function e(n){var r;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=E(E({},t),{},{common:E(E({},t.common),{},{issues:[]}),parent:null}),e.next=3,n._parseAsync({data:t.data,path:t.path,parent:r});case 3:return e.t0=e.sent,e.t1=r,e.abrupt("return",{result:e.t0,ctx:e.t1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var n,r=_(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("valid"===i.result.status)return i.result}}catch(e){r.e(e)}finally{r.f()}var a,o=_(e);try{for(o.s();!(a=o.n()).done;){var u,c=a.value;if("dirty"===c.result.status)return(u=t.common.issues).push.apply(u,(0,s.A)(c.ctx.common.issues)),c.result}}catch(e){o.e(e)}finally{o.f()}var l=e.map((function(e){return new O(e.ctx.common.issues)}));return N(t,{code:w.invalid_union,unionErrors:l}),D}));var r,i,a=void 0,u=[],c=_(n);try{for(c.s();!(r=c.n()).done;){var l=r.value,f=E(E({},t),{},{common:E(E({},t.common),{},{issues:[]}),parent:null}),d=l._parseSync({data:t.data,path:t.path,parent:f});if("valid"===d.status)return d;"dirty"!==d.status||a||(a={result:d,ctx:f}),f.common.issues.length&&u.push(f.common.issues)}}catch(e){c.e(e)}finally{c.f()}if(a)return(i=t.common.issues).push.apply(i,(0,s.A)(a.ctx.common.issues)),a.result;var v=u.map((function(e){return new O(e)}));return N(t,{code:w.invalid_union,unionErrors:v}),D}},{key:"options",get:function(){return this._def.options}}])}(W);Ne.create=function(e,t){return new Ne(E({options:e,typeName:at.ZodUnion},H(t)))};var Re=function(e){return e instanceof Ve?Re(e.schema):e instanceof He?Re(e.innerType()):e instanceof Ke?[e.value]:e instanceof ze?e.options:e instanceof Ge?r.objectValues(e.enum):e instanceof $e?Re(e._def.innerType):e instanceof Ae?[void 0]:e instanceof Se?[null]:e instanceof Je?[void 0].concat((0,s.A)(Re(e.unwrap()))):e instanceof We?[null].concat((0,s.A)(Re(e.unwrap()))):e instanceof et||e instanceof nt?Re(e.unwrap()):e instanceof Qe?Re(e._def.innerType):[]},Pe=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==S.object)return N(t,{code:w.invalid_type,expected:S.object,received:t.parsedType}),D;var n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(N(t,{code:w.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),D)}},{key:"discriminator",get:function(){return this._def.discriminator}},{key:"options",get:function(){return this._def.options}},{key:"optionsMap",get:function(){return this._def.optionsMap}}],[{key:"create",value:function(e,n,r){var i,a=new Map,o=_(n);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=Re(s.shape[e]);if(!u.length)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));var c,l=_(u);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(a.has(f))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(f)));a.set(f,s)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){o.e(e)}finally{o.f()}return new t(E({typeName:at.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:a},H(r)))}}])}(W);function Le(e,t){var n=k(e),i=k(t);if(e===t)return{valid:!0,data:e};if(n===S.object&&i===S.object){var a,o=r.objectKeys(t),s=r.objectKeys(e).filter((function(e){return-1!==o.indexOf(e)})),u=E(E({},e),t),c=_(s);try{for(c.s();!(a=c.n()).done;){var l=a.value,f=Le(e[l],t[l]);if(!f.valid)return{valid:!1};u[l]=f.data}}catch(e){c.e(e)}finally{c.f()}return{valid:!0,data:u}}if(n===S.array&&i===S.array){if(e.length!==t.length)return{valid:!1};for(var d=[],v=0;v<e.length;v++){var h=Le(e[v],t[v]);if(!h.valid)return{valid:!1};d.push(h.data)}return{valid:!0,data:d}}return n===S.date&&i===S.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var je=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx,i=function(e,t){if(U(e)||U(t))return D;var i=Le(e.value,t.value);return i.valid?((B(e)||B(t))&&n.dirty(),{status:n.value,value:i.data}):(N(r,{code:w.invalid_intersection_types}),D)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((function(e){var t=(0,a.A)(e,2),n=t[0],r=t[1];return i(n,r)})):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}])}(W);je.create=function(e,t,n){return new je(E({left:e,right:t,typeName:at.ZodIntersection},H(n)))};var De=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,i=n.ctx;if(i.parsedType!==S.array)return N(i,{code:w.invalid_type,expected:S.array,received:i.parsedType}),D;if(i.data.length<this._def.items.length)return N(i,{code:w.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),D;!this._def.rest&&i.data.length>this._def.items.length&&(N(i,{code:w.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());var a=(0,s.A)(i.data).map((function(e,n){var r=t._def.items[n]||t._def.rest;return r?r._parse(new G(i,e,i.path,n)):null})).filter((function(e){return!!e}));return i.common.async?Promise.all(a).then((function(e){return j.mergeArray(r,e)})):j.mergeArray(r,a)}},{key:"items",get:function(){return this._def.items}},{key:"rest",value:function(e){return new t(E(E({},this._def),{},{rest:e}))}}])}(W);De.create=function(e,t){if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new De(E({items:e,typeName:at.ZodTuple,rest:null},H(t)))};var Me=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==S.object)return N(r,{code:w.invalid_type,expected:S.object,received:r.parsedType}),D;var i=[],a=this._def.keyType,o=this._def.valueType;for(var s in r.data)i.push({key:a._parse(new G(r,s,r.path,s)),value:o._parse(new G(r,r.data[s],r.path,s)),alwaysSet:s in r.data});return r.common.async?j.mergeObjectAsync(n,i):j.mergeObjectSync(n,i)}},{key:"element",get:function(){return this._def.valueType}}],[{key:"create",value:function(e,n,r){return new t(n instanceof W?E({keyType:e,valueType:n,typeName:at.ZodRecord},H(r)):E({keyType:ge.create(),valueType:e,typeName:at.ZodRecord},H(n)))}}])}(W),Fe=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==S.map)return N(r,{code:w.invalid_type,expected:S.map,received:r.parsedType}),D;var i=this._def.keyType,u=this._def.valueType,c=(0,s.A)(r.data.entries()).map((function(e,t){var n=(0,a.A)(e,2),o=n[0],s=n[1];return{key:i._parse(new G(r,o,r.path,[t,"key"])),value:u._parse(new G(r,s,r.path,[t,"value"]))}}));if(r.common.async){var l=new Map;return Promise.resolve().then((0,o.A)(g.mark((function e(){var t,r,i,a,o;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_(c),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=17;break}return i=r.value,e.next=7,i.key;case 7:return a=e.sent,e.next=10,i.value;case 10:if(o=e.sent,"aborted"!==a.status&&"aborted"!==o.status){e.next=13;break}return e.abrupt("return",D);case 13:"dirty"!==a.status&&"dirty"!==o.status||n.dirty(),l.set(a.value,o.value);case 15:e.next=3;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),t.e(e.t0);case 22:return e.prev=22,t.f(),e.finish(22);case 25:return e.abrupt("return",{status:n.value,value:l});case 26:case"end":return e.stop()}}),e,null,[[1,19,22,25]])}))))}var f,d=new Map,v=_(c);try{for(v.s();!(f=v.n()).done;){var h=f.value,p=h.key,y=h.value;if("aborted"===p.status||"aborted"===y.status)return D;"dirty"!==p.status&&"dirty"!==y.status||n.dirty(),d.set(p.value,y.value)}}catch(e){v.e(e)}finally{v.f()}return{status:n.value,value:d}}}])}(W);Fe.create=function(e,t,n){return new Fe(E({valueType:t,keyType:e,typeName:at.ZodMap},H(n)))};var Ue=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==S.set)return N(r,{code:w.invalid_type,expected:S.set,received:r.parsedType}),D;var i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(N(r,{code:w.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(N(r,{code:w.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());var a=this._def.valueType;function o(e){var t,r=new Set,i=_(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if("aborted"===a.status)return D;"dirty"===a.status&&n.dirty(),r.add(a.value)}}catch(e){i.e(e)}finally{i.f()}return{status:n.value,value:r}}var u=(0,s.A)(r.data.values()).map((function(e,t){return a._parse(new G(r,e,r.path,t))}));return r.common.async?Promise.all(u).then((function(e){return o(e)})):o(u)}},{key:"min",value:function(e,n){return new t(E(E({},this._def),{},{minSize:{value:e,message:R.toString(n)}}))}},{key:"max",value:function(e,n){return new t(E(E({},this._def),{},{maxSize:{value:e,message:R.toString(n)}}))}},{key:"size",value:function(e,t){return this.min(e,t).max(e,t)}},{key:"nonempty",value:function(e){return this.min(1,e)}}])}(W);Ue.create=function(e,t){return new Ue(E({valueType:e,minSize:null,maxSize:null,typeName:at.ZodSet},H(t)))};var Be=function(e){function t(){var e;return(0,u.A)(this,t),(e=y(this,t,arguments)).validate=e.implement,e}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==S.function)return N(t,{code:w.invalid_type,expected:S.function,received:t.parsedType}),D;function n(e,n){return x({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,T(),I].filter((function(e){return!!e})),issueData:{code:w.invalid_arguments,argumentsError:n}})}function r(e,n){return x({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,T(),I].filter((function(e){return!!e})),issueData:{code:w.invalid_return_type,returnTypeError:n}})}var i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof qe){var s=this;return F((0,o.A)(g.mark((function e(){var t,o,u,c,l,f,d,v=arguments;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=v.length,o=new Array(t),u=0;u<t;u++)o[u]=v[u];return c=new O([]),e.next=4,s._def.args.parseAsync(o,i).catch((function(e){throw c.addIssue(n(o,e)),c}));case 4:return l=e.sent,e.next=7,Reflect.apply(a,this,l);case 7:return f=e.sent,e.next=10,s._def.returns._def.type.parseAsync(f,i).catch((function(e){throw c.addIssue(r(f,e)),c}));case 10:return d=e.sent,e.abrupt("return",d);case 12:case"end":return e.stop()}}),e,this)}))))}var u=this;return F((function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var s=u._def.args.safeParse(t,i);if(!s.success)throw new O([n(t,s.error)]);var c=Reflect.apply(a,this,s.data),l=u._def.returns.safeParse(c,i);if(!l.success)throw new O([r(c,l.error)]);return l.data}))}},{key:"parameters",value:function(){return this._def.args}},{key:"returnType",value:function(){return this._def.returns}},{key:"args",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new t(E(E({},this._def),{},{args:De.create(n).rest(we.create())}))}},{key:"returns",value:function(e){return new t(E(E({},this._def),{},{returns:e}))}},{key:"implement",value:function(e){return this.parse(e)}},{key:"strictImplement",value:function(e){return this.parse(e)}}],[{key:"create",value:function(e,n,r){return new t(E({args:e||De.create([]).rest(we.create()),returns:n||we.create(),typeName:at.ZodFunction},H(r)))}}])}(W),Ve=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"schema",get:function(){return this._def.getter()}},{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}])}(W);Ve.create=function(e,t){return new Ve(E({getter:e,typeName:at.ZodLazy},H(t)))};var Ke=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){if(e.data!==this._def.value){var t=this._getOrReturnCtx(e);return N(t,{received:t.data,code:w.invalid_literal,expected:this._def.value}),D}return{status:"valid",value:e.data}}},{key:"value",get:function(){return this._def.value}}])}(W);function Ze(e,t){return new ze(E({values:e,typeName:at.ZodEnum},H(t)))}Ke.create=function(e,t){return new Ke(E({value:e,typeName:at.ZodLiteral},H(t)))};var ze=function(e){function t(){var e;return(0,u.A)(this,t),e=y(this,t,arguments),P.set(e,void 0),e}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){if("string"!=typeof e.data){var t=this._getOrReturnCtx(e),n=this._def.values;return N(t,{expected:r.joinValues(n),received:t.parsedType,code:w.invalid_type}),D}if(Z(this,P,"f")||z(this,P,new Set(this._def.values),"f"),!Z(this,P,"f").has(e.data)){var i=this._getOrReturnCtx(e),a=this._def.values;return N(i,{received:i.data,code:w.invalid_enum_value,options:a}),D}return F(e.data)}},{key:"options",get:function(){return this._def.values}},{key:"enum",get:function(){var e,t={},n=_(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"Values",get:function(){var e,t={},n=_(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"Enum",get:function(){var e,t={},n=_(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"extract",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return t.create(e,E(E({},this._def),n))}},{key:"exclude",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return t.create(this.options.filter((function(t){return!e.includes(t)})),E(E({},this._def),n))}}])}(W);P=new WeakMap,ze.create=Ze;var Ge=function(e){function t(){var e;return(0,u.A)(this,t),e=y(this,t,arguments),L.set(e,void 0),e}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=r.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==S.string&&n.parsedType!==S.number){var i=r.objectValues(t);return N(n,{expected:r.joinValues(i),received:n.parsedType,code:w.invalid_type}),D}if(Z(this,L,"f")||z(this,L,new Set(r.getValidEnumValues(this._def.values)),"f"),!Z(this,L,"f").has(e.data)){var a=r.objectValues(t);return N(n,{received:n.data,code:w.invalid_enum_value,options:a}),D}return F(e.data)}},{key:"enum",get:function(){return this._def.values}}])}(W);L=new WeakMap,Ge.create=function(e,t){return new Ge(E({values:e,typeName:at.ZodNativeEnum},H(t)))};var qe=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"unwrap",value:function(){return this._def.type}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx;if(n.parsedType!==S.promise&&!1===n.common.async)return N(n,{code:w.invalid_type,expected:S.promise,received:n.parsedType}),D;var r=n.parsedType===S.promise?n.data:Promise.resolve(n.data);return F(r.then((function(e){return t._def.type.parseAsync(e,{path:n.path,errorMap:n.common.contextualErrorMap})})))}}])}(W);qe.create=function(e,t){return new qe(E({type:e,typeName:at.ZodPromise},H(t)))};var He=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"innerType",value:function(){return this._def.schema}},{key:"sourceType",value:function(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),i=n.status,a=n.ctx,s=this._def.effect||null,u={addIssue:function(e){N(a,e),e.fatal?i.abort():i.dirty()},get path(){return a.path}};if(u.addIssue=u.addIssue.bind(u),"preprocess"===s.type){var c=s.transform(a.data,u);if(a.common.async)return Promise.resolve(c).then(function(){var e=(0,o.A)(g.mark((function e(n){var r;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("aborted"!==i.value){e.next=2;break}return e.abrupt("return",D);case 2:return e.next=4,t._def.schema._parseAsync({data:n,path:a.path,parent:a});case 4:if("aborted"!==(r=e.sent).status){e.next=7;break}return e.abrupt("return",D);case 7:if("dirty"!==r.status){e.next=9;break}return e.abrupt("return",M(r.value));case 9:if("dirty"!==i.value){e.next=11;break}return e.abrupt("return",M(r.value));case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());if("aborted"===i.value)return D;var l=this._def.schema._parseSync({data:c,path:a.path,parent:a});return"aborted"===l.status?D:"dirty"===l.status||"dirty"===i.value?M(l.value):l}if("refinement"===s.type){var f=function(e){var t=s.refinement(e,u);if(a.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===a.common.async){var d=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===d.status?D:("dirty"===d.status&&i.dirty(),f(d.value),{status:i.value,value:d.value})}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then((function(e){return"aborted"===e.status?D:("dirty"===e.status&&i.dirty(),f(e.value).then((function(){return{status:i.value,value:e.value}})))}))}if("transform"===s.type){if(!1===a.common.async){var v=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!V(v))return v;var h=s.transform(v.value,u);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:h}}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then((function(e){return V(e)?Promise.resolve(s.transform(e.value,u)).then((function(e){return{status:i.value,value:e}})):e}))}r.assertNever(s)}}])}(W);He.create=function(e,t,n){return new He(E({schema:e,typeName:at.ZodEffects,effect:t},H(n)))},He.createWithPreprocess=function(e,t,n){return new He(E({schema:t,effect:{type:"preprocess",transform:e},typeName:at.ZodEffects},H(n)))};var Je=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){return this._getType(e)===S.undefined?F(void 0):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}])}(W);Je.create=function(e,t){return new Je(E({innerType:e,typeName:at.ZodOptional},H(t)))};var We=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){return this._getType(e)===S.null?F(null):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}])}(W);We.create=function(e,t){return new We(E({innerType:e,typeName:at.ZodNullable},H(t)))};var $e=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return t.parsedType===S.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}},{key:"removeDefault",value:function(){return this._def.innerType}}])}(W);$e.create=function(e,t){return new $e(E({innerType:e,typeName:at.ZodDefault,defaultValue:"function"==typeof t.default?t.default:function(){return t.default}},H(t)))};var Qe=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx,r=E(E({},n),{},{common:E(E({},n.common),{},{issues:[]})}),i=this._def.innerType._parse({data:r.data,path:r.path,parent:E({},r)});return K(i)?i.then((function(e){return{status:"valid",value:"valid"===e.status?e.value:t._def.catchValue({get error(){return new O(r.common.issues)},input:r.data})}})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new O(r.common.issues)},input:r.data})}}},{key:"removeCatch",value:function(){return this._def.innerType}}])}(W);Qe.create=function(e,t){return new Qe(E({innerType:e,typeName:at.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:function(){return t.catch}},H(t)))};var Xe=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){if(this._getType(e)!==S.nan){var t=this._getOrReturnCtx(e);return N(t,{code:w.invalid_type,expected:S.nan,received:t.parsedType}),D}return{status:"valid",value:e.data}}}])}(W);Xe.create=function(e){return new Xe(E({typeName:at.ZodNaN},H(e)))};var Ye=Symbol("zod_brand"),et=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}},{key:"unwrap",value:function(){return this._def.type}}])}(W),tt=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,i=n.ctx;if(i.common.async){var a=function(){var e=(0,o.A)(g.mark((function e(){var n;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._def.in._parseAsync({data:i.data,path:i.path,parent:i});case 2:if("aborted"!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",D);case 5:if("dirty"!==n.status){e.next=10;break}return r.dirty(),e.abrupt("return",M(n.value));case 10:return e.abrupt("return",t._def.out._parseAsync({data:n.value,path:i.path,parent:i}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a()}var s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===s.status?D:"dirty"===s.status?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}],[{key:"create",value:function(e,n){return new t({in:e,out:n,typeName:at.ZodPipeline})}}])}(W),nt=function(e){function t(){return(0,u.A)(this,t),y(this,t,arguments)}return(0,d.A)(t,e),(0,c.A)(t,[{key:"_parse",value:function(e){var t=this._def.innerType._parse(e),n=function(e){return V(e)&&(e.value=Object.freeze(e.value)),e};return K(t)?t.then((function(e){return n(e)})):n(t)}},{key:"unwrap",value:function(){return this._def.innerType}}])}(W);function rt(e,t){var n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function it(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?ke.create().superRefine((function(r,i){var a,o,s=e(r);if(s instanceof Promise)return s.then((function(e){var a,o;if(!e){var s=rt(t,r),u=null===(o=null!==(a=s.fatal)&&void 0!==a?a:n)||void 0===o||o;i.addIssue(E(E({code:"custom"},s),{},{fatal:u}))}}));if(!s){var u=rt(t,r),c=null===(o=null!==(a=u.fatal)&&void 0!==a?a:n)||void 0===o||o;i.addIssue(E(E({code:"custom"},u),{},{fatal:c}))}})):ke.create()}nt.create=function(e,t){return new nt(E({innerType:e,typeName:at.ZodReadonly},H(t)))};var at,ot={object:xe.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(at||(at={}));var st=ge.create,ut=ye.create,ct=Xe.create,lt=me.create,ft=be.create,dt=Ee.create,vt=_e.create,ht=Ae.create,pt=Se.create,gt=ke.create,yt=we.create,mt=Oe.create,bt=Ie.create,Et=Ce.create,_t=xe.create,At=xe.strictCreate,St=Ne.create,kt=Pe.create,wt=je.create,Ot=De.create,It=Me.create,Ct=Fe.create,Tt=Ue.create,xt=Be.create,Nt=Ve.create,Rt=Ke.create,Pt=ze.create,Lt=Ge.create,jt=qe.create,Dt=He.create,Mt=Je.create,Ft=We.create,Ut=He.createWithPreprocess,Bt=tt.create,Vt={string:function(e){return ge.create(E(E({},e),{},{coerce:!0}))},number:function(e){return ye.create(E(E({},e),{},{coerce:!0}))},boolean:function(e){return be.create(E(E({},e),{},{coerce:!0}))},bigint:function(e){return me.create(E(E({},e),{},{coerce:!0}))},date:function(e){return Ee.create(E(E({},e),{},{coerce:!0}))}},Kt=D,Zt=Object.freeze({__proto__:null,defaultErrorMap:I,setErrorMap:function(e){C=e},getErrorMap:T,makeIssue:x,EMPTY_PATH:[],addIssueToContext:N,ParseStatus:j,INVALID:D,DIRTY:M,OK:F,isAborted:U,isDirty:B,isValid:V,isAsync:K,get util(){return r},get objectUtil(){return i},ZodParsedType:S,getParsedType:k,ZodType:W,datetimeRegex:ve,ZodString:ge,ZodNumber:ye,ZodBigInt:me,ZodBoolean:be,ZodDate:Ee,ZodSymbol:_e,ZodUndefined:Ae,ZodNull:Se,ZodAny:ke,ZodUnknown:we,ZodNever:Oe,ZodVoid:Ie,ZodArray:Ce,ZodObject:xe,ZodUnion:Ne,ZodDiscriminatedUnion:Pe,ZodIntersection:je,ZodTuple:De,ZodRecord:Me,ZodMap:Fe,ZodSet:Ue,ZodFunction:Be,ZodLazy:Ve,ZodLiteral:Ke,ZodEnum:ze,ZodNativeEnum:Ge,ZodPromise:qe,ZodEffects:He,ZodTransformer:He,ZodOptional:Je,ZodNullable:We,ZodDefault:$e,ZodCatch:Qe,ZodNaN:Xe,BRAND:Ye,ZodBranded:et,ZodPipeline:tt,ZodReadonly:nt,custom:it,Schema:W,ZodSchema:W,late:ot,get ZodFirstPartyTypeKind(){return at},coerce:Vt,any:gt,array:Et,bigint:lt,boolean:ft,date:dt,discriminatedUnion:kt,effect:Dt,enum:Pt,function:xt,instanceof:function(e){return it((function(t){return t instanceof e}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"Input not instance of ".concat(e.name)})},intersection:wt,lazy:Nt,literal:Rt,map:Ct,nan:ct,nativeEnum:Lt,never:mt,null:pt,nullable:Ft,number:ut,object:_t,oboolean:function(){return ft().optional()},onumber:function(){return ut().optional()},optional:Mt,ostring:function(){return st().optional()},pipeline:Bt,preprocess:Ut,promise:jt,record:It,set:Tt,strictObject:At,string:st,symbol:vt,transformer:Dt,tuple:Ot,undefined:ht,union:St,unknown:yt,void:bt,NEVER:Kt,ZodIssueCode:w,quotelessJson:function(e){return JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")},ZodError:O})},841461:function(e){"use strict";e.exports=JSON.parse('{"name":"@eppo/js-client-sdk-common","version":"4.14.4","description":"Common library for Eppo JavaScript SDKs (web, react native, and node)","main":"dist/index.js","files":["/dist","/src","!*.spec.ts"],"types":"./dist/index.d.ts","engines":{"node":">=18.x"},"exports":{".":{"types":"./dist/index.d.ts","default":"./dist/index.js"}},"scripts":{"lint":"eslint \'**/*.{ts,tsx}\' --cache","lint:fix":"eslint --fix \'**/*.{ts,tsx}\' --cache","lint:fix-pre-commit":"eslint -c .eslintrc.pre-commit.js --fix \'**/*.{ts,tsx}\' --no-eslintrc --cache","prepare":"make prepare","pre-commit":"lint-staged && tsc","typecheck":"tsc","test":"yarn test:unit","test:unit":"NODE_ENV=test jest \'.*\\\\.spec\\\\.ts\'","obfuscate-mock-ufc":"ts-node test/writeObfuscatedMockUFC"},"jsdelivr":"dist/eppo-sdk.js","repository":{"type":"git","url":"git+https://github.com/Eppo-exp/js-client-sdk-common.git"},"author":"","license":"MIT","bugs":{"url":"https://github.com/Eppo-exp/js-client-sdk-common/issues"},"homepage":"https://github.com/Eppo-exp/js-client-sdk-common#readme","devDependencies":{"@types/jest":"^29.5.11","@types/js-base64":"^3.3.1","@types/lodash":"^4.17.5","@types/semver":"^7.5.6","@types/spark-md5":"^3.0.5","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/parser":"^5.13.0","eslint":"^8.17.0","eslint-config-prettier":"^10.0.1","eslint-import-resolver-typescript":"^3.7.0","eslint-plugin-import":"^2.25.4","eslint-plugin-prettier":"5.2.3","eslint-plugin-promise":"^7.2.1","eslint-plugin-unused-imports":"^4.1.4","jest":"^29.7.0","jest-environment-jsdom":"^29.7.0","lodash":"^4.17.21","prettier":"^3.4.2","prettier-eslint":"^16.3.0","terser-webpack-plugin":"^5.3.3","testdouble":"^3.20.1","ts-jest":"^29.1.1","ts-loader":"^9.3.1","ts-node":"^10.9.1","typescript":"^5.7.2","webpack":"^5.73.0","webpack-cli":"^6.0.1"},"dependencies":{"buffer":"npm:@eppo/buffer@6.2.0","js-base64":"^3.7.7","pino":"^9.5.0","semver":"^7.5.4","spark-md5":"^3.0.2","uuid":"^11.0.5"},"packageManager":"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e"}')},670299:function(e){"use strict";e.exports=JSON.parse('{"name":"@eppo/js-client-sdk","version":"3.14.1","description":"Eppo SDK for client-side JavaScript applications","main":"dist/index.js","files":["/dist","/src","!*.spec.ts"],"types":"dist/index.d.ts","scripts":{"lint":"eslint \'**/*.ts\' --cache","lint:fix":"eslint --fix \'**/*.ts\' --cache","lint:fix-pre-commit":"eslint -c .eslintrc.pre-commit.js --fix \'**/*.ts\' --no-eslintrc --cache","prepare":"make prepare","pre-commit":"lint-staged && tsc && yarn docs","typecheck":"tsc","test":"yarn test:unit","test:unit":"NODE_ENV=test jest \'.*\\\\.spec\\\\.ts\'","docs":"api-documenter markdown -i ./temp -o ./docs"},"jsdelivr":"dist/eppo-sdk.js","repository":{"type":"git","url":"git+https://github.com/Eppo-exp/js-client-sdk.git"},"author":"","license":"MIT","bugs":{"url":"https://github.com/Eppo-exp/js-client-sdk/issues"},"homepage":"https://github.com/Eppo-exp/js-client-sdk#readme","devDependencies":{"@microsoft/api-documenter":"^7.26.3","@microsoft/api-extractor":"^7.48.1","@types/chrome":"^0.0.268","@types/jest":"^29.5.11","@types/spark-md5":"^3.0.5","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/parser":"^5.13.0","eslint":"^8.17.0","eslint-config-prettier":"^10.1.1","eslint-import-resolver-typescript":"^3.6.3","eslint-plugin-import":"^2.25.4","eslint-plugin-prettier":"^5.2.1","eslint-plugin-promise":"^7.2.1","husky":"^9.1.7","jest":"^29.7.0","jest-environment-jsdom":"^29.7.0","lint-staged":"^15.4.1","prettier":"^3.4.2","terser-webpack-plugin":"^5.3.3","testdouble":"^3.20.2","ts-jest":"^29.1.1","ts-loader":"^9.3.1","ts-node":"^10.9.2","typescript":"^4.7.4","webpack":"^5.73.0","webpack-cli":"^6.0.1"},"dependencies":{"@eppo/js-client-sdk-common":"4.14.4"},"packageManager":"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e"}')}}]);