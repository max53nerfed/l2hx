!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="375615ec-dbaf-472d-9c2c-387998334607",e._sentryDebugIdIdentifier="sentry-dbid-375615ec-dbaf-472d-9c2c-387998334607")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[81653],{953059:function(e,n,t){var i,a,r=t(373738);a="undefined"!=typeof self?self:this,i=function(){return a.ns_=function(e){(e=e||{}).ns_=e;var n,t,i,a,o={uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,n){var t={};for(var i in n)n.hasOwnProperty(i)&&e(n[i])&&(t[i]=n[i]);return t},extend:function(e){var n,t=arguments.length;e=e||{};for(var i=1;t>i;i++)if(n=arguments[i])for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a]);return e},getString:function(e,n){var t=String(e);return null==e?n||"na":t},getLong:function(e,n){var t=Number(e);return null==e||isNaN(t)?n||0:t},getInteger:function(e,n){var t=Number(parseInt(e));return null==e||isNaN(t)?n||0:t},getBoolean:function(e,n){var t="true"==String(e).toLowerCase();return null==e?n||!1:t},parseBoolean:function(e,n){return n=n||!1,e?"0"!=e&&void 0:n},isNotEmpty:function(e){return!this.isEmpty(e)},isEmpty:function(e){return null==e||""===e||e instanceof Array&&0===e.length},indexOf:function(e,n){var t=-1;return this.forEach(n,(function(n,i){n==e&&(t=i)})),t},forEach:function(e,n,t){try{if("function"==typeof n)if(t=void 0!==t?t:null,"number"!=typeof e.length||void 0===e[0]){var i=void 0!==e.__proto__;for(var a in e)e.hasOwnProperty(a)&&(!i||i&&void 0===e.__proto__[a])&&"function"!=typeof e[a]&&n.call(t,e[a],a)}else for(var r=0,o=e.length;o>r;r++)n.call(t,e[r],r)}catch(e){}},regionMatches:function(e,n,t,i,a){if(0>n||0>i||n+a>e.length||i+a>t.length)return!1;for(;--a>=0;)if(e.charAt(n++)!=t.charAt(i++))return!1;return!0},size:function(e){var n=0;for(var t in e)e.hasOwnProperty(t)&&n++;return n},log:function(e,n){if(void 0!==n&&n&&"undefined"!=typeof console&&console){var t=new Date,i=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();console.log(i,e)}},isTrue:function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},toString:function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if("[object Array]"===Object.prototype.toString.call(e))return e.join(",");if(this.size(e)>0){var n="";for(var t in e)e.hasOwnProperty(t)&&(n+=t+":"+e[t]+";");return n}return e.toString()},exists:function(e){return void 0!==e&&null!=e},firstGreaterThan0:function(){for(var e=0,n=arguments.length;n>e;e++){var t=arguments[e];if(t>0)return t}return 0},cloneObject:function(e){if(null==e||"object"!=r(e))return e;var n=function(){function e(){}function n(n){return"object"==r(n)?(e.prototype=n,new e):n}function t(e){for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n])}function i(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(n){return e.deepCopy(n)},this.depth=0}function a(e,n){var t=new i;return n&&(t.maxDepth=n),t.deepCopy(e)}function o(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document||"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}var s=[];return t.prototype={constructor:t,canCopy:function(){return!1},create:function(e){},populate:function(e,n,t){}},i.prototype={constructor:i,maxDepth:256,cacheResult:function(e,n){this.copiedObjects.push([e,n])},getCachedResult:function(e){for(var n=this.copiedObjects,t=n.length,i=0;t>i;i++)if(n[i][0]===e)return n[i][1]},deepCopy:function(e){if(null===e)return null;if("object"!=r(e))return e;var n=this.getCachedResult(e);if(n)return n;for(var t=0;t<s.length;t++){var i=s[t];if(i.canCopy(e))return this.applyDeepCopier(i,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,n){var t=e.create(n);if(this.cacheResult(n,t),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,n,t),this.depth--,t}},a.DeepCopier=t,a.deepCopiers=s,a.register=function(e){e instanceof t||(e=new t(e)),s.unshift(e)},a.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?n(e.constructor.prototype):{}},populate:function(e,n,t){for(var i in n)n.hasOwnProperty(i)&&(t[i]=e(n[i]));return t}}),a.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,n,t){for(var i=0;i<n.length;i++)t.push(e(n[i]));return t}}),a.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),a.register({canCopy:function(e){return o(e)},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,n,t){if("undefined"!=typeof document&&n===document)return document;if(n.childNodes&&n.childNodes.length)for(var i=0;i<n.childNodes.length;i++){var a=e(n.childNodes[i]);t.appendChild(a)}}}),{deepCopy:a}}();return n.deepCopy(e)},safeGet:function(e,n){return n=this.exists(n)?n:"",this.exists(e)?e:n},getBrowserName:function(){if(!navigator)return"";var e,n,t=navigator.userAgent||"",i=navigator.appName||"";return-1!=(n=t.indexOf("Opera"))||-1!=(n=t.indexOf("OPR/"))?i="Opera":-1!=(n=t.indexOf("Android"))?i="Android":-1!=(n=t.indexOf("Chrome"))?i="Chrome":-1!=(n=t.indexOf("Safari"))?i="Safari":-1!=(n=t.indexOf("Firefox"))?i="Firefox":-1!=(n=t.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(e=t.lastIndexOf(" ")+1)<(n=t.lastIndexOf("/"))?(i=t.substring(e,n)).toLowerCase()==i.toUpperCase()&&(i=navigator.appName):i="unknown",i},getBrowserFullVersion:function(){if(!navigator)return"";var e,n,t,i=navigator.userAgent||"",a=navigator.appName||"",r=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(n=i.indexOf("Opera"))?(r=i.substring(n+6),-1!=(n=i.indexOf("Version"))&&(r=i.substring(n+8))):-1!=(n=i.indexOf("OPR/"))?r=i.substring(n+4):-1!=(n=i.indexOf("Android"))?r=i.substring(n+11):-1!=(n=i.indexOf("Chrome"))?r=i.substring(n+7):-1!=(n=i.indexOf("Safari"))?(r=i.substring(n+7),-1!=(n=i.indexOf("Version"))&&(r=i.substring(n+8))):-1!=(n=i.indexOf("Firefox"))?r=i.substring(n+8):"Microsoft Internet Explorer"==a?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):"Netscape"==a?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):r=i.lastIndexOf(" ")+1<(n=i.lastIndexOf("/"))?i.substring(n+1):"unknown",-1!=(t=(r=r.toString()).indexOf(";"))&&(r=r.substring(0,t)),-1!=(t=r.indexOf(" "))&&(r=r.substring(0,t)),-1!=(t=r.indexOf(")"))&&(r=r.substring(0,t)),e=parseInt(""+r,10),isNaN(e)&&(r=""+parseFloat(navigator.appVersion)),r},browserAcceptsLargeURLs:function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},getNamespace:function(){return e.ns_||e}};return e.StreamSense=e.StreamSense||function(){var n=function(){var e="cs_";return function(){var n="undefined"!=typeof localStorage?localStorage:null;o.extend(this,{get:function(t){return n&&n.getItem(e+t)},set:function(t,i){n&&n.setItem(e+t,i)},has:function(t){return n&&n.getItem(e+t)},remove:function(t){n&&n.removeItem(e+t)},clear:function(){for(var t=0;n&&t<n.length;++t){var i=n.key(t);i.substr(0,e.length)===e&&n.removeItem(i)}}})}}(),t=function(e,n){if("undefined"!=typeof Image){var t=new Image;t.onload=function(){n&&n(200),t=null},t.onerror=function(){n&&n(),t=null},t.src=e}},i=function(e,n,t){t&&"undefined"!=typeof setTimeout&&setTimeout(t,0)},a={PLATFORM:"generic",httpGet:t,httpPost:i,Storage:n,IO:{dir:function(){return null},append:function(e,n,t){},write:function(e,n,t){},deleteFile:function(){return!1},read:function(){return null}},getCrossPublisherId:function(){return null},getAppName:function(){return s.UNKNOWN_VALUE},getAppVersion:function(){return s.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return s.UNKNOWN_VALUE},getPlatformVersion:function(){return s.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return s.UNKNOWN_VALUE},getRuntimeVersion:function(){return s.UNKNOWN_VALUE},getResolution:function(){return s.UNKNOWN_VALUE},getLanguage:function(){return s.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e){function n(n,t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e,n){return setTimeout(e,n)})),clearTimeout:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return clearTimeout(e)})),getDeviceArchitecture:function(){return s.UNKNOWN_VALUE},getConnectionType:function(){return s.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return s.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)},processMeasurementLabels:function(){}},s={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};o.jsonObjectToStringDictionary=function(e){var n={};for(var t in e){var i=e[t];n[t]=null==i?i:e[t]+""}return n},o.getKeys=function(e,n){var t,i=[];for(t in e)n&&!n.test(t)||!e.hasOwnProperty(t)||(i[i.length]=t);return i},o.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var n=+new Date;return e.ns_ts=String(n),n},o.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},o.addNewPlaybackInterval=function(e,n,t,i){var a,r={};if(!(t>=n))return o.cloneObject(e);if(r.start=n,r.end=t,0==e.length)return e.push(r),o.cloneObject(e);for(a=0;a<e.length;a++)if(r.start>=e[a].start&&r.end<=e[a].end)return o.cloneObject(e);var s,l=!1;for(s=0;s<e.length;s++)if(s+1===e.length&&r.start>=e[s].start||r.start>=e[s].start&&r.start<e[s+1].start){e.splice(s+1,0,r),l=!0;break}l||e.splice(0,0,r);var d=[e[0]];for(a=1;a<e.length;a++)d[d.length-1].end+i<e[a].start?d.push(e[a]):d[d.length-1].end<e[a].end&&(d[d.length-1].end=e[a].end);return o.cloneObject(d)};var l=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(n){return e[n]}}}(),d={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},u=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(n){return e[n]}}}(),c={STREAMSENSE_VERSION:"5.1.3.160420",MODEL_VERSION:"5.1",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},p=function(){function e(){function e(){(F={}).ns_st_pt="0",F.ns_st_bt="0",F.ns_st_bc="0",F.ns_st_pc="0",F.ns_st_sq="0",F.ns_st_cl="0",F.ns_st_pn="1",F.ns_st_tp="1",F.ns_st_skc="0",F.ns_st_et="0",F.ns_st_cn="1",F.ns_st_sc="0",F.ns_st_ska="0",F.ns_st_skd="0",F.ns_st_skt="0",F.ns_st_upc="0",F.ns_st_lpc="0",F.ns_st_upa="0",F.ns_st_lpa="0",F.ns_st_ub="0",F.ns_st_br="0",a=!1,i=!1,t=s.UNKNOWN_VALUE,r=NaN,u=0,l=0,p=NaN,v=0,m=0,d=0,h=NaN,f=[],g=[],y=0,k=0,S=0,_=0,b=0,C=0,P=NaN,E=0,N=!1,x=NaN,T=!1,w=0,D=0,A=0,I=0,O=0,R=0,V=0,M=0,L=0}function n(){var e,n,t=0;for(e=0;e<f.length;e++)t+=Math.abs(f[e].end-f[e].start);j.setUniquePlaybackInterval(t);var i=0;for(e=0;e<f.length;e++)(n=Math.abs(f[e].end-f[e].start))>i&&(i=n);j.setLongestPlaybackInterval(i);var a=0;for(e=0;e<g.length;e++)a+=Math.abs(g[e].end-g[e].start);j.setAssetUniquePlaybackInterval(a);var r=0;for(e=0;e<g.length;e++)(n=Math.abs(g[e].end-g[e].start))>r&&(r=n);j.setAssetLongestPlaybackInterval(r)}var t,i,a,r,l,d,u,p,m,v,f,g,h,y,k,S,_,b,C,P,E,N,x,A,w,T,I,D,F,O,R,V,M,L,j=this,B=c.INTERVAL_MERGE_TOLERANCE;o.extend(this,{getHash:function(){return t},setHash:function(e){t=e},setPlaybackIntervalMergeTolerance:function(e){B=e},getPlaybackIntervalMergeTolerance:function(){return B},setLabels:function(e){null!=e&&o.extend(F,e)},getLabels:function(){return F},setLabel:function(e,n){var t={};t[e]=n,j.setLabels(t)},getLabel:function(e){return F[e]},getClipNumber:function(){return parseInt(j.getLabel("ns_st_cn"))},setClipNumber:function(e){j.setLabel("ns_st_cn",String(e))},getPartNumber:function(){return parseInt(j.getLabel("ns_st_pn"))},createLabels:function(e){var n,t,i,r=e||{};return r.ns_st_dbt=String(j.getBufferingTime()-E),E=j.getBufferingTime(),r.ns_st_det=String(j.getElapsedTime()-m),m=j.getElapsedTime(),r.ns_st_dupc=String(j.getUniquePlaybackInterval()-y),y=j.getUniquePlaybackInterval(),parseInt(r.ns_st_dupc)<0&&(r.ns_st_dupc="0"),n=o.exists(r.ns_st_upc)?parseInt(r.ns_st_upc):j.getUniquePlaybackInterval(),r.ns_st_iupc=String(n-k),k=n,parseInt(r.ns_st_iupc)<0&&(r.ns_st_iupc="0"),r.ns_st_dupa=String(j.getAssetUniquePlaybackInterval()-S),S=j.getAssetUniquePlaybackInterval(),parseInt(r.ns_st_dupa)<0&&(r.ns_st_dupa="0"),t=o.exists(r.ns_st_upa)?parseInt(r.ns_st_upa):j.getAssetUniquePlaybackInterval(),r.ns_st_iupa=String(t-_),_=t,parseInt(r.ns_st_iupa)<0&&(r.ns_st_iupa="0"),r.ns_st_dlpc=String(j.getLongestPlaybackInterval()-b),b=j.getLongestPlaybackInterval(),parseInt(r.ns_st_dlpc)<0&&(r.ns_st_dlpc="0"),r.ns_st_dlpa=String(j.getAssetLongestPlaybackInterval()-C),C=j.getAssetLongestPlaybackInterval(),parseInt(r.ns_st_dlpa)<0&&(r.ns_st_dlpa="0"),i=o.exists(r.ns_st_pt)?parseInt(r.ns_st_pt):j.getPlaybackTime(),r.ns_st_ipt=String(i-d),d=i,r.ns_st_dpt=String(j.getPlaybackTime()-l),l=j.getPlaybackTime(),r.ns_st_dpc=String(j.getPauses()-O),O=j.getPauses(),r.ns_st_dskc=String(j.getSeeks()-R),R=j.getSeeks(),r.ns_st_dbc=String(j.getBuffers()-V),V=j.getBuffers(),r.ns_st_dskt=String(j.getSeekingTime()-A),A=j.getSeekingTime(),r.ns_st_dska=String(j.getSeekingAmount()-I),I=j.getSeekingAmount(),o.extend(r,j.getLabels()),j.setSeekingDirection(0),a&&(r.ns_st_spc=String(M),r.ns_st_apc=String(L)),a||o.parseBoolean(r.ns_st_sc)||(r.ns_st_sc="1"),r},getVideoTrack:function(){return j.getLabel("ns_st_vt")},setVideoTrack:function(e){j.setLabel("ns_st_vt",String(e))},getAudioTrack:function(){return j.getLabel("ns_st_at")},setAudioTrack:function(e){j.setLabel("ns_st_at",String(e))},getSubtitleTrack:function(){return j.getLabel("ns_st_tt")},setSubtitleTrack:function(e){j.setLabel("ns_st_tt",String(e))},getCDN:function(){return j.getLabel("ns_st_cdn")},setCDN:function(e){j.setLabel("ns_st_cdn",String(e))},getClipPlaybackIntervals:function(){return f},setClipPlaybackIntervals:function(e){f=e},getAssetPlaybackIntervals:function(){return g},getUniquePlaybackInterval:function(){return parseInt(j.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(j.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(e){j.setLabel("ns_st_upa",String(e))},setUniquePlaybackInterval:function(e){j.setLabel("ns_st_upc",String(e))},getLongestPlaybackInterval:function(){return parseInt(j.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(e){j.setLabel("ns_st_lpc",String(e))},getAssetLongestPlaybackInterval:function(){return parseInt(j.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(e){j.setLabel("ns_st_lpa",String(e))},incrementPauses:function(){j.setLabel("ns_st_pc",String(j.getPauses()+1))},incrementSeeks:function(){j.setLabel("ns_st_skc",String(j.getSeeks()+1))},incrementPlayCounter:function(){j.setLabel("ns_st_sq",String(j.getPlayCounter()+1))},getPlayCounter:function(){return parseInt(j.getLabel("ns_st_sq"))},getBufferingTime:function(){return parseInt(j.getLabel("ns_st_bt"))},setBufferingTime:function(e){j.setLabel("ns_st_bt",String(e))},addBufferingTime:function(e){if(!isNaN(P)){var n=j.getBufferingTime();n+=e-P,j.setBufferingTime(n),P=NaN}},setPlaybackStartPosition:function(e){h=parseInt(e)},getPlaybackStartPosition:function(){return h},addInterval:function(e){isNaN(h)||isNaN(e)||(f=o.addNewPlaybackInterval(f,h,e,B),g=o.addNewPlaybackInterval(g,h,e,B),n(),h=NaN)},getElapsedTime:function(){return parseInt(j.getLabel("ns_st_et"))},setElapsedTime:function(e){j.setLabel("ns_st_et",String(e))},addElapsedTime:function(e){if(!isNaN(p)){var n=j.getElapsedTime();n+=e-p,j.setElapsedTime(n),p=NaN}},getElapsedTimestamp:function(){return p},setElapsedTimestamp:function(e){p=e},addPlaybackTime:function(e){if(!isNaN(r)){var n=j.getPlaybackTime();n+=e-r,j.setPlaybackTime(n),r=NaN}},getPlaybackTime:function(){return parseInt(j.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(e){return isNaN(r)||(u+=e-r),u},setPlaybackTimeOffset:function(e){u=e},getPlaybackTimeOffset:function(){return u},setPlaybackTime:function(e){j.setLabel("ns_st_pt",String(e))},getPlaybackTimestamp:function(){return r},setPlaybackTimestamp:function(e){r=e},setPreviousPlaybackTime:function(e){l=e},setPreviousPlaybackTimestamp:function(e){},getBufferingTimestamp:function(){return P},setBufferingTimestamp:function(e){P=e},getPauses:function(){return parseInt(j.getLabel("ns_st_pc"))},setPauses:function(e){j.setLabel("ns_st_pc",String(e))},getSeeks:function(){return parseInt(j.getLabel("ns_st_skc"))},setSeeks:function(e){j.setLabel("ns_st_skc",String(e))},setSeeking:function(e){N=e},isSeeking:function(){return N},setCollectingSeekingTime:function(e){T=e},isCollectingSeekingTime:function(){return T},setClipStarted:function(e){i=e},isClipStarted:function(){return i},setPlaybackStarted:function(e){a=e},isPlaybackStarted:function(){return a},setSeekingTimestamp:function(e){x=e},getSeekingTimestamp:function(){return x},addSeekingTime:function(e){if(!isNaN(x)){var n=j.getSeekingTime();n+=e-x,j.setSeekingTime(n),x=NaN}},getSeekingTime:function(){return parseInt(j.getLabel("ns_st_skt"))},setSeekingTime:function(e){j.setLabel("ns_st_skt",String(e))},setSeekingTimeBeforeEnd:function(e){D=e},getSeekingTimeBeforeEnd:function(){return D},setSeekStartPosition:function(e){w=e},getSeekStartPosition:function(){return w},setSeekingAmount:function(e){j.setLabel("ns_st_ska",String(e))},getSeekingAmount:function(){return parseInt(j.getLabel("ns_st_ska"))},addSeekingAmount:function(e){var n,t=j.getSeekingAmount();t+=Math.abs(e-w),j.setSeekingAmount(t),w==e?n=0:w>e?n=-1:e>w&&(n=1),j.setSeekingDirection(n),w=0},getSeekingDirection:function(){return parseInt(j.getLabel("ns_st_skd"))},setSeekingDirection:function(e){j.setLabel("ns_st_skd",String(e))},resetClipLifecycleLabels:function(){F.ns_st_pt="0",l=0,d=0,F.ns_st_bt="0",E=0,F.ns_st_bc="0",V=0,F.ns_st_pc="0",O=0,F.ns_st_sq="0",F.ns_st_upa="0",S=0,_=0,F.ns_st_et="0",m=0,F.ns_st_lpa="0",C=0,F.ns_st_skt="0",A=0,F.ns_st_ska="0",I=0,F.ns_st_skc="0",R=0},incrementSegmentPlaybackCounter:function(){M++},incrementClipLoadCounter:function(){j.setLabel("ns_st_sc",String(j.getClipLoadCounter()+1))},incrementAssetPlaybackCounter:function(){L++},setPreviousUniquePlaybackInterval:function(e){y=e},setPreviousEventIndependentUniquePlaybackInterval:function(e){k=e},setPreviousLongestPlaybackInterval:function(e){b=e},resetAssetPlaybackCounters:function(){g=[],j.setAssetUniquePlaybackInterval(0),S=0,_=0,j.setAssetLongestPlaybackInterval(0),C=0},setSegmentPlaybackCounter:function(e){M=e},setClipLoadCounter:function(e){j.setLabel("ns_st_sc",String(e))},setAssetPlaybackCounter:function(e){L=e},setLowestPartNumberPlayed:function(e){v=e},getSegmentPlaybackCounter:function(){return M},getClipLoadCounter:function(){return parseInt(j.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return L},getLowestPartNumberPlayed:function(){return v},getBuffers:function(){return parseInt(j.getLabel("ns_st_bc"))},incrementBufferCount:function(){j.setLabel("ns_st_bc",String(j.getBuffers()+1))},getPreviousBufferingTime:function(){return E}}),e()}return e.resetClip=function(e,n,t){for(var i=e.getLabels(),a={},r=0;t&&r<t.length;++r)i.hasOwnProperty(t[r])&&(a[t[r]]=i[t[r]]);n.setLabels(a),n.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},e}(),m=function(){function e(){function e(){n=new p,(a={}).ns_st_bp="0",a.ns_st_pa="0",a.ns_st_pp="0",a.ns_st_sp="1",a.ns_st_id=String(+new Date),t=NaN,i=NaN,s={},l=0,r=!1,d=!1,u=0}var n,t,i,a,r,s,l,d,u,c=this;o.extend(this,{resetClip:function(){var e=n;n=new p,p.resetClip(e,n)},hashExists:function(e){return null!=s[e]},storeHash:function(e){s[e]={}},removeHash:function(e){delete s[e]},storeClipPlaybackCounters:function(){for(var e in s)if(s.hasOwnProperty(e)&&s[e].clipNumber===n.getClipNumber()){o.extend(s[e],{segmentPlaybackCounter:n.getSegmentPlaybackCounter(),clipLoadCounter:n.getClipLoadCounter(),assetPlaybackCounter:n.getAssetPlaybackCounter(),lowestPartNumberPlayed:n.getLowestPartNumberPlayed(),seeking:n.isSeeking(),seekingTimeBeforeEnd:n.getSeekingTimeBeforeEnd(),seekingStartPosition:n.getSeekStartPosition(),clipPlaybackIntervals:n.getClipPlaybackIntervals(),uniquePlaybackInterval:n.getUniquePlaybackInterval(),longestPlaybackInterval:n.getLongestPlaybackInterval(),videoTrack:n.getVideoTrack(),audioTrack:n.getAudioTrack(),subtitleTrack:n.getSubtitleTrack(),cdn:n.getCDN()});break}},getStoredClipRegisters:function(e){return s[e]},getClipNumber:function(e){return s[e].clipNumber},getMaxClipNumber:function(){return l},storeClipNumber:function(e,n){s[e].clipNumber=n,n>l&&(l=n)},setLabels:function(e){null!=e&&o.extend(a,e)},getLabels:function(){return a},setLabel:function(e,n){var t={};t[e]=n,c.setLabels(t)},getLabel:function(e){return a[e]},getClip:function(){return n},createLabels:function(e){var t=e||{};return d||(t.ns_st_pb=null!=t.ns_st_pb?t.ns_st_pb:"1"),o.extend(t,c.getLabels()),n.isPlaybackStarted()&&(t.ns_st_ppc=String(u)),t},incrementPlayCounter:function(){c.setLabel("ns_st_sp",String(parseInt(c.getLabel("ns_st_sp"))+1))},incrementPauses:function(){c.setLabel("ns_st_pp",String(c.getPauses()+1))},addPlaybackTime:function(e){if(!isNaN(i)){var n=c.getPlaybackTime();n+=e-i,c.setPlaybackTime(n),i=NaN}},addBufferingTime:function(e){if(!isNaN(t)){var n=c.getBufferingTime();n+=e-t,c.setBufferingTime(n),t=NaN}},getBufferingTime:function(){return parseInt(c.getLabel("ns_st_bp"))},setBufferingTime:function(e){c.setLabel("ns_st_bp",String(e))},getPlaybackTime:function(){return parseInt(c.getLabel("ns_st_pa"))},setBufferingTimestamp:function(e){t=e},getBufferingTimestamp:function(){return t},setPlaybackTime:function(e){c.setLabel("ns_st_pa",String(e))},setPlaybackTimestamp:function(e){i=e},getPlaybackTimestamp:function(){return i},getPauses:function(){return parseInt(c.getLabel("ns_st_pp"))},setPauses:function(e){c.setLabel("ns_st_pp",String(e))},isPlaylistStarted:function(){return r},setPlaylistStarted:function(e){r=e},getPlaybackCounter:function(){return u},incrementPlaybackCounter:function(){u++},setFirstEventSent:function(e){d=e}}),e()}return e.resetPlaylist=function(n,t,i){for(var a=n.getClip(),r=n.getLabels(),o={},s=0;i&&s<i.length;s++)r.hasOwnProperty(i[s])&&(o[i[s]]=r[i[s]]);(t=new e).setLabels(o),p.resetClip(a,t.getClip(),i)},e}(),v=function(e){function n(){i=1}function t(n){a=o.extend({},n);var t=e.getSSECore().getPixelURL();if(e.getAppCore()){if(e.getSSECore().isProperlyInitialized()){var i=e.getSSECore().getExports().et;if("function"==typeof e.getAppCore().getMeasurementDispatcher)e.getAppCore().getMeasurementDispatcher().send(i.HIDDEN,n,t);else{var r=e.getSSECore().getExports().am.newApplicationMeasurement(e.getAppCore(),i.HIDDEN,n,t);e.getAppCore().getQueue().offer(r)}}}else t&&e.getSSECore().getPlatformAPI().httpGet(e.getSSECore().prepareUrl(t,n))}var i,a,r=this;o.extend(this,{newEvent:function(e){t(e.eventLabels),e.eventType!=l.HEARTBEAT&&r.incrementEventCounter()},getEventCounter:function(){return i},incrementEventCounter:function(){i++},setEventCounter:function(e){i=e},getMeasurementSnapshot:function(){return a}}),n()},f=function(e){function n(){r=0,s=0}function t(){s++;var n={},t=o.fixEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getPlaybackTimeOffset()+(t-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_pa=String(e.getPlaylist().getPlaybackTime()+(t-e.getPlaylist().getPlaybackTimestamp())),n.ns_st_pt=String(e.getPlaylist().getClip().getPlaybackTime()+(t-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_dpt=String(t-e.getPlaylist().getClip().getPlaybackTimestamp()),e.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK?(n.ns_st_bp=String(e.getPlaylist().getBufferingTime()+(t-e.getPlaylist().getBufferingTimestamp())),n.ns_st_bt=String(e.getPlaylist().getClip().getBufferingTime()+(t-e.getPlaylist().getClip().getBufferingTimestamp())),n.ns_st_dbt=String(t-e.getPlaylist().getClip().getBufferingTimestamp())):n.ns_st_dbt=String(e.getPlaylist().getClip().getBufferingTime()-e.getPlaylist().getClip().getPreviousBufferingTime()),n.ns_st_et=String(e.getPlaylist().getClip().getElapsedTime()+(t-e.getPlaylist().getClip().getElapsedTimestamp())),n.ns_st_det=String(t-e.getPlaylist().getClip().getElapsedTimestamp());var i=o.cloneObject(e.getPlaylist().getClip().getClipPlaybackIntervals()),a=o.cloneObject(e.getPlaylist().getClip().getAssetPlaybackIntervals());i=o.addNewPlaybackInterval(i,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),a=o.addNewPlaybackInterval(a,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var c,p,m=0;for(c=0;c<i.length;c++)m+=Math.abs(i[c].end-i[c].start);n.ns_st_upc=String(m),n.ns_st_dupc=String(m-e.getPlaylist().getClip().getUniquePlaybackInterval());var v=0;for(c=0;c<i.length;c++)(p=Math.abs(i[c].end-i[c].start))>v&&(v=p);n.ns_st_lpc=String(v),n.ns_st_dlpc=String(v-e.getPlaylist().getClip().getLongestPlaybackInterval());var f=0;for(c=0;c<a.length;c++)f+=Math.abs(a[c].end-a[c].start);n.ns_st_upa=String(f),n.ns_st_dupa=String(f-e.getPlaylist().getClip().getAssetUniquePlaybackInterval());var g=0;for(c=0;c<a.length;c++)(p=Math.abs(a[c].end-a[c].start))>g&&(g=p);n.ns_st_lpa=String(g),n.ns_st_dlpa=String(g-e.getPlaylist().getClip().getAssetLongestPlaybackInterval()),n.ns_st_hc=String(e.getHeartbeat().getCount());var h=e.getSSECore().createLabels(l.HEARTBEAT,n,t);e.getEventManager().newEvent(h),r=0,u.resume()}function i(){null!=a&&(e.getSSECore().getPlatformAPI().clearTimeout(a),a=null)}var a,r,s,u=this,p=c.DEFAULT_HEARTBEAT_INTERVAL;o.extend(this,{getCount:function(){return s},setIntervals:function(e){p=e},getInterval:function(e){var n=0;if(null!=p)for(var t=0;t<p.length;t++){var i=p[t],a=i.playingtime;if(!a||a>e){n=i.interval;break}}return n},resume:function(){i();var n=u.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));if(n>0){var o=r>0?r:n;a=e.getSSECore().getPlatformAPI().setTimeout(t,o)}r=0},pause:function(){i();var n=u.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));r=n-(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()))%n}}),n()},g=function(e){function n(){}function t(){var n={},t=o.fixEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getExpectedPlaybackPosition(t)),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK&&(e.getPlaylist().addBufferingTime(t),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().setBufferingTimestamp(t)),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)),e.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po));var i=e.getSSECore().createLabels(l.KEEPALIVE,n,t);e.getEventManager().newEvent(i),r.resume()}function i(){null!=a&&(e.getSSECore().getPlatformAPI().clearTimeout(a),a=null)}var a,r=this,s=c.DEFAULT_KEEP_ALIVE_INTERVAL;o.extend(r,{resume:function(){i(),a=e.getSSECore().getPlatformAPI().setTimeout(t,s)},pause:function(){i()},setInterval:function(e){s=e},getInterval:function(){return s}}),n()},h=function(e){function n(){a=d.IDLE,i=null,t=NaN}var t,i,a,r=this;o.extend(r,{eventTypeToState:function(e){if(a==d.IDLE){if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_BEFORE_PLAYBACK;if(e==l.BUFFER)return d.BUFFERING_BEFORE_PLAYBACK}else if(a==d.PLAYBACK_NOT_STARTED){if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_BEFORE_PLAYBACK;if(e==l.BUFFER)return d.BUFFERING_BEFORE_PLAYBACK;if(e==l.END||e==l.AD_SKIP)return d.IDLE}else if(a==d.PLAYING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.BUFFER)return d.BUFFERING_DURING_PLAYBACK;if(e==l.PAUSE)return d.PAUSED;if(e==l.SEEK_START)return d.SEEKING_DURING_PLAYBACK}else if(a==d.PAUSED){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.BUFFER)return d.BUFFERING_DURING_PAUSE;if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_DURING_PAUSE}else if(a==d.BUFFERING_BEFORE_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PAUSE||e==l.BUFFER_STOP)return d.PLAYBACK_NOT_STARTED;if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_BEFORE_PLAYBACK}else if(a==d.BUFFERING_DURING_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY||e==l.BUFFER_STOP)return d.PLAYING;if(e==l.PAUSE_ON_BUFFERING)return d.PAUSED_DURING_BUFFERING;if(e==l.SEEK_START)return d.SEEKING_DURING_BUFFERING;if(e==l.PAUSE)return d.PAUSED}else if(a==d.BUFFERING_DURING_SEEKING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.BUFFER_STOP)return d.SEEKING_DURING_PLAYBACK;if(e==l.PAUSE)return d.PAUSED}else if(a==d.BUFFERING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_DURING_PAUSE;if(e==l.BUFFER_STOP||e==l.PAUSE)return d.PAUSED}else if(a==d.SEEKING_BEFORE_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PAUSE)return d.PLAYBACK_NOT_STARTED;if(e==l.PLAY)return d.PLAYING;if(e==l.BUFFER)return d.BUFFERING_BEFORE_PLAYBACK}else if(a==d.SEEKING_DURING_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.PAUSE)return d.PAUSED;if(e==l.BUFFER)return d.BUFFERING_DURING_SEEKING}else if(a==d.SEEKING_DURING_BUFFERING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.PAUSE||e==l.BUFFER_STOP)return d.PAUSED}else if(a==d.SEEKING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.PAUSE||e==l.BUFFER_STOP)return d.PAUSED;if(e==l.BUFFER)return d.BUFFERING_DURING_PAUSE}else if(a==d.PAUSED_DURING_BUFFERING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.SEEK_START)return d.SEEKING_DURING_BUFFERING;if(e==l.PAUSE)return d.PAUSED;if(e==l.PLAY||e==l.BUFFER_STOP)return d.PLAYING}return null},getCurrentState:function(){return a},newEvent:function(e,n){var o=r.eventTypeToState(e);a!=o&&(i=a,a=o,t=n)},getPreviousState:function(){return i},getLastStateChangeTimestamp:function(){return t}}),n()},y=function(e){var n=this;o.extend(n,{onSeekStartWhenPausedOrBufferingDuringPause:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n))},onBufferWhenSeekingOrPlayBackNotStartedOrPaused:function(n,t){e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().setBufferingTimestamp(n)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})},k=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n))},onPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},S=function(e){var n=this;o.extend(n,{onEndAndSkip:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n)},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},_=function(e){var n=this;o.extend(n,{onPauseOnBuffering:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a),e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().setBufferingTimestamp(n),e.getPlaylist().getClip().setPlaybackTimeOffset(i)},onBufferStop:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n)},onEndOrAdSkip:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().addInterval(i);var a=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(a),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a)},onPause:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a)},onPlay:function(n,t){e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n)}})},b=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},C=function(e){var n=this;o.extend(n,{onBuffer:function(n,t){e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().setBufferingTimestamp(n)},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n)},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},P=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},E=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n))},onPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses()},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},N=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().setSeekingTimestamp(n):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n))},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},x=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().addInterval(i);var a=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(a),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBuffer:function(n,t){e.getSSECore().isPauseOnBufferingEnabled()&&e.getSSECore().startPausedOnBufferingTimer(n,t),e.getPlaylist().getClip().incrementBufferCount(),e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().setBufferingTimestamp(n)},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a)},onPause:function(n,t){var i=parseInt(t.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a)}})},A=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},w=function(e){var n=this;o.extend(n,{onPause:function(n,t){e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})},T=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){parseInt(t.ns_st_po),e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},I=function(){function e(){r=new D(te),o.getNamespace().comScore?(ie=o.getNamespace().comScore.exports,r.setAppCore(ie.c())):r.setAppCore(null),r.setKeepAlive(new g(r)),r.setHeartbeat(new f(r)),r.setEventManager(new v(r)),r.setStateMachine(new h),r.setPlaylist(new m),$={},p=new C(r),I=new P(r),F=new N(r),O=new x(r),R=new k(r),V=new _(r),M=new b(r),L=new S(r),j=new E(r),B=new A(r),U=new w(r),q=new T(r),G=new y(r),z=!1,H=0,W=+new Date,K=!0,Q=!1,X=[]}function n(e){var n=r.getStateMachine().getCurrentState();if(n==d.IDLE||n==d.PLAYBACK_NOT_STARTED||n==d.BUFFERING_BEFORE_PLAYBACK||n==d.SEEKING_BEFORE_PLAYBACK){if(e==l.PLAY)return!0}else if(n==d.PLAYING){if(e==l.END||e==l.AD_SKIP||e==l.SEEK_START||e==l.PAUSE)return!0}else if(n==d.PAUSED||n==d.BUFFERING_DURING_PAUSE||n==d.SEEKING_DURING_PLAYBACK||n==d.SEEKING_DURING_BUFFERING||n==d.SEEKING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP||e==l.PLAY)return!0}else if(n==d.BUFFERING_DURING_PLAYBACK){if(e==l.PAUSE_ON_BUFFERING||e==l.END||e==l.AD_SKIP||e==l.SEEK_START||e==l.PAUSE||e==l.PLAY)return!0}else if(n==d.BUFFERING_DURING_SEEKING){if(e==l.END||e==l.AD_SKIP||e==l.PAUSE||e==l.PLAY)return!0}else if(n==d.PAUSED_DURING_BUFFERING&&(e==l.END||e==l.AD_SKIP||e==l.BUFFER_STOP||e==l.PLAY))return!0;return!1}function t(e,t,i){var a=r.getStateMachine().getCurrentState();e==l.AD_SKIP&&!i.hasOwnProperty("ns_st_ui")&&n(e)?i.ns_st_ui="skip":e==l.SEEK_START&&!i.hasOwnProperty("ns_st_ui")&&n(e)&&(i.ns_st_ui="seek"),a==d.IDLE?e==l.BUFFER?p.onBuffer(t,i):e==l.SEEK_START?p.onSeekStart(t,i):e==l.PLAY&&p.onPlay(t,i):a==d.PLAYBACK_NOT_STARTED?e==l.END||e==l.AD_SKIP?F.onEndOrAdSkip(t,i):e==l.SEEK_START?F.onSeekStart(t,i):e==l.PLAY?F.onPlay(t,i):e==l.BUFFER&&G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):a==d.PLAYING?e==l.END||e==l.AD_SKIP?O.onEndOrAdSkip(t,i):e==l.BUFFER?O.onBuffer(t,i):e==l.SEEK_START?O.onSeekStart(t,i):e==l.PAUSE&&O.onPause(t,i):a==d.PAUSED?e==l.END||e==l.AD_SKIP?I.onEndOrAdSkip(t,i):e==l.PLAY?I.onPlay(t,i):e==l.BUFFER?G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):e==l.SEEK_START&&G.onSeekStartWhenPausedOrBufferingDuringPause(t,i):a==d.BUFFERING_BEFORE_PLAYBACK?e==l.END||e==l.AD_SKIP?R.onEndOrAdSkip(t,i):e==l.BUFFER_STOP?R.onBufferStop(t,i):e==l.SEEK_START?R.onSeekStart(t,i):e==l.PAUSE?R.onPause(t,i):e==l.PLAY&&R.onPlay(t,i):a==d.BUFFERING_DURING_PLAYBACK?e==l.PAUSE_ON_BUFFERING?V.onPauseOnBuffering(t,i):e==l.BUFFER_STOP?V.onBufferStop(t,i):e==l.END||e==l.AD_SKIP?V.onEndOrAdSkip(t,i):e==l.SEEK_START?V.onSeekStart(t,i):e==l.PAUSE?V.onPause(t,i):e==l.PLAY&&V.onPlay(t,i):a==d.BUFFERING_DURING_SEEKING?e==l.END||e==l.AD_SKIP?M.onEndOrAdSkip(t,i):e==l.PAUSE?M.onPause(t,i):e==l.PLAY?M.onPlay(t,i):e==l.BUFFER_STOP&&G.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(t,i):a==d.BUFFERING_DURING_PAUSE?e==l.END||e==l.AD_SKIP?L.onEndAndSkip(t,i):e==l.PAUSE?L.onPause(t,i):e==l.PLAY?L.onPlay(t,i):e==l.SEEK_START?G.onSeekStartWhenPausedOrBufferingDuringPause(t,i):e==l.BUFFER_STOP&&G.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(t,i):a==d.SEEKING_BEFORE_PLAYBACK?e==l.END||e==l.AD_SKIP?B.onEndOrAdSkip(t,i):e==l.PAUSE?B.onPause(t,i):e==l.PLAY?B.onPlay(t,i):e==l.BUFFER&&G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):a==d.SEEKING_DURING_PLAYBACK?e==l.END||e==l.AD_SKIP?q.onEndOrAdSkip(t,i):e==l.PLAY?q.onPlay(t,i):e==l.BUFFER?G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):e==l.PAUSE&&G.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(t,i):a==d.SEEKING_DURING_BUFFERING?e==l.PAUSE?U.onPause(t,i):e==l.BUFFER?G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):e==l.PLAY?G.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):e==l.END||e==l.AD_SKIP?G.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):e==l.BUFFER_STOP&&G.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):a==d.PAUSED_DURING_BUFFERING?e==l.END||e==l.AD_SKIP?j.onEndOrAdSkip(t,i):e==l.BUFFER_STOP?j.onBufferStop(t,i):e==l.SEEK_START?j.onSeekStart(t,i):e==l.PAUSE?j.onPause(t,i):e==l.PLAY&&j.onPlay(t,i):a==d.SEEKING_DURING_PAUSE&&(e==l.BUFFER?G.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):e==l.PLAY?G.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):e==l.PAUSE?G.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(t,i):e==l.END||e==l.AD_SKIP?G.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):e==l.BUFFER_STOP&&G.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(t,i)),n(e)&&r.getPlaylist().setFirstEventSent(!0)}function i(e,n){for(var t,i=ee.encodeURIComponent||escape,a=[],r=c.LABELS_ORDER,s=e.split("?"),l=s[0],d=s[1].split("&"),u=0,p=d.length;p>u;u++){var m=d[u].split("="),v=unescape(m[0]),f=unescape(m[1]);v&&(n[v]=f)}for(var g={},h=0,y=r.length;y>h;h++){var k=r[h];if(n.hasOwnProperty(k)){var S=n[k];void 0!==S&&null!=S&&(g[k]=!0,a.push(i(k)+"="+i(n[k])))}}for(var _ in n)if(n.hasOwnProperty(_)){if(g[_])continue;var b=n[_];void 0!==b&&null!=b&&a.push(i(_)+"="+i(n[_]))}t=(t=l+"?"+a.join("&"))+(t.indexOf("&c8=")<0?"&c8="+i(ne.title):"")+(t.indexOf("&c7=")<0?"&c7="+i(ne.URL):"")+(t.indexOf("&c9=")<0?"&c9="+i(ne.referrer):"");var C=o.browserAcceptsLargeURLs()?c.URL_LENGTH_LIMIT:c.RESTRICTED_URL_LENGTH_LIMIT;if(t.length>C&&t.indexOf("&")>0){var P=t.substr(0,C-8).lastIndexOf("&");t=(t.substring(0,P)+"&ns_cut="+i(t.substring(P+1))).substr(0,C)}return t}var r,p,I,F,O,R,V,M,L,j,B,U,q,G,z,H,W,K,Z,Q,Y,X,$,J,ee,ne,te=this,ie={},ae=c.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,re=c.THROTTLING_DELAY;o.extend(te,{createLabels:function(e,n,t){var i={};if("undefined"!=typeof document){var a=document;i.c7=a.URL,i.c8=a.title,i.c9=a.referrer}return null!=n&&o.extend(i,n),i.ns_ts=null!=i.ns_ts?i.ns_ts:String(+new Date),i.ns_st_ev=null!=i.ns_st_ev?i.ns_st_ev:l.toString(e),i.ns_st_mp=null!=i.ns_st_mp?i.ns_st_mp:c.DEFAULT_PLAYERNAME,i.ns_st_mv=null!=i.ns_st_mv?i.ns_st_mv:c.STREAMSENSE_VERSION,i.ns_st_ub=null!=i.ns_st_ub?i.ns_st_ub:"0",i.ns_st_br=null!=i.ns_st_br?i.ns_st_br:"0",i.ns_st_pn=null!=i.ns_st_pn?i.ns_st_pn:"1",i.ns_st_tp=null!=i.ns_st_tp?i.ns_st_tp:"1",i.ns_st_it=null!=i.ns_st_it?i.ns_st_it:u.toString(u.SINGLE_CLIP),i.ns_st_sv=null!=i.ns_st_sv?i.ns_st_sv:c.STREAMSENSE_VERSION,i.ns_st_smv=null!=i.ns_st_smv?i.ns_st_smv:c.MODEL_VERSION,i.ns_type=null!=i.ns_type?i.ns_type:"hidden",i.ns_st_ec=null!=i.ns_st_ec?i.ns_st_ec:String(r.getEventManager().getEventCounter()),i.ns_st_po=null!=i.ns_st_po?i.ns_st_po:String(r.getPlaylist().getPlaylist().getClip().getExpectedPlaybackPosition(t)),i.ns_st_ki=null!=i.ns_st_ki?i.ns_st_ki:String(r.getKeepAlive().getInterval()),r.getPlaylist().createLabels(i),r.getPlaylist().getClip().createLabels(i),o.extend(i,te.getLabels()),o.extend(i,n),{eventType:e,eventLabels:i}},newEvent:function(e,n,i,a){te.stopDelayedTransitionTimer();var o=r.getStateMachine().getCurrentState(),s=r.getStateMachine().eventTypeToState(e);if(null!=s&&s!=o)if(!te.isThrottlingEnabled()||o!=d.PLAYING&&o!=d.PAUSED||s!=d.PLAYING&&s!=d.PAUSED||a){i.ns_st_po||(r.getStateMachine().getCurrentState()==d.PLAYING&&e==l.BUFFER||r.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK&&e==l.BUFFER_STOP?i.ns_st_po=String(r.getPlaylist().getClip().getPlaybackTimeOffset()+(n-r.getPlaylist().getClip().getPlaybackTimestamp())):i.ns_st_po=String(r.getPlaylist().getClip().getExpectedPlaybackPosition(n))),t(e,n,i);var u=0;isNaN(r.getStateMachine().getLastStateChangeTimestamp())||(u=n-r.getStateMachine().getLastStateChangeTimestamp()),r.getStateMachine().newEvent(e,n);for(var c=0,p=X.length;p>c;c++)X[c](o,s,i,u)}else Y=r.getPlatformAPI().setTimeout(function(e,t,i){return function(){te.newEvent(e,n,i,!0)}}(e,0,i),re)},newPseudoEvent:function(e,n,t){if(e!=l.LOAD&&e!=l.START||r.getStateMachine().getCurrentState()==d.IDLE){e!=l.ERROR||t.ns_st_er||(t.ns_st_er=s.UNKNOWN_VALUE),r.getStateMachine().getCurrentState()!=d.IDLE&&r.getStateMachine().getCurrentState()!=d.PLAYBACK_NOT_STARTED&&r.getStateMachine().getCurrentState()!=d.SEEKING_BEFORE_PLAYBACK&&r.getStateMachine().getCurrentState()!=d.BUFFERING_BEFORE_PLAYBACK&&(r.getPlaylist().getClip().addElapsedTime(n),r.getPlaylist().getClip().setElapsedTimestamp(n));var i,a,o,u=!0,c=!1;switch(e){case l.BIT_RATE:i="ns_st_br",a="ns_st_pbr",c=!0;break;case l.PLAYBACK_RATE:i="ns_st_rt",a="ns_st_prt",c=!0;break;case l.VOLUME:i="ns_st_vo",a="ns_st_pvo",c=!0;break;case l.WINDOW_STATE:i="ns_st_ws",a="ns_st_pws",c=!0;break;case l.AUDIO:i="ns_st_at",a="ns_st_pat",c=!1;break;case l.VIDEO:i="ns_st_vt",a="ns_st_pvt",c=!1;break;case l.SUBS:i="ns_st_tt",a="ns_st_ptt",c=!1;break;case l.CDN:i="ns_st_cdn",a="ns_st_pcdn",c=!1;break;default:u=!1}if(u&&t.hasOwnProperty(i)&&(c?(te.getLabels().hasOwnProperty(i)&&(o=te.getLabels()[i],t[a]=o),te.setLabel(i,t[i])):(r.getPlaylist().getClip().getLabels().hasOwnProperty(i)&&(o=r.getPlaylist().getClip().getLabels()[i],t[a]=o),r.getPlaylist().getClip().setLabel(i,t[i]))),!u||r.getStateMachine().getCurrentState()==d.PLAYING||r.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK){t.ns_st_po||(t.ns_st_po=String(r.getPlaylist().getClip().getExpectedPlaybackPosition(n))),r.getStateMachine().getCurrentState()!=d.PLAYING&&r.getStateMachine().getCurrentState()!=d.BUFFERING_DURING_PLAYBACK||(r.getPlaylist().addPlaybackTime(n),r.getPlaylist().setPlaybackTimestamp(n),r.getPlaylist().getClip().addPlaybackTime(n),r.getPlaylist().getClip().setPlaybackTimestamp(n),r.getPlaylist().getClip().addInterval(parseInt(t.ns_st_po)),r.getPlaylist().getClip().setPlaybackStartPosition(parseInt(t.ns_st_po))),r.getStateMachine().getCurrentState()!=d.BUFFERING_BEFORE_PLAYBACK&&r.getStateMachine().getCurrentState()!=d.BUFFERING_DURING_PAUSE&&r.getStateMachine().getCurrentState()!=d.BUFFERING_DURING_PLAYBACK&&r.getStateMachine().getCurrentState()!=d.BUFFERING_DURING_SEEKING||(r.getPlaylist().addBufferingTime(n),r.getPlaylist().setBufferingTimestamp(n),r.getPlaylist().getClip().addBufferingTime(n),r.getPlaylist().getClip().setBufferingTimestamp(n));var p=te.createLabels(e,t,n);r.getEventManager().newEvent(p)}}},getState:function(){return r.getStateMachine().getCurrentState()},addListener:function(e){X.push(e)},removeListener:function(e){X.splice(o.indexOf(e,X),1)},getLabel:function(e){return $[e]},getLabels:function(){return $},setLabel:function(e,n){null==n?delete $[e]:$[e]=n},setLabels:function(e){for(var n in e)e.hasOwnProperty(n)&&te.setLabel(n,e[n])},getPlatformAPI:function(){return r.getAppCore()?r.getAppCore().getPlatformAPI():a},getExports:function(){return ie},isProperlyInitialized:function(){var e=r.getAppCore().getAppContext(),n=r.getAppCore().getSalt(),t=r.getAppCore().getPixelURL();return e&&t&&n},setImplementationType:function(e){r.getStateMachine().getCurrentState()!=d.IDLE||e!=u.SINGLE_CLIP&&e!=u.SEGMENTED&&e!=u.REDUCED||r.getPlaylist().setLabel("ns_st_it",u.toString(e))},setThrottlingDelay:function(e){re=e},getThrottlingDelay:function(){return re},isThrottlingEnabled:function(){return Q},setThrottlingEnabled:function(e){Q=e},isLoadingTimeSent:function(){return z},setLoadingTimeSent:function(e){z=e},getLoadTimeOffset:function(){return H},setLoadTimeOffset:function(e){H=e},getInitTimestamp:function(){return W},setPauseOnBufferingInterval:function(e){ae=e},getPauseOnBufferingInterval:function(){return ae},isPauseOnBufferingEnabled:function(){return K},setPauseOnBufferingEnabled:function(e){K=e},startPausedOnBufferingTimer:function(e,n){te.stopPausedOnBufferingTimer(),Z=te.getPlatformAPI().setTimeout((function(){var t={},i=o.fixEventTime(t),a=parseInt(n.ns_st_po);t.ns_st_po=String(a+i-e),te.newEvent(l.PAUSE_ON_BUFFERING,i,t)}),ae)},stopPausedOnBufferingTimer:function(){null!=Z&&(te.getPlatformAPI().clearTimeout(Z),Z=null)},stopDelayedTransitionTimer:function(){Y&&(te.getPlatformAPI().clearTimeout(Y),Y=null)},setPixelURL:function(e){if(null==e||0==e.length)return null;var n=decodeURIComponent||unescape,t=e.indexOf("?");if(t>=0){if(t<e.length-1){for(var i=e.substring(t+1).split("&"),a=0,r=i.length;r>a;a++){var o=i[a].split("=");2==o.length?te.setLabel(o[0],n(o[1])):1==o.length&&te.setLabel(c.PAGE_NAME_LABEL,n(o[0]))}e=e.substring(0,t+1)}}else e+="?";return J=e},getPixelURL:function(){return J||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?J=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?J=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getSseSM:function(){return r},resetPlaylist:function(e){var n=r.getPlaylist();r.setPlaylist(new m),m.resetPlaylist(n,r.getPlaylist(),e)},resetHeartbeat:function(){r.getHeartbeat().pause(),r.setHeartbeat(new f(r))},resetKeepAlive:function(){r.getKeepAlive().pause(),r.setKeepAlive(new g(r))}}),o.isBrowser()?(ee=window,ne=document):(ee={},ne={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),o.extend(this,{prepareUrl:i}),e()},D=function(e){var n,t,i,a,r,s,l=this;o.extend(l,{getAppCore:function(){return n},getSSECore:function(){return e},getEventManager:function(){return t},getStateMachine:function(){return i},getHeartbeat:function(){return a},getKeepAlive:function(){return r},getPlaylist:function(){return s},setAppCore:function(e){n=e},setKeepAlive:function(e){r=e},setHeartbeat:function(e){a=e},setEventManager:function(e){t=e},setStateMachine:function(e){i=e},setPlaylist:function(e){s=e}})},F=function(e,n){function t(){u=new I,s=!0,e&&p.setLabels(e),n&&p.setPixelURL(n)}function i(e,n){p.notify(l.CUSTOM,e,n)}function a(){s&&u.getSseSM().getStateMachine().getCurrentState()!=d.IDLE&&p.end()}var s,u,p=this,v=c.STANDARD_METADATA_LABELS;o.extend(this,{isProperlyInitialized:function(){return u.isProperlyInitialized()},reset:function(e){var n=u;n.getSseSM().getKeepAlive().pause(),n.getSseSM().getHeartbeat().pause(),u=new I,m.resetPlaylist(n.getSseSM().getPlaylist(),u.getSseSM().getPlaylist(),e)},setPauseOnBufferingInterval:function(e){u.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return u.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){u.getSseSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return u.getSseSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){u.getSseSM().getHeartbeat().setIntervals(e)},play:function(e,n){p.notify(l.PLAY,e,n)},pause:function(e,n){p.notify(l.PAUSE,e,n)},end:function(e,n){p.notify(l.END,e,n)},bufferStart:function(e,n){p.notify(l.BUFFER,e,n)},bufferStop:function(e,n){p.notify(l.BUFFER_STOP,e,n)},load:function(e,n){p.notify(l.LOAD,e,n)},start:function(e,n){p.notify(l.START,e,n)},seekStart:function(e,n){p.notify(l.SEEK_START,e,n)},skipAd:function(e,n){p.notify(l.AD_SKIP,e,n)},callToAction:function(e,n){p.notify(l.CTA,e,n)},error:function(e,n){p.notify(l.ERROR,e,n)},transferPlayback:function(e,n){p.notify(l.TRANSFER,e,n)},drmFail:function(e,n){p.notify(l.DRM_FAILED,e,n)},drmApprove:function(e,n){p.notify(l.DRM_APPROVED,e,n)},drmDeny:function(e,n){p.notify(l.DRM_DENIED,e,n)},changeBitrate:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_br=String(e),p.notify(l.BIT_RATE,i,n)}},changePlaybackRate:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_rt=String(e),p.notify(l.PLAYBACK_RATE,i,n)}},changeVolume:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_vo=String(e),p.notify(l.VOLUME,i,n)}},changeWindowState:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_ws=String(e),p.notify(l.WINDOW_STATE,i,n)}},changeAudio:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_at=String(e),p.notify(l.AUDIO,i,n)}},changeVideo:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_vt=String(e),p.notify(l.VIDEO,i,n)}},changeSubtitle:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_tt=String(e),p.notify(l.SUBS,i,n)}},changeCDN:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_cdn=String(e),p.notify(l.CDN,i,n)}},notify:function(e){var n,t;if(n="object"==r(arguments[1])?arguments[1]:"object"==r(arguments[2])?arguments[2]:{},t="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,l.toString(e)){n=o.jsonObjectToStringDictionary(n);var i=o.fixEventTime(n);n.ns_st_po||isNaN(t)||(n.ns_st_po=o.getInteger(t,0).toString()),n.ns_st_po&&u.getSseSM().getPlaylist().getClip().setPlaybackTimeOffset(parseInt(n.ns_st_po)),e==l.PLAY||e==l.PAUSE||e==l.BUFFER||e==l.END||e==l.SEEK_START||e==l.AD_SKIP||e==l.BUFFER_STOP?u.newEvent(e,i,n):u.newPseudoEvent(e,i,n)}},getLabels:function(){return u.getLabels()},getState:function(){return u.getSseSM().getStateMachine().getCurrentState()},setLabels:function(e){u.setLabels(e)},getLabel:function(e){return u.getLabel(e)},setLabel:function(e,n){u.setLabel(e,n)},getLoadTimeOffset:function(){return u.getLoadTimeOffset()},setLoadTimeOffset:function(e){u.setLoadTimeOffset(e)},setPixelURL:function(e){return u.setPixelURL(e)},getPixelURL:function(){return u.getSseSM().getSSECore().getPixelURL()},setImplementationType:function(e){u.setImplementationType(e)},isPauseOnBufferingEnabled:function(){return u.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){u.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return u.isThrottlingEnabled()},setThrottlingEnabled:function(e){u.setThrottlingEnabled(e)},setThrottlingDelay:function(e){u.setThrottlingDelay(e)},getThrottlingDelay:function(){return u.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){u.getSseSM().getPlaylist().getClip().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return u.getSseSM().getPlaylist().getClip().getPlaybackIntervalMergeTolerance()},setClip:function(e,n,t){if(void 0===t&&(t=!0),e=o.jsonObjectToStringDictionary(e),t&&u.getSseSM().getStateMachine().getCurrentState()!==d.IDLE&&p.end(),u.getSseSM().getStateMachine().getCurrentState()==d.IDLE){var i="",a=0;if(null!=e.ns_st_cn)i=String(e.ns_st_cn);else for(var r=0;r<v.length;r++)e[v[r]]&&(i+=v[r]+":"+e[v[r]]+";");var s=u.getSseSM().getPlaylist(),l=s.getClip();l.isClipStarted()?(s.hashExists(l.getHash())||(s.storeHash(l.getHash()),s.storeClipNumber(l.getHash(),l.getClipNumber())),s.storeClipPlaybackCounters(),a=s.hashExists(i)?s.getClipNumber(i):o.exists(e.ns_st_cn)?parseInt(e.ns_st_cn):s.getMaxClipNumber()+1):a=s.hashExists(i)?s.getClipNumber(i):l.getClipNumber(),s.resetClip(),(l=s.getClip()).setHash(i),l.setClipNumber(a),l.setLabels(e);var c=s.getStoredClipRegisters(i);return c&&(l.setClipStarted(!0),l.setSegmentPlaybackCounter(c.segmentPlaybackCounter),l.setClipLoadCounter(c.clipLoadCounter),l.setAssetPlaybackCounter(c.assetPlaybackCounter),l.setLowestPartNumberPlayed(c.lowestPartNumberPlayed),l.setSeeking(c.seeking),l.setSeekingTimeBeforeEnd(c.seekingTimeBeforeEnd),l.setSeekStartPosition(c.seekingStartPosition),l.setClipPlaybackIntervals(c.clipPlaybackIntervals),l.setUniquePlaybackInterval(c.uniquePlaybackInterval),l.setLongestPlaybackInterval(c.longestPlaybackInterval),l.setVideoTrack(c.videoTrack),l.setAudioTrack(c.audioTrack),l.setSubtitleTrack(c.subtitleTrack),l.setCDN(c.cdn),l.setPreviousUniquePlaybackInterval(c.uniquePlaybackInterval),l.setPreviousEventIndependentUniquePlaybackInterval(c.uniquePlaybackInterval),l.setPreviousLongestPlaybackInterval(c.longestPlaybackInterval)),l.incrementClipLoadCounter(),l.isClipStarted()&&n&&(s.incrementPlayCounter(),s.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(e,n){return void 0===n&&(n=!0),e=o.jsonObjectToStringDictionary(e),n&&u.getSseSM().getStateMachine().getCurrentState()!==d.IDLE&&p.end(),u.getSseSM().getStateMachine().getCurrentState()==d.IDLE&&(u.getSseSM().getPlaylist().isPlaylistStarted()&&u.resetPlaylist(),u.getSseSM().getPlaylist().setLabels(e),!0)},importState:function(){},exportState:function(){return{}},getVersion:function(){return c.STREAMSENSE_VERSION},addListener:function(e){u.addListener(e)},removeListener:function(e){u.removeListener(e)},getClip:function(){return console&&console.warn&&console.warn("getClip() is deprecated. Use getPlaylist().getClip() instead."),u.getSseSM().getPlaylist().getClip()},getPlaylist:function(){return u.getSseSM().getPlaylist()},setHttpGet:function(e){"function"==typeof e&&(u.getPlatformAPI().httpGet=e)},setHttpPost:function(e){"function"==typeof e&&(u.getPlatformAPI().httpPost=e)},setExitEndEventEnabled:function(e){s=e},isExitEndEventEnabled:function(){return s},getPlatformAPI:function(){return u.getPlatformAPI()}}),o.extend(this,{customNotify:i,viewNotify:function(e){function n(n,t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e,n){(e=e||p.getPixelURL())&&viewNotify(e,n)}))}),o.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",a),window.addEventListener("unload",a)):window.attachEvent&&(window.attachEvent("onbeforeunload",a),window.attachEvent("onunload",a))),t()};return function(n){function t(e,n){return P[N]||a(e,n)}function i(){N=-1;for(var n=0;E>=n;n++)if(P.hasOwnProperty(String(n))){N=n;break}return e.StreamSense.activeIndex=N,N}function a(n,t){return t=t||null,(n=n||null)&&"object"==r(n)&&(t=n,n=null),P[++E]=new e.StreamSense(t,n),i(),P[E]}function s(){var n=!1,t=N;if("number"==typeof arguments[0]&&isFinite(arguments[0]))t=arguments[0];else if(arguments[0]instanceof e.StreamSense)for(var a in P)if(P.hasOwnProperty(a)&&P[a]===arguments[0]){t=a;break}return P.hasOwnProperty(String(t))&&(n=P[t],delete P[t],n.reset(),i()),n}function l(e){return e=e||{},t().setPlaylist(e),t().getPlaylist()}function d(e,n,i){return e=e||{},"number"==typeof n&&(e.ns_st_cn=String(n)),t().setClip(e,i),t().getClip()}function u(e,n,i){return void 0!==e&&(i=i||null,n=n||{},t().notify(e,n,i))}function c(e){void 0!==e&&t().setLabels(e)}function p(){return t().getLabels()}function m(e){void 0!==e&&t().getPlaylist().setLabels(e)}function v(){return t().getPlaylist().getLabels()}function f(e){void 0!==e&&t().getClip().setLabels(e)}function g(){return t().getClip().getLabels()}function h(e){return t().reset(e||{})}function y(e){return t().getPlaylist().reset(e||{})}function k(e){return t().getClip().reset(e||{})}function S(e){return e=e||{},t().viewNotify(null,e)}function _(e,n){return arguments.length>2&&(e=arguments[1],n=arguments[2]),e=e||{},"number"==typeof n&&(e.ns_st_po=String(n)),t().customNotify(e,n)}function b(){return t().exportState()}function C(e){t().importState(e)}var P={},E=-1,N=-1;o.extend(n,{activeIndex:N,newInstance:a,new:a,destroyInstance:s,destroy:s,newPlaylist:l,newClip:d,notify:u,setLabels:c,getLabels:p,setPlaylistLabels:m,getPlaylistLabels:v,setClipLabels:f,getClipLabels:g,resetInstance:h,resetPlaylist:y,resetClip:k,viewEvent:S,customEvent:_,exportState:b,importState:C})}(F),F.PlayerEvents=l,F.InternalStates=d,F.ImplementationType=u,F}(),e.StreamingTag=e.StreamingTag||(n=e.StreamSense,e.StreamSense.PlayerEvents,t=e.StreamSense.InternalStates||null,i=e.StreamSense.ImplementationType||null,a=null!=e.StreamSense.InternalStates&&null!=e.StreamSense.ImplementationType,function(){var e={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},r={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",Other:"00"},s=function(e){function r(){if(a)if(o.getNamespace().comScore)(g=new n).setImplementationType(i.REDUCED);else if(o.exists(e))if(h=o.isTrue(e.debug),o.exists(e.customerC2)&&e.customerC2.length>0){var t=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");(g=new n).setPixelURL(t+".scorecardresearch.com/p?c1=2"),g.setLabel("c2",e.customerC2),g.setImplementationType(i.REDUCED)}else h&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}function s(e){for(var n in o.exists(e)||(e={}),k)k.hasOwnProperty(n)&&!o.exists(e[k[n]])&&("ns_st_ci"==k[n]?e.ns_st_ci="0":e[k[n]]="*null");return e}function l(e){for(var n in k)if(k.hasOwnProperty(n)&&!d(k[n],v,e))return!1;return!0}function d(e,n,t){if(o.exists(e)&&o.exists(n)&&o.exists(t)){var i=n[e],a=t[e];return o.exists(i)&&o.exists(a)&&i===a}return!1}function u(e){m++;var n={ns_st_cn:String(m),ns_st_pn:"1",ns_st_tp:"0"};o.extend(n,e),g.setClip(n),v=e,g.play()}function c(e){m++,e=s(e);var n={ns_st_cn:String(m),ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};o.extend(n,e),g.setClip(n),g.play(),f=!1}function p(e,n){e=s(e),S==y.None&&(S=n),f&&S==n&&l(e)?(g.getClip().setLabels(e),g.getState()!=t.PLAYING&&g.play()):u(e),f=!0,S=n}var m=0,v=null,f=!1,g=null,h=!1,y={None:0,AudioContent:1,VideoContent:2},k=["ns_st_ci","c3","c4","c6","ns_st_st","ns_st_pu","ns_st_pr","ns_st_ep","ns_st_sn","ns_st_en","ns_st_ct"],S=y.None;o.extend(this,{playAdvertisement:function(){g&&(h&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead."),c({ns_st_ct:"va"}))},playVideoAdvertisement:function(e,n){if(g){var t={ns_st_ct:"va"};n?t.ns_st_ct="va"+n:h&&console&&console.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),e&&o.extend(t,e),c(t)}},playAudioAdvertisement:function(e,n){if(g){var t={ns_st_ct:"aa"};n?t.ns_st_ct="aa"+n:h&&console&&console.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),e&&o.extend(t,e),c(t)}},playContentPart:function(e){if(g){h&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var n={ns_st_ct:"vc"};e&&o.extend(n,e),p(n,y.VideoContent)}},playVideoContentPart:function(e,n){if(g){var t={ns_st_ct:"vc"};n?t.ns_st_ct="vc"+n:h&&console&&console.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),e&&o.extend(t,e),p(t,y.VideoContent)}},playAudioContentPart:function(e,n){if(g){var t={ns_st_ct:"ac"};n?t.ns_st_ct="ac"+n:h&&console&&console.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),e&&o.extend(t,e),p(t,y.AudioContent)}},stop:function(){g&&g.pause()}}),r()};return s.ContentType=e,s.AdType=r,s}()),e}(a.ns_)}.apply(n,[]),void 0===i||(e.exports=i)},505236:function(){},383361:function(){},939465:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"followButtonFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canFollow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]}]}}]}}]}}]}},152427:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AdFormatTracking_RecordAdEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RecordAdEventInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recordAdEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},766139:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HappeningNowSettings"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isChatHappeningNowEnabled"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},934916:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetHappeningNowSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetChatHappeningNowSettingsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setChatHappeningNowSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isChatHappeningNowEnabled"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},615218:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ShareClipRenderStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClipsManagerClip"},directives:[]}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(62356).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},62356:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"contentClipsManagerClip"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Clip"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"embedURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFeatured"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"clipAssetFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"52"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"72"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"followers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lastBroadcast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFeatured"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPublished"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"champBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"playbackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"StringValue",value:"web",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"StringValue",value:"clips-download",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoOffsetSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoQualities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sourceURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isViewerEditRestricted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedCropping"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"portraitClipCropping"},directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(87891).definitions)),i.definitions=i.definitions.concat(r(t(253209).definitions)),e.exports=i},390844:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UseGetUserLogin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},676233:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ReportMenuItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},467770:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Sub_Analytics"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},909526:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"freeformTagFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformTag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},194257:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PrimeSubscribe_SpendPrimeSubscriptionCredit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SpendSubscriptionCreditInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"spendSubscriptionCredit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},500074:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"incrementClipViewCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateClipViewCountInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateClipViewCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},944129:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Video"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"200"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Video"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_CollectionManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Collection"},directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},787987:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ComscoreStreamingQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVodOrCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isClip"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVodOrCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isClip"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},486481:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NielsenContentMetadataVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NielsenContentMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCollectionContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLiveContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVODContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLiveContent"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVODContent"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NielsenContentMetadataVideo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCollectionContent"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NielsenContentMetadataVideo"},directives:[]}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},349041:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerPixelAnalyticsUrls"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowAmazon"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowComscore"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowGoogle"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowNielsen"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackingPixels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"consent"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"allowAmazon"},value:{kind:"Variable",name:{kind:"Name",value:"allowAmazon"}}},{kind:"ObjectField",name:{kind:"Name",value:"allowComscore"},value:{kind:"Variable",name:{kind:"Name",value:"allowComscore"}}},{kind:"ObjectField",name:{kind:"Name",value:"allowGoogle"},value:{kind:"Variable",name:{kind:"Name",value:"allowGoogle"}}},{kind:"ObjectField",name:{kind:"Name",value:"allowNielsen"},value:{kind:"Variable",name:{kind:"Name",value:"allowNielsen"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"origin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"service"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeOffsetSeconds"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},791165:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryUserViewedVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewingHistory"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},168618:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateUserViewedVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateUserViewedVideoInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUserViewedVideo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},400105:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEncrypted"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},388597:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamRefetchManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEncrypted"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},346621:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamTagsTrackingChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"streamTagsTrackingTags"},directives:[]}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(240625).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},240625:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"streamTagsTrackingTags"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Stream"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeformTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"freeformTagFragment"},directives:[]}]}}]}}]},a={};i.definitions=i.definitions.concat(t(909526).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},299393:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adServerDefault"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrerollsDisabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPostrollsDisabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasVodAdsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrolls"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMature"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcasterSoftware"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestTag"},directives:[]}]}}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(823741).definitions)),i.definitions=i.definitions.concat(r(t(597437).definitions)),e.exports=i},543067:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestContentLabel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContentClassificationLabel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}},327410:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestCurrentUser"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]}]}}]}},823741:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagType"},value:{kind:"EnumValue",value:"CONTENT"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestTag"},directives:[]}]}}]}}]},a={};i.definitions=i.definitions.concat(t(597437).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},75021:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AdRequestHandling"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestCurrentUser"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestVOD"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestVOD"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestBroadcaster"},directives:[]}]}}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(r(t(299393).definitions)),i.definitions=i.definitions.concat(r(t(422356).definitions)),i.definitions=i.definitions.concat(r(t(327410).definitions));var s={};i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}})),e.exports=i},597437:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestTag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagName"},arguments:[],directives:[]}]}}]}},422356:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestVOD"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestContentLabel"},directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(299393).definitions)),i.definitions=i.definitions.concat(r(t(543067).definitions)),i.definitions=i.definitions.concat(r(t(823741).definitions)),i.definitions=i.definitions.concat(r(t(597437).definitions)),e.exports=i},658844:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VODMidrollManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VODMidrollManagerBroadcaster"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VODMidrollManagerBroadcaster"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VODMidrollManagerBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VODMidrollManagerAdProperties"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VODMidrollManagerAdProperties"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AdProperties"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasVodAdsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrolls"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrollsBreakLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrollsFrequency"},arguments:[],directives:[]}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},232454:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoAdBannerChannel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]}]}}]}}]}},497579:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAdBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdBannerChannel"},directives:[]}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(232454).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},351612:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAdRequestDecline"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AdRequestContext"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adContext"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"radToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"declineState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldDecline"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},614222:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClientSideAdEventHandling_RecordAdEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RecordAdEventInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recordAdEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},239248:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_VideoSourceManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},159460:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContentClassificationLabelPolicyProperties"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signPostProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signPost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentGateProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentGate"},arguments:[],directives:[]}]}}]}}]}},906161:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"broadcasterInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"contentClassificationLabelFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContentClassificationLabel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localizedName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"gameTrackingFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentClassificationContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isStream"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isClip"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isStream"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"gameTrackingFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabelPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"broadcasterInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"gameTrackingFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"broadcasterInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabelPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isClip"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"broadcasterInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"gameTrackingFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabelPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},directives:[]}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(159460).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},702181:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentClassificationContextStreamPubsub"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabelPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},directives:[]}]}}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(159460).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},945989:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsUIContext_ChannelID"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},140029:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerBroadcastSettingsUpdate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BroadcastSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"85"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"113"}}],directives:[]}]}}]}}]}},917052:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlayerTrackingContextQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasVideo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasClip"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcasterSoftware"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"restriction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exemptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingGame"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"200"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingVOD"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasVideo"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingVOD"},directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasClip"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingGame"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PlayerTrackingVOD"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PlayerTrackingGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},215551:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAccessToken_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platform"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"playbackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"StringValue",value:"clips-viewing",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoQualities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"videoAccessToken_ClipQuality"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"clipAssetFragment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"videoAccessToken_ClipQuality"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClipVideoQuality"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"frameRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quality"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sourceURL"},arguments:[],directives:[]}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(87891).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},86521:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAccessToken_Collection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},1248:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlaybackAccessToken"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVod"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playerType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platform"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"streamPlaybackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelName"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}},{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}},{kind:"ObjectField",name:{kind:"Name",value:"playerBackend"},value:{kind:"StringValue",value:"mediaplayer",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"Variable",name:{kind:"Name",value:"playerType"}}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isForbidden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forbiddenReasonCode"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"videoPlaybackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}},{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}},{kind:"ObjectField",name:{kind:"Name",value:"playerBackend"},value:{kind:"StringValue",value:"mediaplayer",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"Variable",name:{kind:"Name",value:"playerType"}}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVod"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},303045:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_AgeGateOverlayBroadcaster"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredAge"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},680478:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayClipBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayClip"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Clip"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"480"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"272"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClipBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClipBroadcaster"},directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedRelatedClips"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClipRelatedClips"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClip"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClip"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClip"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerClipPostplayRecommendationsOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoOffsetSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"relatedClips"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedRelatedClips"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayVideo"},directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},914009:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipShareOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},954147:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionSideBar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"200"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"80"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"45"}}],directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},971900:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentPolicyPropertiesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ContentPolicyPropertiesStream"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ContentPolicyPropertiesVideo"},directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(r(t(719864).definitions)),i.definitions=i.definitions.concat(r(t(962207).definitions));var s={};i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}})),e.exports=i},719864:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ContentPolicyPropertiesStream"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasBrandedContent"},arguments:[],directives:[]}]}}]}}]}}]}},962207:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ContentPolicyPropertiesVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasBrandedContent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},30176:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsInfoBalloon"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"extensionID"}}},{kind:"Argument",name:{kind:"Name",value:"version"},value:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"screenshotURLs"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},840347:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsNotificationBitsBalance"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},209787:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresInMs"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},667895:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowPanelOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},227188:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_MutedSegmentsAlertOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includePrivate"},value:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muteInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mutedSegmentConnection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},419901:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"OfflineBannerOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offlineImageURL"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},154294:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"OfflineEmbedVODAndSchedule"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bannerImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offlineImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"segmentList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasReminder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCancelled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"144"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"192"}}],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},608700:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerOfflineRecommendationsOverlayVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},907567:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerOfflineRecommendationsOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"30"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerOfflineRecommendationsOverlayVideo"},directives:[]}]}}]}}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(608700).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},64164:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_ChapterSelectButtonVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includePrivate"},value:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"momentRequestType"},value:{kind:"EnumValue",value:"VIDEO_CHAPTER_MARKERS"}},{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"GAME_CHANGE"},{kind:"EnumValue",value:"HEARTHSTONE_VCA"},{kind:"EnumValue",value:"OVERWATCH_VCA"},{kind:"EnumValue",value:"PUBG_VCA"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMomentEdge"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVideoMomentEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMomentEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"moments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMomentConnection"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMoment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVideoMomentConnection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMomentEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMoment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVideoMoment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMoment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerGameChangeDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerGameChangeDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GameChangeMomentDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"40"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"53"}}],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},49667:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CanCreateClip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"broadcasterID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canCreateClip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"broadcasterID"},value:{kind:"Variable",name:{kind:"Name",value:"broadcasterID"}}},{kind:"Argument",name:{kind:"Name",value:"vodID"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAllowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredFollowingLengthMinutes"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},122982:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerClipsButtonBroadcaster"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEncrypted"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},447135:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LiveStreamTime"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},118805:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerSettingsWithClipMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCommunityMomentsFeatureEnabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"communityMoment"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCommunityMomentsFeatureEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},786001:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_ViewCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},853452:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoMutedSegment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMutedSegment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_VODSeekbar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includePrivate"},value:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muteInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mutedSegmentConnection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoMutedSegment"},directives:[]}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},965506:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerPremiumContentOverlayChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restriction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},731027:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PreviewContentOverlayQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"285"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"160"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},917689:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStatusOverlayChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},149361:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerSubscriberVODOverlayVideoQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},486451:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionTopBar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"200"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},834653:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamInfoOverlayChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localizedName"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},389922:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamInfoOverlayClip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},955067:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamInfoOverlayVOD"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localizedName"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},24401:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPreviewOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"1280"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"720"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"restrictionType"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},423166:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVODPostplayRecommendationsVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"640"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"360"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewingHistory"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerVODPostplayRecommendations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"32"}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"TIME"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ARCHIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVODPostplayRecommendationsVideo"},directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},114195:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VODPreviewOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"1280"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"720"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},205007:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"VideoPlayer_FollowButtonFollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notificationSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},681234:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActiveWatchParty"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"watchParty"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"session"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartySession"},directives:[]}]}}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(604499).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},788256:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"watchPartyProgress"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WatchPartyProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]}]}}]}},604499:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"watchPartySession"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WatchParty"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartyProgress"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}]},a={};i.definitions=i.definitions.concat(t(788256).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},288566:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionPanel_Conditions_BitsBalance"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"conditionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"conditionOwnerID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"extensionID"}}},{kind:"Argument",name:{kind:"Name",value:"version"},value:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"challengeCondition"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"conditionID"},value:{kind:"Variable",name:{kind:"Name",value:"conditionID"}}},{kind:"ObjectField",name:{kind:"Name",value:"conditionOwnerID"},value:{kind:"Variable",name:{kind:"Name",value:"conditionOwnerID"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},336853:function(e,n,t){"use strict";t.d(n,{n:function(){return p}});var i=t(331635),a=t(474848),r=t(540943),o=t(959340),s=t(965645),l=t(97774),d=t(914421),u=t(847388),c=t(552400);t(296540),t(505236);function p(e){for(var n=function(e){return"transparent"===e?"rgb(211,211,211)":e},t=[],i=[],c=[],p=0,v=e.colors.map((function(t,i){return(0,a.jsx)(r.VP,{cols:4,children:(0,a.jsx)(o.P,{margin:{bottom:.5},children:(0,a.jsx)(m,{label:t.label,children:(0,a.jsxs)(s.nx,{name:"colors",borderRadius:l.Z.Medium,"aria-label":t.label,checked:t.selected,type:s.h8.Radio,value:t.cssValue,disabled:t.disabled,onChange:function(n){t.onChange&&t.onChange(n),e.onSelect&&e.onSelect(t)},children:["transparent"===t.cssValue&&(0,a.jsx)("hr",{className:"color-swatch-selector__transparent-indicator"}),(0,a.jsx)(o.P,{display:d.nl.Flex,height:"50px",width:"176px",children:(0,a.jsx)(o.P,{height:"3rem",width:"3rem",style:(u=t.cssValue,c=t.backgroundCssValue,c?{background:"linear-gradient(135deg, ".concat(n(u)," 50%, ").concat(n(c)," 50%)"),border:"1.5px solid ".concat(n(u)),borderRadius:"50%"}:{backgroundColor:n(u),borderRadius:"50%"}),margin:{x:1,y:1},role:"img",className:"color-swatch-selector__swatch","aria-label":t.label,children:""===t.cssValue&&(0,a.jsx)(o.P,{color:d.Q1.Base,children:(0,a.jsxs)("svg",{className:"color-swatch-selector__null-indicator",width:30,height:30,version:"1.1",viewBox:"0 0 22 22",x:"0px",y:"0px",children:[(0,a.jsx)("title",{children:t.label}),(0,a.jsx)("path",{d:"M10 0C4.477 0 0 4.477 0 10s4.477 10 10 10 10-4.477 10-10S15.523 0 10 0zM4.343 14.243L8.586 10 4.343 5.758l1.414-1.415L10 8.586l4.242-4.243 1.415 1.414L11.414 10l4.243 4.243-1.414 1.414L10 11.414l-4.243 4.243-1.414-1.414z"})]})})})})]})})})},t.id||i);var u,c}));p<v.length;p++){var f=v[p];t.length<3?t.push(f):i.length<3?i.push(f):c.push(f)}return(0,a.jsxs)(o.P,{display:d.nl.Grid,flexWrap:d.I4.Wrap,children:[(0,a.jsx)(o.P,{margin:{y:.5},children:(0,a.jsx)(u.x,{children:t})}),(0,a.jsx)(o.P,{margin:{y:.5},children:(0,a.jsx)(u.x,{children:i})}),(0,a.jsx)(o.P,{margin:{y:.5},children:(0,a.jsx)(u.x,{children:c})})]})}var m=function(e){return e.label?(0,a.jsx)(c.m,(0,i.__assign)({display:d.nl.Block,label:e.label},e,{children:e.children})):(0,a.jsx)(a.Fragment,{children:e.children})}},542685:function(e,n,t){"use strict";t.d(n,{N:function(){return o}});var i=t(331635),a=t(296540),r=t(478260),o=function(e){function n(n){var t,i=e.call(this,n)||this,a=null!==(t=i.props.hardcodedAssignment)&&void 0!==t?t:r.x2.experiments.getAndTrackAssignment(i.props.name,i.props.bucketing?{bucketing:i.props.bucketing}:{});return i.state={assignment:a},i}return(0,i.__extends)(n,e),n.prototype.render=function(){if(this.state.assignment&&this.props.assignments[this.state.assignment]){var e=this.props.assignments[this.state.assignment]();return"string"==typeof e?(window.location.replace(e),null):e}return this.props.assignments.fallback()},n}(a.Component)},51285:function(e,n,t){"use strict";t.d(n,{$:function(){return y}});var i=t(331635),a=t(474848),r=t(959340),o=t(914421),s=t(636367),l=t(97774),d=t(235233),u=t(731667),c=t(759369),p=t(312663),m=t(26538),v=t(296540),f=t.p+"assets/404_boxart-285x380-55299d79a777bd47e9e7.jpg",g=t(973474),h=function(e){function n(n){var t=e.call(this,n)||this;return t.setImage=function(e){var n=e.src,i=e.altSrc,a=new Image;a.onerror=function(){return t.setState({src:i})},a.onload=function(){return t.setState({src:n})},a.src=n},t.state={src:n.src},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.src&&this.setImage(this.props)},n.prototype.componentDidUpdate=function(e){e.src!==this.props.src&&this.setImage(this.props)},n.prototype.render=function(){return(0,a.jsx)(g.L,(0,i.__assign)({},this.props,{src:this.state.src}))},n}(v.Component),y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(){n.props.onClick&&n.props.onClick(n.props.index)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e={src:this.props.imageURL,alt:this.props.text};return(0,a.jsx)(r.P,{className:"media-row",display:o.nl.Flex,flexWrap:o.I4.NoWrap,children:(0,a.jsx)(s.tD,{linkTo:this.props.linkTo,onClick:this.onClick,selected:this.props.active,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Row,padding:.5,children:[(0,a.jsxs)(r.P,{className:"media-row__image-wrapper",flexGrow:0,flexShrink:0,borderRadius:l.Z.Small,overflow:o.nE.Hidden,position:o.yX.Relative,children:[(0,a.jsx)(d.j$,{align:d.W3.Center,ratio:d.gl.BoxArt,children:(0,a.jsx)(h,(0,i.__assign)({},e,{altSrc:f}))}),(0,a.jsx)(r.P,{className:this.props.active?"":"media-row__image-play-overlay",alignItems:o.k2.Center,background:o.VS.Overlay,color:o.Q1.Overlay,display:o.nl.Flex,justifyContent:o.A9.Center,position:o.yX.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,children:(0,a.jsx)(u.t,{asset:c.t.Play,type:u.H.Inherit})})]}),(0,a.jsxs)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,flexGrow:1,flexShrink:1,padding:{left:1,top:1},children:[(0,a.jsx)(r.P,{className:"media-row__info-text",children:(0,a.jsx)(p.N,{children:this.props.text})}),(0,a.jsx)(r.P,{className:"media-row__info-description",children:(0,a.jsx)(p.N,{children:this.props.description})})]}),this.renderCount()]})})})},n.prototype.renderCount=function(){return this.props.count?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.P,{alignSelf:o.gB.Center,children:(0,a.jsx)(m.a,{label:this.props.count.toString()})}),(0,a.jsx)(u.t,{asset:c.t.GlyphArrRight,type:u.H.Alt})]}):null},n}(v.Component)},953113:function(e,n,t){"use strict";t.d(n,{j8:function(){return s}});var i=t(331635),a=t(296540),r={};function o(e){return r[e]}var s=function(e,n){var t=(0,a.useState)(o(e)),s=t[0],l=t[1];return(0,a.useEffect)((function(){var t=function(n){!function(e,n){r[e].status=n}(e,n),l((0,i.__assign)({},o(e)))},a=function(){return t("loaded")},d=function(){return t("failed")},u=function(){return t("loading")},c=s&&s.element||function(e){var n=document.createElement("script");return n.src=e,r[e]={element:n,status:"preload"},n}(e);return c.addEventListener("load",a),c.addEventListener("error",d),c.addEventListener("loadstart",u),s||(n&&(c=n(c)),t("preload"),document.body.appendChild(c)),function(){c.removeEventListener("load",a),c.removeEventListener("error",d),c.removeEventListener("loadstart",u)}}),[e,s,n]),s}},586122:function(e,n,t){"use strict";t.d(n,{W:function(){return o}});var i=t(331635),a=t(474848),r=(t(296540),t(646822));function o(){return function(e){return function(n){var t={fullscreen:(0,r.H)()};return(0,a.jsx)(e,(0,i.__assign)({},t,n))}}}},646822:function(e,n,t){"use strict";t.d(n,{H:function(){return v}});var i=t(581925),a=t.n(i),r=t(296540),o=[];a().onchange=function(){o.forEach((function(e){e()}))};var s=function(e){o.push(e)},l=function(e){o=o.filter((function(n){return n!==e}))},d=function(){return!!a().enabled},u=function(e){return!(!e||!a().videoEnabled(e))},c=function(){return a().element},p=function(e){a().request(e)},m=function(){a().exit()};function v(){return r.useMemo((function(){return{addChangeListener:s,removeChangeListener:l,supported:d,videoSupported:u,element:c,enable:p,disable:m}}),[])}},22046:function(e,n,t){"use strict";t.d(n,{g:function(){return a}});var i=t(296540);function a(e,n){var t=(0,i.useState)(!1),a=t[0],r=t[1];return(0,i.useEffect)((function(){if(e&&!n){r(!1);var t=document.createElement("img");return t.onload=function(){return r(!0)},t.src=e,function(){t.onload=null}}}),[e,n]),a}},640598:function(e,n,t){"use strict";t.d(n,{s:function(){return l}});var i=t(726561),a=t(891975),r=t(296540),o=t(478260),s=t(214120);function l(e){var n=e.topic,t=e.onError,l=e.onMessage,d=e.onListenSuccess,u=e.skip,c=e.jitterUpToMaxMS,p=(0,i.F)(c),m=(0,i.F)(l),v=(0,i.F)(t),f=(0,i.F)(d),g=r.useRef(new Set);(0,a.S)((function(){return function(){g.current.forEach((function(e){window.clearTimeout(e)}))}})),r.useEffect((function(){if(n&&!u){var e=o.UE.subscribe({topic:n,failure:function(e){var n;null===(n=v.current)||void 0===n||n.call(v,e)},success:function(){var e;null===(e=f.current)||void 0===e||e.call(f)},onMessage:function(e){if(p.current){var n=window.setTimeout((function(){g.current.delete(n),m.current(e)}),(0,s.yT)(p.current));g.current.add(n)}else m.current(e)}});return e}}),[u,p,v,m,f,n])}},440549:function(e,n,t){"use strict";var i;t.d(n,{P:function(){return i}}),function(e){e.Live="live",e.WatchParty="watch_party",e.Premiere="premiere",e.Rerun="rerun"}(i||(i={}))},979205:function(e,n,t){"use strict";function i(e){var n,t,i,a=null!==(n=null==e?void 0:e.game)&&void 0!==n?n:null,r=null!==(i=null===(t=null==e?void 0:e.game_id)||void 0===t?void 0:t.toString())&&void 0!==i?i:null;return{gameID:r,gameName:a,missingGameInfo:null===a||null===r||""===r,updatingToNullGame:""===a||0==+(null!=r?r:"")}}t.d(n,{v:function(){return i}})},802533:function(e,n,t){"use strict";t.d(n,{Bd:function(){return a},Yq:function(){return r},_U:function(){return o},aT:function(){return s}});var i=t(917705),a={RFC3399:"YYYY-MM-DDTHH:mm:ssZ",timeString:"h:mma",Comscore:"YYYY-MM-DD"};function r(e,n){return(0,i.format)(e,n)}function o(e){return(0,i.parse)(e)}function s(e,n){var t=new Date,i="prior"===n?t.getDate()-e:t.getDate()+e;return new Date(t.setDate(i))}},536250:function(e,n,t){"use strict";t.d(n,{A:function(){return r},h:function(){return a}});var i=t(478260),a={Black:"black",White:"white",Red:"red",Green:"green",Blue:"blue",Yellow:"yellow",Magenta:"magenta",Cyan:"cyan",LightGray:"lightgray",Gray:"gray",DarkGray:"darkgray",Transparent:"transparent"};function r(e){switch(e){case a.Black:return(0,i.hw)("Black","FormatColorName");case a.White:return(0,i.hw)("White","FormatColorName");case a.Red:return(0,i.hw)("Red","FormatColorName");case a.Green:return(0,i.hw)("Green","FormatColorName");case a.Blue:return(0,i.hw)("Blue","FormatColorName");case a.Yellow:return(0,i.hw)("Yellow","FormatColorName");case a.Magenta:return(0,i.hw)("Magenta","FormatColorName");case a.Cyan:return(0,i.hw)("Cyan","FormatColorName");case a.LightGray:return(0,i.hw)("Light Gray","FormatColorName");case a.Gray:return(0,i.hw)("Gray","FormatColorName");case a.DarkGray:return(0,i.hw)("Dark Gray","FormatColorName");case a.Transparent:return(0,i.hw)("Transparent","FormatColorName");default:return""}}},798999:function(e,n,t){"use strict";t.d(n,{E:function(){return o},d:function(){return r}});var i=t(474848),a=(t(296540),/^[\x00-\x7F]*$/),r=function(e,n,t){return void 0===t&&(t=!1),n&&e&&!o(n)?t?"".concat(n," (").concat(e,")"):(0,i.jsxs)("span",{children:[n," ",(0,i.jsx)("span",{className:"intl-login",children:"(".concat(e,")")})]}):n||(e||"")};function o(e){return a.test(e)}},630193:function(e,n,t){"use strict";function i(){try{return window.self!==window.top}catch(e){return!0}}t.d(n,{W:function(){return i}})},192453:function(e,n,t){"use strict";t.d(n,{n:function(){return a}});var i=t(407350),a=t.n(i)()},329399:function(e,n,t){"use strict";var i,a;t.d(n,{c:function(){return a},n:function(){return i}}),function(e){e.None="None",e.Watch="Watch",e.Home="Home"}(i||(i={})),function(e){e.LIVE="LIVE",e.VIDEO="VIDEO",e.COLLECTION="COLLECTION",e.CLIP="CLIP",e.NONE="NONE"}(a||(a={}))},116989:function(e,n,t){"use strict";t.d(n,{O:function(){return a},d:function(){return r}});var i=t(267924);function a(e){switch(e){case i.Suw.ARCHIVE:return"archive";case i.Suw.HIGHLIGHT:return"highlight";case i.Suw.UPLOAD:return"upload";case i.Suw.PAST_PREMIERE:return"past_premiere";case i.Suw.PREMIERE_UPLOAD:return"premiere_upload";default:return e}}function r(e){return e===i.msm.VIEWS?"popular_videos":"recent_videos"}},300780:function(e,n,t){"use strict";t.d(n,{n:function(){return i}});var i=function(){function e(e){this.debounceDuration=0,this.timeout=0,this.debounceDuration=e}return e.prototype.clear=function(){clearTimeout(this.timeout)},e.prototype.invoke=function(e){clearTimeout(this.timeout),this.timeout=setTimeout(e,this.debounceDuration)},e}()},509611:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(331635),a=t(891975),r=t(296540),o=t(982382),s=t(411998),l=t(764120),d=t(378328);function u(e){var n=r.useRef(e);return r.useEffect((function(){n.current=e}),[e]),r.useCallback((function(e){return n.current(e)}),[])}var c=function(e){var n=e.adMuted,t=e.adVolume,c=e.adFormatMetadata,p=e.adFormatRequest,m=e.clientSideAdSelectionParams,v=e.reset,f=e.mainPlayerVolume,g=e.trackAdFormatData,h=e.trackAdFormatRAdEvent,y=e.eventSideEffectOptions,k=e.addEventListener,S=r.useRef(),_=r.useRef(),b=r.useRef(!1),C=r.useCallback((function(e,i,a){if(!(null==c?void 0:c.podReplayLoopStarted)||["ad_click","ad_mute","ad_pause"].includes(e)){var r=!!n,s=+(t||0).toFixed(10),l=(0,o.A7)(i.adInfo,a,r,s);g(e,l)}}),[n,t,g,c]),P=r.useCallback((function(e,i,a){if(!(null==c?void 0:c.podReplayLoopStarted)){var r=!!n,s=+(t||0).toFixed(10),l=(0,o.A7)(i.adInfo,a,r,s);h(e,l)}}),[n,t,h,c]),E=r.useCallback((function(){Date.now()-_.current>8e3&&(v&&v(),j())}),[v]),N=r.useCallback((function(e){e?S.current||(_.current=Date.now(),S.current=setInterval(E,1e3)):j()}),[E]),x=u((function(e){var n;C("ad_pod_complete",e,{stitched:!1}),C("ad_client_pod_completion",e,(0,o.iB)(e.adInfo,p,c)),null===(n=null==y?void 0:y.get(l.V.ContentResumeRequested))||void 0===n||n({event:e})})),A=u((function(e){var n;C("ad_pause",e,{ad_is_paused:!1}),N(!0),null===(n=null==y?void 0:y.get(l.V.Resumed))||void 0===n||n({event:e})})),w=u((function(e){var n;C("ad_pause",e,{ad_is_paused:!0}),N(!1),null===(n=null==y?void 0:y.get(l.V.Paused))||void 0===n||n({event:e})})),T=u((function(e){var n;null===(n=null==y?void 0:y.get(l.V.ContentPauseRequested))||void 0===n||n({event:e})})),I=u((function(e){var i;C("video_ad_loaded",e,{player_mute:!!n,player_volume:+(t||0).toFixed(10)}),null===(i=null==y?void 0:y.get(l.V.Loaded))||void 0===i||i({event:e})})),D=u((function(e){var n;null===(n=null==y?void 0:y.get(l.V.VolumeChanged))||void 0===n||n({event:e})})),F=u((function(e){var n,t;C("ad_mute",e,{ad_is_muted:e.muted}),e.muted?null===(n=null==y?void 0:y.get(l.V.Muted))||void 0===n||n({event:e}):null===(t=null==y?void 0:y.get(l.V.Unmuted))||void 0===t||t({event:e})})),O=u((function(e){var n;C("ad_click",e,{stitched:!1}),null===(n=null==y?void 0:y.get(l.V.Click))||void 0===n||n({event:e})})),R=u((function(e){var n;N(!0),null===(n=null==y?void 0:y.get(l.V.Started))||void 0===n||n({event:e})})),V=u((function(e){var n,t,a;switch(C("ad_quartile",e,{quartile:e.quartile}),C("ad_client_quartile",e,(0,i.__assign)((0,i.__assign)({},(0,o.iB)(e.adInfo,p,c)),{quartile:e.quartile})),e.quartile){case 1:null===(n=null==y?void 0:y.get(l.V.FirstQuartile))||void 0===n||n({event:e});break;case 2:null===(t=null==y?void 0:y.get(l.V.Midpoint))||void 0===t||t({event:e});break;case 3:null===(a=null==y?void 0:y.get(l.V.ThirdQuartile))||void 0===a||a({event:e})}})),M=u((function(e){var n;V(e),N(!1),C("video_ad_impression_complete",e,{stitched:!1}),null===(n=null==y?void 0:y.get(l.V.Complete))||void 0===n||n({event:e})})),L=u((function(e){var n;C("video_ad_time_elapsed",e,{time_elapsed:e.progress}),_.current=Date.now(),null===(n=null==y?void 0:y.get(l.V.Progress))||void 0===n||n({event:e})})),j=function(){S&&(clearInterval(S.current),S.current=void 0)},B=u((function(e){var n,i,a,r,d,u,v,g,h,k,S,_,b,E=Date.now(),N=c,x=null===(n=null==N?void 0:N.adInfo)||void 0===n?void 0:n.adSystem,A={request_to_impression_latency:E-e.request.requestTime,pre_impression_player_volume:f,player_volume:+(t||0).toFixed(10),quality:(null==m?void 0:m.isAutoQualityMode)?"auto":"".concat(null!==(i=null==m?void 0:m.currentVideoWidth)&&void 0!==i?i:0,"x").concat(null!==(a=null==m?void 0:m.currentVideoHeight)&&void 0!==a?a:0),current_bitrate:Math.round(null!==(r=null==m?void 0:m.currentVideoBitrate)&&void 0!==r?r:0),ad_stored_bitrate_kbps:null!==(d=null==m?void 0:m.storedAdBitrate)&&void 0!==d?d:0,ad_max_bitrate_kbps:null!==(u=null==m?void 0:m.maxAdBitrate)&&void 0!==u?u:0,ad_resolution:"".concat(null!==(g=null===(v=e.adInfo)||void 0===v?void 0:v.vastMediaWidth)&&void 0!==g?g:0,"x").concat(null!==(k=null===(h=e.adInfo)||void 0===h?void 0:h.vastMediaHeight)&&void 0!==k?k:0),ad_bitrate_kbps:null!==(_=null===(S=e.adInfo)||void 0===S?void 0:S.vastMediaBitrate)&&void 0!==_?_:0};P(s.V.AdImpression,e,A),x&&"FAS"===x?C("ad_impression_fake",e,A):(C("ad_impression",e,A),C("ad_client_impression",e,(0,o.iB)(e.adInfo,p,c))),null===(b=null==y?void 0:y.get(l.V.Impression))||void 0===b||b({event:e})})),U=u((function(e){var n,t={reason:e.reason,error_code:e.errorCode,error_type:e.errorType};g("ad_error",t),null===(n=null==y?void 0:y.get(l.V.Error))||void 0===n||n()})),q=u((function(){var e;null===(e=null==y?void 0:y.get(l.V.PodReplayLoopStarted))||void 0===e||e()}));r.useEffect((function(){b.current=!!c&&null!==c.videoAd&&(0,d.hr)(c)}),[c]);var G=r.useCallback((function(e,n){k(e,(function(e){b.current&&n(e)}))}),[k]);(0,a.S)((function(){G(l.V.ContentPauseRequested,T),G(l.V.ContentResumeRequested,x),G(l.V.Complete,M),G(l.V.Error,U),G(l.V.FirstQuartile,V),G(l.V.Impression,B),G(l.V.Loaded,I),G(l.V.Midpoint,V),G(l.V.Paused,w),G(l.V.Progress,L),G(l.V.Resumed,A),G(l.V.Started,R),G(l.V.ThirdQuartile,V),G(l.V.VolumeChanged,D),G(l.V.Click,O),G(l.V.Muted,F),G(l.V.Unmuted,F),G(l.V.PodReplayLoopStarted,q)}))}},170809:function(e,n,t){"use strict";t.d(n,{A:function(){return o}});var i=t(891975),a=t(296540),r=t(378328),o=function(e){var n=(0,a.useRef)([]),t=(0,a.useRef)([]),o=e.videoAdMetadata,s=e.adFormatMetadata,l=(0,a.useCallback)((function(e,i){var a={event:e,listener:i},l=(0,r.jC)(o,s);l?(t.current.push(a),n.current=u(n.current,e,i),l.addEventListener(e,i)):n.current.push(a)}),[s,o]),d=(0,a.useCallback)((function(e,n){var i=(0,r.jC)(o,s);i&&(t.current=u(t.current,e,n),i.removeEventListener(e,n))}),[s,o]),u=function(e,n,t){return e.filter((function(e){var i=e.event,a=e.listener;return n!==i&&t!==a}))},c=(0,a.useCallback)((function(e){0!==n.current.length&&e&&!e.stitched&&n.current.forEach((function(e){var n=e.event,t=e.listener;return l(n,t)}))}),[l]);return(0,a.useEffect)((function(){o?c(o):(0,r.hr)(s)?c(s):0!==t.current.length&&(t.current.forEach((function(e){return n.current.push(e)})),t.current=[])}),[d,c,o,s]),(0,i.S)((function(){return function(){var e=(0,r.jC)(o,s);t.current.forEach((function(n){var t=n.event,i=n.listener;null==e||e.removeEventListener(t,i)}))}})),{adEvents:{addEventListener:l,removeEventListener:d}}}},531763:function(e,n,t){"use strict";t.d(n,{p:function(){return y}});var i=t(331635),a=t(783321),r=t(503472),o=t(777952),s=t(478260),l=t(669022),d=t(726726),u=t(916357),c=t(404852),p=t(357515),m=t(358350),v=t(378328),f=t(347953),g=t(152427),h=t.n(g),y=function(e){var n=e.adFormatRequest,t=e.adFormatMetadata,g=e.adPlacement,y=e.radToken,k=e.content,S=e.behaviors,_=e.muted,b=e.volume,C=e.videoSessionId,P=e.videoContainer,E=e.track,N=(0,l.S9)().data,x=(0,a.n_)(h())[0],A=new Set(["ad_impression",c.V.AdImpression,"ad_quartile"]),w=s.vF.withCategory("WithAdFormatTrackingComponent"),T=function(e){if(A.has(e))return(0,u.K)(P)},I=function(e){var a,r,l,u,c,h,y,P,E;if((0,v.lq)(t))return{stitched:!0};var x=k?(0,f.DG)(k)?o.cM.Live:(0,f.wy)(k)?o.cM.VOD:(0,f.Jn)(k)?o.cM.Clip:"":"",A={tab_session_id:s.x2.session.tabID,browser:navigator.userAgent,content_type:x,gdpr_logs:null===(r=null===(a=null==N?void 0:N.consent)||void 0===a?void 0:a.gdprUserPreferences)||void 0===r?void 0:r.tcData.tcString,gdpr_consent:null===(c=null===(u=null===(l=null==N?void 0:N.consent)||void 0===l?void 0:l.gdprUserPreferences)||void 0===u?void 0:u.tcData.purpose.consents)||void 0===c?void 0:c.valueOf(),gdpr_enabled:null===(P=null===(y=null===(h=null==N?void 0:N.consent)||void 0===h?void 0:h.gdprUserPreferences)||void 0===y?void 0:y.tcData.ifGDPRApplies)||void 0===P?void 0:P.valueOf(),referrer_domain:null===(E=s.E5.getLastPageview())||void 0===E?void 0:E.referrer_domain,is_embed:null==S?void 0:S.embed,ad_placement:g,player_mute:_,player_volume:b,player_visibility:T(e),tab_in_view:"visible"===document.visibilityState,video_session_id:C};if(!n)return A;var w={};n.status!==m.sC.Pending&&(w={sdk:n.sdk});var I=t?t.adFormat:n.adFormat,D=void 0;return(0,d.Ix)(I)?D=I:(0,d.vK)(I)&&(D=p.Z$[I]),(0,i.__assign)((0,i.__assign)({is_mafs:!!n.mafsDecision,ad_position:(null==t?void 0:t.adPosition)||0,ad_session_id:n.sessionID,break_length:n.duration,commercial_id:n.commercialID,creative_id:n.adCreativeID,format_name:D,roll_type:n.roll,stitched:(null==t?void 0:t.stitched)||!1,twitch_correlator:n.twitchCorrelator},A),w)};return{trackAdFormatData:function(e,n){E?E(e,(0,i.__assign)((0,i.__assign)({},I(e)),n)):s.E5.track(e,(0,i.__assign)((0,i.__assign)({},I(e)),n))},trackAdFormatRAdEvent:function(e,n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,a;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:if("string"!=typeof y)return[2];t={eventName:e,eventPayload:JSON.stringify((0,i.__assign)((0,i.__assign)({},n),I(e))),radToken:y},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,x((0,r.AR)(t))];case 2:return o.sent(),[3,4];case 3:return a=o.sent(),w.errorAndReport(a,"Failed to record ad event in RAds"),[3,4];case 4:return[2]}}))}))}}}},269661:function(e,n,t){"use strict";t.d(n,{Z6:function(){return p},w6:function(){return m}});var i=t(296540),a=t(478260),r=t(953113),o=t(574156),s=t(486612),l=t(669022),d="v6ssdk_version",u="1.2.2",c="1.2.3",p="Amazon Video Ads load failed";function m(e){var n=e.onAVAPLoadError,t=e.shouldInitializeAVAP,p=e.thirdPartyVideoAdElement,m=e.thirdPartyCompanionAdElement,v=e.thirdPartyOutstreamVideoAdElement,f=(0,i.useRef)(a.x2.logger.withCategory("AVAPInitializer")),g=(0,i.useState)(null),h=g[0],y=g[1],k=(0,i.useMemo)((function(){return a.x2.experiments.getAndTrackAssignment(d)===c?c:u}),[]),S=(0,i.useMemo)((function(){return"https://d2v02itv0y9u9t.cloudfront.net/dist/".concat(k,"/v6s.js")}),[k]),_=(0,r.j8)(S),b=!(!_||"loaded"!==_.status),C=!(!_||"failed"!==_.status);(0,i.useEffect)((function(){C&&n()}),[C]),(0,i.useEffect)((function(){b&&(window.AmazonVideoAds?p&&t&&(p.classList.add("avap-ads-container"),y(new window.AmazonVideoAds(p))):n())}),[b,p,t]),(0,i.useEffect)((function(){var e;h&&m&&(null===(e=h.setCompanion)||void 0===e||e.call(h,m))}),[h,m]),(0,i.useEffect)((function(){var e;h&&v&&(null===(e=h.setOutStreamAdsContainerNode)||void 0===e||e.call(h,v))}),[h,v]);var P=(0,l.S9)().data,E=(0,o.cJ)(P),N=!(0,o.bq)(s.F.TwitchAmazon,P),x=(0,i.useRef)(!1);return(0,i.useEffect)((function(){var e;h&&!x.current&&E&&(x.current=!0,N?(f.current.debug("Amazon consent given, calling fireTrackingPixel()"),null===(e=h.fireTrackingPixel)||void 0===e||e.call(h,!0)):f.current.debug("Amazon consent denied"))}),[h,N,E]),{sdkVersion:k,sdkUrl:S,amazonVideoAds:h}}},65684:function(e,n,t){"use strict";t.d(n,{c:function(){return l}});var i=t(474848),a=t(296540),r=t(407827),o=t(961420),s=r.x.wrap((function(){return t.e(99354).then(t.bind(t,925732))}),"DSAWizardModalManagerComponent",{failSilently:!0,placeholder:null}),l=function(e){var n=a.useState(e.shouldMount),t=n[0],r=n[1];return e.shouldMount&&!t&&r(!0),(0,o.QN)((function(e){return e.session.firstPageLoaded}))&&t?(0,i.jsx)(s,{managerId:e.managerId}):null}},55533:function(e,n,t){"use strict";var i,a;t.d(n,{A:function(){return i},y:function(){return a}}),function(e){e.AdInProgress="ad_in_progress",e.DuplicateTrigger="duplicate_trigger"}(i||(i={})),function(e){e.Turbo="turbo",e.TurboGQLQueryError="initialization_error",e.ExperimentSegment="experiment_segment",e.PlayerSize="player_size",e.SavantFlag="savant_flag",e.MiniPlayer="mini_player",e.InvalidFormat="invalid_format",e.NotSurestream="not_surestream",e.LowerThirdChannelSkinEnabled="lower_third_channel_skin_enabled",e.TabNotVisible="sda_v_condition_not_met",e.InvalidWindowSize="reason_invalid_window_size",e.RightColumnCollapsed="reason_right_column_collapsed"}(a||(a={}))},717286:function(e,n,t){"use strict";t.d(n,{k:function(){return p}});var i=t(474848),a=t(959340),r=t(914421),o=t(478260),s=t(963423),l=t(195824),d=t(854803),u=t(306445),c=t(917602);function p(e){var n,t=(0,o.hw)("{bitsAmount} Bits",{bitsAmount:e.count.toString()},"Bits--BitsCount");if(e.withImage){var p=e.bitsConfig&&e.bitsConfig.indexedActions[l.J_];p||(p=(0,u.Vt)("Cheer"));var m=void 0;if(0===e.count)m=l.fB;else for(var v=0,f=p.orderedTiers;v<f.length;v++){var g=f[v];if(g.bits<=e.count){m=g.bits;break}}if(m){var h=(0,d.Yj)(p,m,void 0,e.animated);return void 0!==e.themeOverride&&(e.themeOverride===s.S.Light?h.dark=h.light:h.light=h.dark),n=(0,i.jsx)(c.F,{className:"bits-count--img",sources:h}),(0,i.jsx)("strong",{className:"bits-count","data-a-target":"bits-count",children:(0,i.jsxs)(a.P,{display:r.nl.InlineBlock,children:[n," ",e.withText?t:""]})})}}return(0,i.jsx)("strong",{className:"bits-count","data-a-target":"bits-count",children:(0,i.jsx)(a.P,{display:r.nl.InlineBlock,children:t})})}},742633:function(e,n,t){"use strict";t.d(n,{Ne:function(){return i},gP:function(){return r},jX:function(){return s},l2:function(){return o}});var i,a=t(269964);!function(e){e.Bits="bits",e.Leaderboard="bits-leader"}(i||(i={}));var r="balance_update",o="first_bits_purchase";function s(e){for(var n=[],t=0,i=e;t<i.length;t++){var r=i[t];n.push({__typename:"PinnedCheerLevel",id:r.name,name:(0,a.mM)(r.name),minBits:r.min_bits,maxBits:r.max_bits,durationSeconds:r.duration_sec})}return n}},380226:function(e,n,t){"use strict";var i;t.d(n,{r:function(){return i}}),function(e){e[e.Gray=1]="Gray",e[e.Purple=100]="Purple",e[e.Green=1e3]="Green",e[e.Blue=5e3]="Blue",e[e.Red=1e4]="Red",e[e.Yellow=1e5]="Yellow"}(i||(i={}))},195824:function(e,n,t){"use strict";t.d(n,{A_:function(){return d},By:function(){return c},C4:function(){return b},D_:function(){return S},Fh:function(){return s},Hk:function(){return C},IU:function(){return u},J_:function(){return f},Jl:function(){return v},Nx:function(){return m},Vp:function(){return o},aN:function(){return y},fB:function(){return g},jW:function(){return l},jq:function(){return h},mj:function(){return _},rQ:function(){return k},sZ:function(){return r},yP:function(){return p}});var i,a=t(380226),r={ERROR_DISPLAY_TIMEOUT:5e3,GET_BALANCE_RATE_LIMIT:5e3,UNDO_PROMPT_DURATION:5e3},o="https://d3aqoihi2n8ty8.cloudfront.net",s="".concat(o,"/cheer"),l="".concat(o,"/actions"),d="".concat(l,"/PREFIX/BACKGROUND/ANIMATION/TIER/SCALE.EXTENSION"),u="bonus",c=1e5,p=25e4,m=500,v=1e3,f="cheer",g=a.r.Purple,h=((i={})[a.r.Gray]="#979797",i[a.r.Purple]="#9c3ee8",i[a.r.Green]="#1db2a5",i[a.r.Blue]="#0099fe",i[a.r.Red]="#f43021",i[a.r.Yellow]="#f3a71a",i),y="AnAnonymousCheerer",k="ananonymouscheerer",S="407665396",_="lapsed_bits_user",b="lapsed_bits_user",C="mpu_portals"},222115:function(e,n,t){"use strict";t.d(n,{B:function(){return u},Y:function(){return d}});var i=t(973421),a=t.n(i),r=t(982821),o=t(503472),s=t(456450),l=t(742633);function d(e,n,t){return{topic:t?(0,s.c9)(t):"",type:r.PD.UserBitsBalanceUpdate,mutator:function(e,n){return n&&e.message_type===l.gP?(n.currentUser&&e.data&&(n=a()(n,(function(e){return e.currentUser.bitsBalance}),(function(){return e.data.balance}))),n):n},skip:!n||!t,query:e}}function u(e,n,t){(0,o.oR)(e,undefined,(function(e){return e?(e.currentUser&&e.currentUser.bitsBalance&&(e=a()(e,(function(e){return e.currentUser.bitsBalance}),(function(){return t}))),e):e}),(function(){return!n}))}},854803:function(e,n,t){"use strict";t.d(n,{Fm:function(){return s},Je:function(){return l},Yj:function(){return c},j7:function(){return u},o7:function(){return d}});var i=t(267924),a=t(195824),r=t(251184),o=/^((?:[A-Za-z0-9]+)(?:[A-Za-z]))([\d]+)$/;function s(e,n,t){void 0===t&&(t=!0);var i=[],a=e.split(/\s+/);return a.forEach((function(e,o){var s=l(e,n,t);if(s)i.push(s);else{var d=i.length&&i[i.length-1],u="";if(o<a.length-1&&(u=" "),d&&d.type===r.X.Text)d.content+=e+u;else{var c="";o&&(c=" "),i.push({type:r.X.Text,content:c+e+u})}}})),i}function l(e,n,t){void 0===t&&(t=!0);var a=e.match(o);if(!a)return null;var s=a[1].toLowerCase(),l=Number(a[2]),d=n.indexedActions[s];if(d&&(d.type!==i.x2$.DISPLAY_ONLY||t)){var u=d.orderedTiers.find((function(e){return e.bits<=l}));!u&&l&&(u=d.orderedTiers[0]);var p=n.tiers.find((function(e){return e.bits===(null==u?void 0:u.bits)}));if(u)return{type:r.X.Emote,content:{images:c(d,u.bits),alt:d.prefix,cheerAmount:l,cheerColor:null==p?void 0:p.color}}}return null}function d(e,n){var t,i,r=(t=n,i=new Map,t.orderedActions.forEach((function(e){e.campaign&&i.set(e.prefix,e.campaign)})),i),o=new Map;e.forEach((function(e,n){if(e.alt&&r.has(e.alt))if(o.has(e.alt)){(t=o.get(e.alt))&&(t.total+=e.cheerAmount||0,t.lastAppearance=n)}else{var t={total:e.cheerAmount||0,lastAppearance:n,campaign:r.get(e.alt)};o.set(e.alt,t)}}));var s=1;return o.forEach((function(t){var i=0;t.campaign.thresholds.forEach((function(e){t.total>=e.minimumBits&&(i=e.matchedPercent)}));var r=Math.trunc(t.total*i);if(r>0){var o=l(a.IU+r,n,!0);o&&e.splice(t.lastAppearance+s++,0,o.content)}})),e}function u(e,n){return s(e,n,!0).reduce((function(e,n){return n.type===r.X.Emote&&e.push(n.content),e}),[]).some((function(e){var t=n.orderedActions.find((function(n){return!!e.alt&&e.alt===n.prefix}));return!!t&&t.type===i.x2$.DISPLAY_ONLY}))}function c(e,n,t,i){var a,r;void 0===i&&(i=!0);var o=i?"animated":"static";return t?{themed:!0,dark:(a={},a["".concat(t,"x")]=e.getImage("dark",o,n,t),a),light:(r={},r["".concat(t,"x")]=e.getImage("light",o,n,t),r)}:{themed:!0,dark:{"1x":e.getImage("dark",o,n,1),"1.5x":e.getImage("dark",o,n,1.5),"2x":e.getImage("dark",o,n,2),"3x":e.getImage("dark",o,n,3),"4x":e.getImage("dark",o,n,4)},light:{"1x":e.getImage("light",o,n,1),"1.5x":e.getImage("light",o,n,1.5),"2x":e.getImage("light",o,n,2),"3x":e.getImage("light",o,n,3),"4x":e.getImage("light",o,n,4)}}}},306445:function(e,n,t){"use strict";t.d(n,{Vt:function(){return v},mr:function(){return u},vs:function(){return c}});var i,a=t(267924),r=t(380226),o=t(195824),s=t(198365),l={Cheer:a.x2$.FIRST_PARTY,Kappa:a.x2$.FIRST_PARTY,Kreygasm:a.x2$.FIRST_PARTY,Muxy:a.x2$.THIRD_PARTY,Showlove:a.x2$.FIRST_PARTY,Streamlabs:a.x2$.THIRD_PARTY,SwiftRage:a.x2$.FIRST_PARTY,Uni:a.x2$.FIRST_PARTY,VoHiYo:a.x2$.FIRST_PARTY},d=[r.r.Red,r.r.Blue,r.r.Green,r.r.Purple,r.r.Gray],u={indexedActions:{},orderedActions:[],tiers:[],getImage:p};function c(){if(!i){var e=m("Cheer",a.x2$.DEFAULT);i={indexedActions:{cheer:e},orderedActions:[e],tiers:d.map((function(e){return{bits:e,color:o.jq[e]}})),getImage:p}}return i}function p(e,n,t,i,a){var r="animated"===t?"gif":"png";return(0,s.LZ)(o.A_,{prefix:e,background:n,animation:t,tier:i,scale:a,extension:r})}function m(e,n){var t=d.map((function(n){return{__typename:"CheermoteTier",bits:n,canShowInBitsCard:!0,id:"".concat(e,";").concat(n)}}));return{__typename:"Cheermote",campaign:null,id:e,prefix:e,type:n,tiers:t,orderedTiers:t,getImage:p.bind(void 0,e)}}function v(e){return m(e,l[e])}},198365:function(e,n,t){"use strict";t.d(n,{LZ:function(){return o},Vg:function(){return r},in:function(){return s}});var i=t(331635),a=t(579025);function r(e,n){var t={};function r(n,i,a,r,s){if(n=n.toLowerCase(),!t[n])return"";var l=t[n].template,d=e.types.find((function(e){return e.animation===a}));return d?o(l,{prefix:n,background:i,animation:a,tier:r,scale:s,extension:d.extension}):""}for(var s=e.order.reduce((function(e,n,t){return e[n]=t,e}),{}),l=new a.r((function(e,n){var t=s[e.type]-s[n.type];return 0!==t?t:e.tierBreakerOrder-n.tierBreakerOrder})),d=0,u=0,c=n;u<c.length;u++)for(var p=c[u],m=0,v=p.nodes;m<v.length;m++){var f=v[m],g=(0,i.__assign)((0,i.__assign)({},f),{orderedTiers:f.tiers.slice().sort((function(e,n){return n.bits-e.bits})),template:p.templateURL,getImage:r.bind(void 0,f.prefix),tierBreakerOrder:d});t[f.prefix.toLowerCase()]=g,l.push(g),d++}return{indexedActions:t,orderedActions:l.top(l.size()),tiers:e.colors.slice().sort((function(e,n){return n.bits-e.bits})),getImage:r}}function o(e,n){return e.replace("PREFIX",n.prefix.toLowerCase()).replace("BACKGROUND",n.background).replace("ANIMATION",n.animation).replace("TIER",n.tier.toString()).replace("SCALE",n.scale.toString()).replace("EXTENSION",n.extension)}function s(e,n){return{id:"".concat(n,"-").concat(e.entry_key),score:e.score,rank:e.rank,user:{__typename:"User",id:e.entry_key,login:"",displayName:""},__typename:"UserLeaderboardItem"}}},194569:function(e,n,t){"use strict";t.d(n,{IU:function(){return f},hW:function(){return k},m9:function(){return g}});var i,a=t(474848),r=t(727234),o=t(296540),s=t(478260),l=t(86043),d=t(337930),u=t(214120),c=t(954351),p=t(375747),m={isTooSmall:!0,isSurveyOpportunity:!1,isSurveyShowing:!1,isMouseHovering:!1,refetchEnabled:!1,retriggerTimer:{current:0},startVideoSession:function(){},triggerOpportunity:function(){},acceptOpportunity:function(){},declineOpportunity:function(){},onClose:function(){},setMouseHovering:function(){},setRefetchEnabled:function(){}},v=(0,p.e)("BrandLiftContext",m,(function(e){return{brandLiftContext:e}})),f=v.withMemoContext,g=v.context;!function(e){e.VideoPlaySessionStarted="VideoPlaySessionStarted",e.FirstSDABreakStarted="FirstSDABreakStarted",e.SecondSDABreakStarted="SecondSDABreakStarted",e.SurveyOpportunity="SurveyOpportunity",e.SurveyShowing="SurveyShowing",e.Done="Done"}(i||(i={}));var h=s.x2.logger.withCategory("brandlift").withCategory("context"),y=function(e){var n=e.children,t=o.useState(!1),s=t[0],d=t[1],p=o.useState(!0),m=p[0],v=p[1],f=o.useState(!1),y=f[0],k=f[1],S=o.useState(i.VideoPlaySessionStarted),_=S[0],b=S[1],C=o.useContext(c.jK).adFormatRequest,P=(0,r.Z)(C),E=o.useRef(0);o.useEffect((function(){if(!P&&!!C)switch(_){case i.VideoPlaySessionStarted:b(i.FirstSDABreakStarted);break;case i.FirstSDABreakStarted:b(i.SecondSDABreakStarted),setTimeout((function(){b(i.SurveyOpportunity)}),3e5+(0,u.yT)(6e4))}}),[C,P,_]),o.useEffect((function(){h.debug(_)}),[_]),o.useEffect((function(){h.debug("isTooSmall=".concat(m))}),[m]);var N={isTooSmall:m,isMouseHovering:s,isSurveyOpportunity:_===i.SurveyOpportunity,isSurveyShowing:_===i.SurveyShowing,refetchEnabled:y,retriggerTimer:E,startVideoSession:function(){return b(i.VideoPlaySessionStarted)},triggerOpportunity:function(){return b(i.SurveyOpportunity)},acceptOpportunity:function(){return b(i.SurveyShowing)},declineOpportunity:function(){return b(i.Done)},onClose:function(){return b(i.Done)},setMouseHovering:d,setRefetchEnabled:k},x=o.useCallback((function(e){return v(!e||e<948)}),[]);return(0,a.jsxs)(g.Provider,{value:N,children:[(_===i.SurveyOpportunity||_===i.SurveyShowing)&&(0,a.jsx)(l.$,{onResize:x}),n||null]})},k=function(e){var n=e.children;return(0,d.fX)("addressability_experiment_survey_p0")||(0,d.fX)("brand_lift_v0")?(0,a.jsx)(y,{children:n||null}):(0,a.jsx)(g.Provider,{value:m,children:n||null})}},226483:function(e,n,t){"use strict";t.d(n,{l:function(){return o}});var i=t(474848),a=t(216042),r=t(914421),o=t(296540).forwardRef((function(e,n){var t;return(0,i.jsx)(a.S,{position:r.yX.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,height:e.height?e.height:"100%",display:r.nl.Flex,alignItems:r.k2.Center,justifyContent:r.A9.Center,zIndex:null!==(t=e.zIndex)&&void 0!==t?t:r.Py.Above,className:"celebration__overlay",children:(0,i.jsx)("div",{ref:n,children:e.children})})}))},447944:function(e,n,t){"use strict";t.d(n,{e:function(){return i}});var i=t(296540).createRef()},59470:function(e,n,t){"use strict";t.d(n,{DV:function(){return u},KK:function(){return c}});var i=t(331635),a=t(474848),r=(t(296540),t(172100)),o=t(559147),s=t(659456),l={loading:!1,data:null,campaignSettings:null,channel:void 0,currentUser:void 0,isDarkMode:!1,canShowChannelSkins:!1,creatorColor:"",placements:{videoOverlay:null,frontPageVideoOverlay:null,aboveChat:null,subSubAboveChat:null,ribbon:null},trackImpression:function(){},trackClick:function(){},subsidizedSubscriptions:null,requiresVideoTokenRefresh:!1,setRequiresVideoTokenRefresh:function(){}},d=(0,t(375747).e)("ChannelSkinsContext",l,(function(e){return{channelSkinsContext:e}})),u=(d.withMemoContext,d.context),c=function(e){var n=e.children,t=e.channelLogin,l=(0,i.__rest)(e,["children","channelLogin"]),d=(0,s.N)(),c=(0,r.h5)(),p=t||(null==d?void 0:d.channelLogin)||(null==c?void 0:c.channelLogin)||"",m=(0,o.Di)((0,i.__assign)({channelLogin:p},l));return(0,a.jsx)(u.Provider,{value:m,children:n||null})}},172100:function(e,n,t){"use strict";t.d(n,{HX:function(){return d},Rn:function(){return s},h5:function(){return l}});var i=t(474848),a=t(296540),r=(0,t(397568).q)("SelectedChannelLoginContext",{channelLogin:null,setChannelLogin:function(){return null}}),o=r.context,s=r.withContext,l=function(){return a.useContext(o)},d=function(e){var n=e.children,t=a.useState(null),r=t[0],s=t[1],l=a.useMemo((function(){return{channelLogin:r,setChannelLogin:s}}),[r,s]);return(0,i.jsx)(o.Provider,{value:l,children:n})}},837576:function(e,n,t){"use strict";t.d(n,{L:function(){return o}});var i=t(783321),a=t(766139),r=t.n(a),o=function(){var e,n,t=(0,i.IT)(r()),a=t.data;return!t.loading&&(null===(n=null===(e=null==a?void 0:a.currentUser)||void 0===e?void 0:e.isChatHappeningNowEnabled)||void 0===n||n)}},804352:function(e,n,t){"use strict";t.d(n,{$:function(){return u}});var i=t(331635),a=t(296540),r=t(783321),o=t(766139),s=t.n(o),l=t(934916),d=t.n(l),u=function(){var e=(0,r.n_)(d(),{update:function(e,n){var t=n.data;if(null==t?void 0:t.setChatHappeningNowSettings){var a=e.readQuery({query:s()}),r=null==a?void 0:a.currentUser;if(!r)return;e.writeQuery({query:s(),data:{currentUser:(0,i.__assign)((0,i.__assign)({},r),{isChatHappeningNowEnabled:t.setChatHappeningNowSettings.isChatHappeningNowEnabled})}})}}})[0];return{setHappeningNowSettings:a.useCallback((function(n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,e({variables:{input:{isChatHappeningNowEnabled:n}}})];case 1:return t=i.sent().data,[2,null===(a=null==t?void 0:t.setChatHappeningNowSettings)||void 0===a?void 0:a.isChatHappeningNowEnabled]}}))}))}),[e])}}},455987:function(e,n,t){"use strict";t.d(n,{Ee:function(){return r},FI:function(){return o},HK:function(){return u},Pi:function(){return i},Wn:function(){return l},sZ:function(){return s},yj:function(){return a},zQ:function(){return d}});var i=15,a="chat.has_interacted_with_full_screen_chat",r="chat.happening_now_hide_info",o="chat.has_seen_happening_now_settings",s={count:0,seenDisablePrompt:!1},l=3,d=5184e6,u=300},393315:function(e,n,t){"use strict";t.d(n,{Cx:function(){return l},at:function(){return s},jj:function(){return u}});var i=t(331635),a=t(474848),r=t(296540),o=(0,t(397568).q)("PrivateCalloutQueueContext",{callouts:[],pinnedCallout:null,pinCallout:function(e){return null},pushCallout:function(e){return null},popCallout:function(){return null},clearCalloutType:function(e){return null},unpinCallout:function(){return null}}),s=o.context,l=o.withContext,d=function(e){function n(n){var t=e.call(this,n)||this;return t.popCallout=function(){t.setState((function(e){return{callouts:(0,i.__spreadArray)([],e.callouts.slice(1),!0)}}))},t.pushCallout=function(e,n){if(void 0===n&&(n=!1),n)for(var a=0,r=t.state.callouts;a<r.length;a++){if(r[a].event.type===e.event.type)return}t.setState((function(n){return{callouts:(0,i.__spreadArray)((0,i.__spreadArray)([],n.callouts,!0),[e],!1)}}))},t.clearCalloutType=function(e){t.setState((function(n){return{callouts:n.callouts.filter((function(n){return n.event.type!==e}))}}))},t.pinCallout=function(e){t.setState({pinnedCallout:e})},t.unpinCallout=function(){t.setState({pinnedCallout:null})},t.state={callouts:[],pinnedCallout:null,pinCallout:t.pinCallout,pushCallout:t.pushCallout,popCallout:t.popCallout,clearCalloutType:t.clearCalloutType,unpinCallout:t.unpinCallout},t}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(s.Provider,{value:this.state,children:this.props.children})},n}(r.Component),u=d},552590:function(e,n,t){"use strict";var i;t.d(n,{o:function(){return i}}),function(e){e.AppointedModerator="appointed-moderator",e.BitsBadgeTier="bits-badge-tier",e.CommunityMoment="community-moment",e.ClipLiveNudge="clip-live-nudge",e.ShareResub="share-resub",e.ThankSubGifter="thank-sub-gifter",e.CommunityPointsRewards="community-points-rewards",e.HypeTrainRewards="hype-train-rewards",e.ReplyByKeyboard="reply-by-keyboard",e.Drop="drop",e.EarnedSubBadge="earned-sub-badge",e.TurnOffAnimatedEmotes="turn-off-animated-emotes",e.CreatorAnniversaries="creator-anniversaries",e.RequestToJoinAccepted="request-to-join-accepted",e.FavoritedGuestCollab="favorited-guest-collab",e.STPromo="st-promo",e.LapsedBitsUser="lapsed-bits-user",e.BitsPowerUps="bits-power-ups",e.CosmicAbyss="cosmic-abyss",e.PartnerPlusUpSellNudge="partner-plus-up-sell-nudge",e.SubtemberPromoBits="subtember-promo-bits",e.GiftBundleUpSell="gift-bundle-up-sell",e.WalletDrop="wallet-drop",e.GiftBadgeExpiration="gift-badge-expiration",e.GiftBadgeRestored="gift-badge-restored"}(i||(i={}))},633097:function(e,n,t){"use strict";t.d(n,{S:function(){return m},g:function(){return p}});var i=t(296540),a=t(415044),r=t(478260),o=t(145748),s=t(982821),l=t(456450),d=t(131883),u=t(393315),c=t(552590),p="community-moments-rollout",m=function(e){var n=e.channelID,t=(0,a.d4)(d.wz),p=(0,o.D)((0,l.h)(n)),m=p[0],v=p[1],f=(0,i.useContext)(u.at).pushCallout;return(0,i.useEffect)((function(){var e,i,a;if(m&&!(null==v?void 0:v.error)&&n!==(null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"")){var o,l=m;if(l.type===s.PD.CommunityMomentStart){var d={momentID:l.data.moment_id,type:c.o.CommunityMoment,userID:null!==(i=null==t?void 0:t.id)&&void 0!==i?i:null,userLogin:null!==(a=null==t?void 0:t.login)&&void 0!==a?a:null},u=r.Zn.get("community_moments_jitter_range_seconds",0),p=Math.floor(Math.random()*u*1e3);o=setTimeout((function(){f({key:l.data.moment_id,event:d})}),p)}return function(){return clearTimeout(o)}}(null==v?void 0:v.error)&&r.vF.errorAndReport(v.error,"Community Moments - Failed to register subscription to Community Moment Channel topic",n)}),[m,n,v,t,f]),null}},251184:function(e,n,t){"use strict";var i;t.d(n,{X:function(){return i}}),function(e){e[e.Text=0]="Text",e[e.ModeratedText=1]="ModeratedText",e[e.FlaggedSegment=2]="FlaggedSegment",e[e.CurrentUserHighlight=3]="CurrentUserHighlight",e[e.Mention=4]="Mention",e[e.Link=5]="Link",e[e.Emote=6]="Emote",e[e.ClipLink=7]="ClipLink",e[e.VideoLink=8]="VideoLink"}(i||(i={}))},315320:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(478260),a=t(407827),r=t(630193),o=t(178196),s=t(496228),l=t(718482),d={API_BASE_URL:void 0,CDN_URL:"https://assets.twitch.tv/",GQL_BASE_URL:void 0,PASSPORT_BASE_URL:void 0,INTERPOL_BASE_URL:void 0,PUBSUB_ENV:void 0,TMI_BASE_URL:void 0,MANIFEST_URL:"https://assets.twitch.tv/config/manifest.json?v=1",NODE_ENV:"production",PLAYER_BASE_URL:"https://player.twitch.tv",SITE_NAME:void 0,IS_DEV_BUILD:!1,IS_STAGING_BUILD:!1,IS_LOCAL_DEVSERVER:!1}.IS_MOBILE_PORTAL?function(){throw Error("NotSupported")}:a.x.wrap((function(){return Promise.all([t.e(7595),t.e(47147),t.e(53920),t.e(59782),t.e(56450),t.e(59147),t.e(55152),t.e(21745),t.e(98922),t.e(64498),t.e(27047),t.e(57013),t.e(16001),t.e(33768),t.e(3847),t.e(92859),t.e(4098),t.e(59701),t.e(42602),t.e(1074),t.e(53412)]).then(t.bind(t,725735))}),"CheckoutModal"),u="core.ui.CHECKOUT_SHOWN";function c(e){if((0,r.W)()){try{l.Jv(),function(e){if(!e.productName)return void i.vF.warn("No productName provided");var n=new URL("https://www.twitch.tv/products/".concat(e.productName));e.recipientLogin?n.searchParams.append("recipient",e.recipientLogin):e.mysteryGiftCount?n.searchParams.append("gift_count",e.mysteryGiftCount.toString()):e.multiMonthGiftAmount&&n.searchParams.append("months",e.multiMonthGiftAmount.toString());e.isAnonymous&&n.searchParams.append("is_anonymous",e.isAnonymous.toString());e.isOneTimePurchase&&n.searchParams.append("is_one_time_purchase",e.isOneTimePurchase.toString());window.open(n.toString(),"_blank")}(e)}catch(e){(0,s.nF)()?i.vF.warn("Failed to open subscription checkout externally"):i.vF.errorAndReport(e,"Failed to open subscription checkout externally")}return function(e){e({type:u})}}return function(n){n((0,o.to)(d,e))}}},718482:function(e,n,t){"use strict";t.d(n,{H2:function(){return o},Ht:function(){return u},Jv:function(){return g},Kw:function(){return c},RN:function(){return d},Rq:function(){return m},SX:function(){return v},cd:function(){return h},jY:function(){return s},sX:function(){return l}});var i=t(478260),a=t(369624),r="SUB_CHECKOUT",o="".concat(r,"__PRODUCT"),s="".concat(r,"__RECIPIENT"),l="".concat(r,"__MYSTERY_GIFT_COUNT"),d="".concat(r,"__GIFTING_ANONYMOUSLY"),u="".concat(r,"__IS_ONE_TIME_PURCHASE"),c="".concat(r,"__MULTIMONTH_GIFT_MONTHS"),p="".concat(r,"__GIFT_THEME"),m="".concat(r,"__OFFER_ERROR_CODE"),v="".concat(r,"__ORDER_FAILURE_REASON"),f=[o,s,l,d,u,c,p,m,v];function g(){f.forEach((function(e){return i.VS.remove(e)}))}function h(e){return function(){return(0,a.iD)(e,{onClose:g})}}},505851:function(e,n,t){"use strict";var i;t.d(n,{U:function(){return i}}),function(e){e.ChannelSubscribeButton="channel_subscribe_button_click",e.Direct="direct_url_link",e.EmotePicker="emote_picker_click",e.EmotePickerPopularEmotes="emote_picker_popular_emotes",e.Extension="extension_click",e.SubscriptionsManagement="subscriptions_management",e.TurboSubscribeButton="turbo_subscribe_button_click",e.PartnerPlusUpSellNudgeSubscribeButton="partner_plus_upsell_nudge_subscribe_button_click",e.ViewerCard="viewer_card_click",e.SubscriberStreamUpsellClick="subscriber_stream_upsell_click",e.GetBitsMenu="get_bits_menu",e.CheerFrictionReduction="cheer_friction_reduction",e.ModView="mod_view",e.ChannelLeaderboard="channel_leaderboard",e.CommunityGiftClick="community_gift_click",e.SingleGiftClick="single_gift_click",e.RocketBoostHighlight="rocket_boost_highlight",e.OneClickGiftButtonClick="one_click_gift_button_click",e.OneClickSubsButtonClick="one_click_subs_button_click",e.OneClickBitsButtonClick="one_click_bits_button_click",e.GiftChatCommand="gift_chat_command",e.GetTurboButton="get_turbo_button",e.HomePageImpactNoticeBanner="home_page_impact_notice_banner",e.ChannelPageImpactNoticeBanner="channel_page_impact_notice_banner",e.Upsell="upsell"}(i||(i={}))},838483:function(e,n,t){"use strict";t.d(n,{$c:function(){return u},PY:function(){return c}});var i=t(331635),a=t(474848),r=t(296540),o=t(407827),s=t(397568),l=o.x.wrap((function(){return Promise.all([t.e(38673),t.e(62434),t.e(91870),t.e(86917),t.e(48062),t.e(34801),t.e(81983),t.e(24239),t.e(86079),t.e(26532),t.e(20362)]).then(t.bind(t,441637))}),"ClipEditorPopupPortal"),d=(0,s.q)("ClipEditorPopupContext",{openPopup:null,isOpened:!1}),u=(d.withContext,d.context),c=function(e){var n=e.children,t=function(){var e=r.useState(null),n=e[0],t=e[1];return{openClipEditorPopup:r.useCallback((function(e){t(e)}),[t]),clipEditorPopupProps:n}}(),o=t.openClipEditorPopup,s=t.clipEditorPopupProps,d=r.useMemo((function(){return{openPopup:o,isOpened:Boolean(s)}}),[o,s]);return(0,a.jsxs)(u.Provider,{value:d,children:[n,s&&(0,a.jsx)(l,(0,i.__assign)({},s))]})}},893375:function(e,n,t){"use strict";t.d(n,{F:function(){return r},n:function(){return o}});var i=t(503988),a=t(337930),r=function(){return(0,a.fX)("lychee-durian-cherry")},o=function(e,n,t){void 0===n&&(n=""),void 0===t&&(t="");var a=n&&(0,i.B6)("/".concat(n),e.pathname),o=(0,i.B6)("/videos/".concat(t),e.pathname);return!(!r()||!a&&!o)}},252770:function(e,n,t){"use strict";t.d(n,{Ip:function(){return f},JF:function(){return v},hq:function(){return m}});var i=t(891975),a=t(632017),r=t.n(a),o=t(296540),s=t(783321),l=t(267924),d=t(470939),u=t(615218),c=t.n(u),p=3e5,m=function(e){var n,t=e.onPollComplete,a=o.useState(!1),d=a[0],u=a[1],m=o.useState(!1),f=m[0],g=m[1],h=(0,s._l)(c(),{fetchPolicy:"no-cache",pollInterval:2e3,onError:function(){g(!0),u(!0)},notifyOnNetworkStatusChange:!0,onCompleted:function(e){(null==e?void 0:e.clip)||(L(),_())}}),y=h[0],k=h[1],S=k.data,_=k.stopPolling,b=o.useRef(S),C=v(null===(n=null==S?void 0:S.clip)||void 0===n?void 0:n.assets),P=C.sourceAsset,E=C.portraitAsset,N=o.useState(void 0),x=N[0],A=N[1],w=o.useState(!1),T=w[0],I=w[1],D=o.useState((null==P?void 0:P.creationState)===l.j2q.CREATING),F=D[0],O=D[1],R=o.useState((null==E?void 0:E.creationState)===l.j2q.CREATING),V=R[0],M=R[1],L=o.useCallback((function(){O(!1),u(!0),M(!1),g(!0),A(!0),_()}),[_]),j=o.useCallback((function(){null==t||t(),O(!1),M(!1),A(!0),_()}),[t,_]),B=o.useRef();(0,i.S)((function(){return function(){return clearTimeout(B.current)}})),o.useEffect((function(){if(e.clipSlug){y({variables:{slug:e.clipSlug}});var n=setTimeout(L,p);B.current=n,A(!1)}}),[e.clipSlug,y,L]),o.useEffect((function(){var e,n=v(null===(e=null==S?void 0:S.clip)||void 0===e?void 0:e.assets),t=n.sourceAsset,i=n.portraitAsset,a=null==t?void 0:t.creationState,o=null==i?void 0:i.creationState;if(a&&!r()(b.current,S)){if(a!==l.j2q.CREATING||F||O(!0),o!==l.j2q.CREATING||V||M(!0),a===l.j2q.FAILED&&(O(!1),u(!0)),o===l.j2q.FAILED&&(M(!1),g(!0)),!o&&a!==l.j2q.CREATING)return b.current=S,void j();a!==l.j2q.CREATING&&o!==l.j2q.CREATING&&(b.current=S,j())}}),[S,V,F,_,t,j]);var U=function(e){var n,t,i,a,r,o,s,l,u,c,p,m,g,h,y,k=v(null===(n=null==e?void 0:e.clip)||void 0===n?void 0:n.assets);return{source:{asset:k.sourceAsset,hasError:d},portrait:{asset:k.portraitAsset,hasError:f},exportAsset:null!==(i=null!==(t=k.portraitAsset)&&void 0!==t?t:k.sourceAsset)&&void 0!==i?i:null,clip:null==e?void 0:e.clip,broadcasterDisplayName:null===(r=null===(a=null==e?void 0:e.clip)||void 0===a?void 0:a.broadcaster)||void 0===r?void 0:r.displayName,broadcasterID:null===(s=null===(o=null==e?void 0:e.clip)||void 0===o?void 0:o.broadcaster)||void 0===s?void 0:s.id,broadcasterLogin:null===(u=null===(l=null==e?void 0:e.clip)||void 0===l?void 0:l.broadcaster)||void 0===u?void 0:u.login,createdAt:null===(c=null==e?void 0:e.clip)||void 0===c?void 0:c.createdAt,createdBy:null===(m=null===(p=null==e?void 0:e.clip)||void 0===p?void 0:p.curator)||void 0===m?void 0:m.id,durationSeconds:null===(g=null==e?void 0:e.clip)||void 0===g?void 0:g.durationSeconds,title:null===(h=null==e?void 0:e.clip)||void 0===h?void 0:h.title,viewCount:null===(y=null==e?void 0:e.clip)||void 0===y?void 0:y.viewCount,hasRepolled:T,hasPollEnded:x,onRePollClipRenderStatus:q,isPollingForSourceAsset:F,isPollingForPortraitAsset:V}},q=function(){if(e.clipSlug){I(!0),A(!1);var n=setTimeout(_,p);return B.current=n,y({variables:{slug:e.clipSlug}}).then((function(e){var n,t,i=U(e.data);return(null===(n=i.source.asset)||void 0===n?void 0:n.creationState)!==l.j2q.CREATING||F||O(!0),(null===(t=i.source.asset)||void 0===t?void 0:t.creationState)!==l.j2q.CREATING||V||M(!0),i}))}};return U(S)};function v(e){var n,t;if(!(null==e?void 0:e.length))return{sourceAsset:null,portraitAsset:null};var i=[],a=[];function r(e,n){var t=new Date(e.createdAt);return new Date(n.createdAt).getTime()-t.getTime()}return e.forEach((function(e){e.aspectRatio<1?a.push(e):i.push(e)})),i.sort(r),a.sort(r),{sourceAsset:null!==(n=i[0])&&void 0!==n?n:null,portraitAsset:null!==(t=a[0])&&void 0!==t?t:null}}function f(e){var n,t,i,a=e.exportAsset,r=e.clip,o=e.download,s=null===(n=null==a?void 0:a.videoQualities)||void 0===n?void 0:n[0].sourceURL,l=null===(t=null==r?void 0:r.playbackAccessToken)||void 0===t?void 0:t.value,u=null===(i=null==r?void 0:r.playbackAccessToken)||void 0===i?void 0:i.signature;if(s&&l&&u){var c=(0,d.D)({createdAt:a.createdAt,slug:r.slug,assetType:a.type});return(0,d.F)(s,l,u,o?{requestContentAsDownload:!0,fileName:c}:void 0)}}},942950:function(e,n,t){"use strict";t.d(n,{y:function(){return a}});var i=t(267924),a=function(e){return e.assets.filter((function(e){return e.type===i.p4J.RECOMPOSED})).sort((function(e,n){return new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime()}))[0]||null}},157682:function(e,n,t){"use strict";t.d(n,{u:function(){return a}});var i=t(267924),a=function(e){return e.assets.filter((function(e){return e.type===i.p4J.SOURCE})).sort((function(e,n){return new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime()}))[0]||null}},158508:function(e,n,t){"use strict";t.d(n,{Q:function(){return d}});var i=t(331635),a=t(296540),r=t(478260),o=t(942950),s=t(157682),l=t(308685),d=function(){var e=(0,l.C)();return{track:(0,a.useCallback)((function(n){var t=u(n,e),a=(0,i.__assign)((0,i.__assign)({},e),t);r.E5.track("clip_workflow_click",a)}),[e])}},u=function(e,n){var t,a,r,l,d,u,c,p,m,v,f,g,h,y,k,S,_,b="clip"in e?function(e){var n,t,i,a,r=(0,s.u)(e),l=(0,o.y)(e);return{clip_slug:e.slug,channel_id:(null===(n=e.broadcaster)||void 0===n?void 0:n.id)||"",broadcast_id:(null===(t=e.broadcast)||void 0===t?void 0:t.id)||null,vod_id:(null===(i=e.video)||void 0===i?void 0:i.id)||null,clip_asset_id:null!==(a=(null==l?void 0:l.id)||(null==r?void 0:r.id))&&void 0!==a?a:null}}(e.clip):{clip_slug:null,channel_id:e.channelID||"",broadcast_id:null!==(t=e.broadcastID)&&void 0!==t?t:null,vod_id:null!==(a=e.vodID)&&void 0!==a?a:null,clip_asset_id:e.clipAssetID||null},C={clip_editor_step:null!==(r=e.clipEditorStep)&&void 0!==r?r:null,clip_editor_ingress:null!==(l=e.clipEditorIngress)&&void 0!==l?l:null,clip_editor_session_id:null!==(d=e.clipEditorSessionID)&&void 0!==d?d:null,raw_media_id:null!==(u=e.rawMediaID)&&void 0!==u?u:null,clip_workflow:null!==(p=null!==(c=e.clipWorkflow)&&void 0!==c?c:n.clip_workflow)&&void 0!==p?p:null,location:null!==(v=null!==(m=e.location)&&void 0!==m?m:n.location)&&void 0!==v?v:null,user_id_selected:null!==(f=e.userIDSelected)&&void 0!==f?f:null,target_user_id:null!==(g=e.targetUserID)&&void 0!==g?g:null,clip_slug:null!==(y=null!==(h=b.clip_slug)&&void 0!==h?h:e.clipSlug)&&void 0!==y?y:null,pip:null!==(S=null!==(k=e.pip)&&void 0!==k?k:n.pip)&&void 0!==S&&S};return(0,i.__assign)((0,i.__assign)((0,i.__assign)({},b),C),{action:e.action,action_details:null!==(_=e.actionDetails)&&void 0!==_?_:null})}},551283:function(e,n,t){"use strict";var i;t.d(n,{U:function(){return i}}),function(e){e.CreateClip="clip",e.ShrinkToFit="shrink_to_fit",e.ExpandToFit="expand_to_fit",e.TitleClip="title",e.CancelClip="cancel",e.CancelClipEdits="cancel_clip_edits",e.SaveClip="save",e.FeatureClip="feature",e.UnfeatureClip="unfeature",e.AutoAddToStories="auto_add_to_stories",e.EnableAutoAddToStories="enable_auto_add_to_stories",e.DisableAutoAddToStories="disable_auto_add_to_stories",e.ShareClipInChatCheck="share_clip_in_chat_check",e.ShareClipInChatUncheck="share_clip_in_chat_uncheck",e.VideoTrim="video_trim",e.VideoPause="video_pause",e.VideoMute="video_mute",e.VideoAdjustVolume="video_adjust_volume",e.VideoPlay="video_play",e.VideoSeekLeft="video_seek_left",e.VideoSeekRight="video_seek_right",e.CancelClipConfirm="cancel_confirm",e.CancelClipContinueEditing="cancel_continue_editing",e.CancelClipEditsConfirm="cancel_clip_edits_confirm",e.CancelClipEditsContinueEditing="cancel_clip_edits_continue_editing",e.EditPortraitLayout="edit_portrait_layout",e.ExitClipCreationFtue="exit_clip_creation_ftue",e.AlertOverwriteClipYes="alert_overwrite_clip_yes",e.AlertOverwriteClipNo="alert_overwrite_clip_no",e.ErrorUnableToRenderClipOkay="error_unable_to_render_clip_okay",e.ErrorUnableToSaveEditsCancelEditing="error_unable_to_save_edits_cancel_editing",e.EditPortraitLayoutNagEditPortraitLayout="edit_portrait_layout_nag_edit_portrait_layout",e.EditPortraitLayoutNagDismiss="edit_portrait_layout_nag_dismiss",e.LeaveCreationFlowModalKeepEditing="leave_creation_flow_modal_keep_editing",e.LeaveCreationFlowModalDiscardClip="leave_creation_flow_modal_discard_clip",e.SaveQuickCreate="save_quick_create",e.InitiateExportYoutube="initiate_export_youtube",e.InitiateExportTiktok="initiate_export_tiktok",e.InitiateExportInstagram="initiate_export_instagram",e.DownloadSourceClip="download_source_clip",e.DownloadPortraitClip="download_portrait_clip",e.DownloadAcknowledgeError="download_acknowledge_error",e.Edit="edit",e.CopyLink="copy_link",e.ShareX="share_x",e.ShareFacebook="share_facebook",e.ShareReddit="share_reddit",e.CopyEmbedLink="copy_embed_link",e.Delete="delete",e.ConfirmDelete="confirm_delete",e.CancelDelete="cancel_delete",e.ExitClipPublishedFtue="exit_clip_published_ftue",e.StackedTemplateSelect="stacked_template_select",e.FullTemplateSelect="full_template_select",e.StackedTemplateResizeGameplay="stacked_template_resize_gameplay",e.StackedTemplateAspectRatioSlider="stacked_template_aspect_ratio_slider",e.StackedTemplateResizeFace="stacked_template_resize_face",e.StackedTemplateMoveGameplay="stacked_template_move_gameplay",e.StackedTemplateMoveFace="stacked_template_move_face",e.FullTemplateResize="full_template_resize",e.FullTemplateMove="full_template_move",e.Apply="apply",e.Cancel="cancel",e.YoutubeTitle="youtube_title",e.YoutubeDescription="youtube_description",e.YoutubePrivacy="youtube_privacy",e.YoutubeConnect="youtube_connect",e.YoutubeExport="youtube_export",e.UpNextYoutubeExport="up_next_youtube_export",e.YoutubeEditorConnect="youtube_editor_connect",e.YoutubeExportClipReshare="youtube_export_clip_reshare",e.YoutubeExportClipUrl="youtube_export_clip_url",e.TiktokTitle="tiktok_title",e.TiktokPrivacy="tiktok_privacy",e.TiktokAllowCommentsCheck="tiktok_allow_comments_check",e.TiktokAllowCommentsUncheck="tiktok_allow_comments_uncheck",e.TiktokAllowDuetCheck="tiktok_allow_duet_check",e.TiktokAllowDuetUncheck="tiktok_allow_duet_uncheck",e.TiktokAllowStitchCheck="tiktok_allow_stitch_check",e.TiktokAllowStitchUncheck="tiktok_allow_stitch_uncheck",e.TiktokConnect="tiktok_connect",e.TiktokSaveDraft="tiktok_save_draft",e.TiktokExport="tiktok_export",e.UpNextTiktokExport="up_next_tiktok_export",e.TiktokExportClipReshare="tiktok_export_clip_reshare",e.TiktokExportClipUrl="tiktok_export_clip_url",e.TiktokConnectRetry="tiktok_connect_retry",e.TiktokEditorConnect="tiktok_editor_connect",e.InstagramCaption="instagram_caption",e.InstagramShowReelOnFeedCheck="instagram_show_reel_on_feed_check",e.InstagramShowReelOnFeedUncheck="instagram_show_reel_on_feed_uncheck",e.InstagramConnect="instagram_connect",e.InstagramCloseConnectionWarning="instagram_close_connection_warning",e.InstagramExport="instagram_export",e.UpNextInstagramExport="up_next_instagram_export",e.InstagramEditorConnect="instagram_editor_connect",e.InstagramEditorConnectDismiss="instagram_editor_connect_dismiss",e.InstagramExportClipReshare="instagram_export_clip_reshare",e.InstagramExportClipUrl="instagram_export_clip_url",e.Download="download",e.ShareMenu="share_menu",e.CollabWithClick="collab_with_click",e.ModerationMenu="moderation_menu",e.WatchOnClipsPageIcon="watch_on_clips_page_icon",e.SelectIndividualClip="select_individual_clip",e.SelectAllClips="select_all_clips",e.SortByTime="sort_by_time",e.SortByViews="sort_by_views",e.FilterByCategory="filter_by_category",e.FilterByType="filter_by_type",e.FilterByTime="filter_by_time",e.ExpandRow="expand_row",e.CollapseRow="collapse_row",e.ExportViaPortraitClipPreview="export_via_portrait_clip_preview",e.ShareToStories="share_to_stories",e.ModerationTimeoutUser="moderation_timeout_user",e.ModerationBanUser="moderation_ban_user",e.ModerationDeleteAllClipsFromVideo="moderation_delete_all_clips_from_video",e.KebabMenu="kebab_menu",e.ErrorCancelEditingDueToChannelOwnerUsage="error_cancel_editing_due_to_channel_owner_usage",e.ErrorEditUnauthorized="error_edit_unauthorized",e.FilterDropdown="filter_dropdown",e.FilterByCategorySelect="filter_by_category_select",e.FilterByCategoryDeselect="filter_by_category_deselect",e.FilterByChannelSelect="filter_by_channel_select",e.FilterByChannelDeselect="filter_by_channel_deselect",e.FilterClipCreatorSelect="filter_clip_creator_select",e.FilterClipCreatorDeselect="filter_clip_creator_deselect",e.FilterOnlyFeaturedClipsOn="filter_only_featured_clips_on",e.FilterOnlyFeaturedClipsOff="filter_only_featured_clips_off",e.SearchBarFocusCategory="search_bar_focus_category",e.SearchBarFocusChannel="search_bar_focus_channel",e.PlayClip="play_clip",e.Feature="feature",e.Unfeature="unfeature",e.ChannelName="channel_name",e.CategoryName="category_name",e.ResetFilters="reset_filters",e.CarouselRight="carousel_right",e.CarouselLeft="carousel_left",e.ViewOnClipPage="view_on_clip_page",e.DeletePrompt="delete_prompt",e.Report="report",e.ViewAllClips="view_all_clips",e.YoutubeSelect="youtube_select",e.TiktokSelect="tiktok_select",e.InstagramSelect="instagram_select",e.OpenInNewTab="open_in_new_tab",e.CloseClipEditorPopup="close_clip_editor_popup"}(i||(i={}))},308685:function(e,n,t){"use strict";t.d(n,{C:function(){return l}});var i=t(296540),a=t(478260),r=t(961420),o=t(131883),s=t(893375),l=function(){var e,n=(0,r.QN)(o.wz),t=(0,r.QN)(o.Ul),l=null==n?void 0:n.id,d=a.x2.session.pageviewID,u=(null===(e=a.E5.getLastPageview())||void 0===e?void 0:e.location)||"",c=["sunlight/content/clips/channel","sunlight/content/clips/created"].includes(u);return(0,i.useMemo)((function(){return{language:t,user_id:l||"",page_session_id:d,location:u,pip:(0,s.F)(),clip_workflow:c?"clips_manager":void 0}}),[c,t,d,u,l])}},470939:function(e,n,t){"use strict";t.d(n,{D:function(){return s},F:function(){return o}});var i=t(917705),a=t(882439),r=t(267924);function o(e,n,t,i){var r=e.match(/\.[^.]*$/);return"".concat(e,"?").concat((0,a.stringify)({token:n,sig:t,"response-content-disposition":(null==i?void 0:i.requestContentAsDownload)?'attachment; filename="'.concat(i.fileName).concat(r,'"'):void 0}))}var s=function(e){var n=e.createdAt,t=e.slug,a=e.assetType===r.p4J.SOURCE,o=isNaN(new Date(n).getTime())?new Date:new Date(n),s=(0,i.format)(o,"YYYYMMDD");return"".concat(s,"_").concat(t,"_").concat(a?"source":"portrait")}},584548:function(e,n,t){"use strict";t.d(n,{L:function(){return d},q:function(){return l}});var i=t(331635),a=t(478260),r=t(783321),o=t(390844),s=t.n(o),l=function(e){var n,t=(0,r.IT)(s(),{variables:{id:e},skip:!e}).data;return null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.login},d=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n,t,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,a.x2.apollo.client.query({query:s(),variables:{id:e}})];case 1:return n=i.sent(),[2,null===(r=null===(t=n.data)||void 0===t?void 0:t.user)||void 0===r?void 0:r.login]}}))}))}},269964:function(e,n,t){"use strict";t.d(n,{Ay:function(){return o},No:function(){return a},P5:function(){return l},Z_:function(){return r},ei:function(){return d},mM:function(){return u},v1:function(){return s}});var i=t(267924),a="pinned-cheer-colors",r=function(e,n){var t=e.slice(),i=t.findIndex((function(e){return e.id===n}));return i>-1&&t.splice(i,1),t},o=function(e){return e.endsAt?new Date(e.endsAt).getTime()-Date.now():0},s=function(e){if(!e.endsAt)return 0;var n=new Date(e.startsAt).getTime(),t=new Date(e.endsAt).getTime(),i=t-n;return(t-Date.now())/i*100},l=function(e){if(e<=0)return"0:00";var n=Math.floor(e/1e3),t=Math.floor(n/3600),i=Math.floor(n%3600/60),a=n%60,r=t>0?"".concat(String(t).padStart(1,"0"),":"):"",o="".concat(String(i).padStart(t>0?2:1,"0"),":"),s=String(a).padStart(2,"0");return"".concat(r).concat(o).concat(s)},d=function(e){var n=e&&e!==i.x5_.UNKNOWN?e:i.x5_.ONE;return[a,"".concat(a,"-level-").concat(n.toLowerCase())]},u=function(e){if(!e)return i.x5_.UNKNOWN;switch(e){case"ONE":return i.x5_.ONE;case"TWO":return i.x5_.TWO;case"THREE":return i.x5_.THREE;case"FOUR":return i.x5_.FOUR;case"FIVE":return i.x5_.FIVE;case"SIX":return i.x5_.SIX;case"SEVEN":return i.x5_.SEVEN;case"EIGHT":return i.x5_.EIGHT;default:return i.x5_.UNKNOWN}}},659456:function(e,n,t){"use strict";t.d(n,{N:function(){return r}});var i=t(834455),a=t(576852),r=function(){var e,n,t=(0,i.zy)(),r=null===(e=t.state)||void 0===e?void 0:e.channelView,o=(0,i.RQ)({path:"/:channelLogin"}),s=!(!r||!o),l=(0,i.RQ)("/:channelLogin/video/:videoID"),d=!(!r||!l),u=(0,i.RQ)("/videos/:videoID"),c=!(!r||!u),p=(0,i.RQ)("/collections/:collectionID"),m=!(!r||!p),v=(0,i.RQ)("/:channelLogin/collection/:collectionID"),f=!(!r||!v),g=c||m?null:s?o.params.channelLogin:d?l.params.channelLogin:f?v.params.channelLogin:null,h=d?l.params.videoID:c?u.params.videoID:null,y=m?p.params.collectionID:f?v.params.collectionID:null!==(n=(0,a.ov)(t.search,"collection"))&&void 0!==n?n:null;return{channelLogin:null!=g?g:null,videoID:null!=h?h:null,collectionID:null!=y?y:null}}},631077:function(e,n,t){"use strict";t.d(n,{m:function(){return p}});var i=t(474848),a=t(959340),r=t(914421),o=t(312663),s=t(588702),l=t(564368),d=(t(296540),t(982742)),u=t(478260),c=t(279610),p=function(e){return(0,i.jsxs)(a.P,{background:r.VS.Base,padding:2,children:[(0,i.jsx)(o.N,{bold:!0,type:s.M2.H4,children:(0,c.H)(e.channelLogin)}),(0,i.jsx)(a.P,{margin:{y:1},children:(0,i.jsx)(o.N,{children:(0,u.hw)("Proceed to file a report, or log in to see more options.","DSAModal")})}),(0,i.jsxs)(a.P,{display:r.nl.Flex,children:[(0,i.jsx)(a.P,{padding:{right:1},children:(0,i.jsx)(l.$n,{onClick:e.login,children:(0,u.hw)("Log In","DSAModal")})}),(0,i.jsx)(a.P,{children:(0,i.jsx)(l.$n,{variant:l.VQ.Secondary,onClick:function(){return e.showReportUserModal(e)},children:(0,u.hw)("File a Report","DSAModal")})})]}),(0,i.jsx)(d.w,{})]})}},120605:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var i=t(331635),a=t(415044),r=t(868238),o=t(928778),s=t(681685),l=t(178196),d=t(369624),u=t(131883),c=t(576828),p=t(631077),m=t(474848),v=t(759369),f=t(368972),g=t(296540),h=t(584548),y=t(279610),k=t(69403),S="report-button-report-button",_=t(676233),b=t.n(_);var C=(0,r.Zz)((0,a.Ng)((function(e){return{isLoggedIn:(0,u.M3)(e)}}),(function(e){return(0,r.zH)({login:function(){return(0,d.iD)(s.W.ReportChannel)},showReportUserModal:function(e){var n=(0,i.__rest)(e,[]);return(0,l.to)(c.Z,n)},showDSAPreloginModal:function(e){var n=(0,i.__rest)(e,[]);return(0,l.to)(p.m,n)}},e)})),(0,o._v)(b(),{options:function(e){return{fetchPolicy:"network-only",variables:{channelID:e.channelID}}}}))((function(e){var n,t,a,r,o,s=e.isLoggedIn,l=e.showReportUserModal,d=e.showDSAPreloginModal,u=e.channelLogin,c=e.channelID,p=e.onModalClose,_=e.onClick,b=e.reportContext,C=e.login,P=e.hideIcon,E=e.labelOverride,N=e.data,x=null===(n=N.requestInfo)||void 0===n?void 0:n.countryCode,A=!!(null===(a=null===(t=N.user)||void 0===t?void 0:t.stream)||void 0===a?void 0:a.createdAt),w=null!==(o=null!==(r=(0,h.q)(c))&&void 0!==r?r:u)&&void 0!==o?o:"",T=g.useMemo((function(){return(0,i.__assign)({isLivestreaming:A,targetUserID:c},b)}),[c,A,b]),I=g.useCallback((function(e){s?l({onClose:p,reportContext:T}):!s&&(0,k.P)(x)?d({onClose:p,reportContext:T,login:C,showReportUserModal:l,canSkipLogin:!0,channelLogin:w}):C(),null==_||_(e)}),[s,x,_,l,p,T,d,C,w]),D=P?void 0:{icon:v.t.Report},F=E||(0,y.H)(w,null==b?void 0:b.contentType);return(0,m.jsx)(f.i,{label:F,"aria-label":F,onClick:I,figure:D,"data-a-target":S})}))},279610:function(e,n,t){"use strict";t.d(n,{H:function(){return r}});var i=t(478260),a=t(267924),r=function(e,n){switch(n){case a.Cah.BITS_BADGE_REPORT:return(0,i.hw)("Report Bits Badge","ReportMenuItem");case a.Cah.CHANNEL_FEED_COMMENT_REPORT:return(0,i.hw)("Report Channel Feed Comment","ReportMenuItem");case a.Cah.CHANNEL_FEED_POST_REPORT:return(0,i.hw)("Report Channel Feed Post","ReportMenuItem");case a.Cah.CHAT_REPORT:return(0,i.hw)("Report Chat","ReportMenuItem");case a.Cah.CHANNEL_POINTS_REPORT:return(0,i.hw)("Report Rewards","ReportMenuItem");case a.Cah.CLIP_REPORT:return(0,i.hw)("Report Clip","ReportMenuItem");case a.Cah.COLLECTION_REPORT:return(0,i.hw)("Report Collection","ReportMenuItem");case a.Cah.CREATOR_GOAL_REPORT:return(0,i.hw)("Report Creator Goal","ReportMenuItem");case a.Cah.EMOTE_REPORT:return(0,i.hw)("Report Emote","ReportMenuItem");case a.Cah.EVENT_REPORT:return(0,i.hw)("Report Event","ReportMenuItem");case a.Cah.EXTENSION_REPORT:return(0,i.hw)("Report Extension","ReportMenuItem");case a.Cah.LIVE_UP_REPORT:return(0,i.hw)("Report Live Up Notification","ReportMenuItem");case a.Cah.LIVESTREAM_REPORT:return(0,i.hw)("Report Live Stream","ReportMenuItem");case a.Cah.OFF_PLATFORM_REPORT:return(0,i.hw)("Report Off Platform Behavior","ReportMenuItem");case a.Cah.POLL_REPORT:return(0,i.hw)("Report Poll","ReportMenuItem");case a.Cah.RAID_REPORT:return(0,i.hw)("Report Raid","ReportMenuItem");case a.Cah.REWARD_REDEMPTION_REPORT:return(0,i.hw)("Report Reward Redemption","ReportMenuItem");case a.Cah.SUB_BADGE_REPORT:return(0,i.hw)("Report Subscriber Badge","ReportMenuItem");case a.Cah.UNBAN_REQUEST_REPORT:return(0,i.hw)("Report Unban Request","ReportMenuItem");case a.Cah.USERNAME_REPORT:return(0,i.hw)("Report Username","ReportMenuItem");case a.Cah.USER_REPORT:return(0,i.hw)("Report User","ReportMenuItem");case a.Cah.VOD_COMMENT_REPORT:return(0,i.hw)("Report VOD Comment","ReportMenuItem");case a.Cah.VOD_REPORT:return(0,i.hw)("Report VOD","ReportMenuItem");case a.Cah.WHISPER_REPORT:return(0,i.hw)("Report Whisper","ReportMenuItem");case a.Cah.MODERATOR_STRIKE_REASON:return(0,i.hw)("Report Reason from Moderator","ReportMenuItem");default:return(0,i.hw)("Report {channelLogin}",{channelLogin:e},"ReportMenuItem")}}},576828:function(e,n,t){"use strict";t.d(n,{OW:function(){return r},Z:function(){return a}});var i=t(407827),a=i.x.wrap((function(){return t.e(2435).then(t.bind(t,499475))}),"ReportUserModal"),r=i.x.wrap((function(){return Promise.all([t.e(79831),t.e(20312),t.e(70245),t.e(53583)]).then(t.bind(t,783305))}),"ReportWizardNew")},245764:function(e,n,t){"use strict";t.d(n,{b:function(){return a},d:function(){return i}});var i=function(e,n){var t=n;return 1===(null==e?void 0:e.reportableContent.length)&&(t.content=e.reportableContent[0].type),t},a=new Set(["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK","IS","LI","NO"])},69403:function(e,n,t){"use strict";t.d(n,{P:function(){return r}});var i=t(478260),a=t(245764),r=function(e){var n=i.Zn.get("lor_auuk_enable",!1);return a.b.has(e)||n&&(function(e){return"GB"===e}(e)||function(e){return"AU"===e}(e))}},28602:function(e,n,t){"use strict";t.d(n,{HK:function(){return v},Qg:function(){return o},U2:function(){return r},hu:function(){return i}});var i,a,r,o,s,l=t(331635),d=t(826094),u=t(478260),c=t(483803),p=t(467770),m=t.n(p);function v(e){return(0,l.__awaiter)(this,void 0,void 0,(function(){var n,t,i;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return t=[{}],[4,f(e)];case 1:return n=l.__assign.apply(void 0,[l.__assign.apply(void 0,t.concat([a.sent()])),{action:e.action,selected_option:e.selectedOption||(null===(i=e.multiMonthGiftAmount)||void 0===i?void 0:i.toString())}]),u.E5.__track_SSRMigrationFixme("subscribe_button",n),[2]}}))}))}function f(e){return(0,l.__awaiter)(this,void 0,void 0,(function(){var n,t,i,a,r,o;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:n=null,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,u.x2.apollo.client.query({query:m(),variables:{channelID:e.channelID}})];case 2:return n=l.sent(),[3,4];case 3:return t=l.sent(),u.vF.warn((0,d.d)(t),"Failed to query for sub info in Subs reporting.",{channelID:e.channelID}),[3,4];case 4:return[2,{attribution_token:e.attributionToken||null,button_cta:e.buttonCTA,can_subscribe:e.canSubscribe||null,channel:e.channelLogin,channel_id:e.channelID,charge_interval:e.chargeInterval,checkout_button_tier:e.checkoutButtonTier,creator_goal_id:(null===(i=e.creatorGoal)||void 0===i?void 0:i.id)||null,creator_goal_state:(p=e.creatorGoal,v=(null==p?void 0:p.currentContributions)||0,f=(null==p?void 0:p.targetContributions)||0,(v>=f&&f>0?s.Achieved:(null==p?void 0:p.state)?s.Active:null)||null),cumulative_tenure_months:e.cumulativeTenureMonths,days_to_next_tenure_anniversary:e.daysToNextTenureAnniversary||null,founder_badge_upsell_shown:e.founderBadgeUpsellShown||null,has_custom_sub_benefits:e.hasCustomSubBenefits||null,has_sub_credit:e.hasSubCredit||null,impression_type:e.impressionType,is_anonymous:e.isAnonymous,is_live:e.isLive||!1,is_menu_open:e.isMenuOpen||null,is_single_month:e.isSingleMonth,is_subscribed_current_tier:e.isSubscribedCurrentTier||null,is_subscribed:e.isSubscribed||!!(null===(o=null===(r=null===(a=null==n?void 0:n.data)||void 0===a?void 0:a.user)||void 0===r?void 0:r.self)||void 0===o?void 0:o.subscriptionBenefit),is_subscribed_with_prime:e.isSubscribedWithPrime,is_subscribed_with_gift:e.isSubscribedWithGift,is_subscription_dnrd:e.isSubscriptionDNRd,menu_type:e.menuType||null,modal_session_id:e.modalSessionId||"",multimonth_gift_amount:e.multiMonthGiftAmount,mystery_gift_count:e.mysteryGiftCount||null,payment_referrer:e.paymentReferrer||null,primary_color_hex:e.primaryColorHex,show_prime_content:e.showPrimeContent||!1,streak_number:e.streakNumber||null,sub_location:e.subLocation,sub_recipient:e.giftRecipient||null,subscription_remaining_days:e.subscriptionRemainingDays,upsell_session_id:e.upsellSessionId||"",viewport_height:window.innerHeight,viewport_width:window.innerWidth,is_free_trial:e.isFreeTrial,mobile_commerce_session_id:(0,c.m)()}]}var p,v,f}))}))}!function(e){e.BuyContinueSub="buy_continue_sub",e.BuyCustomMysteryGift="buy_custom_mystery_gift",e.BuyCustomMysteryGiftOneClick="buy_custom_mystery_gift_one_click",e.BuyGiftSub="buy_gift_sub",e.BuyGiftSubGoToCheckout="buy_gift_sub_go_to_checkout",e.BuyGiftSubOneClick="buy_gift_sub_one_click",e.BuyGiftToPaidUpgrade="buy_gift_to_paid_upgrade",e.BuyMysteryGift="buy_mystery_gift",e.BuyMysteryGiftGoToCheckout="buy_mystery_gift_go_to_checkout",e.BuyMysteryGiftOneClick="buy_mystery_gift_one_click",e.BuyPaidUpgrade="buy_paid_upgrade",e.BuyPrimeToPaid="buy_prime_to_paid",e.BuyQuickSub="buy_quick_sub",e.BuyRecurringSubGoToCheckout="buy_recurring_sub_go_to_checkout",e.BuyRecurringSubOneClick="buy_recurring_sub_one_click",e.BuyUpgradeSubscription="buy_upgrade_subscription",e.ChangeTier="change_tier",e.ChangeSingleGiftRecipient="change_single_gift_recipient",e.ExpandShowMoreGiftOptions="expand_show_more_gift_options",e.ClickAnonymousGiftCheckbox="anonymous_gift_click",e.ClickBack="back_top_level",e.ClickBackCommunityGift="click_back_community_gift",e.ClickBackManage="click_back_manage",e.ClickBackSubscribe="click_back_subscribe",e.ClickCancelPaidUpgrade="click_cancel_paid_upgrade",e.ClickChangePaymentMethod="click_change_payment_method",e.ClickChangeSubTier="click_change_sub_tier",e.ClickCheckout="click_checkout_button",e.ClickCommunityGift="click_community_gift",e.ClickDonate="click_donate",e.ClickDisableGift="click_disable_gift_button",e.ClickDNRSub="click_dnr_sub_button",e.ClickGiftASubscriptionTab="click_gift_a_subscription_tab",e.ClickGiftSubOptions="gift_options_click",e.ClickManage="click_manage",e.ClickMoreSubOptions="more_options_click",e.ClickQuestsLink="click_quests_link",e.ClickShowMoreEmotes="click_show_more_emotes",e.ClickSignupForPrime="click_signup_for_prime",e.ClickSingleGift="click_single_gift",e.ClickSubscribe="click_subscribe",e.ClickSubTierDropdown="click_sub_tier_dropdown",e.ClickYourSubscriptionTab="click_your_subscription_tab",e.CloseSubMenu="close_subscribe_menu",e.ClickElevateSubscription="click_elevate_subscription",e.ClickBackToBenefits="click_back_to_benefits",e.GiftASub="gift_a_sub",e.MultimonthDropdownClick="multimonth_dropdown_click",e.MultimonthValueSelect="multimonth_value_select",e.OpenSubMenu="open_subscribe_menu",e.OpenSubscribeMenu="open_subscribe_menu",e.PreviewTier2="preview_tier2_modifiers",e.PreviewTier3="preview_tier3_modifiers",e.SelectedGiftMonths="select_gift_months",e.SelectRenewalMonths="select_renewal_months",e.ShowOneClickButtonCommunityGift="show_one_click_button_community_gift",e.ShowOneClickButtonSingleGift="show_one_click_button_single_gift",e.ShowOneClickButtonRecurringSubs="show_one_click_button_recurring_subs",e.SingleUserRecipientSelect="single_user_recipient_select",e.SubButtonReady="sub_button_ready",e.SubMenuReady="sub_menu_ready",e.SubWithPrime="samus_spend_credit",e.SubWithToken="sub_with_token",e.CloseOneClick="close_one_click",e.OpenSPMModal="open_saved_payment_method_modal",e.UpdatePaymentMethod="update_payment_method",e.CLosePaymentUpdate="close_payment_update"}(i||(i={})),function(e){e.ShowMoreGiftOptionsImpression="show_more_gift_options_impression"}(a||(a={})),function(e){e.ChannelHome="channel_home",e.ChannelPage="channel_page",e.ChannelPageModal="channel_page_modal",e.CharityPanelPage="charity_panel_page",e.ChatTray="chat_tray",e.CommunityGiftHighlight="community_gift_highlight",e.DropsCommunityHighlight="drops_community_highlight",e.EmoteCard="emote_card",e.EmotePicker="emote_picker",e.GuestStarHighlight="guest_star_highlight",e.GifterLeaderboard="gifter_leaderboard",e.HypeTrain="hype_train",e.MegaGifterCallout="mega_gifter_callout",e.ModsDetailsPage="mods_detail_page",e.ModerationView="moderation_view",e.MonthlyRecapPage="monthly_recap_page",e.OfflineBenefitsPage="offline_benefits_page",e.PersistentGoalsPanel="persistent_goals_panel",e.PremiumContentOverlay="premium_content_overlay",e.ScarceEmotesPrompt="scarce_emotes_prompt",e.SquadPage="squad_page",e.SubscriberVODOverlay="subscriber_vod_overlay",e.SubsBroadcasterPage="subs_broadcaster_page",e.SubsManagementPage="subscriptions_management_page",e.SubBadgeCarouselDescription="sub_badge_carousel_description",e.SubGoalUserNotice="sub_goal_user_notice",e.GifterBadgeCarouselDescription="gifter_badge_carousel_description",e.GiftLeaderBadgeCarouselDescription="gift_leader_badge_carousel_description",e.TeamsPage="teams_page",e.ThankSubGifterCallout="thank_sub_gifter_callout",e.TheatreMode="theatre_mode",e.VideoCardPreviewRestriction="video_preview_card_restriction",e.ViewerCard="viewer_card",e.Unknown="unknown",e.WatchPartyPage="watch_party_page",e.GiftUpSellChatPrivateCallout="gift_upsell_chat_private_callout",e.WalletDropChatPrivateCallout="wallet_drop_chat_private_callout",e.ChannelSubSDAUpsell="channel_sub_SDA_upsell"}(r||(r={})),function(e){e.Modal="modal",e.Panel="panel"}(o||(o={})),function(e){e.Achieved="achieved",e.Active="active"}(s||(s={}))},957573:function(e,n,t){"use strict";t.d(n,{CO:function(){return s},lN:function(){return d},pJ:function(){return o},pb:function(){return l},r3:function(){return p},rV:function(){return u},rW:function(){return m},xo:function(){return v}});var i=t(331635),a=t(478260),r=t(576852),o=999,s="twch",l="sm_w_tup_ntp_t_c",d="sm_w_tup_epg_t_c",u="sm_om_tpltp",c=a.vF.withCategory("PrimeUtilsLogger"),p=function(e,n,t,i){var r=a.$W.tryPrimeURI,o="";try{o=btoa(n)}catch(e){c.errorAndReport(e,"Could not decode location pathname substring for redirect")}var s={};return o&&(s.redirectRoute=o),t&&(s.twitchReferral=t),!e&&i&&("upsell"===i?e=l:"explore"===i?e=d:"sign"===i&&(e="sm_w_tup_am_psc_c")),s.ref_=e,v(r,s)},m=function(e,n){if(e)return v(e,{yTwchPos:"".concat(null!=n?n:o)})},v=function(e,n){var t=(0,i.__assign)((0,i.__assign)({},n),{ingress:s});return(0,r.tX)(e,t)}},945137:function(e,n,t){"use strict";t.d(n,{U0:function(){return o},zX:function(){return s}});var i=t(331635),a=t(474848),r=(0,t(752457).vt)()((function(e){return{isSDAUpsellShowing:!1,displaySDAUpsell:function(){return e((function(){return{isSDAUpsellShowing:!0}}))},closeSDAUpsell:function(){return e((function(){return{isSDAUpsellShowing:!1}}))},upsellSubType:"unset",setUpsellSubType:function(n){return e((function(){return{upsellSubType:n}}))}}})),o=function(){var e=r();return(0,i.__assign)({},e)};function s(e){var n=function(n){var t=o();return(0,a.jsx)(e,(0,i.__assign)({},n,t))};return n.displayName="withUpsellState(".concat(e.displayName||e.name||"Component",")"),n}},14876:function(e,n,t){"use strict";t.d(n,{A:function(){return a},Q:function(){return i}});var i="video-player.VIDEO_PLAYER_INSTANCE_STARTED";function a(e){return{type:i,playerRefID:e}}},887758:function(e,n,t){"use strict";t.d(n,{$x:function(){return U},gb:function(){return B}});var i,a,r=t(331635),o=t(882439),s=t(296540),l=t(868238),d=t(928778),u=t(267924),c=t(485272),p=t(574156),m=t(486612),v=t(669022),f=t(775042),g=t(509856),h=t(719774),y=t(954351),k=t(890675),S=t(933781);!function(e){e.Creative="Creative",e.Poker="Poker",e.Music="Music",e.Gaming="Gaming"}(a||(a={}));var _,b,C=a.Gaming;!function(e){e.Null="*null",e.True="1",e.False="0"}(_||(_={})),function(e){e.AssetID="ns_st_ci",e.ClipLength="ns_st_cl",e.StationTitle="ns_st_st",e.Publisher="ns_st_pu",e.ProgramTitle="ns_st_pr",e.EpisodeTitle="ns_st_ep",e.SeasonNumber="ns_st_sn",e.EpisodeNumber="ns_st_en",e.Genre="ns_st_ge",e.TMSID="ns_st_ti",e.IsAdLoad="ns_st_ia",e.IsCompleteEpisode="ns_st_ce",e.DigitalAirdate="ns_st_ddt",e.TVAirdate="ns_st_tdt",e.DidConsent="cs_ucfr",e.MetrixC3="c3",e.MetrixC4="c4",e.MetrixC6="c6"}(b||(b={}));var P=((i={})[b.Publisher]=null,i[b.ProgramTitle]=null,i[b.SeasonNumber]=null,i[b.EpisodeNumber]=null,i[b.TMSID]=null,i[b.IsAdLoad]=!1,i[b.TVAirdate]=null,i[b.MetrixC3]="TWITCH",i[b.MetrixC4]="twitch.tv",i[b.MetrixC6]=null,i),E=t(764120),N=t(196288),x=t(378328),A=t(802533),w=t(358350),T=t(953059),I=t.n(T);function D(e){if(!e)return null;var n=(0,A._U)(e);return(0,A.Yq)(n,A.Bd.Comscore)}function F(e){return null!==e&&Object.values(a).includes(e)?e:C}function O(e){for(var n={},t=0,i=Object.keys(e);t<i.length;t++){var a=i[t];null===e[a]?n[a]=_.Null:!0===e[a]?n[a]=_.True:!1===e[a]?n[a]=_.False:n[a]=String(e[a])}return n}var R=t(347953),V=t(105774);var M=t(787987),L=t.n(M),j=function(e){function n(n){var t=e.call(this,n)||this;return t.streaming=!1,t.onPlaying=function(){var e;if(t.props.isLive&&!(0,p.bq)(m.F.ComScore,null===(e=t.props)||void 0===e?void 0:e.consent)&&t.prevPlaySessionId!==t.props.playSessionId){var n={c1:9,c2:31864766,ax_uuid:t.props.playSessionId};!function(e,n){var t,i,a,r,o,s="comScore=",l=document,d=l.cookie,u="",c="indexOf",p="substring",m="length",v=2048,f="&ns_",g=window,h=g.encodeURIComponent||escape;if(d[c](s)+1)for(r=0,o=(a=d.split(";"))[m];r<o;r++)(i=a[r][c](s))+1&&(u="&"+unescape(a[r][p](i+s[m])));(e+=f+"_t="+ +new Date+f+"c="+(l.characterSet||l.defaultCharset||"")+(g===g.top?"":f+"if=1")+"&cv=3.1&c8="+h(l.title)+u+"&c7="+h(l.URL)+"&c9="+h(l.referrer))[m]>v&&e[c]("&")>0&&(t=e[p](0,v-8).lastIndexOf("&"),e=(e[p](0,t)+f+"cut="+h(e[p](t+1)))[p](0,v)),l.images?(i=new Image,g.ns_p||(g.ns_p=i),"function"==typeof n&&(i.onload=i.onerror=n),i.src=e):l.write("<","p","><",'img src="',e,'" height="1" width="1" alt="*"',"><","/p",">")}("https://sb.scorecardresearch.com/p?".concat(o.stringify(n))),t.prevPlaySessionId=t.props.playSessionId}t.isAdPlaying()||t.streaming||t.startComscore()},t.onIdle=function(){t.isAdPlaying()||t.stopComscore()},t.onEnded=function(){t.resetTag()},t.onContentPauseRequested=function(){t.stopComscore()},t.onAdImpression=function(){var e,n;if(t.props.videoAdMetadata||t.props.adFormatMetadata||(0,x.hr)(t.props.adFormatMetadata)){var i=(0,x.hr)(t.props.adFormatMetadata)?t.props.adFormatMetadata:t.props.videoAdMetadata,a=i.duration,o=i.roll,s=O((0,r.__assign)((0,r.__assign)({},t.consentMetadata()),((e={})[b.ClipLength]=1e3*a,e)));t.streaming=!0,null===(n=t.streamingTag)||void 0===n||n.playVideoAdvertisement(s,function(e){switch(e){case w.df.Pre:return I().StreamingTag.AdType.LinearOnDemandPreRoll;case w.df.Mid:return I().StreamingTag.AdType.LinearOnDemandMidRoll;case w.df.Post:return I().StreamingTag.AdType.LinearOnDemandPostRoll;default:return I().StreamingTag.AdType.Other}}(o))}},t.onAdImpressionComplete=function(){t.stopComscore()},t.resetTag(),t}return(0,r.__extends)(n,e),n.prototype.componentDidMount=function(){var e;(0,c.fS)(null===(e=this.props.adFormatMetadata)||void 0===e?void 0:e.adFormat)||(this.props.playerEvents.addEventListener(N.p.PLAYING,this.onPlaying),this.props.playerEvents.addEventListener(N.p.IDLE,this.onIdle),this.props.playerEvents.addEventListener(N.p.ENDED,this.onEnded),this.props.adEvents.addEventListener(E.V.ContentPauseRequested,this.onContentPauseRequested)),this.props.adEvents&&(this.props.adEvents.addEventListener(E.V.Impression,this.onAdImpression),this.props.adEvents.addEventListener(E.V.Complete,this.onAdImpressionComplete))},n.prototype.componentDidUpdate=function(e){this.props.playSessionId!==e.playSessionId&&this.resetTag()},n.prototype.componentWillUnmount=function(){var e;this.stopComscore(),(0,c.fS)(null===(e=this.props.adFormatMetadata)||void 0===e?void 0:e.adFormat)&&(this.props.adEvents.removeEventListener(E.V.Impression,this.onAdImpression),this.props.adEvents.removeEventListener(E.V.Complete,this.onAdImpressionComplete))},n.prototype.render=function(){return null},n.prototype.startComscore=function(){var e,n=this.assetMetadata();n&&(this.streaming=!0,null===(e=this.streamingTag)||void 0===e||e.playVideoContentPart(O(n)))},n.prototype.stopComscore=function(){var e;this.streaming&&(this.streaming=!1,null===(e=this.streamingTag)||void 0===e||e.stop())},n.prototype.resetTag=function(){this.stopComscore(),this.streamingTag=new(I().StreamingTag)({customerC2:"6745306"})},n.prototype.assetMetadata=function(){var e,n,t;if(this.props.isLive){var i=this.props.data&&this.props.data.user;return i?(0,r.__assign)((0,r.__assign)((0,r.__assign)({},P),this.consentMetadata()),((e={})[b.AssetID]=this.props.broadcastID||"",e[b.ClipLength]=0,e[b.StationTitle]=i.displayName,e[b.EpisodeTitle]=i.broadcastSettings&&i.broadcastSettings.title||"",e[b.Genre]=F(i.stream&&i.stream.game&&i.stream.game.name),e[b.DigitalAirdate]=D(i.stream&&i.stream.createdAt),e[b.IsCompleteEpisode]=!0,e)):null}if(this.props.isVodOrCollection){var a=this.props.data&&this.props.data.video;return a?(0,r.__assign)((0,r.__assign)((0,r.__assign)({},P),this.consentMetadata()),((n={})[b.AssetID]=a.id||"",n[b.ClipLength]=a.lengthSeconds&&1e3*a.lengthSeconds||null,n[b.StationTitle]=a.owner&&a.owner.displayName,n[b.EpisodeTitle]=a.title,n[b.Genre]=F(a.game&&a.game.name),n[b.DigitalAirdate]=D(a.createdAt),n[b.IsCompleteEpisode]=a.broadcastType===u.Suw.ARCHIVE,n)):null}if(this.props.isClip){var o=this.props.data&&this.props.data.clip;return o?(0,r.__assign)((0,r.__assign)((0,r.__assign)({},P),this.consentMetadata()),((t={})[b.AssetID]=o.id||"",t[b.ClipLength]=1e3*o.durationSeconds,t[b.StationTitle]=o.broadcaster&&o.broadcaster.displayName,t[b.EpisodeTitle]=o.title,t[b.Genre]=F(o.game&&o.game.name),t[b.DigitalAirdate]=D(o.createdAt),t[b.IsCompleteEpisode]=!1,t)):null}return null},n.prototype.consentMetadata=function(){var e,n,t,i=(0,p.gK)(m.F.ComScore,null===(n=this.props)||void 0===n?void 0:n.consent)?!(0,p.bq)(m.F.ComScore,null===(t=this.props)||void 0===t?void 0:t.consent):null;return(e={})[b.DidConsent]=i,e},n.prototype.isAdPlaying=function(){return!!this.props.videoAdMetadata||(0,x.pt)(this.props.adFormatMetadata)},n}(s.Component),B=(0,l.Zz)((0,k.dd)(q),(0,h.X)(),(0,y.VX)(G),(0,S.cj)(z),(0,f.O)(),v.z3,(0,g.h)(),(0,d._v)(L(),{options:function(e){var n,t,i,a;return{variables:{channel:null!==(n=e.channelLogin)&&void 0!==n?n:"",clipSlug:null!==(t=e.clipSlug)&&void 0!==t?t:"",isClip:e.isClip,isLive:e.isLive,isVodOrCollection:e.isVodOrCollection,vodID:null!==(a=null!==(i=e.vodID)&&void 0!==i?i:e.collectionVodID)&&void 0!==a?a:""}}},skip:function(e){var n;return e.isVodOrCollection&&!(null!==(n=e.vodID)&&void 0!==n?n:e.collectionVodID)}}))(j),U=(0,l.Zz)((0,k.dd)(q),(0,S.cj)(z),(0,y.VX)((function(e,n){return G(e,n)})),v.z3,(0,g.h)(),(0,d._v)(L(),{options:function(e){var n,t,i,a;return{variables:{channel:null!==(n=e.channelLogin)&&void 0!==n?n:"",clipSlug:null!==(t=e.clipSlug)&&void 0!==t?t:"",isClip:e.isClip,isLive:e.isLive,isVodOrCollection:e.isVodOrCollection,vodID:null!==(a=null!==(i=e.vodID)&&void 0!==i?i:e.collectionVodID)&&void 0!==a?a:""}}},skip:function(e){var n;return e.isVodOrCollection&&!(null!==(n=e.vodID)&&void 0!==n?n:e.collectionVodID)}}))(j);function q(e){return{broadcastID:(0,V.RX)(e)||null,playSessionId:e.playSessionId}}function G(e,n){return void 0===n&&(n={}),{videoAdMetadata:e.videoAdMetadata,adFormatMetadata:n.adFormatMetadata||e.adFormatMetadata,adEvents:n.adEventsProp||n.adEvents}}function z(e){var n=e.content;return{channelLogin:(0,R.hd)(n),clipSlug:(0,R.Qc)(n),isClip:(0,R.Jn)(n),isLive:(0,R.DG)(n),isVodOrCollection:(0,R.wy)(n)||(0,R.P3)(n),vodID:(0,R.hq)(n)}}},441783:function(e,n,t){"use strict";t.d(n,{G:function(){return u},H:function(){return c}});var i=t(296540),a=t(652867),r=t(890675),o=t(933781),s=t(567329),l=t(823583),d=t(15763),u=864e5,c=function(){var e=(0,i.useContext)(r.$g),n=(0,i.useContext)(o.kl),t=n.behaviors&&n.behaviors.disableUserPreferencePersistence,c=e.mediaPlayerInstance,p=e.updateContext,m=e.quality,v=n.type,f=(0,i.useCallback)((function(){Date.now()-(0,d.Xz)(0)>=u&&c&&m===l.w_&&(c.setAutoQualityMode(!0),p({quality:s._6.Auto,qualityBitrate:l.IJ.bitrate}),t||(0,d.XF)(l.IJ,v))}),[c,p,m,t,v]);return(0,a.p)("2020",f),null}},226312:function(e,n,t){"use strict";function i(e,n){var t={currSegment:null,prevSegment:null};if(!e||!n)return t;for(var i=e.length-1;i>=0;i--){if(a(e[i],n))return t.currSegment=e[i],t.prevSegment=e[i-1]||null,t;!t.prevSegment&&e[i].endOffset<=n&&(t.prevSegment=e[i])}return t}function a(e,n){return e.startOffset<=n&&n<=e.endOffset}function r(e,n){if(!e||!n)return!e&&!n;var t=e.segments,i=n.segments;return!((t||i)&&t!==i&&(!t||t.length||!i||i.length))||!(!t||!i||t.length!==i.length)&&t.every((function(e,n){var t=e.startOffset,a=e.endOffset,r=i[n],o=r.startOffset,s=r.endOffset;return t===o&&a===s}))}t.d(n,{F:function(){return r},y:function(){return i}})},371367:function(e,n,t){"use strict";t.d(n,{Jn:function(){return P},NH:function(){return x},aS:function(){return C}});var i=t(331635),a=t(706411),r=t.n(a),o=t(296540),s=t(868238),l=t(586122),d=t(954351),u=t(890675),c=t(933781),p=t(947945),m=t(359630),v=t(412670),f=t(701356),g=t(347953),h=t(105774),y=t(583167),k=["space","k"],S=["shift+up","shift+down"],_=["j","l","left","right"],b=[",","."],C=10,P=2,E=[.25,.5,.75,1,1.25,1.5,2],N=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.mouseTrapInstance=null,n.togglePlayback=function(e,t){n.props.hasPlaybackRestriction||"space"===t&&document.activeElement&&document.activeElement!==document.body||(e.preventDefault(),n.props.isPlaying?n.props.pause({userTriggered:!0}):n.props.play({userTriggered:!0}))},n.changeVolume=function(e,t){if(!n.props.disableAudio){e.preventDefault();var i=n.props.volume||0,a="shift+up"===t?Math.round(100*Math.min(i+.1,1))/100:Math.round(100*Math.max(i-.1,0))/100;n.props.setVolume(a,{persist:!0,userTriggered:!0})}},n.closeCollectionsSidebar=function(e){e.preventDefault(),n.props.isCollectionSidebarShowing&&n.props.toggleCollectionSidebar()},n.seek=function(e,t){e.preventDefault();var i=(0,f.E9)(n.props),a=(0,f.Ds)(n.props),r=n.props.isClipContent?P:C,o=n.calculateTargetSeekTime(i,"j"===t||"left"===t?-r:r,.01,a);o&&n.props.seek(o)},n.toggleFullscreen=function(e){if(n.props.fullscreen.supported()&&!n.props.disableFullscreen){e.preventDefault();var t=n.props,i=t.isFullscreen,a=t.enterFullscreen,r=t.exitFullscreen;i?r():a()}},n.toggleMute=function(e){var t=n.props,i=t.disableAudio,a=t.isClipContent,r=t.muted,o=t.setMuted;a||i||(e.preventDefault(),o(!r,{persist:!0,userTriggered:!0}))},n.changePlaybackRate=function(e,t){if(!n.props.isLiveContent){e.preventDefault();var i=(0,f.ym)(n.props),a=E.findIndex((function(e){return e===i})),r=","===t?a-1:a+1;if(r>=0&&r<=E.length-1){var o=E[r];(0,f.qr)(o,n.props)}}},n.toggleShortcutOverlay=function(e){e.preventDefault(),n.props.isKeyboardShortcutsVisible?n.props.hideKeyboardShortcuts():(n.props.showKeyboardShortcuts(),n.props.setStatsOverlay(p.Uz.None))},n.initHandlers=function(){n.clearKeyHandlers(),n.mouseTrapInstance=new(r());var e=n.mouseTrapInstance.stopCallback;n.mouseTrapInstance.stopCallback=n.stopCallback(e),n.setKeyHandlers()},n.setKeyHandlers=function(){n.mouseTrapInstance&&(n.mouseTrapInstance.bind(k,n.togglePlayback,"keydown"),n.mouseTrapInstance.bind(S,n.changeVolume,"keydown"),n.mouseTrapInstance.bind("esc",n.closeCollectionsSidebar,"keydown"),n.mouseTrapInstance.bind(_,n.seek,"keydown"),n.mouseTrapInstance.bind("m",n.toggleMute,"keydown"),n.mouseTrapInstance.bind("f",n.toggleFullscreen,"keydown"),n.mouseTrapInstance.bind(b,n.changePlaybackRate,"keydown"),n.mouseTrapInstance.bind("?",n.toggleShortcutOverlay,"keydown"))},n.clearKeyHandlers=function(){n.mouseTrapInstance&&(n.mouseTrapInstance.unbind(k,"keydown"),n.mouseTrapInstance.unbind(S,"keydown"),n.mouseTrapInstance.unbind("esc","keydown"),n.mouseTrapInstance.unbind(_,"keydown"),n.mouseTrapInstance.unbind("m","keydown"),n.mouseTrapInstance.unbind("f","keydown"),n.mouseTrapInstance.unbind(b,"keydown"),n.mouseTrapInstance.unbind("?","keydown"))},n.stopCallback=function(e){return function(t,i,a){return!!(e(t,i,a)||n.props.disableKeyboardShortcuts||n.props.forceControlVisibilityHidden)}},n.calculateTargetSeekTime=function(e,n,t,i){var a=e+n;return a<t?t:a>i?null:a},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.initHandlers()},n.prototype.componentWillUnmount=function(){this.clearKeyHandlers()},n.prototype.render=function(){return null},n}(o.Component);var x=(0,s.Zz)((0,d.VX)((function(e){return{videoAdMetadata:e.videoAdMetadata}})),(0,l.W)(),(0,u.dd)((function(e){return{hasPlaybackRestriction:(0,h.k1)(e),mediaPlayerInstance:e.mediaPlayerInstance}})),(0,c.cj)((function(e){var n=(0,y.wk)({playerPublicPropsContext:e}),t=e.content;return{disableAudio:n.disableAudio,disableFullscreen:n.disableFullscreen,disableKeyboardShortcuts:n.disableKeyboardShortcuts,disableUserPreferencePersistence:n.disableUserPreferencePersistence,forceControlVisibilityHidden:n.forceControlVisibility===v.Ie.Hidden,isClipContent:(0,g.Jn)(t),isLiveContent:(0,g.DG)(t)}})),(0,p.c0)((function(e){return{enterFullscreen:e.enterFullscreen,exitFullscreen:e.exitFullscreen,hideKeyboardShortcuts:e.hideKeyboardShortcuts,isCollectionSidebarShowing:e.isCollectionSidebarShowing,isFullscreen:e.isFullscreen,isKeyboardShortcutsVisible:e.isKeyboardShortcutsVisible,setStatsOverlay:e.setStatsOverlay,showKeyboardShortcuts:e.showKeyboardShortcuts,toggleCollectionSidebar:e.toggleCollectionSidebar}})),(0,m.AP)((function(e){return{isPlaying:e.isPlaying,muted:e.muted,pause:e.pause,play:e.play,seek:e.seek,setMuted:e.setMuted,setVolume:e.setVolume,volume:e.volume}})))(N)},161480:function(e,n,t){"use strict";t.d(n,{j:function(){return c}});var i=t(331635),a=t(296540),r=t(868238),o=t(192453),s=t(719774),l=t(890675),d=t(372512),u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.timeInSecFloored=0,n.onTimeChanged=function(){var e=n.props.mediaPlayerInstance;if(e){var t=e.getPosition(),i=Math.floor(t);n.props.onTimeChanged&&n.props.onTimeChanged(t),i!==n.timeInSecFloored&&(n.props.onTimeSecondsChanged&&n.props.onTimeSecondsChanged(i),n.timeInSecFloored=i)}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.throttleMilliseconds?(this.onTimeChangedThrottled=(0,o.n)(this.onTimeChanged,this.props.throttleMilliseconds,{leading:!1}),this.props.playerEvents.addEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled)):this.props.playerEvents.addEventListener(d.a.TIME_UPDATE,this.onTimeChanged)},n.prototype.componentDidUpdate=function(e){e.throttleMilliseconds&&!this.props.throttleMilliseconds?(this.props.playerEvents.removeEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled),this.onTimeChangedThrottled.cancel(),this.props.playerEvents.addEventListener(d.a.TIME_UPDATE,this.onTimeChanged)):!e.throttleMilliseconds&&this.props.throttleMilliseconds&&this.props.playerEvents.removeEventListener(d.a.TIME_UPDATE,this.onTimeChanged),this.props.throttleMilliseconds&&e.throttleMilliseconds!==this.props.throttleMilliseconds&&(e.throttleMilliseconds&&(this.props.playerEvents.removeEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled),this.onTimeChangedThrottled.cancel()),this.onTimeChangedThrottled=(0,o.n)(this.onTimeChanged,this.props.throttleMilliseconds,{leading:!1}),this.props.playerEvents.addEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled))},n.prototype.componentWillUnmount=function(){this.onTimeChangedThrottled&&(this.props.playerEvents.removeEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled),this.onTimeChangedThrottled.cancel())},n.prototype.render=function(){return null},n}(a.Component),c=(0,r.Zz)((0,l.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,s.X)())(u)},873830:function(e,n,t){"use strict";t.d(n,{F$:function(){return v},yg:function(){return m}});var i=t(331635),a=t(474848),r=t(296540),o=t(868238),s=t(928778),l=t(300235),d=t(933781),u=t(347953),c=t(400105),p=t.n(c);function m(){return function(e){var n=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return(0,i.__extends)(t,n),t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props))},t.displayName=(0,l.K)(t.name,e),t}(r.Component),t=(0,s._v)(p(),{options:function(e){return{variables:{channel:e.liveChannelLogin}}},skip:function(e){return!e.liveChannelLogin}});return(0,o.Zz)((0,d.cj)(f),t)(n)}}function v(e){return!!(e&&e.user&&e.user.stream&&e.user.stream.isEncrypted)}function f(e){var n=e.content;return{liveChannelLogin:(0,u.jp)(n)}}},358091:function(e,n,t){"use strict";t.d(n,{_u:function(){return a},s_:function(){return o}});var i=t(375747),a={preAdPodVolume:null,preAdPodMuted:null,streamLoudness:null,reachedDurationThreshold:!1},r=(0,i.e)("AdLoudnessContext",a,(function(e){return{adLoudness:e}})),o=(r.withMemoContext,r.context)},533202:function(e,n,t){"use strict";t.d(n,{KZ:function(){return p},cK:function(){return m}});var i,a=t(296540),r=t(478260),o=t(954351),s=t(933781),l=t(357515),d=t(378328),u=t(583167),c=t(358091),p=function(e){return e===l.Z$.STANDARD_AUDIO?-14:-10.98};!function(e){e.Control="control",e.OnlyDown="treatment_only_down",e.AlwaysAdjust="treatment_always_adjust"}(i||(i={}));var m=function(){var e=(0,a.useContext)(c.s_),n=e.preAdPodMuted,t=e.preAdPodVolume,l=e.streamLoudness,m=(0,a.useContext)(o.jK),v=m.adFormatRequest,f=m.adFormatMetadata,g=m.videoAdRequest,h=m.videoAdMetadata,y=m.userManuallyAdjustedVolumeDuringAd,k=(0,a.useContext)(s.kl),S=(0,u.wk)({playerPublicPropsContext:k}).disableAutoAdVolumeAdjustment,_=(0,a.useRef)(p());(0,a.useEffect)((function(){var e=null!=g?g:v;_.current=p(null==e?void 0:e.adFormat)}),[v,g]);var b=(0,a.useCallback)((function(){return(0,d.EF)(h)||(0,d.hr)(f)}),[h,f]),C=(0,a.useCallback)((function(e){var t,a=l&&Date.now()-l.timestamp<=3e5,o=(!!g||!!v)&&b()&&!S&&e>.1&&!y&&function(){switch(r.x2.experiments.__hardcodedStaleExperiment("AD_LOUDNESS_REAL_TIME","treatment_only_down")){case i.AlwaysAdjust:return!0;case i.OnlyDown:return!!(l&&_.current>l.loudness);default:return!1}}()&&a;return r.E5.track("ad_loudness_normalization",{has_ad_request:!!g||!!v,has_ad_metadata:!!h||!!f,stitched_ad_metadata:!!(null==h?void 0:h.stitched)||!!(null==f?void 0:f.stitched),auto_ad_volume_adjustment_disabled:!!S,pre_ad_pod_muted:!!n,pre_impression_volume:e,user_manually_adjusted_volume_during_ad:y,has_recent_stream_loudness:!!a,play_session_id:r.E5.getVideoPlayerTrackingData().playSessionID,was_normalized:!!o,ad_session_id:(null==g?void 0:g.sessionID)||(null==v?void 0:v.sessionID),channel:null===(t=r.E5.getLastPageview())||void 0===t?void 0:t.channel}),o}),[l,v,f,g,h,S,n,y,_,b]),P=(0,a.useCallback)((function(){return(g||(0,d.tl)(v))&&function(){switch(r.x2.experiments.__hardcodedStaleExperiment("AD_LOUDNESS_REAL_TIME","treatment_only_down")){case i.AlwaysAdjust:case i.OnlyDown:return!0;default:return!1}}()&&!y}),[y,g,v]),E=(0,a.useCallback)((function(e){return function(e){var n=e.playerVolume,t=e.streamLoudness,i=e.adLoudness;if(!t||!i)return null;var a=8.6901,r=.0029,o=a*Math.log(n)-r+(t-i),s=Math.exp((o+r)/a);return s===1/0?1/0:s>1?1:+s.toFixed(10)}({playerVolume:e,streamLoudness:l&&l.loudness,adLoudness:_.current})}),[_,l]);return{shouldAdjustVolume:C,getAdjustedVolume:E,getInitialVolume:(0,a.useCallback)((function(){return t}),[t]),shouldResetVolumeOnContentResume:P,getInitialMuteState:(0,a.useCallback)((function(){return!!n}),[n])}}},30947:function(e,n,t){"use strict";t.d(n,{B:function(){return s}});var i=t(331635),a=t(474848),r=(t(296540),t(300235)),o=t(533202);function s(){return function(e){var n=function(n){var t=(0,o.cK)();return(0,a.jsx)(e,(0,i.__assign)({},n,t))};return n.displayName=(0,r.K)("WithAdLoudness",e),n}}},813496:function(e,n,t){"use strict";t.d(n,{Hq:function(){return r},qu:function(){return i},wG:function(){return a}});var i=[/^IAS$/,/^doubleverify.com-omid$/,/^amazon.com-omid$/,/^iabtechlab.com-omid$/,/^moat\.com(?!-omsdktwitchhostedamazonvideo963371838528|-omsdktwitchhostedssaiamazonvideo236473939629)/,/^protected.media-omid$/,/^adloox.com-omid$/],a=[/^IAS$/,/^amazon.com-omid$/,/^moat\.com(?!-omsdktwitchhostedamazonvideo963371838528|-omsdktwitchhostedssaiamazonvideo236473939629)/,/^protected.media-omid$/,/^adloox.com-omid$/],r=["ddacn6pr5v0tl.cloudfront.net","c.amazon-adsystem.com","www.twitch.tv"]},71385:function(e,n,t){"use strict";t.d(n,{c:function(){return Se}});var i,a,r,o,s,l=t(331635),d=t(474848),u=t(891975),c=t(296540),p=t(290942),m=t(485272),v=t(954351),f=t(947945),g=t(359630),h=t(358350),y=t(813496);function k(e){return"".concat(e.adSessionID,"-").concat(e.adPosition)}function S(e,n,t){return{adSessionID:k(e),type:n,timestamp:Date.now(),data:void 0!==t?t:null}}function _(e){return{viewport:{width:window.innerWidth,height:window.innerHeight},adView:{percentageInView:e.percentageInView,geometry:e.geometry,onScreenGeometry:e.onScreenGeometry,reasons:e.reasons}}}function b(e,n){var t=function(e){return{skippable:!1,autoPlay:!0,position:e.roll}}(e);n(S(e,i.Loaded,t))}function C(e,n,t){var a=function(e,n){return{duration:e.duration,videoPlayerVolume:+(n||0).toFixed(10)}}(e,t);n(S(e,i.Start,a))}function P(e,n,t){var a=function(e){return(0,l.__assign)({mediaType:"video",videoEventAdaptorType:"jsCustom",videoEventAdaptorVersion:"1.2"},_(e))}(t);n(S(e,i.Impression,a))}function E(e,n,t){if(t>0&&t<4){var a=function(e){switch(e){case 1:return i.FirstQuartile;case 2:return i.Midpoint;case 3:return i.ThirdQuartile;default:return i.Complete}}(t);n(S(e,a))}}function N(e,n){n(S(e,i.Pause))}function x(e,n){n(S(e,i.Resume))}function A(e,n){var t={interactionType:r.Click};n(S(e,i.AdUserInteraction,t))}function w(e,n,t){var a=null==n?void 0:n.getElementsByTagName("video"),r=a&&a[0]?a[0]:null,o={context:{apiVersion:"",environment:"web",accessMode:"full",videoElement:r,adSessionType:"html",adServerId:"",adCount:1,omidNativeInfo:{partnerName:"Amazon",partnerVersion:"1.0"},omidJsInfo:{omidImplementer:"omsdk",serviceVersion:"1.3",sessionClientVersion:"1.3",partnerName:"Amazon",partnerVersion:"1.0"},supports:["clid"]}};t(S(e,i.SessionStart,o))}!function(e){e.SessionStart="sessionStart",e.SessionError="sessionError",e.SessionFinish="sessionFinish",e.Impression="impression",e.Loaded="loaded",e.Start="start",e.FirstQuartile="firstQuartile",e.Midpoint="midpoint",e.ThirdQuartile="thirdQuartile",e.Complete="complete",e.Pause="pause",e.Resume="resume",e.BufferStart="bufferStart",e.BufferFinish="bufferFinish",e.VolumeChange="volumeChange",e.PlayerStateChange="playerStateChange",e.AdUserInteraction="adUserInteraction",e.GeometryChange="geometryChange"}(i||(i={})),function(e){e.Minimized="minimized",e.Collapsed="collapsed",e.Normal="normal",e.Expanded="expanded",e.Fullscreen="fullscreen"}(a||(a={})),function(e){e.Click="click",e.InvitationAccepted="invitation_accepted"}(r||(r={})),function(e){e.NotFound="notFound",e.Hidden="hidden",e.Backgrounded="backgrounded",e.Viewport="viewport",e.Obstructed="obstructed",e.Clipped="clipped"}(o||(o={})),function(e){e.Video="video",e.Generic="generic"}(s||(s={}));var T=t(78058),I=t(430228),D=t.n(I),F=t(478260),O=new Set([i.SessionStart,i.SessionError,i.SessionFinish]),R="session",V="video";function M(e){return!O.has(e)&&e!==i.Impression&&e!==i.GeometryChange}function L(){var e=c.useRef(new(D())),n=c.useRef([]);return{emitOMIDEvent:(0,T.K)((function(t){F.vF.debug("ad ".concat(t.type,", omidEvent"),t),n.current.push(t),O.has(t.type)?e.current.emit(R,t):(e.current.emit(t.type,t),M(t.type)&&e.current.emit(V,t))})),removeOldEventsFromCache:(0,T.K)((function(e){n.current=n.current.filter((function(n){return n.adSessionID!==k(e)}))})),getOMIDClient:function(t,a){function r(e){return e.type===i.SessionStart?(0,l.__assign)((0,l.__assign)({},e),{data:(0,l.__assign)((0,l.__assign)({},e.data||{}),{verificationParameters:a})}):e}function o(e){return e.adSessionID===k(t)}var s=function(t,i){n.current.filter(o).filter(function(e){switch(e){case R:return function(e){return O.has(e.type)};case V:return function(e){return M(e.type)};default:return function(n){return n.type===e}}}(t)).map(r).forEach((function(e){return i(e)})),e.current.addListener(t,(function(e){o(e)&&i(r(e))}))};return{registerSessionObserver:function(e,n){s(R,e)},addEventListener:s}}}}var j=t(337930),B=t(938185);function U(){return{x:0,y:0,width:window.innerWidth,height:window.innerHeight}}function q(e){return e.width*e.height}function G(e,n){if(!n)return[];var t={x:0,y:0,width:window.innerWidth,height:50};return 0===q(K(e,t))?[]:[t]}function z(e){var n=[];if(e){var t={x:0,y:0,width:e>0?window.innerWidth:0,height:e};n.push(t)}return n}function H(e,n){if(0===n)return 0;var t=Math.round(e/n*100);return Math.min(100,Math.max(0,t))}function W(e,n){var t=K(e,U()),i=n.map((function(e){return(0,l.__assign)((0,l.__assign)({},K(e,t)),{depth:1})}));var a=q(t);return function e(n){var t=n.filter((function(e){return q(e)>0}));if(0===t.length)return[];var i=t[0],a=e(t.slice(1)),r=[];return a.forEach((function(e){r.push(e),r.push((0,l.__assign)((0,l.__assign)({},K(e,i)),{depth:i.depth+e.depth}))})),r.push(i),r}(i).forEach((function(e){e.depth%2==1?a-=q(e):a+=q(e)})),a}function K(e,n){var t=Math.max(e.x,n.x),i=Math.max(e.y,n.y),a=Math.min(e.x+e.width,n.x+n.width)-t,r=Math.min(e.y+e.height,n.y+n.height)-i;return a<=0||r<=0?{x:0,y:0,width:0,height:0}:{x:t,y:i,width:a,height:r}}var Z=function(e,n){switch(n.type){case"SetInitialAdViewGeometry":case"ResetAdViewReasons":return(0,l.__assign)((0,l.__assign)({},e),n.payload);case"ResetAdViewGeometry":var t=function(e,n,t,i,r){var s,d=(0,B.G)(e),u=d.x,c=void 0===u?0:u,p=d.y,m=void 0===p?0:p,v=d.width,f=void 0===v?0:v,g=d.height,h=void 0===g?0:g,y={x:c,y:m,width:f,height:h},k=0;if(r){var S=n.onScreenGeometry.obstructions[0]||{x:0,y:0,width:0,height:0},_=S.y+S.height;k=m>_?m:_}var b,C=(0,j.fX)("dont_report_non_overlapping_obstructions")?G(y,r):z(k),P=K(y,U()),E=q(y),N=q(P),x=W(y,C),A=H(x,E),w=[];return x<N&&w.push(o.Obstructed),N<E&&w.push(o.Viewport),"visible"!==document.visibilityState&&"treatment"===F.x2.experiments.getAndTrackAssignment("vid_omsdk_v_experiment")&&(w=[o.Backgrounded],A=0),b=i?a.Fullscreen:t===a.Fullscreen||(null===(s=n.initialGeometry)||void 0===s?void 0:s.width)===f&&n.initialGeometry.height===h?a.Normal:E>n.area?a.Expanded:A>0?a.Collapsed:a.Minimized,{initialGeometry:n.initialGeometry,geometry:y,onScreenGeometry:(0,l.__assign)((0,l.__assign)({},P),{obstructions:C}),area:E,percentageInView:A,reasons:w,playerState:b}}(n.payload.videoContainer,e,n.payload.lastPlayerState,n.payload.isFullscreen,n.payload.isTopNavShowing);return(0,l.__assign)((0,l.__assign)({},e),{geometry:t.geometry,onScreenGeometry:t.onScreenGeometry,area:t.area,percentageInView:t.percentageInView,reasons:t.reasons,playerState:t.playerState});case"SetAdComplete":return(0,l.__assign)({},e);default:throw new Error}},Q=t(652867),Y=t(196288),X=function(e){var n=e.listenerProps,t=n.omidAdMetadata,a=n.emitOMIDEvent;return(0,Q.p)(Y.p.BUFFERING,c.useCallback((function(){a(S(t,i.BufferStart))}),[t,a])),(0,Q.p)(Y.p.PLAYING,c.useCallback((function(){a(S(t,i.BufferFinish))}),[t,a])),null},$=t(211212),J=t(764120),ee=function(e){var n=e.adFormatMetadataProp,t=e.listenerProps,i=t.omidAdMetadata,a=t.emitOMIDEvent,r=c.useContext(v.jK),o=r.addClickListener,s=r.removeClickListener;(0,$._)(J.V.Click,c.useCallback((function(){A(i,a)}),[i,a]),{adFormatMetadata:n});var l=c.useCallback((function(){A(i,a)}),[i,a]);return c.useEffect((function(){return o(l),function(){s(l)}}),[l,s,o]),null},ne=function(e){var n=e.adFormatMetadataProp,t=e.listenerProps,a=t.omidAdMetadata,r=t.emitOMIDEvent;return(0,$._)(J.V.Error,c.useCallback((function(e){var n,t,o,l,d;n=a,t=s.Generic,o=e.reason,l=r,d=function(e,n){return{error_type:e,message:n}}(t,o),l(S(n,i.SessionError,d))}),[a,r]),{adFormatMetadata:n}),null},te=t(726561),ie=t(415044),ae=t(86043),re=t(959385),oe=t(255578),se=t(691177),le=function(e){var n=e.verificationsIsNotEmpty,t=e.listenerProps,a=t.omidAdMetadata,r=t.emitOMIDEvent,s=e.adViewState,l=e.updateAdViewState,u=e.lastPlayerState,p=e.videoContainerProp,m=c.useContext(f._t).isFullscreen,v=c.useContext(f._t).videoContainer||p,g=(0,ie.d4)(se.GQ),h=!m&&!g;c.useEffect((function(){!function(e,n,t){var a=_(t);n(S(e,i.GeometryChange,a))}(a,r,s)}),[s,a,r]);var y=c.useCallback((function(){"visible"!==document.visibilityState?l({type:"ResetAdViewReasons",payload:{reasons:[o.Backgrounded],percentageInView:0}}):l({type:"ResetAdViewGeometry",payload:{videoContainer:v,lastPlayerState:u,isFullscreen:m,isTopNavShowing:h}})}),[l,v,u,m,h]);c.useEffect((function(){return document.addEventListener("visibilitychange",y),function(){document.removeEventListener("visibilitychange",y)}}),[y]);var k=(0,te.F)((function(){v&&l({type:"ResetAdViewGeometry",payload:{videoContainer:v,lastPlayerState:u,isFullscreen:m,isTopNavShowing:h}})})),b=c.useMemo((function(){return(0,oe.s)((function(){k.current()}),1e3)}),[k]),C=c.useContext(re.MD).registerReceiver;return c.useEffect((function(){var e=C({checkVisible:b});return function(){e()}}),[b,C]),(0,d.jsx)(d.Fragment,{children:n&&(0,d.jsx)(ae.$,{onResize:b})})},de=t(859304),ue=function(e){var n=e.listenerProps,t=e.videoPlaybackState,i=n.omidAdMetadata,a=n.emitOMIDEvent;(0,de.i)({onPlay:c.useCallback((function(){t||x(i,a)}),[t,i,a]),onPause:c.useCallback((function(){t||N(i,a)}),[a,i,t])});var r=c.useRef();return c.useEffect((function(){t&&(void 0===r.current?t.isPlaying?x(i,a):N(i,a):!r.current&&t.isPlaying?x(i,a):r.current&&!t.isPlaying&&N(i,a),r.current=t.isPlaying)}),[null==t?void 0:t.isPlaying,i,a,t]),null},ce=function(e){var n=e.listenerProps,t=n.omidAdMetadata,i=n.emitOMIDEvent,a=e.setOMIDAdMetadata,r=e.addVerifications,o=e.onAdComplete,s=e.adViewState,l=e.getVolume,d=e.videoAdRequestProp,u=e.videoContainerProp,p=c.useContext(v.jK).videoAdRequest,m=c.useContext(f._t).videoContainer,g=p||d,h=m||u;return(0,$._)(J.V.Loaded,c.useCallback((function(e){var n,t,i,o={adSessionID:(null==g?void 0:g.sessionID)||"",duration:e.adInfo&&e.adInfo.duration||0,adPosition:(null===(t=null===(n=e.adInfo)||void 0===n?void 0:n.adPodInfo)||void 0===t?void 0:t.adPosition)||0,roll:e.request.roll};a(o),r((null===(i=e.adInfo)||void 0===i?void 0:i.verificationResources)||[],o)}),[null==g?void 0:g.sessionID,a,r]),{adFormatMetadata:e.adFormatMetadataProp}),(0,$._)(J.V.Impression,c.useCallback((function(){P(t,i,s)}),[t,s,i]),{adFormatMetadata:e.adFormatMetadataProp}),(0,$._)(J.V.Started,c.useCallback((function(){w(t,h,i),b(t,i),C(t,i,l())}),[t,h,i,l]),{adFormatMetadata:e.adFormatMetadataProp}),(0,$._)(J.V.FirstQuartile,c.useCallback((function(e){E(t,i,e.quartile)}),[t,i]),{adFormatMetadata:e.adFormatMetadataProp}),(0,$._)(J.V.Midpoint,c.useCallback((function(e){E(t,i,e.quartile)}),[t,i]),{adFormatMetadata:e.adFormatMetadataProp}),(0,$._)(J.V.ThirdQuartile,c.useCallback((function(e){E(t,i,e.quartile)}),[t,i]),{adFormatMetadata:e.adFormatMetadataProp}),(0,$._)(J.V.Complete,c.useCallback((function(){o(t)}),[t,o]),{adFormatMetadata:e.adFormatMetadataProp}),null},pe=t(26605),me=t(372512),ve=t(378328),fe=F.x2.logger.withCategory("ssai-progress-listener"),ge=function(e){var n=e.listenerProps,t=n.omidAdMetadata,i=n.emitOMIDEvent,a=e.setOMIDAdMetadata,r=e.addVerifications,o=e.onAdComplete,s=e.adViewState,l=e.getVolume,d=c.useContext(v.jK).videoAdMetadata,u=c.useContext(f._t).videoContainer,p=(0,ve.lq)(d)&&d||void 0,m=c.useCallback((function(e){if(e["X-TV-TWITCH-AD-ADVERIFICATIONS"])if(e.DURATION&&e["X-TV-TWITCH-AD-POD-POSITION"]&&e["X-TV-TWITCH-AD-ROLL-TYPE"]){var n,d={adSessionID:e["X-TV-TWITCH-AD-AD-SESSION-ID"]||"",duration:parseInt(e.DURATION,10)||0,adPosition:parseInt(e["X-TV-TWITCH-AD-POD-POSITION"],10)+1,roll:(n=e["X-TV-TWITCH-AD-ROLL-TYPE"],"MIDROLL"===n?h.df.Mid:"POSTROLL"===n?h.df.Post:h.df.Pre)};if(k(d)!==k(t)){o(t),a(d);var c=[];try{c=function(e){var n=e.Verifications||e.Verification;if(!n)return[];return n.map((function(e){return{vendor:e.vendor,JavaScriptResources:e.JavaScriptResource.map((function(e){return{apiFramework:e.apiFramework,URI:e.URI}})),VerificationParameters:e.VerificationParameters}}))}(JSON.parse(atob(e["X-TV-TWITCH-AD-ADVERIFICATIONS"])))}catch(e){fe.warn("failed to parse stitched ad verifications")}r(c,d),w(d,u,i),b(d,i),C(d,i,l()),P(d,i,s)}}else fe.warn("Unable to create omidAdMetadata for stitched ad.")}),[t,o,a,r,u,i,l,s]),g=c.useCallback((function(e){if(e["X-TV-TWITCH-AD-QUARTILE"]){var n=parseInt(e["X-TV-TWITCH-AD-QUARTILE"]||"",10);E(t,i,n)}}),[i,t]),y=c.useCallback((function(e){p&&"live"===e["X-TV-TWITCH-STREAM-SOURCE"]&&o(t)}),[p,o,t]),S=c.useCallback((function(e){if("text/json"===e.type){var n=void 0;try{n=JSON.parse(e.data)}catch(e){return void fe.warn("failed to parse stitched ad metadata")}if(!n)return void fe.warn("failed to parse stitched ad metadata");switch(n.CLASS){case pe.cG:m(n);break;case pe.Pv:g(n);break;case pe.ur:y(n)}}}),[m,g,y]);return(0,Q.p)(me.a.METADATA,S),null};var he=function(e){var n=e.listenerProps,t=n.omidAdMetadata,a=n.emitOMIDEvent,r=e.getVolume,o=c.useRef(null);null===o.current&&(o.current=r());var s=c.useMemo((function(){return(0,oe.s)((function(e){var n,r,o;n=t,r=a,o=function(e){return{videoPlayerVolume:+e.toFixed(10)}}(e),r(S(n,i.VolumeChange,o))}),1e3)}),[a,t]);return c.useEffect((function(){var e=r();e!==o.current&&(o.current=e,s(e))}),[s,a,r,t]),null},ye=F.x2.logger.withCategory("ad-verification-manager").withCategory("vendor-iframe"),ke=function(e){var n=c.useRef(null),t=c.useCallback((function(){var t,i,a,r,o;if((null===(t=n.current)||void 0===t?void 0:t.contentWindow)&&(null===(i=n.current)||void 0===i?void 0:i.contentDocument))if(0!==e.verification.JavaScriptResources.length){var s=null===(a=n.current)||void 0===a?void 0:a.contentWindow;s.omid3p=e.omidClient;var l=s.document.createElement("script");l.src=e.verification.JavaScriptResources[0].URI,y.wG.some((function(n){return n.test(e.verification.vendor)}))&&(null===(r=n.current)||void 0===r||r.setAttribute("sandbox","allow-scripts")),(null===(o=n.current)||void 0===o?void 0:o.contentDocument).body.appendChild(l)}else ye.warn("setupIFrame failed because JavaScriptResources was empty");else ye.warn("setupIFrame failed because the iframe was null")}),[e.omidClient,e.verification.JavaScriptResources,e.verification.vendor]);return(0,u.S)((function(){return n.current=document.createElement("iframe"),n.current.style.display="none",n.current.title="VendorIFrame",e.adSessionId&&(n.current.dataset.testid=e.adSessionId),n.current.addEventListener("load",(function(){t()})),document.body.appendChild(n.current),function(){try{document.body.removeChild(n.current)}catch(e){ye.warn("failed to remove iframe from document:",e)}}})),null},Se=function(e){var n,t,r,s,_=c.useState([]),b=_[0],C=_[1],P=c.useContext(f._t).videoContainer,E=c.useContext(g.wL),N=E.muted,x=E.volume,A=c.useContext(v.jK),w=A.muted,T=A.volume,I=A.adFormatMetadata,D=A.thirdPartyOutstreamVideoAdElement,O=(0,m.fS)(null===(n=e.adFormatMetadata)||void 0===n?void 0:n.adFormat),R=O?null===(t=e.videoPlaybackState)||void 0===t?void 0:t.isMuted:w,V=O?null===(r=e.videoPlaybackState)||void 0===r?void 0:r.currentVolume:T,M=O?e.adFormatMetadata:I,U=O?null===(s=e.containerNode)||void 0===s?void 0:s.current:D,K=c.useMemo((function(){return M&&(0,m.C_)(null==M?void 0:M.adFormat)&&U?[R,V,U]:[N,x,P]}),[N,x,R,V,M,P,U]),Q=K[0],Y=K[1],$=K[2],J=L(),te=J.emitOMIDEvent,ie=J.removeOldEventsFromCache,ae=J.getOMIDClient,re=c.useState({adSessionID:"",duration:0,adPosition:0,roll:h.df.Pre}),oe=re[0],se=re[1],de=c.useReducer(Z,function(e){var n=(0,B.G)(e),t=n.x,i=void 0===t?0:t,r=n.y,s=void 0===r?0:r,d=n.width,u=void 0===d?0:d,c=n.height,p=void 0===c?0:c,m={y:s,x:i,width:u,height:p},v=(0,j.fX)("dont_report_non_overlapping_obstructions")?G(m,!0):z(s),f=H(W(m,v),q(m)),g=f<100?[o.Obstructed]:[];return"visible"!==document.visibilityState&&"treatment"===F.x2.experiments.getAndTrackAssignment("vid_omsdk_v_experiment")&&(g=[o.Backgrounded],f=0),{initialGeometry:m,geometry:m,onScreenGeometry:(0,l.__assign)((0,l.__assign)({},m),{obstructions:v}),area:u*p,percentageInView:f,reasons:g,playerState:a.Normal}}($)),pe=de[0],me=de[1],ve=(0,p.Z)(pe.playerState),fe=c.useState([]),ye=fe[0],Se=fe[1],_e=c.useCallback((function(){return Q?0:Y||0}),[Q,Y]),be=c.useCallback((function(e,n){C((function(t){return e.forEach((function(e){e.JavaScriptResources=e.JavaScriptResources.filter((function(e){return"omid"===(null==e?void 0:e.apiFramework)})),function(e){return y.qu.some((function(n){return n.test(e.vendor)}))&&e.JavaScriptResources.length>0}(e)&&t.push({omidAdMetadata:n,verification:e})})),t}))}),[]),Ce=c.useCallback((function(e){ie(e),C((function(n){return n.filter((function(n){return k(n.omidAdMetadata)!==k(e)}))}))}),[ie]),Pe=c.useCallback((function(e){var n=setTimeout((function(){return Ce(e)}),2e3);Se((function(e){return(0,l.__spreadArray)((0,l.__spreadArray)([],e,!0),[n],!1)}))}),[Ce]);(0,u.S)((function(){return function(){return ye.forEach((function(e){return clearTimeout(e)}))}}));var Ee=c.useCallback((function(e){return(0,l.__awaiter)(void 0,void 0,void 0,(function(){return(0,l.__generator)(this,(function(n){return function(e,n){n(S(e,i.Complete))}(e,te),function(e,n){n(S(e,i.SessionFinish))}(e,te),Pe(e),[2]}))}))}),[te,Pe]);var Ne={omidAdMetadata:oe,emitOMIDEvent:te};return(0,d.jsxs)(d.Fragment,{children:[b.map((function(e){var n=e.verification,t=JSON.stringify(e);return(0,d.jsx)(ke,{verification:n,omidClient:ae(oe,n.VerificationParameters),adSessionId:k(e.omidAdMetadata)},t)})),(0,d.jsx)(ce,{listenerProps:Ne,setOMIDAdMetadata:se,addVerifications:be,onAdComplete:Ee,adViewState:pe,getVolume:_e,adFormatMetadataProp:e.adFormatMetadata,videoAdRequestProp:e.adFormatRequest,videoContainerProp:$}),(0,d.jsx)(ge,{listenerProps:Ne,setOMIDAdMetadata:se,addVerifications:be,onAdComplete:Ee,adViewState:pe,getVolume:_e}),(0,d.jsx)(le,{listenerProps:Ne,verificationsIsNotEmpty:!!b.length,adViewState:pe,updateAdViewState:me,lastPlayerState:ve,videoContainerProp:$}),(0,d.jsx)(ee,{listenerProps:Ne,adFormatMetadataProp:e.adFormatMetadata}),(0,d.jsx)(X,{listenerProps:Ne}),(0,d.jsx)(ue,{listenerProps:Ne,videoPlaybackState:e.videoPlaybackState}),(0,d.jsx)(he,{listenerProps:Ne,getVolume:_e}),(0,d.jsx)(ne,{listenerProps:Ne,adFormatMetadataProp:e.adFormatMetadata})]})}},103432:function(e,n,t){"use strict";t.d(n,{V:function(){return o},o:function(){return r}});var i=t(478260),a=t(358350),r=function(e,n){var t,r,s;void 0===n&&(n=a.df.Mid);var l=0,d=0,u=0;if(n===a.df.Pre)d=Math.max((null!==(t=e.getVideoBitRate())&&void 0!==t?t:0)/1e3,(null!==(s=null===(r=e.getQuality())||void 0===r?void 0:r.bitrate)&&void 0!==s?s:0)/1e3),u=i.IG.get("ads_bitrate_bps",0)/1e3,l=Math.max(1e3,d,u);else{var c=o(e.getVideoBitRate());d=c.videoBitrate,l=c.adBitrate}return{videoBitrate:d,adBitrate:l,storedAdBitrate:u}},o=function(e){var n=(null!=e?e:0)/1e3;return{videoBitrate:n,adBitrate:Math.max(1e3,n)}}},297818:function(e,n,t){"use strict";t.d(n,{SS:function(){return c}});var i=t(331635),a=t(485272),r=t(813496),o=t(357515),s=t(764120);var l=t(280643),d="https://www.twitch.tv/r/s/abc.js",u="https://www.twitch.tv/r/s/j";function c(e){var n,t,r,l,d,u,c,m,v,f,h,y,k,S=e.adsManager,_=e.amazonVideoAds,b=e.request,C=(n=S,t=.5,r=function(){n.play()},l=function(){n.pause()},d=function(){return t},u=function(e){t=e,n.setVolume(e)},c=function(e){n.setVolume(e?0:t)},m=function(){n.cancelAdBreak()},v=function(){m(),n.destroy()},f=function(){n.startAds()},h=function(){n.startAdsWithReplay()},(0,i.__assign)({play:r,pause:l,stop:m,getVolume:d,setVolume:u,setMuted:c,destroy:v,start:f,startWithReplay:h},((y={})[s.V.Error]=[],y[s.V.Resumed]=[],y[s.V.Paused]=[],y[s.V.ContentPauseRequested]=[],y[s.V.ContentResumeRequested]=[],y[s.V.Loaded]=[],y[s.V.Started]=[],y[s.V.Progress]=[],y[s.V.FirstQuartile]=[],y[s.V.Midpoint]=[],y[s.V.ThirdQuartile]=[],y[s.V.Impression]=[],y[s.V.Complete]=[],y[s.V.VolumeChanged]=[],y[s.V.Click]=[],y[s.V.CreativeError]=[],y[s.V.CreativeViewed]=[],y[s.V.Muted]=[],y[s.V.Unmuted]=[],y[s.V.PodReplayLoopStarted]=[],k=y,{addEventListener:function(e,n){k[e]=(0,i.__spreadArray)((0,i.__spreadArray)([],k[e],!0),[n],!1)},removeEventListener:function(e,n){k[e]=k[e].filter((function(e){return e!==n}))},emitEvent:function(e,n){k[e].forEach((function(e){return e(n)}))}}))),P=function(e,n,t){C.emitEvent(e,(0,i.__assign)((0,i.__assign)({},function(e,n,t){return{adInfo:p(e),request:n,videoAd:t}}(n,b,C)),t))};return S.addListener(_.eventNames.AdVideoPlayerEvents.POD_REPLAY_LOOP_STARTED,(function(e){return P(s.V.PodReplayLoopStarted,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.RESUMED,(function(e){return P(s.V.Resumed,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.REQUEST_RESUME,(function(e){return P(s.V.ContentResumeRequested,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.PAUSED,(function(e){return P(s.V.Paused,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.REQUEST_PAUSE,(function(e){return P(s.V.ContentPauseRequested,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.STARTED,(function(e){return P(s.V.Started,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.LOADED,(function(e){return P(s.V.Loaded,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.IMPRESSION,(function(e){return P(s.V.Impression,e)})),S.addListener(_.eventNames.AdVideoPlayerEvents.PROGRESS,(function(e){return P(s.V.Progress,e,{progress:e.adMetadata.creative.progress,duration:e.adMetadata.creative.duration})})),S.addListener(_.eventNames.AdVideoPlayerEvents.VOLUME_CHANGE,(function(e){return P(s.V.VolumeChanged,e,{volume:C.getVolume(),muted:C.getVolume()<=0})})),S.addListener(_.eventNames.AdVideoPlayerEvents.FIRST_QUARTILE,(function(e){return P(s.V.FirstQuartile,e,{quartile:1})})),S.addListener(_.eventNames.AdVideoPlayerEvents.MIDPOINT,(function(e){return P(s.V.Midpoint,e,{quartile:2})})),S.addListener(_.eventNames.AdVideoPlayerEvents.THIRD_QUARTILE,(function(e){return P(s.V.ThirdQuartile,e,{quartile:3})})),S.addListener(_.eventNames.AdVideoPlayerEvents.COMPLETED,(function(e){return P(s.V.Complete,e,{quartile:4})})),S.addListener(_.eventNames.AdVideoPlayerEvents.ERRORED,(function(e){C.emitEvent(s.V.Error,{request:b,reason:e.errorCode,errorCode:0})})),S.addListener(_.eventNames.AdVideoPlayerEvents.CLICKED,(function(e){return P(s.V.Click,e)})),_.eventNames.AdVideoPlayerEvents.CREATIVE_VIEWED&&S.addListener(_.eventNames.AdVideoPlayerEvents.CREATIVE_VIEWED,(function(e){return P(s.V.CreativeViewed,e)})),_.eventNames.AdVideoPlayerEvents.CREATIVE_ERROR&&S.addListener(_.eventNames.AdVideoPlayerEvents.CREATIVE_ERROR,(function(e){C.emitEvent(s.V.CreativeError,{request:b,reason:e.errorCode,errorCode:0})})),S.addListener(_.eventNames.AdVideoPlayerEvents.MUTED,(function(e){return P(s.V.Muted,e,{muted:!0})})),S.addListener(_.eventNames.AdVideoPlayerEvents.UNMUTED,(function(e){return P(s.V.Unmuted,e,{muted:!1})})),{adFormat:g(b.adFormat)||(0,a.C_)(b.adFormat)?b.adFormat:b.mafsDecision?o.Z$.STANDARD_VIDEO:o.gz.STANDARD_VIDEO,videoAd:C,stitched:!1,started:!1,duration:b.duration,adPosition:0,numberOfAds:1,roll:b.roll,start:0,isVLM:!!b.isVLM,sdkUrl:e.sdkUrl,podReplayLoopStarted:!1}}function p(e){if(!e)return null;try{return{adFormat:e.adMetadata.ad.adFormat,advertiser:e.adMetadata.ad.advertiser,adSystem:e.adMetadata.ad.system,adID:e.adMetadata.ad.id,clickThroughUrl:e.adMetadata.companionAd.clickThroughUrl,clickTrackingUrls:e.adMetadata.companionAd.clickTrackingUrls,contentType:e.adMetadata.mediaFile.mimeType,creativeID:e.adMetadata.creative.id,title:e.adMetadata.ad.title,duration:e.adMetadata.creative.duration,adPodInfo:e.adMetadata.ad.podInfo,adWrapperIds:[],adWrapperSystems:[],adWrapperCreativeIDs:[],vastMediaBitrate:e.adMetadata.mediaFile.bitrate,vastMediaHeight:e.adMetadata.mediaFile.height,vastMediaWidth:e.adMetadata.mediaFile.width,mediaUrl:e.adMetadata.mediaFile.url,adCfId:e.adMetadata.viewability.adCfId,advertiserCfId:e.adMetadata.viewability.advertiserCfId,campaignCfId:e.adMetadata.viewability.campaignCfId,creativeCfId:e.adMetadata.viewability.creativeCfId,verificationResources:(n=e.adMetadata.ad.currentAdVerifications,n.map((function(e){var n=function(e){if(0===e.jsResource.length||"omid"!==e.jsResource[0].apiFramework||"IAS"!==e.vendor)return!1;var n=m(e);return function(e){var n=new RegExp("c.amazon-adsystem.com/vfw/ias/fw.js"),t=e.match(n);return!!t}(n)||function(e){return 0!==v(e).length}(n)}(e),t=function(e){if(0===e.jsResource.length||"omid"!==e.jsResource[0].apiFramework||"protected.media-omid"!==e.vendor)return!1;var n=m(e);return n.startsWith("https://js.ad-score.com/")}(e),i=e.jsResource.map((function(e){var i=r.Hq,a=new URL(e.uri),o=a.host,s=a.pathname,l=a.search;i.includes(o)||(t?(o="twitch.tv",s="/r/s/pm/js"+s):(o="ddacn6pr5v0tl.cloudfront.net",s="/om-resources/measurement-providers"+s));var u="https://".concat(o).concat(s).concat(l);return{apiFramework:e.apiFramework,URI:n?d:u}})),a=m(e);return{vendor:e.vendor,JavaScriptResources:i,VerificationParameters:n?f(e.parameters,a):e.parameters}}))),companionEvent:e.target===l.p.CompanionCreative,transparencyInfo:e.adMetadata.ad.currentTransparencyInfo}}catch(e){return null}var n}function m(e){return e.jsResource[0].uri}function v(e){var n=new RegExp("fw.adsafeprotected.com/rjss/st/(.*)/(.*)/skeleton"),t=e.match(n);if(!t)return[];var i=new RegExp("xsId=([^&]*)"),a=e.match(i);return t.concat(a||[])}function f(e,n){var t=v(n);if(t.length>2)return JSON.stringify({config:"/rjss/st/".concat(t[1],"/").concat(t[2],"/skeleton.js?iasProxyPartnerId=1&xsId=").concat(t[4]),host:u});var a=JSON.parse(e),r=a.config.replace(new RegExp("iasProxyPartnerId=[^&]*","i"),"iasProxyPartnerId=1");return JSON.stringify((0,i.__assign)((0,i.__assign)({},a),{config:r,host:u}))}var g=function(e){return-1!==[o.gz.STANDARD_VIDEO,o.gz.BROWSE_DISPLAY,o.Z$.STANDARD_AUDIO,o.Z$.STANDARD_VIDEO].indexOf(e)}},280643:function(e,n,t){"use strict";var i,a;t.d(n,{f:function(){return i},p:function(){return a}}),function(e){e.AUDIO="AUDIO",e.VIDEO="VIDEO"}(i||(i={})),function(e){e.LinearCreative="linear",e.CompanionCreative="companion"}(a||(a={}))},982382:function(e,n,t){"use strict";t.d(n,{A7:function(){return N},b3:function(){return A},iB:function(){return x}});var i=t(331635),a=t(296540),r=t(868238),o=t(337930),s=t(478260),l=t(30947),d=t(280643),u=t(775042),c=t(185418),p=t(404852),m=t(954351),v=t(890675),f=t(933781),g=t(359630),h=t(357515),y=t(860879),k=t(358350),S=t(764120),_=t(466257),b=t(378328),C=t(347953),P=t(105774),E=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.isCleanAdContextTimeoutEnabled=(0,o.fX)("csai_ad_context_auto_clean"),n.addInStreamEventListener=function(e,t){(0,n.props.adEvents.addEventListener)(e,(function(e){(0,b.EF)(n.props.videoAdMetadata)&&t(e)}))},n.onContentResumeRequested=function(e){var t={stitched:!1};n.trackRad(p.V.VideoAdPodComplete,e,t),n.track("ad_pod_complete",e,t),n.track("ad_client_pod_completion",e,x(e.adInfo,n.props.videoAdRequest,n.props.videoAdMetadata)),n.clearMetadataAndRestartMediaPlayer()},n.onPlaying=function(e){n.props.updateAdPlaying(!0),n.setClearAdContextTimeout(!0);var t=n.props.mediaPlayerInstance;(e.adInfo&&e.adInfo.adFormat||d.f.VIDEO)===d.f.AUDIO&&(null==t||t.play())},n.onPaused=function(e){n.props.updateAdPlaying(!1),n.setClearAdContextTimeout(!1);var t=n.props.mediaPlayerInstance;(e.adInfo&&e.adInfo.adFormat||d.f.VIDEO)===d.f.AUDIO&&(null==t||t.pause())},n.onContentPauseRequested=function(e){var t=n.props,i=t.ended,a=t.isLiveContent,r=t.mediaPlayerInstance,o=n.props,s=o.volume,l=o.muted,d=void 0!==s?s:.5;e.videoAd.setVolume(d),n.props.updateAdVolume(d),l&&(e.videoAd.setMuted(!0),n.props.updateAdMuted(!0)),a?(null==r?void 0:r.isMuted())||null==r||r.setMuted(!0):i||null==r||r.pause()},n.onLoad=function(e){n.track("video_ad_loaded",e,{player_mute:!!n.props.muted,player_volume:+(n.props.volume||0).toFixed(10)})},n.onVolumeChanged=function(e){n.props.updateAdVolume(e.volume)},n.onMuteChange=function(e){n.props.updateAdMuted(e.muted)},n.onCreativeClicked=function(e){var t;(null===(t=e.adInfo)||void 0===t?void 0:t.companionEvent)||n.track("ad_click",e,{stitched:!1})},n.getFormat=function(e){var t=n.props.videoAdRequest,i=e.adInfo;return i&&i.adFormat&&i.adFormat===d.f.AUDIO?h.Z$.STANDARD_AUDIO:(null==t?void 0:t.mafsDecision)?h.Z$.STANDARD_VIDEO:h.gz.STANDARD_VIDEO},n.onStart=function(e){var t=e.adInfo&&e.adInfo.adPodInfo,i=e.adInfo;n.setClearAdContextTimeout(!0),n.props.startClientSideAd({adFormat:n.getFormat(e),position:t&&t.adPosition||1,numberOfAds:t&&t.totalAds||1,adInfo:i})},n.onComplete=function(e){n.trackQuartileEvent(e),n.setClearAdContextTimeout(!1);n.track("video_ad_impression_complete",e,{stitched:!1}),(0,_.DL)(Date.now());var t=n.props.videoAdRequest&&n.props.videoAdRequest.status===k.sC.Filled?n.props.videoAdRequest:void 0;t&&t.broadcaster&&(0,_.JN)(t.broadcaster.id,Date.now())},n.onProgress=function(e){n.track("video_ad_time_elapsed",e,{time_elapsed:e.progress}),n.lastAdProgressTime=Date.now()},n.checkAdProgress=function(){Date.now()-n.lastAdProgressTime>8e3&&(n.props.reset(),n.clearIntervalTimeout())},n.setClearAdContextTimeout=function(e){n.isCleanAdContextTimeoutEnabled&&(e?n.timeoutID||(n.lastAdProgressTime=Date.now(),n.timeoutID=setInterval(n.checkAdProgress,1e3)):n.clearIntervalTimeout())},n.clearIntervalTimeout=function(){n.timeoutID&&(clearInterval(n.timeoutID),n.timeoutID=void 0)},n.onImpression=function(e){var t,i,a,r,o,s,l,d,u,c,m,v,f=n.props,g=f.shouldAdjustVolume,h=f.getAdjustedVolume,y=f.setVolume,k=f.getInitialMuteState,S=f.setMuted,_=f.clientSideAdSelectionParams,C=e.videoAd.getVolume(),P=Date.now(),E=h(C),N=Math.max(E||0,.1),A=g(C),w=A?N:C,T=k(),I=(0,b.EF)(n.props.videoAdMetadata)?n.props.videoAdMetadata:void 0,D=null===(t=null==I?void 0:I.adInfo)||void 0===t?void 0:t.adSystem;A&&(n.props.logger.withCategory("AdLoudness").debug("Adjusting ad volume at impression",{nextVolume:N,impressionVolume:C,playerMuted:T}),y(N),S(T));var F,O={request_to_impression_latency:P-e.request.requestTime,pre_impression_player_volume:C,player_volume:+(w||0).toFixed(10),quality:(null==_?void 0:_.isAutoQualityMode)?"auto":"".concat(null!==(i=null==_?void 0:_.currentVideoWidth)&&void 0!==i?i:0,"x").concat(null!==(a=null==_?void 0:_.currentVideoHeight)&&void 0!==a?a:0),current_bitrate:Math.round(null!==(r=null==_?void 0:_.currentVideoBitrate)&&void 0!==r?r:0),ad_stored_bitrate_kbps:null!==(o=null==_?void 0:_.storedAdBitrate)&&void 0!==o?o:0,ad_max_bitrate_kbps:null!==(s=null==_?void 0:_.maxAdBitrate)&&void 0!==s?s:0,ad_resolution:"".concat(null!==(d=null===(l=e.adInfo)||void 0===l?void 0:l.vastMediaWidth)&&void 0!==d?d:0,"x").concat(null!==(c=null===(u=e.adInfo)||void 0===u?void 0:u.vastMediaHeight)&&void 0!==c?c:0),ad_bitrate_kbps:null!==(v=null===(m=e.adInfo)||void 0===m?void 0:m.vastMediaBitrate)&&void 0!==v?v:0};n.trackRad(p.V.VideoAdImpression,e,O),D&&"FAS"===D?(n.track("video_ad_impression_fake",e,O),n.track("ad_impression_fake",e,O)):(F="ad_client_impression",n.track(F,e,x(e.adInfo,n.props.videoAdRequest,n.props.videoAdMetadata)),n.track("video_ad_impression",e,O),n.track("ad_impression",e,O))},n.onError=function(e){var t={reason:e.reason,error_code:e.errorCode,error_type:e.errorType};n.props.trackVideoAdData("video_ad_error",t),n.props.trackVideoRAdEvent(p.V.VideoAdError,t),n.props.trackVideoAdData("ad_error",t),n.clearMetadataAndRestartMediaPlayer()},n.clearMetadataAndRestartMediaPlayer=function(){var e=n.props,t=e.shouldResetVolumeOnContentResume,i=e.getInitialMuteState,a=e.setMuted,r=e.mediaPlayerInstance,o=e.getInitialVolume,s=e.setVolume,l=e.audioBlocked,d=e.paused,u=e.ended,c=e.adMuted,p=e.adVolume,m=o(),v=i(),f=t();f&&m&&(n.props.logger.withCategory("AdLoudness").debug("Adjusting ad volume at resume",{nextVolume:m,nextMute:v}),s(m),a(v)),f||void 0===p||null==r||r.setVolume(p),c!==!!(null==r?void 0:r.isMuted())&&(c?null==r||r.setMuted(!0):l||null==r||r.setMuted(!1)),d&&!u&&(null==r||r.play()),n.props.reset()},n.track=function(e,t,i){var a=!!n.props.adMuted,r=+(n.props.adVolume||0).toFixed(10),o=N(t.adInfo,i,a,r);n.props.trackVideoAdData(e,o)},n.trackRad=function(e,t,i){var a=!!n.props.adMuted,r=+(n.props.adVolume||0).toFixed(10),o=N(t.adInfo,i,a,r);n.props.trackVideoRAdEvent(e,o)},n.trackQuartileEvent=function(e){var t={quartile:e.quartile};n.trackRad(p.V.VideoAdQuartileComplete,e,t),n.track("video_ad_quartile_complete",e,t),n.track("ad_quartile",e,t),n.track("ad_client_quartile",e,x(e.adInfo,n.props.videoAdRequest,n.props.videoAdMetadata))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.addInStreamEventListener(S.V.ContentPauseRequested,this.onContentPauseRequested),this.addInStreamEventListener(S.V.ContentResumeRequested,this.onContentResumeRequested),this.addInStreamEventListener(S.V.Complete,this.onComplete),this.addInStreamEventListener(S.V.Error,this.onError),this.addInStreamEventListener(S.V.FirstQuartile,this.trackQuartileEvent),this.addInStreamEventListener(S.V.Impression,this.onImpression),this.addInStreamEventListener(S.V.Loaded,this.onLoad),this.addInStreamEventListener(S.V.Midpoint,this.trackQuartileEvent),this.addInStreamEventListener(S.V.Paused,this.onPaused),this.addInStreamEventListener(S.V.Progress,this.onProgress),this.addInStreamEventListener(S.V.Resumed,this.onPlaying),this.addInStreamEventListener(S.V.Started,this.onStart),this.addInStreamEventListener(S.V.ThirdQuartile,this.trackQuartileEvent),this.addInStreamEventListener(S.V.VolumeChanged,this.onVolumeChanged),this.addInStreamEventListener(S.V.Click,this.onCreativeClicked),this.addInStreamEventListener(S.V.Muted,this.onMuteChange),this.addInStreamEventListener(S.V.Unmuted,this.onMuteChange)},n.prototype.render=function(){return null},n}(a.Component),N=function(e,n,t,a){return(0,i.__assign)({player_mute:!!t,player_volume:a||0,visible:"visible"===document.visibilityState,audible:!t&&(a||0)>0,ad_id:e&&e.adID,ad_position:e&&e.adPodInfo&&e.adPodInfo.adPosition,duration:e&&e.duration,ad_system:e&&e.adSystem,creative_id:e&&e.creativeID,total_ads:e&&e.adPodInfo&&e.adPodInfo.totalAds,title:e&&e.title,stitched:!1},n)},x=function(e,n,t){return{date:(new Date).toDateString(),ad_id:e&&e.adID,emitting_service:"AdvantEdge",format_name:(0,h.uN)(null==n?void 0:n.adFormat),sdk:S.K.VAES,duration_actual:null==t?void 0:t.duration,commercial_id:null==n?void 0:n.commercialID,break_length:null==n?void 0:n.duration,ad_placement:y.p.CHANNEL_PLAYER,requested_ad_size:null,ad_size:null,allocation_strategy:(null==n?void 0:n.mafsDecision)||"",available_impression:(null==t?void 0:t.numberOfAds)||0,main_play_session_id:s.E5.getVideoPlayerTrackingData().playSessionID,stitched:!1}},A=(0,r.Zz)((0,u.O)(),(0,c._)(),(0,l.B)(),(0,m.VX)((function(e){var n=e.muted,t=e.volume,i=e.videoAdMetadata,a=e.videoAdRequest,r=e.reset,o=e.startClientSideAd,s=e.updateAdVolume,l=e.updateAdMuted,d=e.updateAdPlaying,u=e.clientSideAdSelectionParams;return{adMuted:n,adVolume:t,reset:r,videoAdMetadata:i,videoAdRequest:a,startClientSideAd:o,updateAdVolume:s,updateAdMuted:l,updateAdPlaying:d,clientSideAdSelectionParams:u}})),(0,v.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,paused:(0,P.xB)(e),volume:e.volume,muted:e.muted,audioBlocked:e.audioBlocked,ended:(0,P.pl)(e),logger:e.logger}})),(0,g.AP)((function(e){var n=e.setVolume,t=e.setMuted;return{setVolume:n,setMuted:t}})),(0,f.cj)((function(e){var n=e.content;return{isLiveContent:(0,C.DG)(n)}})))(E)},859304:function(e,n,t){"use strict";t.d(n,{i:function(){return r}});var i=t(296540),a=t(359630);function r(e){var n=i.useRef(),t=i.useContext(a.wL),r=e.onPlay,o=e.onPause;i.useEffect((function(){n.current?!n.current.isPlaying&&t.isPlaying?r():n.current.isPlaying&&!t.isPlaying&&o():t.isPlaying?r():o()}),[n,t,r,o]),i.useEffect((function(){n.current=t}),[t])}},26605:function(e,n,t){"use strict";t.d(n,{Pv:function(){return k},Tm:function(){return b},bi:function(){return i},cG:function(){return h},ur:function(){return y}});var i,a=t(331635),r=t(296540),o=t(868238),s=t(478260),l=t(185418),d=t(404852),u=t(719774),c=t(954351),p=t(890675),m=t(358350),v=t(372512),f=t(378328);!function(e){e.StandardAudioAd="STANDARD_AUDIO",e.StandardVideoAd="standard_video_ad"}(i||(i={}));var g,h="twitch-stitched-ad",y="twitch-stream-source",k="twitch-ad-quartile",S="|",_=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onMetadata=function(e){var t,a,r;try{if("text/json"===e.type){var o=void 0;try{o=JSON.parse(e.data)}catch(e){return void s.x2.logger.warn("failed to parse stitched ad metadata")}if(!o)return void s.x2.logger.warn("failed to parse stitched ad metadata");var l=n.getAdFormat(o["X-TV-TWITCH-AD-AD-FORMAT"]),u=l===i.StandardAudioAd;if(o.CLASS===h){var c=o["X-TV-TWITCH-AD-CLICK-TRACKING-URL"],p=parseFloat(o["X-TV-TWITCH-AD-LOUDNESS"]),m=o["X-TV-TWITCH-AD-MUTE-TRACKING-URL"],v=o["X-TV-TWITCH-AD-UNMUTE-TRACKING-URL"],f=o["X-TV-TWITCH-AD-PAUSE-TRACKING-URL"],_=o["X-TV-TWITCH-AD-RESUME-URL"],b=o["X-TV-TWITCH-AD-CREATIVE-VIEW"],P=o["X-TV-TWITCH-AD-COMPANION-CREATIVE-VIEW"],E={duration:parseInt(o.DURATION,10)||0,start:new Date(o["START-DATE"]).getTime(),numberOfAds:parseInt(o["X-TV-TWITCH-AD-POD-LENGTH"],10),adPosition:parseInt(o["X-TV-TWITCH-AD-POD-POSITION"],10)+1,adUrl:o["X-TV-TWITCH-AD-URL"],roll:n.getRollType(o["X-TV-TWITCH-AD-ROLL-TYPE"]),advertiserId:o["X-TV-TWITCH-AD-ADVERTISER-ID"]||"",creativeId:o["X-TV-TWITCH-AD-CREATIVE-ID"]||"",lineItemId:o["X-TV-TWITCH-AD-LINE-ITEM-ID"]||"",adSessionId:o["X-TV-TWITCH-AD-AD-SESSION-ID"]||"",adFormat:l,orderId:o["X-TV-TWITCH-AD-ORDER-ID"]||"",stitchedAdTrackingURLsStart:o["X-TV-TWITCH-AD-TRACKING-START"]||"",stichedAdTrackingURLsComplete:o["X-TV-TWITCH-AD-TRACKING-COMPLETE"]||"",stitched:!0,stitchedAdClickTrackUrls:c?c.split(S):[],radsToken:o["X-TV-TWITCH-AD-RADS-TOKEN"]||"",isVLM:"1"===o["X-TV-TWITCH-AD-VLM"],hideAdOverlay:"1"===o["X-TV-TWITCH-AD-HIDE-AD-OVERLAY"],clickBeaconId:o["X-TV-TWITCH-AD-CLICK-BEACON-ID"]||"",podFilledDuration:parseInt(o["X-TV-TWITCH-AD-POD-FILLED-DURATION"],10)||0,stitchedAdMuteTrackUrls:m?m.split(S):[],stitchedAdUnMuteTrackUrls:v?v.split(S):[],stitchedAdPauseTrackUrls:f?f.split(S):[],stitchedAdResumeTrackUrls:_?_.split(S):[],stitchedAdCreativeViewTrackUrls:b?b.split(S):[],stitchedAdCompanionCreativeViewTrackUrls:P?P.split(S):[],dsaAdvertiserId:o["X-TV-TWITCH-AD-DSA-ADVERTISER-ID"]||"",dsaCampaignId:o["X-TV-TWITCH-AD-DSA-CAMPAIGN-ID"]||"",dsaContext:"1"===o["X-TV-TWITCH-AD-DSA-SS-CONTEXT"],dsaLocation:"1"===o["X-TV-TWITCH-AD-DSA-SS-LOCATION"],dsaPastActivity:o["X-TV-TWITCH-AD-DSA-SS-PAST-ACTIVITY"]||"",dsaVersion:parseInt(o["X-TV-TWITCH-AD-DSA-VERSION"],10),minSkipDuration:n.getMinSkipDuration(o["SKIPPABLE-REQUIRED"])},N={ad_loudness:p,has_ad_metadata:!!E,stitched_ad_metadata:!!(null==E?void 0:E.stitched),play_session_id:s.E5.getVideoPlayerTrackingData().playSessionID,was_normalized:void 0,ad_session_id:null==E?void 0:E.adSessionId,channel:null===(t=s.E5.getLastPageview())||void 0===t?void 0:t.channel,roll_type:null==E?void 0:E.roll};n.props.setRadToken(E.radsToken),(null===(a=n.props.stitchedAdMetadata)||void 0===a?void 0:a.adPosition)&&E.adPosition&&E.adPosition>(null===(r=n.props.stitchedAdMetadata)||void 0===r?void 0:r.adPosition)&&C(g.END,n.props.stitchedAdMetadata.stichedAdTrackingURLsComplete),C(g.START,E.stitchedAdTrackingURLsStart),s.x2.tracking.track("ad_loudness_normalization",N),n.props.startStitchedAd(E)}else if(o.CLASS===k&&o["X-TV-TWITCH-AD-QUARTILE"]){var x=parseInt(o["X-TV-TWITCH-AD-QUARTILE"]||"",10);0===x?n.props.trackVideoRAdEvent(u?d.V.AdImpression:d.V.VideoAdImpression,n.buildTrackingPayload()):n.props.trackVideoRAdEvent(u?d.V.AdQuartile:d.V.VideoAdQuartileComplete,n.buildTrackingPayload({quartile:x}))}else if(n.props.stitchedAdMetadata&&o.CLASS===y&&"live"===o["X-TV-TWITCH-STREAM-SOURCE"]){C(g.END,n.props.stitchedAdMetadata.stichedAdTrackingURLsComplete);var A={stitched:!0,roll_type:n.props.stitchedAdMetadata.roll,player_mute:!!n.props.muted,player_volume:+(n.props.volume||0).toFixed(10),visible:"visible"===document.visibilityState,ad_session_id:n.props.stitchedAdMetadata.adSessionId,format_name:l};n.props.trackVideoAdData("ad_pod_complete",A),n.props.trackVideoRAdEvent(u?d.V.AdPodComplete:d.V.VideoAdPodComplete,A),n.props.reset()}}}catch(e){n.props.logger.errorAndReport(e,"Unable to create metadata for stitched ad.")}},n.buildTrackingPayload=function(e){var t=n.props.stitchedAdMetadata;return(0,a.__assign)({player_mute:!!n.props.muted,player_volume:+(n.props.volume||0).toFixed(10),visible:"visible"===document.visibilityState,ad_id:null==t?void 0:t.advertiserId,ad_position:null==t?void 0:t.adPosition,duration:null==t?void 0:t.duration,creative_id:null==t?void 0:t.creativeId,total_ads:null==t?void 0:t.numberOfAds,order_id:null==t?void 0:t.orderId,line_item_id:null==t?void 0:t.lineItemId,roll_type:null==t?void 0:t.roll},e)},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(v.a.METADATA,this.onMetadata)},n.prototype.render=function(){return null},n.prototype.getRollType=function(e){return"MIDROLL"===e?m.df.Mid:"POSTROLL"===e?m.df.Post:m.df.Pre},n.prototype.getAdFormat=function(e){switch(e){case"standard_audio_ad":case"STANDARD_AUDIO":return i.StandardAudioAd;default:return i.StandardVideoAd}},n.prototype.getMinSkipDuration=function(e){return e?parseInt(e,10):void 0},n}(r.Component),b=(0,o.Zz)((0,l._)(),(0,c.VX)((function(e){var n=e.reset,t=e.startStitchedAd,i=e.videoAdMetadata,a=e.setRadToken,r=(0,f.lq)(i)&&i||void 0;return{reset:n,startStitchedAd:t,stitchedAdMetadata:r,setRadToken:a}})),(0,p.dd)((function(e){var n=e.logger,t=e.muted,i=e.volume;return{logger:n,muted:t,volume:i}})),(0,u.X)())(_);function C(e,n){n?n.split("|").forEach((function(e){return fetch(e)})):s.x2.logger.warn("failed to send stitched ad ".concat(e," tracking event - no ").concat(e," URL(s) provided"))}!function(e){e.START="start",e.END="end"}(g||(g={}))},325640:function(e,n,t){"use strict";t.d(n,{OK:function(){return u},bi:function(){return i}});var i,a=t(331635),r=t(375747),o=t(357515);!function(e){e[e.Default=0]="Default",e[e.InVideo=1]="InVideo",e[e.Pushdown=2]="Pushdown"}(i||(i={}));var s={iframeEl1:void 0,iframeEl2:void 0,curFrame:1,hasActiveBid:!1,isSDASequenceVisible:!1,sdaFormat:o.Z$.SQUEEZEBACK,sdaMode:i.Default,pushdownAvailable:!1},l=(0,a.__assign)((0,a.__assign)({},s),{reportMount:function(){return null},reportUnmount:function(){return null},setSDAMode:function(){return null},setPushdownAvailable:function(){return null},checkAndUpdateSDAHiddenState:function(){return null}}),d=(0,r.e)("SDAContext",l,(function(e){return{sdaContext:e}})),u=(d.withMemoContext,d.context)},424182:function(e,n,t){"use strict";t.d(n,{F:function(){return _},J:function(){return S}});var i,a=t(296540),r=t(485272),o=t(194569),s=t(945137),l=t(954351),d=t(933781),u=t(357515),c=t(378328),p=t(583167),m=t(319224),v=t(325640),f=t(743338),g="channel_skins",h="default",y="sda_upsell",k=((i={})[h]={height:90,width:728},i[u.Z$[u.Z$.LOWER_THIRD]]={height:90,width:728},i[u.Z$[u.Z$.SQUEEZEBACK]]={height:1050,width:300},i[u.Z$[u.Z$.OUTSTREAM_VERTICAL_VIDEO]]={height:1920,width:1080},i[g]={height:113,width:728},i[y]={height:90,width:728},i);function S(){var e,n,t=a.useContext(l.jK),i=t.adFormatMetadata,g=t.isDisplayingSDASequence,h=a.useContext(o.m9).isSurveyShowing,y=a.useContext(d.kl),S=(0,m.f)(),b=(0,s.U0)().isSDAUpsellShowing,C=null===(e=a.useContext(d.kl).behaviors)||void 0===e?void 0:e.mini,P=null===(n=y.behaviors)||void 0===n?void 0:n.disableSDAUpsell,E=!(!b||!S||C||P),N=a.useState(void 0),x=N[0],A=N[1],w=a.useState(void 0),T=w[0],I=w[1],D=a.useState(1),F=D[0],O=D[1],R=a.useState(0),V=R[0],M=R[1],L=a.useState(0),j=L[0],B=L[1],U=a.useState(1),q=U[0],G=U[1],z=a.useState(1),H=z[0],W=z[1],K=a.useState(0),Z=K[0],Q=K[1],Y=a.useState(0),X=Y[0],$=Y[1],J=a.useContext(d.kl).behaviors,ee=a.useState(!1),ne=ee[0],te=ee[1];a.useEffect((function(){!ne&&(0,c.I9)(i)&&"visible"===i.status?te(!0):ne&&!(0,c.I9)(i)&&te(!1)}),[ne,i]);var ie=(0,p.N8)(J,"enableStreamDisplayAds")&&i&&(0,r.rW)(i.adFormat),ae=i&&i.adFormat===u.Z$.OUTSTREAM_VERTICAL_VIDEO,re=ae&&"hiding"!==(null==i?void 0:i.status),oe=ie&&g||h||E,se=(0,r.rW)(null==i?void 0:i.adFormat)&&(null==i?void 0:i.adFormat)===u.Z$.SQUEEZEBACK,le=a.useContext(v.OK).sdaMode,de=(0,r.rW)(null==i?void 0:i.adFormat)&&(null==i?void 0:i.adFormat)===u.Z$.LOWER_THIRD&&le===v.bi.Pushdown,ue=a.useMemo((function(){return[{"video-player--stream-display-ad_lower-third":!de&&ie&&!se&&!ae||h||E,"video-player--stream-display-ad_squeezeback":!(de||!ie||!se||ae||h||E),"video-player--stream-display-ad_vertical-video":!(!ae||de||se||h||E)}]}),[ie,se,h,de,ae,E]),ce=a.useMemo((function(){return!de&&oe&&ne||!de&&ae&&re||h||E?{height:"calc(".concat(100*q,"% - ").concat(Z,"px)"),width:"calc(".concat(100*H,"%)"),insetInlineStart:se||ae?"".concat(X,"px"):void 0}:{}}),[oe,ne,se,h,q,Z,H,X,de,ae,E,re]),pe=(0,c.I9)(i)?i:void 0,me=a.useMemo((function(){return null==pe?void 0:pe.bid}),[null==pe?void 0:pe.bid]),ve=(0,c.hr)(i)?i:void 0,fe=pe||ve,ge=fe&&fe.adFormat;ge!==u.Z$.OUTSTREAM_VERTICAL_VIDEO&&ge!==u.Z$.SQUEEZEBACK&&ge!==u.Z$.LOWER_THIRD&&(ge=void 0);var he=a.useMemo((function(){return _(ge,me,h,E)}),[me,h,ge,E]),ye=a.useMemo((function(){return{height:F?he.height*F:he.height,width:F?he.width*F:he.width}}),[he,F]),ke=a.useMemo((function(){return T&&(se||ae)?{height:ye.height,width:ye.width+H*T}:ye}),[ye,T,H,se,ae]),Se=a.useMemo((function(){return F?{height:ke.height/F,width:ke.width/F}:ke}),[F,ke]),_e=a.useCallback((function(e,n){A(n),I(e)}),[]);return a.useEffect((function(){if(void 0!==T&&void 0!==x&&(ge===u.Z$.LOWER_THIRD||h||E)){var e=x/4,n=100*(he.height?Math.min(1,e/he.height):1)/100,t=100*(he.width?Math.min(1,T/he.width):1)/100,i=Math.min(1,Math.max(0,Math.min(t,n)));O(i);var a=i*he.height,r=Math.min(x,9*T/16),o=r?Math.min(1,(x-a)/r):1;G(o),W(1);var s=x-r,l=s/2,d=Math.max(0,l<a?(x-r-a)/2:(x-r)/2-a);M(Math.floor(d)),Q(Math.floor(l<a?a<s?a:s:0)),$(0)}}),[he.height,he.width,x,T,ge,h,E]),a.useEffect((function(){if(void 0!==T&&void 0!==x&&ge===u.Z$.SQUEEZEBACK&&!h&&!E){var e=Math.min(T,16*x/9),n=Math.min(x,9*T/16),t=n/he.height,i=t*he.width;if((0,f.Ny)(he)){var a=k[u.Z$[u.Z$.SQUEEZEBACK]];i=(t=n/a.height)*a.width}var r=Math.min(T-i,e),o=9*r/16,s=Math.max(Math.min(1,r/T),0),l=Math.max(Math.min(1,o/x),0);W(s),G(l),(0,f.Ny)(he)?(O(Math.min(1,o/he.height)),B(T*s)):(O(t),B(e-r)),T-i>e?($((T-(e+i))/2),Q(0),M(0)):($(0),Q(0),M(0))}}),[he,x,T,ge,h,E]),a.useEffect((function(){if(void 0!==T&&void 0!==x&&ge===u.Z$.OUTSTREAM_VERTICAL_VIDEO&&!h){var e=Math.min(T,16*x/9),n=Math.min(x,9*T/16)/he.height*he.width,t=.084*n,i=T/(e+n+3*t),a=e*i,r=9*a/16,o=n*i/he.width,s=t*i,l=Math.max(Math.min(1,a/T),0),d=Math.max(Math.min(1,r/x),0);W(l),G(d),$(s),Q(0),O(Math.min(1,o)),B(s),M(0)}}),[he,x,T,ge,h]),a.useMemo((function(){return{handleResize:_e,sdaHorizontalOffset:j,sdaScale:F,sdaVerticalOffset:V,sdaVideoRefClasses:ue,sdaVideoRefStyles:ce,adDimensions:he,scaledAdDimensions:ye,containerDimensions:Se,scaledContainerDimensions:ke}}),[he,Se,_e,ye,ke,j,F,V,ue,ce])}function _(e,n,t,i){var a=k[h];return e&&u.Z$[e]in k&&(a=k[u.Z$[u.Z$.OUTSTREAM_VERTICAL_VIDEO]]),t?k[g]:i?k[y]:n&&isFinite(n.width)&&isFinite(n.height)?{height:n.height,width:n.width}:a}},49772:function(e,n,t){"use strict";t.d(n,{M:function(){return a}});var i=t(296540),a=function(e){var n=i.useState(!1),t=n[0],a=n[1];return i.useEffect((function(){if(e&&e.current){var n=null==e?void 0:e.current,t=function(){return a(!0)},i=function(){return a(!1)};return n.addEventListener("mouseenter",t),n.addEventListener("mouseleave",i),function(){n.removeEventListener("mouseenter",t),n.removeEventListener("mouseleave",i)}}}),[e]),{isHovering:t}}},369382:function(e,n,t){"use strict";t.d(n,{AF:function(){return P},ZV:function(){return S},KV:function(){return k},S:function(){return b},gD:function(){return C}});var i,a=t(474848),r=t(959340),o=t(914421),s=t(312663),l=t(588702),d=t(296540),u=t(478260),c=t(170809),p=t(652867),m=t(954351),v=t(890675),f=t(764120),g=t(372512),h=t(378328);!function(e){e.Control="control",e.PodCountdownInMinute="iteration1",e.PodCountdownInSecond="iteration2"}(i||(i={}));var y=function(e){return e?u.x2.experiments.__hardcodedStaleExperiment("during_ad_messaging_eligibility","iteration1"):""},k=function(e,n){return(0,u.hw)("Ad {minutes}:{seconds}",{minutes:e,seconds:_(n)},"VideoAdCountdown")},S=function(e,n,t,i){return(0,u.hw)("Ad {currentAdPosition} of {totalAds} · {minutes}:{seconds}",{currentAdPosition:e,totalAds:n,minutes:t,seconds:_(i)},"VideoAdCountdown")},_=function(e){return e<10?"0".concat(e):String(e)},b=function(e){var n=(0,d.useContext)(v.$g).mediaPlayerInstance,t=(0,d.useContext)(m.jK),a=t.videoAdMetadata,r=t.adFormatMetadata,o=C(n,a,r),s=o.minutes,l=o.seconds,c=o.time,p=o.roundedTime,f=o.adPosition,g=o.numberOfAds,k=_(l);if(!(0,h.cz)(a)||!e&&c<0)return"";var S,b=y((0,h.lq)(a));if(e)S=g>1?(0,u.hw)("Twitch Ad {adPosition} of {numberOfAds} : ({minutes}:{seconds})",{adPosition:f,numberOfAds:g,minutes:s,seconds:k},"VideoAdCountdown"):(0,u.hw)("Twitch Ad : ({minutes}:{seconds})",{minutes:s,seconds:k},"VideoAdCountdown");else switch(b){case i.PodCountdownInMinute:S=(0,u.hw)("Ad ({minutes}:{seconds})",{minutes:s,seconds:k},"VideoAdCountdown");break;case i.PodCountdownInSecond:S=(0,u.hw)("Ad: {roundedTime}s",{roundedTime:p},"VideoAdCountdown");break;default:S=g>1?(0,u.hw)("Ad {adPosition} of {numberOfAds} : ({minutes}:{seconds})",{adPosition:f,numberOfAds:g,minutes:s,seconds:k},"VideoAdCountdown"):(0,u.hw)("{minutes}:{seconds}",{minutes:s,seconds:k},"VideoAdCountdown")}return S},C=function(e,n,t){var a,r,o=(0,h.hr)(t),s=o?t:n,l=null!==(a=null==s?void 0:s.numberOfAds)&&void 0!==a?a:0,u=(0,h.lq)(n)?n:void 0,m=(0,h.cz)(n),v=null!==(r=null==s?void 0:s.adPosition)&&void 0!==r?r:0,k=(0,d.useState)(0),S=k[0],_=k[1],b=d.useState(0),C=b[0],P=b[1],E=(0,d.useCallback)((function(e){_(Math.round(e.duration-e.progress))}),[]);(0,c.A)({videoAdMetadata:n,adFormatMetadata:t}).adEvents.addEventListener(f.V.Progress,E);var N=d.useMemo((function(){return e&&u?{duration:+u.duration,podFilledDuration:+u.podFilledDuration,startPosition:e.getPosition()||0}:null}),[e,u]);d.useEffect((function(){N?1===v&&P(N.startPosition):P(0)}),[N,v]);var x=y((0,h.lq)(n));if((0,p.p)(g.a.TIME_UPDATE,(0,d.useCallback)((function(){var n;e&&N&&(n=function(e){return e===i.PodCountdownInMinute||e===i.PodCountdownInSecond}(x)?N.podFilledDuration-(e.getPosition()-C):N.duration-(e.getPosition()-N.startPosition),_(Math.round(n)))}),[e,N,x,C])),!m&&!o)return{minutes:0,seconds:0,time:0,roundedTime:0,adPosition:0,numberOfAds:0};var A=Math.max(0,S);return{minutes:Math.floor(A/60),seconds:Math.round(A%60),time:S,roundedTime:A,adPosition:v,numberOfAds:l}},P=function(){var e=b();return e?(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,padding:1,background:o.VS.Overlay,display:o.nl.InlineBlock,"data-a-target":"video-ad-countdown",children:(0,a.jsx)(s.N,{color:o.Q1.Overlay,type:l.M2.Span,children:e})}):null};P.displayName="VideoAdCountdown"},883079:function(e,n,t){"use strict";t.d(n,{Cq:function(){return p}});var i=t(331635),a=t(474848),r=(t(296540),t(415044)),o=t(868238),s=t(128633),l=t(954351),d=t(933781),u=t(359630),c=t(378328);var p=(0,o.Zz)((0,r.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,rightColumnExpanded:e.ui.rightColumnExpanded}})),(0,l.VX)((function(e){return{videoAdMetadata:e.videoAdMetadata,adFormatMetadata:e.adFormatMetadata,request:e.videoAdRequest,isVideoAdShowing:(0,c.cz)(e.videoAdMetadata),stitchedAdMetadata:(0,c.lq)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,clientSideAdMetadata:(0,c.EF)(e.videoAdMetadata)&&e.videoAdMetadata||void 0}})),(0,d.cj)((function(e){return{behaviors:e.behaviors}})),(0,u.AP)((function(e){return{play:e.play,pause:e.pause}})))((function(e){var n,t,r,o,l=e.rightColumnExpanded,d=null===(n=e.videoAdMetadata)||void 0===n?void 0:n.stitched,u=e.format,p="audio-csai"===u,m=e.left,v=e.bottom;if(!e.isVideoAdShowing&&!(0,c.pt)(e.adFormatMetadata))return null;var f=d?function(e){var n,t,a,r,o,s,l,d,u,c,p,m,v;return(0,i.__assign)({adInput:{adIDValue:null===(n=e.stitchedAdMetadata)||void 0===n?void 0:n.lineItemId,adProgramIDValue:null,adSessionIDValue:null===(t=e.stitchedAdMetadata)||void 0===t?void 0:t.adSessionId,advertiserIDNS:null!==(r=null===(a=e.stitchedAdMetadata)||void 0===a?void 0:a.dsaAdvertiserId)&&void 0!==r?r:"",campaignIDNS:null!==(s=null===(o=e.stitchedAdMetadata)||void 0===o?void 0:o.dsaCampaignId)&&void 0!==s?s:"",creativeIDValue:null===(l=e.stitchedAdMetadata)||void 0===l?void 0:l.creativeId,mediaDurationInSeconds:null===(d=e.videoAdMetadata)||void 0===d?void 0:d.duration,pageURL:document.URL,selectionSignals:{dsaPastActivity:null===(u=e.stitchedAdMetadata)||void 0===u?void 0:u.dsaPastActivity,dsaVersion:null===(c=e.stitchedAdMetadata)||void 0===c?void 0:c.dsaVersion,isShownBasedOffUserDsaContext:null===(p=e.stitchedAdMetadata)||void 0===p?void 0:p.dsaContext,isShownBasedOffUserDsaLocation:null===(m=e.stitchedAdMetadata)||void 0===m?void 0:m.dsaLocation},slotName:null===(v=e.stitchedAdMetadata)||void 0===v?void 0:v.adFormat}},{clientInput:{ttMedium:"channel_videos"},countryInfo:{geoCode:null,isFromEU:!1}})}(e):function(e){var n,t,a,r,o,s,l,d,u,p,m,v,f,g,h,y,k,S,_,b=(0,c.hr)(e.adFormatMetadata)?e.adFormatMetadata:e.clientSideAdMetadata;return(0,i.__assign)({adInput:{adIDValue:(null===(n=null==b?void 0:b.adInfo)||void 0===n?void 0:n.adCfId)||(null===(t=null==b?void 0:b.adInfo)||void 0===t?void 0:t.adID),adProgramIDValue:null,adSessionIDValue:null===(a=e.request)||void 0===a?void 0:a.sessionID,advertiserIDNS:null!==(s=null===(o=null===(r=null==b?void 0:b.adInfo)||void 0===r?void 0:r.transparencyInfo)||void 0===o?void 0:o.advertiserId)&&void 0!==s?s:"",campaignIDNS:null!==(u=null===(d=null===(l=null==b?void 0:b.adInfo)||void 0===l?void 0:l.transparencyInfo)||void 0===d?void 0:d.campaignId)&&void 0!==u?u:"",creativeIDValue:(null===(p=null==b?void 0:b.adInfo)||void 0===p?void 0:p.creativeCfId)||(null===(m=null==b?void 0:b.adInfo)||void 0===m?void 0:m.creativeID),mediaDurationInSeconds:null==b?void 0:b.duration,pageURL:document.URL,selectionSignals:{dsaPastActivity:null===(f=null===(v=null==b?void 0:b.adInfo)||void 0===v?void 0:v.transparencyInfo)||void 0===f?void 0:f.selectionSignals.pastActivity,dsaVersion:null===(h=null===(g=null==b?void 0:b.adInfo)||void 0===g?void 0:g.transparencyInfo)||void 0===h?void 0:h.version,isShownBasedOffUserDsaContext:null===(k=null===(y=null==b?void 0:b.adInfo)||void 0===y?void 0:y.transparencyInfo)||void 0===k?void 0:k.selectionSignals.context,isShownBasedOffUserDsaLocation:null===(_=null===(S=null==b?void 0:b.adInfo)||void 0===S?void 0:S.transparencyInfo)||void 0===_?void 0:_.selectionSignals.location},slotName:null==b?void 0:b.adFormat.toString()}},{clientInput:{ttMedium:"channel_videos"},countryInfo:{geoCode:null,isFromEU:!1}})}(e);return(0,a.jsx)(s.V,{dsaContext:f,onClick:null!==(t=e.onClick)&&void 0!==t?t:e.pause,onClose:null!==(r=e.onClose)&&void 0!==r?r:e.play,format:u,left:m,bottom:v,margin:{bottom:0,top:p?0:l?1:2,right:p?0:l?1:null!==(o=e.right)&&void 0!==o?o:4},adInfoTextOverride:e.adInfoTextOverride,rendersInVideoPlayer:!0})}));p.displayName="VideoDSAButton"},703664:function(e,n,t){"use strict";t.d(n,{A:function(){return f}});var i=t(331635),a=t(474848),r=(t(296540),t(868238)),o=t(300235),s=t(531763),l=t(954351),d=t(890675),u=t(933781),c=t(420613),p=t(947945),m=t(359630),v=t(860879);function f(){return function(e){var n=function(n){var t=(0,s.p)((0,i.__assign)((0,i.__assign)({},n),{adPlacement:v.p.CHANNEL_PLAYER,videoSessionId:n.mediaPlayerInstance&&n.mediaPlayerInstance.getSessionData()["VIDEO-SESSION-ID"]}));return(0,a.jsx)(e,(0,i.__assign)({},n,t))};return n.displayName=(0,o.K)(n.name,e),(0,r.Zz)((0,u.cj)((function(e){return{content:e.content,behaviors:e.behaviors}})),(0,l.VX)((function(e){return{adFormatRequest:e.adFormatRequest,adFormatMetadata:e.adFormatMetadata,radToken:e.radToken}})),(0,d.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,c.o1)(),(0,p.c0)((function(e){return{videoContainer:e.videoContainer}})),(0,m.AP)((function(e){return{muted:e.muted,volume:e.volume}})))(n)}}},411998:function(e,n,t){"use strict";var i;t.d(n,{V:function(){return i}}),function(e){e.AdImpression="ad_impression"}(i||(i={}))},916357:function(e,n,t){"use strict";function i(e){if(!e)return 0;var n=e.getBoundingClientRect(),t={height:window.innerHeight||document.documentElement.clientHeight||screen.height||0,width:window.innerWidth||document.documentElement.clientWidth||screen.width||0};if(n.top<t.height&&n.left<t.width&&n.right>0&&n.bottom>0){var i=n.bottom-n.top;return Math.min(t.height-n.top,n.bottom,i,t.height)/i}return 0}t.d(n,{K:function(){return i}})},775042:function(e,n,t){"use strict";t.d(n,{O:function(){return d}});var i=t(331635),a=t(474848),r=t(296540),o=t(300235),s=t(170809),l=t(954351);function d(){return function(e){var n=function(n){var t=(0,r.useContext)(l.jK),o=t.adFormatMetadata,d=t.videoAdMetadata,u=(0,s.A)({videoAdMetadata:d,adFormatMetadata:o});return(0,a.jsx)(e,(0,i.__assign)({},n,u))};return n.displayName=(0,o.K)("WithVideoAdEvents",e),n}}},211212:function(e,n,t){"use strict";t.d(n,{_:function(){return o}});var i=t(296540),a=t(954351),r=t(378328);function o(e,n,t){var o=i.useContext(a.jK),s=o.videoAdMetadata,l=o.adFormatMetadata,d=l||(null==t?void 0:t.adFormatMetadata);i.useEffect((function(){var t=(0,r.jC)(s,d);return t&&t.addEventListener(e,n),function(){t&&t.removeEventListener(e,n)}}),[s,l,e,n,d])}},185418:function(e,n,t){"use strict";t.d(n,{_:function(){return T}});var i=t(331635),a=t(474848),r=t(296540),o=t(868238),s=t(478260),l=t(928778),d=t(345029),u=t(503472),c=t(300235),p=t(777952),m=t(669022),v=t(726726),f=t(916357),g=t(954351),h=t(890675),y=t(933781),k=t(420613),S=t(947945),_=t(359630),b=t(357515),C=t(358350),P=t(378328),E=t(347953),N=t(404852),x=t(614222),A=t.n(x);function w(e){return{muted:e.muted,volume:e.volume}}function T(){return function(e){var n=function(n){function t(e){var t=n.call(this,e)||this;return t.logger=s.vF.withCategory("WithVideoAdTrackingComponent"),t.playerVisibilityAllowlist=new Set(["ad_impression",N.V.AdImpression,"ad_quartile"]),t.trackVideoAdData=function(e,n){t.props.track(e,(0,i.__assign)((0,i.__assign)({},t.getRequestProperties(e)),n))},t.trackVideoRAdEvent=function(e,n){return(0,i.__awaiter)(t,void 0,void 0,(function(){var t,a,r;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:if("string"!=typeof(t=this.props.radToken))return[2];a={eventName:e,eventPayload:JSON.stringify((0,i.__assign)((0,i.__assign)({},this.getRequestProperties(e)),n)),radToken:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.props.recordAdEvent((0,u.AR)(a))];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),this.logger.errorAndReport(r,"Failed to record ad event in RAds"),[3,4];case 4:return[2]}}))}))},t.getRequestProperties=function(e){var n,a,r,o,l,u,c,m,f,g,h=t.props,y=h.videoAdRequest,k=h.videoAdMetadata,S=h.content,_=h.behaviors,N=h.consent,x=h.muted,A=h.volume,w=h.mediaPlayerInstance;if((0,P.lq)(k))return{stitched:!0};var T=k,I="";if(T&&"sdkUrl"in T&&T.sdkUrl&&(I=T.sdkUrl),!y)return{ad_session_id:null,roll_type:null,time_break:null};var D={};y.status!==C.sC.Pending&&(D={provider:y.sdk,ad_server:y.server&&y.server.toLowerCase(),sdk_url:I});var F=k?k.adFormat:y.adFormat,O=void 0;(0,v.Ix)(F)?O=F:(0,v.vK)(F)&&(O=b.Z$[F]);var R=(0,E.DG)(S)?p.cM.Live:(0,E.wy)(S)?p.cM.VOD:(0,E.Jn)(S)?p.cM.Clip:"";return(0,i.__assign)({stitched:(0,P.lq)(k),tab_session_id:s.x2.session.tabID,browser:navigator.userAgent,country:(0,d.If)()||"",content_type:R,is_mafs:!!y.mafsDecision,gdpr_logs:null===(a=null===(n=null==N?void 0:N.consent)||void 0===n?void 0:n.gdprUserPreferences)||void 0===a?void 0:a.tcData.tcString,gdpr_consent:null===(l=null===(o=null===(r=null==N?void 0:N.consent)||void 0===r?void 0:r.gdprUserPreferences)||void 0===o?void 0:o.tcData.purpose.consents)||void 0===l?void 0:l.valueOf(),gdpr_enabled:null===(m=null===(c=null===(u=null==N?void 0:N.consent)||void 0===u?void 0:u.gdprUserPreferences)||void 0===c?void 0:c.tcData.ifGDPRApplies)||void 0===m?void 0:m.valueOf(),referrer_domain:null===(f=s.E5.getLastPageview())||void 0===f?void 0:f.referrer_domain,is_embed:null==_?void 0:_.embed,twitch_correlator:y.twitchCorrelator,ad_session_id:y.sessionID,roll_type:y.roll,time_break:y.duration,break_length:y.duration,commercial_id:y.commercialID,format_name:O,sdk_url:I,player_mute:x,player_visibility:t.getPlayerVisibility(e),video_session_id:null===(g=null==w?void 0:w.getSessionData())||void 0===g?void 0:g["VIDEO-SESSION-ID"],player_volume:A},D)},t.state={trackVideoAdData:t.trackVideoAdData,trackVideoRAdEvent:t.trackVideoRAdEvent},t}return(0,i.__extends)(t,n),t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,this.state))},t.prototype.getPlayerVisibility=function(e){if(this.playerVisibilityAllowlist.has(e))return(0,f.K)(this.props.videoContainer)},t.displayName=(0,c.K)(t.name,e),t}(r.Component);return(0,o.Zz)((0,y.cj)((function(e){return{content:e.content,behaviors:e.behaviors}})),(0,k.o1)(),(0,h.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,S.c0)((function(e){return{videoContainer:e.videoContainer}})),(0,_.AP)(w),(0,g.VX)((function(e){return{videoAdRequest:e.videoAdRequest,videoAdMetadata:e.videoAdMetadata,radToken:e.radToken}})),(0,l._v)(A(),{name:"recordAdEvent"}),m.z3)(n)}}},404852:function(e,n,t){"use strict";var i;t.d(n,{V:function(){return i}}),function(e){e.AdImpression="ad_impression",e.AdPodComplete="ad_pod_complete",e.AdQuartile="ad_quartile",e.VideoAdRequest="video_ad_request",e.VideoAdRequestDeclined="video_ad_request_declined",e.VideoAdRequestError="video_ad_request_error",e.VideoAdError="video_ad_error",e.VideoAdImpression="video_ad_impression",e.VideoAdQuartileComplete="video_ad_quartile_complete",e.VideoAdPodComplete="video_ad_pod_complete"}(i||(i={}))},288520:function(e,n,t){"use strict";t.d(n,{e:function(){return c}});var i=t(331635),a=t(474848),r=t(296540),o=t(933781),s=t(583167),l=t(860203),d=t(472717),u=t(347953);function c(){return function(e){var n=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.getContentUrl=function(n,t){var i=e.props;return function(e,n){var t,i,a,r;void 0===n&&(n={});var o=n.contentRoutingOverrides;return(0,u.DG)(e)?(null!==(t=null==o?void 0:o[l.FC.Live])&&void 0!==t?t:d.U)(e,n):(0,u.wy)(e)?(null!==(i=null==o?void 0:o[l.FC.VOD])&&void 0!==i?i:d.zb)(e,n):(0,u.P3)(e)?(null!==(a=null==o?void 0:o[l.FC.Collection])&&void 0!==a?a:d.Mr)(e,n):(0,u.Jn)(e)?(null!==(r=null==o?void 0:o[l.FC.Clip])&&void 0!==r?r:d.cs)(e,n):void 0}(n,{trackingContext:t,linkTrackingContext:i.linkTrackingContext,contentRoutingOverrides:i.overrideContentRouting})},e.getFullyFormedUrl=function(n,t){return function(e,n){return void 0===n&&(n={}),(0,u.DG)(e)&&(0,d.b3)(e,n)||(0,u.wy)(e)&&(0,d.A9)(e,n)||(0,u.P3)(e)&&(0,d.$q)(e,n)||(0,u.Jn)(e)&&(0,d.zM)(e,n)||d.Kk}(n,{trackingContext:t,linkTrackingContext:e.props.linkTrackingContext})},e}return(0,i.__extends)(t,n),t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,{getContentUrl:this.getContentUrl,getFullyFormedUrl:this.getFullyFormedUrl}))},t}(r.Component);return(0,o.cj)(p)(n)}}function p(e){var n=(0,s.wk)({playerPublicPropsContext:e});return{linkTrackingContext:n.linkTrackingContext,overrideContentRouting:n.overrideContentRouting}}},719774:function(e,n,t){"use strict";t.d(n,{X:function(){return l}});var i=t(331635),a=t(474848),r=t(296540),o=t(300235),s=t(890675);function l(){return function(e){var n=function(n){function t(e){var t=n.call(this,e)||this;t.bufferedEventListeners=[],t.attachedEventListeners=[],t.addEventListener=function(e,n){var i=t.props.mediaPlayerInstance,a={event:e,listener:n};i?(t.attachedEventListeners.push(a),t.bufferedEventListeners=t.filterEventListeners(t.bufferedEventListeners,e,n),i.addEventListener(e,n)):t.bufferedEventListeners.push(a)},t.removeEventListener=function(e,n){var i=t.props.mediaPlayerInstance;i&&(t.attachedEventListeners=t.filterEventListeners(t.attachedEventListeners,e,n),i.removeEventListener(e,n))},t.attachEventListeners=function(){var e=t.props.mediaPlayerInstance;0!==t.bufferedEventListeners.length&&e&&t.bufferedEventListeners.forEach((function(e){var n=e.event,i=e.listener;return t.addEventListener(n,i)}))},t.filterEventListeners=function(e,n,t){return e.filter((function(e){var i=e.event,a=e.listener;return n!==i&&t!==a}))};var i=t,a=i.addEventListener,r=i.removeEventListener;return t.state={playerEvents:{addEventListener:a,removeEventListener:r}},t}return(0,i.__extends)(t,n),t.prototype.componentDidMount=function(){this.attachEventListeners()},t.prototype.componentDidUpdate=function(){this.attachEventListeners()},t.prototype.componentWillUnmount=function(){var e=this;this.attachedEventListeners.forEach((function(n){var t=n.event,i=n.listener;return e.removeEventListener(t,i)}))},t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,this.state))},t.displayName=(0,o.K)(t.name,e),t}(r.Component);return(0,s.dd)(d)(n)}}function d(e){return{mediaPlayerInstance:e.mediaPlayerInstance}}},652867:function(e,n,t){"use strict";t.d(n,{p:function(){return r}});var i=t(296540),a=t(890675),r=function(e,n){var t=i.useContext(a.$g).mediaPlayerInstance;i.useEffect((function(){return t&&t.addEventListener(e,n),function(){t&&t.removeEventListener(e,n)}}),[e,n,t])}},953970:function(e,n,t){"use strict";t.d(n,{_v:function(){return m},mh:function(){return v},vM:function(){return c}});var i=t(474848),a=t(296540),r=t(375747),o=t(652867),s=t(890675),l=t(580251),d={castingState:"unavailable",deviceName:"",startCast:function(){return null},stopCast:function(){return null}};var u=(0,r.e)("ChromecastContext",d,(function(e){return{chromecastContext:e}})),c=u.withMemoContext,p=u.context,m=function(e){var n=e.children,t=function(e){var n=e.logger,t=(0,a.useRef)(n.withCategory("chromecast-context")),i=(0,a.useContext)(s.$g).mediaPlayerInstance,r=(0,a.useState)(d.castingState),u=r[0],c=r[1],p=(0,a.useState)(d.deviceName),m=p[0],v=p[1],f=(0,a.useCallback)((function(){t.current.info("Initiating remote playback session via player core."),c("connecting"),null==i||i.startRemotePlayback()}),[i]),g=(0,a.useCallback)((function(){t.current.info("Ending remote playback session with ".concat(m," via player core.")),null==i||i.endRemotePlayback()}),[m,i]);return(0,o.p)(l.G.AVAILABLE,(0,a.useCallback)((function(){c("available")}),[])),(0,o.p)(l.G.UNAVAILABLE,(0,a.useCallback)((function(){c("unavailable")}),[])),(0,o.p)(l.G.SESSION_STARTED,(0,a.useCallback)((function(e){t.current.info("Remote playback session started with a device named ".concat(e)),c("connected"),v(e)}),[])),(0,o.p)(l.G.SESSION_ENDED,(0,a.useCallback)((function(){c("available")}),[])),(0,a.useMemo)((function(){return{castingState:u,deviceName:m,startCast:f,stopCast:g}}),[u,m,f,g])}({logger:e.logger});return(0,i.jsx)(p.Provider,{value:t,children:n||null})};function v(e){return"connected"===e.castingState}},309221:function(e,n,t){"use strict";t.d(n,{J:function(){return s},Z:function(){return l}});var i=t(375747),a=t(77451),r={channelName:null,contentLabels:null,overlayTiming:a.HX.PageLoad,overlayType:a.P8.None,storeAcknowledgement:function(){},trackClick:function(){}},o=(0,i.e)("contentClassificationContext",r,(function(e){return{contentClassificationContext:e}})),s=o.context,l=o.withMemoContext},98865:function(e,n,t){"use strict";t.d(n,{A3:function(){return s},GZ:function(){return r},iu:function(){return l}});var i=t(375747),a=t(793122),r={overlayExtension:null,componentExtensions:[],shouldMountExtensionComponents:!1,allVideoExtensions:[],isChannelInfoVisible:!1,isOverlayVisible:!1,permissionsStates:{},setOverlayVisibility:function(){},setMenuState:function(e,n){},setPlayerMenuState:function(e,n){},setPermissionsState:function(e,n){},setNotification:function(e){},openPopover:function(e){},closePopover:function(e){},togglePopover:function(e){},hoverExtensionCard:function(e){},isMenuOpen:function(e){return!1},isPopoverOpen:function(e){return!1},isDockIconHovered:function(e){return!1},isAnyPopoverOpen:function(){return!1},getMenuState:function(e){return{type:a.gu.NONE}},getPlayerMenuState:function(){return{type:a.gu.NONE,selectedInstallationID:null}},getNotification:function(){return{type:a._n.NONE}},hideExtensions:!0,trackEvent:function(e,n,t){}},o=(0,i.e)("ExtensionsUIContext",r,(function(e){return{extensionsUIContext:e}})),s=o.withMemoContext,l=o.context},987476:function(e,n,t){"use strict";var i,a,r;function o(e,n,t){return{action_type:e,action_result:n,extension_id:t.id,extension_name:t.extension.name,extension_type:t.activationConfig.anchor,extension_version:t.extension.version}}function s(e){switch(e){case r.ExtensionDockIconClick:return"extension_dock_icon_click";case r.ExtensionDockMenuOptionClick:return"extension_dock_menu_option_click";case r.ExtensionDockToolbarIconClick:return"extension_dock_toolbar_icon_click";default:return null}}t.d(n,{X2:function(){return i},dP:function(){return o},iN:function(){return a},si:function(){return r},w1:function(){return s}}),function(e){e.ToolbarLeftAngleIconClick="toolbar_left_angle_icon_click",e.ToolbarGearIconClick="toolbar_gear_icon_click",e.ToolbarXIconClick="toolbar_x_icon_click",e.MenuOptionClick="menu_option_click",e.ExtensionDockIconClick="dock_icon_click",e.ExtensionDockIconHover="dock_icon_hover"}(i||(i={})),function(e){e.MaximizeExtension="maximize_extension",e.MinimizeExtension="minimize_extension",e.BuildExtension="build_extension",e.ReportExtension="report_extension",e.ViewDetails="view_details",e.Grant="grant_access",e.Revoke="revoke_access",e.ViewMenu="view_menu",e.HideMenu="hide_menu",e.HideOverlay="hide_overlay",e.ViewOverlay="view_overlay",e.DisplayHoverInfo="display_hover_info"}(a||(a={})),function(e){e.ExtensionDockIconClick="extension_dock_icon_click",e.ExtensionDockToolbarIconClick="extension_dock_toolbar_icon_click",e.ExtensionDockMenuOptionClick="extension_dock_menu_option_click",e.ExtensionDockIconHover="extension_dock_icon_hover"}(r||(r={}))},886384:function(e,n,t){"use strict";t.d(n,{In:function(){return S},MP:function(){return _},RX:function(){return C}});var i=t(331635),a=t(474848),r=t(296540),o=t(415044),s=t(868238),l=t(194569),d=t(945137),u=t(719774),c=t(196288),p=t(372512),m=t(378328),v=t(954351),f=t(375747),g=t(890675),h=t(933781),y=t(947945),k=(0,f.e)("PlayerActivityContext",{disablePlayerActiveTimeout:function(){return null},enablePlayerActiveTimeout:function(){return null},__doNotUse_SetPlayerActivity:function(){return null}},(function(e){return{playerActivityContext:e}})),S=k.withMemoContext,_=k.context,b=function(e){function n(n){var t=e.call(this,n)||this;return t.listenersAttached=!1,t.playerActiveTimeoutEnabled=!0,t.mouseIsInsidePlayer=!1,t.handleMouseEnter=function(e){var n=e.relatedTarget;(null==n?void 0:n.closest("#player-controls-button-tooltip"))||"BODY"===(null==n?void 0:n.nodeName)||(t.mouseIsInsidePlayer=!0,t.setPlayerActive())},t.handleMouseLeave=function(e){var n=e.relatedTarget;(null==n?void 0:n.closest("#player-controls-button-tooltip"))||(t.mouseIsInsidePlayer=!1,t.setPlayerInactive())},t.onMouseMove=function(){t.mouseIsInsidePlayer&&(t.mouseMoveRAF||(t.mouseMoveRAF=requestAnimationFrame(t.setPlayerActive)))},t.onQualityChange=function(){var e=t.props.mediaPlayerInstance;e&&!e.isAutoQualityMode()&&t.setPlayerActive()},t.setPlayerActivity=function(e){e?t.setPlayerActive():t.setPlayerInactive()},t.setPlayerActive=function(){var e,n;t.clearPlayerActiveTimeout(),null===(n=(e=t.props).onPlayerActive)||void 0===n||n.call(e),t.setState((function(e){return e.active?null:{active:!0}}),t.setPlayerActiveTimeout)},t.setPlayerInactive=function(){var e,n;t.clearPlayerActiveTimeout(),null===(n=(e=t.props).onPlayerInactive)||void 0===n||n.call(e),t.clearMouseMoveRAF(),t.props.isMenuShowing||t.setState((function(e){return e.active?{active:!1}:null}))},t.setPlayerActiveTimeout=function(){t.clearPlayerActiveTimeout(),t.playerActiveTimeoutEnabled&&(t.playerActiveTimeout=setTimeout(t.setPlayerInactive,5e3))},t.clearPlayerActiveTimeout=function(){t.playerActiveTimeout&&(clearTimeout(t.playerActiveTimeout),delete t.playerActiveTimeout)},t.clearMouseMoveRAF=function(){t.mouseMoveRAF&&(cancelAnimationFrame(t.mouseMoveRAF),delete t.mouseMoveRAF)},t.disablePlayerActiveTimeout=function(){t.playerActiveTimeoutEnabled=!1,t.setPlayerActive()},t.enablePlayerActiveTimeout=function(){t.playerActiveTimeoutEnabled=!0,t.setPlayerActive()},t.state={disablePlayerActiveTimeout:t.disablePlayerActiveTimeout,enablePlayerActiveTimeout:t.enablePlayerActiveTimeout,__doNotUse_SetPlayerActivity:t.setPlayerActivity},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this.props.playerEvents.addEventListener;this.updatePlayerRef(),this.maybeAttachDomEventListeners(),e(c.p.PLAYING,this.setPlayerActive),e(p.a.QUALITY_CHANGED,this.onQualityChange),e(p.a.SEEK_COMPLETED,this.setPlayerActive)},n.prototype.componentDidUpdate=function(e){var n,t;e.isSDAPlaying===this.props.isSDAPlaying&&e.isSDAUpsellShowing===this.props.isSDAUpsellShowing&&(null===(n=e.brandLiftContext)||void 0===n?void 0:n.isSurveyShowing)===(null===(t=this.props.brandLiftContext)||void 0===t?void 0:t.isSurveyShowing)||this.removeDomEventListeners(),this.updatePlayerRef(),this.maybeAttachDomEventListeners();var i=e.theatreModeEnabled!==this.props.theatreModeEnabled,a=e.playerIsPersisting!==this.props.playerIsPersisting,r=e.isMenuShowing!==this.props.isMenuShowing;(i||a||r)&&this.setPlayerActive()},n.prototype.componentWillUnmount=function(){this.removeDomEventListeners(),this.clearPlayerActiveTimeout()},n.prototype.render=function(){return(0,a.jsx)(_.Provider,{value:this.state,children:this.props.children||null})},n.prototype.updatePlayerRef=function(){var e=this.props,n=e.containerRef,t=e.videoRef;this.playerRef=this.getOutstreamDisplayAdShowing()?n:t},n.prototype.getOutstreamDisplayAdShowing=function(){var e=this.props,n=e.isSDAPlaying,t=e.isSDAUpsellShowing,i=e.brandLiftContext.isSurveyShowing;return n||t||i},n.prototype.removeDomEventListeners=function(){this.playerRef&&this.listenersAttached&&(this.playerRef.removeEventListener("mouseleave",this.handleMouseLeave),this.playerRef.removeEventListener("mouseenter",this.handleMouseEnter),this.playerRef.removeEventListener("mousemove",this.onMouseMove),this.playerRef.removeEventListener("focusin",this.setPlayerActive),this.playerRef.removeEventListener("focusout",this.setPlayerInactive),this.listenersAttached=!1)},n.prototype.maybeAttachDomEventListeners=function(){var e=this;this.playerRef&&!this.listenersAttached&&(this.listenersAttached=!0,this.playerRef.addEventListener("mouseleave",this.handleMouseLeave),this.playerRef.addEventListener("mouseenter",this.handleMouseEnter),this.playerRef.addEventListener("mousemove",this.onMouseMove),this.playerRef.addEventListener("focusin",this.setPlayerActive),this.playerRef.addEventListener("focusout",(function(n){var t;(null===(t=e.playerRef)||void 0===t?void 0:t.contains(n.relatedTarget))||e.setPlayerInactive()})))},n}(r.Component),C=(0,s.Zz)((0,u.X)(),(0,g.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,y.c0)((function(e){var n=e.isMenuShowing;return{isMenuShowing:n}})),(0,v.VX)((function(e){var n=e.adFormatMetadata;return{isSDAPlaying:(0,m.Eg)(n)}})),(0,h.cj)((function(e){var n=e.callbacks;return{onPlayerActive:null==n?void 0:n.onPlayerActive,onPlayerInactive:null==n?void 0:n.onPlayerInactive}})),d.zX,(0,l.IU)(),(0,o.Ng)((function(e){var n=e.ui;return{theatreModeEnabled:n.theatreModeEnabled,playerIsPersisting:n.persistentPlayerEnabled&&n.persistentPlayerIsPersisting}})))(b)},420613:function(e,n,t){"use strict";t.d(n,{_u:function(){return Z},N1:function(){return ee},g7:function(){return X},o1:function(){return Y}});var i=t(331635),a=t(474848),r=t(296540),o=t(415044),s=t(868238),l=t(478260),d=t(928778),u=t(726561),c=t(456450);var p=t(982821),m=t(979205),v=t(732446),f=t(267924),g=t(131883),h=t(412914),y=t(574156),k=t(669022),S=t(719774),_=t(954351),b=t(309221),C=t(641535),P=t(375747),E=t(890675),N=t(933781),x=t(947945),A=t(359630),w=t(860203),T=t(372512),I=t(491798),D=t(378328),F=t(347953),O=t(105774),R=t(583167),V=t(220383),M=t(140029),L=t.n(M),j=t(917052),B=t.n(j),U=t(503472);function q(e){var n=z(e),t=function(e){var n=z(e),t=H(e.collection);if(n&&t&&t.length>0){var i=t.findIndex((function(e){return e.id&&n.id&&e.id===n.id}));return i>=0?i:void 0}return}(e);return{video:n,positionInCollection:t}}function G(e){var n;if(e.user)return null===(n=e.user.broadcastSettings)||void 0===n?void 0:n.game;var t=z(e);return t?t.game:e.clip?e.clip.game:void 0}function z(e){var n=e.video,t=e.collection;if(n)return n;var i=H(t);return i&&i.length>0?i[0]:null}function H(e){var n=e&&e.items&&e.items.edges;return n&&(0,U.bK)(n)}function W(e){var n=e.user;return n?n.broadcastSettings:null}function K(e){var n=e.user;return n?n.id:null}var Z={track:function(){return null}},Q=(0,P.e)("PlayerTrackingContext",Z,(function(e){return e})),Y=Q.withMemoContext,X=Q.context,$=function(e){function n(n){var t=e.call(this,n)||this;return t.timeSpentHidden=0,t.timeLastVisible=performance.now(),t.isFirstVideoPlay=!0,t.autoPlaySucceeded=!0,t.handleVisibilityChange=function(){document.hidden?t.timeLastVisible=performance.now():t.timeSpentHidden=Math.round(t.timeSpentHidden+performance.now()-t.timeLastVisible),t.prevHidden!==document.hidden&&t.trackPlayerStateUpdate(!0)},t.trackPlayerStateUpdate=function(e,n){var i,a,r,o,s=null!==(i=null==n?void 0:n.videoSessionId)&&void 0!==i?i:null===(r=null===(a=t.props.mediaPlayerInstance)||void 0===a?void 0:a.getSessionData())||void 0===r?void 0:r["VIDEO-SESSION-ID"],d=null!==(o=null==n?void 0:n.playSessionId)&&void 0!==o?o:l.E5.getVideoPlayerTrackingData().playSessionID;s&&(l.E5.track("player_state_update",{play_session_id:d,video_session_id:s,muted:!!t.props.muted,hidden:document.hidden,video_session_active:e}),t.prevHidden=document.hidden,t.prevVideoSessionId=s,t.prevPlaySessionId=d)},t.track=function(e,n){var a,r,o,s,d,u,c=t.props,p=c.playerType,m=c.muted,v=c.location,f=c.mediaPlayerInstance,g=c.data,h=c.channelLogin,y=c.volume,k=f&&f.getSessionData(),S=q(g),_=S.video,b=S.positionInCollection,C=function(e){var n=e.user,t=e.clip,i=e.collection,a=e.video;return n||t&&t.broadcaster||i&&i.owner||a&&a.owner}(g),P=g.user&&g.user.stream?g.user.stream:null,E=P?P.broadcasterSoftware:null,N=g.user&&g.user.self?!!g.user.self.subscriptionBenefit:null,x=t.getRestrictionInfo(t.props),A=C&&C.login||h,w=C&&C.id,T=t.getAutoHost(),D=null!==(a=null==T?void 0:T.sourceChannelLogin)&&void 0!==a?a:null,F=null!==(r=null==T?void 0:T.sourceChannelID)&&void 0!==r?r:null,O=f&&f.getVersion()||"",R=t.props.rightColumnExpanded&&!(p===I.C.ClipsViewing),V=!!(null===(s=null===(o=g.user)||void 0===o?void 0:o.self)||void 0===s?void 0:s.follower),M=(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},function(e){var n=e&&e.state||{};return{freeform_tag_display:n.freeform_tag_display,freeform_tag_filter:n.freeform_tag_filter,item_tracking_id:n.item_tracking_id,item_position:n.item_position,row_position:n.row_position,row_name:n.row_name,section_id:n.section_id,search_query_id:n.search_query_id,search_session_id:n.search_session_id,search_item_tracking_id:n.search_item_tracking_id,tag_filter_set:n.tag_filter_set,tag_set:n.tag_set,raid_id:n.raid_id}}(v)),t.getPlayerTrackingDataFromProps()),t.uniquePayloadValuesVideoPlay(e)),t.uniquePayloadValuesMinutesWatched(e)),t.uniquePayloadValuesVideoPause(e)),t.uniquePayloadValuesVideoAdImpression(e)),t.uniquePayloadValuesVideoError(e)),t.uniquePayloadValuesClips(e)),t.uniquePayloadValuesNSecondPlayed(e)),{app_fullscreen:t.props.isFullscreen,autoplayed:t.props.autoplay,backend_version:O,broadcast_id:k&&k["BROADCAST-ID"]||void 0,broadcaster_software:E,channel:A,channel_id:w,channel_restriction_type:x.restrictionType,chat_visible:R,chat_visibility_status:R?"visible":void 0,collection_id:t.props.collectionID,collection_item_position:b,collection_session_id:t.props.collectionSessionId,content_mode:t.getContentMode(t.props),core_version:O,game:null===(d=G(g))||void 0===d?void 0:d.name,game_id:null===(u=G(g))||void 0===u?void 0:u.id,is_following:V,host_channel:D,host_channel_id:F,is_ad_playing:t.props.isAdShowing,language:t.props.language,logged_in:!!g.currentUser,login:g.currentUser&&g.currentUser.login,live:t.props.isLive,mse_support:"undefined"!=typeof MediaSource,muted:!!m,partner:!(!C||!C.isPartner),play_session_id:t.props.playSessionId,playback_gated:!!t.props.hasPlaybackRestriction,player:p,player_size_mode:t.getPlayerDisplayMode(),staff:!!t.props.data.currentUser&&t.props.data.currentUser.isStaff,subscriber:N,turbo:!!t.props.data.currentUser&&t.props.data.currentUser.hasTurbo,user_id:t.props.data.currentUser?Number(t.props.data.currentUser.id):null,viewer_exemption_reason:x.exemption,vod:_&&_.id||void 0,vod_format:t.props.isClip?"mp4":void 0,vod_id:g.clip&&Number(g.clip.id)||_&&_.id||void 0,vod_type:t.getVodType(),volume:y}),L=t.preferDecoratedProperties(M,n);l.E5.trackPlayerEvent(e,L)},t.uniquePayloadValuesVideoPlay=function(e){if("video-play"===e){var n=(0,y.wm)(t.props.consent),i={autoplay_succeeded:t.autoPlaySucceeded,is_first_video_play:t.isFirstVideoPlay,time_for_player_core_load:t.playerCoreLoadTime,time_for_token_load:t.props.accessTokenLoadTime,time_spent_hidden:t.timeSpentHidden,consent_comscore_ok:n,content_classification_label_set:t.props.contentLabelsForTracking};return t.isFirstVideoPlay=!1,t.autoPlaySucceeded=!0,i}},t.uniquePayloadValuesMinutesWatched=function(e){var n,i;if("minute-watched"===e||"clips_minute_watched"===e){var a=(null===(i=null===(n=t.props.data.user)||void 0===n?void 0:n.self)||void 0===i?void 0:i.isModerator)||!1,r=(0,y.wm)(t.props.consent);return{is_mod:a,time_spent_hidden:t.timeSpentHidden,consent_comscore_ok:r,content_classification_label_set:t.props.contentLabelsForTracking}}},t.uniquePayloadValuesVideoPause=function(e){if("video_pause"===e)return{consent_comscore_ok:(0,y.wm)(t.props.consent)}},t.uniquePayloadValuesVideoAdImpression=function(e){if("video_ad_impression"===e||"video_ad_impression_complete"===e)return{consent_comscore_ok:(0,y.wm)(t.props.consent)}},t.uniquePayloadValuesVideoError=function(e){if("video_error"===e)return{in_background:!!document.hidden}},t.uniquePayloadValuesClips=function(e){var n="video-play"===e||"video_init"===e||"video_end"===e||"n_second_play"===e||"clips_minute_watched"===e;if(!1!==t.props.isClip&&!1!==n)return{clip_slug:t.props.clipSlug}},t.uniquePayloadValuesNSecondPlayed=function(e){if("n_second_play"===e&&t.props.isClip){var n=t.props.clipLocation;return!n&&t.props.embed&&(n=w.yI.Embed),{location:n}}},t.getPlayerTrackingDataFromProps=function(){return(0,i.__assign)((0,i.__assign)({},t.props.additionalTrackingProps),{squad_stream_id:t.props.squad&&t.props.squad.streamID?t.props.squad.streamID:null,squad_stream_session_id:t.props.squad&&t.props.squad.sessionID?t.props.squad.sessionID:null,squad_stream_presentation_id:t.props.squad&&t.props.squad.presentationID?t.props.squad.presentationID:null})},t.getPlayerDisplayMode=function(){return(0,V.y)({isFullscreen:t.props.isFullscreen,playerType:t.props.playerType,theatreModeEnabled:t.props.theatreModeEnabled,mini:t.props.mini})},t.getRestrictionInfo=function(e){var n,t=e.data,i=e.accessExpiration,a=t.user&&t.user.stream?t.user.stream:null,r=a&&a.restriction,o=null!==(n=null==r?void 0:r.type)&&void 0!==n?n:null;return r&&r.options&&r.type===f.B2H.SUB_ONLY_LIVE&&(r.options.includes(f.y6l.ALLOW_ALL_TIERS)?o="".concat(o,"_1000"):r.options.includes(f.y6l.ALLOW_TIER_2_AND_3_ONLY)?o="".concat(o,"_2000"):r.options.includes(f.y6l.ALLOW_TIER_3_ONLY)&&(o="".concat(o,"_3000"))),{exemption:i?"free_preview":r&&r.exemptions&&r.exemptions.length?"exempt":null,restrictionType:o&&o.toLowerCase()||void 0}},t.getVodType=function(){if(t.props.isClip)return"clip";if(t.props.vodType)return t.props.vodType;var e=q(t.props.data).video;return e&&e.broadcastType?(0,h.E)(e.broadcastType):void 0},t.getAutoHost=function(){return t.props.autohost},t.onPlaybackBlocked=function(){t.autoPlaySucceeded=!1},t.state={track:t.track},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e,n;this.props.playerEvents.addEventListener(T.a.PLAYBACK_BLOCKED,this.onPlaybackBlocked),document.addEventListener("visibilitychange",this.handleVisibilityChange),this.prevHidden=document.hidden,this.prevVideoSessionId=null===(n=null===(e=this.props.mediaPlayerInstance)||void 0===e?void 0:e.getSessionData())||void 0===n?void 0:n["VIDEO-SESSION-ID"],this.prevPlaySessionId=l.E5.getVideoPlayerTrackingData().playSessionID,this.trackPlayerStateUpdate(!0)},n.prototype.componentDidUpdate=function(e){var n,t,i=this,a=this.props.playerLoadTimePromise;e.playerLoadTimePromise!==a&&a&&a.then((function(e){i.props.playerLoadTimePromise===a&&(i.playerCoreLoadTime=e)}));var r=null===(t=null===(n=this.props.mediaPlayerInstance)||void 0===n?void 0:n.getSessionData())||void 0===t?void 0:t["VIDEO-SESSION-ID"],o=this.prevVideoSessionId!==r,s=e.muted!==this.props.muted;this.prevVideoSessionId&&o&&this.trackPlayerStateUpdate(!1,{playSessionId:this.prevPlaySessionId,videoSessionId:this.prevVideoSessionId}),(o||s)&&this.trackPlayerStateUpdate(!0)},n.prototype.componentWillUnmount=function(){this.trackPlayerStateUpdate(!1,{playSessionId:this.prevPlaySessionId,videoSessionId:this.prevVideoSessionId}),document.removeEventListener("visibilitychange",this.handleVisibilityChange)},n.prototype.render=function(){return(0,a.jsx)(X.Provider,{value:this.state,children:this.props.children})},n.prototype.preferDecoratedProperties=function(e,n){var t=(0,i.__assign)({},n);return Object.keys(e).forEach((function(n){var i;t[n]=t[n]?null!==(i=e[n])&&void 0!==i?i:t[n]:e[n]})),t},n.prototype.getContentMode=function(e){var n=e.isClip,t=e.data,i=e.vodID,a=e.collectionID;if(n)return"clip";if(i||a)return"vod";var r=t.user&&t.user.stream?t.user.stream:null,o=r?r.broadcasterSoftware:null,s="live";return"watch_party"===o||"watch_party_premiere"===o||"watch_party_rerun"===o?s="vodcast":"rebroadcast"===o&&(s="vod"),s},n}(r.Component);var J,ee=(0,s.Zz)(k.z3,v.y,(0,o.Ng)((function(e){return{isLoggedIn:(0,g.M3)(e),language:(0,g.Ul)(e),rightColumnExpanded:e.ui.rightColumnExpanded,theatreModeEnabled:e.ui.theatreModeEnabled}})),(0,S.X)(),(0,E.dd)(ne),(0,x.c0)((function(e){var n=e.isFullscreen;return{isFullscreen:n}})),(0,N.cj)((function(e){var n=e.content,t=e.type,i=(0,R.wk)({playerPublicPropsContext:e}),a=(0,F.DG)(n);return{playerType:t,mini:!!i.mini,additionalTrackingProps:i.trackingProperties,isClip:(0,F.Jn)(n),isLive:a,vodType:(0,F.wy)(n)?n.vodType:null,squad:(0,F.DG)(n)?n.squad:null,autohost:(0,F.DG)(n)?n.autohost:null,collectionID:(0,F.Eq)(n),channelLogin:(0,F.hd)(n),vodID:(0,F.hq)(n),isCollectionWithVideo:(0,F.P3)(n)&&!!n.vodID,clipSlug:(0,F.Qc)(n),clipLocation:(0,F.gm)(n),embed:!!i.embed}})),(0,A.AP)((function(e){var n=e.muted,t=e.volume;return{muted:n,volume:t}})),(0,E.dd)(ne),(0,_.VX)((function(e){return{isAdShowing:(0,D.cz)(e.videoAdMetadata)}})),(0,b.Z)((function(e){var n=e.contentLabels;return{contentLabelsForTracking:(0,C.aH)(n)}})),(0,d._v)(B(),{options:function(e){var n;return{returnPartialData:!0,variables:{channel:e.channelLogin,isLive:!!e.channelLogin,hasCollection:e.isCollectionWithVideo&&null!==e.collectionID,collectionID:e.collectionID||"",videoID:null!==(n=e.vodID)&&void 0!==n?n:"",hasVideo:!!e.vodID,slug:e.clipSlug||"",hasClip:e.isClip}}}}),(J=function(e){var n,t,i;return{fragment:L(),id:(i=null===(n=W(e.data))||void 0===n?void 0:n.id,i?"BroadcastSettings:".concat(i):""),topic:(0,c.Fz)(K(e.data)||""),type:p.PD.BroadcastSettingsUpdate,skip:!(null===(t=W(e.data))||void 0===t?void 0:t.id)||!K(e.data),mutator:te}},function(e){return function(n){var t,o,s;return t=J(n),o=(0,u.F)(t.mutator),s=(0,r.useCallback)((function(e,n){return o.current(e,n)}),[o]),(0,r.useEffect)((function(){if(!t.skip){var e=(0,c.BN)({fragment:t.fragment,id:t.id,topic:t.topic,type:t.type,mutator:s});return function(){e()}}}),[s,t.fragment,t.id,t.skip,t.topic,t.type]),(0,a.jsx)(e,(0,i.__assign)({},n))}}))($);function ne(e){var n=e.accessExpiration,t=e.autoplay,i=e.collectionSessionId,a=e.hasPlayed,r=e.mediaPlayerInstance,o=e.playSessionId,s=e.accessTokenLoadTime,l=e.playerLoadTimePromise;return{accessExpiration:n,autoplay:t,collectionSessionId:i,hasPlaybackRestriction:(0,O.k1)(e),hasPlayed:a,mediaPlayerInstance:r,playSessionId:o,accessTokenLoadTime:s,playerLoadTimePromise:l}}function te(e,n){var t,a,r,o=(0,m.v)(e),s=o.gameID,l=o.gameName,d=o.missingGameInfo,u=o.updatingToNullGame;return n&&e&&!d?u?(0,i.__assign)((0,i.__assign)({},n),{game:null}):(0,i.__assign)((0,i.__assign)({},n),{game:{__typename:"Game",id:null!==(t=null==s?void 0:s.toString())&&void 0!==t?t:"",name:null!=l?l:"",displayName:null!=l?l:"",boxArtURL:(a=null!=l?l:"",r={width:83,height:113},"https://static-cdn.jtvnw.net/ttv-boxart/".concat(encodeURIComponent(a),"-").concat(r.width,"x").concat(r.height,".jpg"))}}):n}},631266:function(e,n,t){"use strict";t.d(n,{$_:function(){return c},BZ:function(){return u}});var i=t(375747),a=t(890675),r=t(420613),o=t(947945),s=t(359630),l={play:s.Sm.play,pause:s.Sm.pause,seek:s.Sm.seek,requestManualReset:a.Sw.requestManualReset,setVolume:s.Sm.setVolume,setMuted:s.Sm.setMuted,setQuality:s.Sm.setQuality,getPlayerMetadata:s.Sm.getPlayerMetadata,setClosedCaptionsEnabled:o._u.setClosedCaptionsEnabled,track:r._u.track},d=(0,i.e)("PublicAPIContext",l,(function(e){return{publicAPIContext:e}})),u=d.withMemoContext,c=d.context},947945:function(e,n,t){"use strict";t.d(n,{Uz:function(){return i},_t:function(){return P},_u:function(){return _},c0:function(){return C},nD:function(){return N}});var i,a=t(331635),r=t(474848),o=t(296540),s=t(415044),l=t(868238),d=t(478260),u=t(586122),c=t(561551),p=t(719774),m=t(372512),v=t(583167),f=t(375747),g=t(933781),h=t(554262),y="captionsEnabled",k="captionsPreset",S="captionsStyle";!function(e){e[e.None=0]="None",e[e.Video=1]="Video",e[e.Ad=2]="Ad"}(i||(i={}));var _={isClipSharing:!1,isFullscreen:!1,isMenuShowing:!1,requestedQuality:!1,showControls:!0,isCollectionSidebarShowing:!1,recommendationsShowing:!1,soundtrackShowing:!1,showClosedCaptionsSettings:!1,streamInfoShowing:!1,videoContainer:void 0,videoRef:void 0,enterFullscreen:function(){return null},exitFullscreen:function(){return null},setClosedCaptionsAvailable:function(){return null},setClosedCaptionsEnabled:function(){return null},setClosedCaptionsSettingsShowing:function(){return null},setClosedCaptionsStyles:function(){return null},setClosedCaptionsStylesPreset:function(){return null},setIsMenuShowing:function(){return null},setRequestedQuality:function(){return null},toggleClipSharing:function(){return null},toggleCollectionSidebar:function(){return null},setShowControls:function(){return null},showCollectionSidebar:function(){return null},hideCollectionSidebar:function(){return null},soundtrackShow:function(){return null},soundtrackHide:function(){return null},setRecommendationsShowing:function(){return null},setStreamInfoShowing:function(){return null},statsOverlay:i.None,setStatsOverlay:function(){return null},captions:{available:!1,enabled:!1,preset:h.Pf.WhiteOnBlack,style:h.qS[h.Pf.WhiteOnBlack]},isKeyboardShortcutsVisible:!1,showKeyboardShortcuts:function(){return null},hideKeyboardShortcuts:function(){return null}},b=(0,f.e)("UIContext",_,(function(e){return{uiContext:e}})),C=b.withMemoContext,P=b.context,E=function(e){function n(n){var t=e.call(this,n)||this;t.enterFullscreen=function(){var e=t.props,n=e.videoContainer,i=e.disableFullscreen,a=e.fullscreenForwardingRef,r=e.shouldFullscreenRoot;if(!i)if(r){var o=document.getElementById("root");o&&t.handleFullscreenRoot(o)}else a?t.props.fullscreen.enable(a):n&&t.props.fullscreen.enable(n)},t.exitFullscreen=function(){t.props.fullscreen.disable()},t.setClosedCaptionsSettingsShowing=function(e){t.setState({showClosedCaptionsSettings:e},(function(){if(!e){var n=document.querySelector("[data-a-target=player-settings-button]");null==n||n.focus()}}))},t.toggleCollectionSidebar=function(){t.setState((function(e){return{isCollectionSidebarShowing:!e.isCollectionSidebarShowing}}))},t.showCollectionSidebar=function(){t.setState({isCollectionSidebarShowing:!0})},t.hideCollectionSidebar=function(){t.setState({isCollectionSidebarShowing:!1})},t.soundtrackShow=function(){t.setState((function(e){return e.soundtrackShowing?null:{soundtrackShowing:!0}}))},t.soundtrackHide=function(){t.setState((function(e){return e.soundtrackShowing?{soundtrackShowing:!1}:null}))},t.toggleClipSharing=function(){t.setState((function(e){return{isClipSharing:!e.isClipSharing}}))},t.onFullscreenChange=function(){var e=t.props,n=e.videoContainer,i=e.fullscreen,a=e.fullscreenForwardingRef,r=e.shouldFullscreenRoot,o=i.element();if(!o)return t.setState({isFullscreen:!1}),void(r&&t.revertToPreFullscreenSnapshot());var s=!!n&&o.contains(n),l=!!a&&o.contains(a);t.setState({isFullscreen:s||l})},t.setRequestedQuality=function(e){t.setState({requestedQuality:e})},t.setRecommendationsShowing=function(e){t.setState((function(n){return n.recommendationsShowing===e?null:{recommendationsShowing:e}}))},t.setShowControls=function(e){t.setState({showControls:e})},t.setStatsOverlay=function(e){t.setState({statsOverlay:e})},t.updateVideoContainerRef=function(e){e.videoContainer!==t.props.videoContainer&&t.setState({videoContainer:t.props.videoContainer})},t.updateVideoRef=function(e){e.videoRef!==t.props.videoRef&&t.setState({videoRef:t.props.videoRef})},t.setClosedCaptionsAvailable=function(e){t.setState((function(n){return{captions:(0,a.__assign)((0,a.__assign)({},n.captions),{available:e})}}))},t.setClosedCaptionsEnabled=function(e){d.IG.set(y,e),t.setState((function(n){return{captions:(0,a.__assign)((0,a.__assign)({},n.captions),{enabled:e})}}))},t.setClosedCaptionsStyles=function(e){t.setState((function(n){return{captions:(0,a.__assign)((0,a.__assign)({},n.captions),{preset:h.ly,style:(0,a.__assign)((0,a.__assign)({},n.captions.style),e)})}}),(function(){d.IG.set(k,h.ly),d.IG.set(S,t.state.captions.style)}))},t.setClosedCaptionsStylePreset=function(e){h.qS[e]&&(d.IG.set(k,e),d.IG.set(S,h.qS[e]),t.setState((function(n){return{captions:(0,a.__assign)((0,a.__assign)({},n.captions),{preset:e,style:h.qS[e]})}})))},t.showClipKeyboardShortcuts=function(){t.setState((function(e){return!0===e.isKeyboardShortcutsVisible?null:{isKeyboardShortcutsVisible:!0}}))},t.hideClipKeyboardShortcuts=function(){t.setState((function(e){return!1===e.isKeyboardShortcutsVisible?null:{isKeyboardShortcutsVisible:!1}}))},t.handleQualityChanged=function(){t.setRequestedQuality(!1)},t.setStreamInfoShowing=function(e){t.setState((function(n){return n.streamInfoShowing===e?null:{streamInfoShowing:e}}))},t.setIsMenuShowing=function(e){t.setState((function(n){return n.isMenuShowing===e?null:{isMenuShowing:e}}))},t.handleFullscreenRoot=function(e){t.preFullscreenSnapshot={rightColumnExpanded:t.props.rightColumnExpanded,theaterModeEnabled:t.props.theatreModeEnabled},t.props.enableTheatreMode(),t.props.collapseRightColumn(),t.props.fullscreen.enable(e)},t.revertToPreFullscreenSnapshot=function(){t.preFullscreenSnapshot.theaterModeEnabled||t.props.disableTheatreMode(),t.preFullscreenSnapshot.rightColumnExpanded&&t.props.expandRightColumn()};var r=d.IG.get(S,h.qS[h.Pf.WhiteOnBlack]);return"flashing"===r.fontOpacity&&(r.fontOpacity=h.Y4.Solid),t.state={isFullscreen:!1,isClipSharing:!1,isMenuShowing:!1,requestedQuality:!1,showControls:!0,isCollectionSidebarShowing:!1,recommendationsShowing:!1,soundtrackShowing:!!n.enableSoundtrackByTwitch,showClosedCaptionsSettings:!1,streamInfoShowing:!1,enterFullscreen:t.enterFullscreen,exitFullscreen:t.exitFullscreen,toggleClipSharing:t.toggleClipSharing,setRequestedQuality:t.setRequestedQuality,setClosedCaptionsAvailable:t.setClosedCaptionsAvailable,setClosedCaptionsEnabled:t.setClosedCaptionsEnabled,setClosedCaptionsSettingsShowing:t.setClosedCaptionsSettingsShowing,setClosedCaptionsStyles:t.setClosedCaptionsStyles,setClosedCaptionsStylesPreset:t.setClosedCaptionsStylePreset,setIsMenuShowing:t.setIsMenuShowing,toggleCollectionSidebar:t.toggleCollectionSidebar,showCollectionSidebar:t.showCollectionSidebar,hideCollectionSidebar:t.hideCollectionSidebar,soundtrackShow:t.soundtrackShow,soundtrackHide:t.soundtrackHide,setShowControls:t.setShowControls,setRecommendationsShowing:t.setRecommendationsShowing,setStreamInfoShowing:t.setStreamInfoShowing,statsOverlay:i.None,setStatsOverlay:t.setStatsOverlay,videoContainer:n.videoContainer,videoRef:n.videoRef,captions:{available:!1,enabled:d.IG.get(y,!1),preset:d.IG.get(k,h.Pf.WhiteOnBlack),style:r},isKeyboardShortcutsVisible:!1,showKeyboardShortcuts:t.showClipKeyboardShortcuts,hideKeyboardShortcuts:t.hideClipKeyboardShortcuts},t.preFullscreenSnapshot={rightColumnExpanded:!1,theaterModeEnabled:!1},t}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.fullscreen.addChangeListener(this.onFullscreenChange),this.props.playerEvents.addEventListener(m.a.QUALITY_CHANGED,this.handleQualityChanged)},n.prototype.componentDidUpdate=function(e){this.updateVideoContainerRef(e),this.updateVideoRef(e)},n.prototype.componentWillUnmount=function(){this.props.fullscreen.removeChangeListener(this.onFullscreenChange)},n.prototype.render=function(){return(0,r.jsx)(P.Provider,{value:this.state,children:this.props.children})},n}(o.Component),N=(0,l.Zz)((0,s.Ng)((function(e){return{rightColumnExpanded:e.ui.rightColumnExpanded,theatreModeEnabled:e.ui.theatreModeEnabled}}),(function(e){return(0,a.__assign)({},(0,l.zH)({enableTheatreMode:c._H,disableTheatreMode:c.lq,collapseRightColumn:c.o_,expandRightColumn:c.DI},e))})),(0,g.cj)((function(e){var n=(0,v.wk)({playerPublicPropsContext:e}),t=n.disableFullscreen,i=n.fullscreenForwardingRef,a=n.enableSoundtrackByTwitch,r=n.shouldFullscreenRoot;return{disableFullscreen:t,fullscreenForwardingRef:i,enableSoundtrackByTwitch:a,shouldFullscreenRoot:r}})),(0,p.X)(),(0,u.W)())(E)},554262:function(e,n,t){"use strict";t.d(n,{$3:function(){return s},Bn:function(){return A},DA:function(){return g},G0:function(){return l},K7:function(){return P},OU:function(){return f},Pf:function(){return S},Rw:function(){return T},Y4:function(){return d},Yf:function(){return c},Yi:function(){return D},ay:function(){return a},dP:function(){return p},iB:function(){return w},kf:function(){return E},ly:function(){return k},mK:function(){return u},o8:function(){return N},qS:function(){return _},sT:function(){return C},sy:function(){return x},tZ:function(){return I},wX:function(){return v},yF:function(){return b},z9:function(){return F},zz:function(){return m}});var i,a,r=t(331635),o=t(536250);!function(e){e.MonoSerif="mono-serif",e.Serif="prop-serif",e.MonoSansSerif="mono-sans-serif",e.SansSerif="prop-sans-serif",e.Casual="casual",e.Cursive="cursive",e.SmallCapitals="small-capitals"}(a||(a={}));var s,l,d,u,c,p,m,v,f={Black:o.h.Black,White:o.h.White,Red:o.h.Red,Green:o.h.Green,Blue:o.h.Blue,Yellow:o.h.Yellow,Magenta:o.h.Magenta,Cyan:o.h.Cyan},g={Black:o.h.Black,White:o.h.White,Red:o.h.Red,Green:o.h.Green,Blue:o.h.Blue,Yellow:o.h.Yellow,Magenta:o.h.Magenta,Cyan:o.h.Cyan,LightGray:o.h.LightGray,Gray:o.h.Gray,DarkGray:o.h.DarkGray,Transparent:o.h.Transparent};!function(e){e.Left="left",e.Center="center",e.Right="right"}(s||(s={})),function(e){e.Top="top",e.Bottom="bottom"}(l||(l={})),function(e){e.SemiTransparent="semiTransparent",e.Transparent="transparent",e.Translucent="translucent",e.Solid="solid"}(d||(d={})),function(e){e.None="none",e.Underline="underline"}(u||(u={})),function(e){e.Normal="normal",e.Italic="italic"}(c||(c={})),function(e){e.Normal="normal",e.Bold="bold"}(p||(p={})),function(e){e.Bold="fontBold",e.Italic="fontItalic",e.Underline="fontUnderline"}(m||(m={})),function(e){e.Depressed="depressed",e.Uniform="uniform",e.Drop="drop",e.Raised="raised",e.None="none"}(v||(v={}));var h={fontSize:20,fontFamily:a.SansSerif,fontOpacity:d.Solid,alignment:s.Left,edge:v.None,verticalPosition:l.Bottom,backgroundColorName:g.Black,backgroundOpacity:d.Solid,windowColorName:g.Transparent,windowOpacity:d.Solid,fontUnderline:u.None,fontBold:p.Normal,fontItalic:c.Normal,fontColorName:f.White},y=(0,r.__assign)((0,r.__assign)({},h),{backgroundOpacity:d.Translucent}),k="custom",S={WhiteOnBlack:"white-on-black",BlackOnWhite:"black-on-white",CyanOnBlack:"cyan-on-black",YellowOnBlack:"yellow-on-black",LimeOnBlack:"lime-on-black",MagentaOnBlack:"magenta-on-black",WhiteOnTransBlack:"white-on-trans-black",CyanOnTransBlack:"cyan-on-trans-black",YellowOnTransBlack:"yellow-on-trans-black",LimeOnTransBlack:"lime-on-trans-black",MagentaOnTransBlack:"magenta-on-trans-black"},_=((i={})[S.WhiteOnBlack]=h,i[S.CyanOnBlack]=(0,r.__assign)((0,r.__assign)({},h),{fontColorName:f.Cyan}),i[S.YellowOnBlack]=(0,r.__assign)((0,r.__assign)({},h),{fontColorName:f.Yellow}),i[S.LimeOnBlack]=(0,r.__assign)((0,r.__assign)({},h),{fontColorName:f.Green}),i[S.MagentaOnBlack]=(0,r.__assign)((0,r.__assign)({},h),{fontColorName:f.Magenta}),i[S.WhiteOnTransBlack]=(0,r.__assign)((0,r.__assign)({},y),{fontColorName:f.White}),i[S.CyanOnTransBlack]=(0,r.__assign)((0,r.__assign)({},y),{fontColorName:f.Cyan}),i[S.YellowOnTransBlack]=(0,r.__assign)((0,r.__assign)({},y),{fontColorName:f.Yellow}),i[S.LimeOnTransBlack]=(0,r.__assign)((0,r.__assign)({},y),{fontColorName:f.Green}),i[S.MagentaOnTransBlack]=(0,r.__assign)((0,r.__assign)({},y),{fontColorName:f.Magenta}),i[S.BlackOnWhite]=(0,r.__assign)((0,r.__assign)({},h),{backgroundColorName:g.White,fontColorName:f.Black}),i),b={"mono-serif":{fontFamily:'"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',fontVariant:"normal"},"prop-serif":{fontFamily:'"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',fontVariant:"normal"},"mono-sans-serif":{fontFamily:'"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',fontVariant:"normal"},"prop-sans-serif":{fontFamily:'Verdana, Arial, Helvetica, "PT Sans Caption", sans-serif',fontVariant:"normal"},casual:{fontFamily:'"Comic Sans MS", Impact, Handlee, fantasy',fontVariant:"normal"},cursive:{fontFamily:'"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive',fontVariant:"normal"},"small-capitals":{fontFamily:'"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif',fontVariant:"small-caps"}},C={semiTransparent:{opacityValue:.3,animation:"none"},transparent:{opacityValue:0,animation:"none"},translucent:{opacityValue:.6,animation:"none"},solid:{opacityValue:1,animation:"none"}},P={depressed:{textShadow:"-1px -1px 2px #000"},uniform:{textShadow:"-2px -2px 0 #000, -2px 2px 0 #000, -2px 0 0 #000, 2px -2px 0 #000, 2px 2px 0 #000, 2px 0 0 #000, 0 -2px 0 #000, 0 2px 0 #000"},drop:{textShadow:"0 2px 5px #000"},raised:{textShadow:"1px 1px 2px #000"},none:{textShadow:"none"}},E={left:{alignItems:"flex-start"},center:{alignItems:"center"},right:{alignItems:"flex-end"}},N={underline:{textDecoration:"underline"},none:{textDecoration:"none"}},x={italic:{fontStyle:"italic"},normal:{fontStyle:"normal"}},A={bold:{fontWeight:"bold"},normal:{fontWeight:"normal"}},w={top:{top:"18%",bottom:"auto"},bottom:{top:"auto",bottom:"10%"}};function T(e,n){return"transparent"===e?"transparent":"rgba(".concat(e,",").concat(n,")")}var I={black:"0,0,0",white:"255,255,255",red:"255,0,0",green:"0,255,0",blue:"0,0,255",yellow:"255,255,0",magenta:"255,0,255",cyan:"0,255,255"},D={black:"0,0,0",white:"255,255,255",red:"255,0,0",green:"0,255,0",blue:"0,0,255",yellow:"255,255,0",magenta:"255,0,255",cyan:"0,255,255",lightgray:"199,199,199",gray:"145,145,145",darkgray:"91,91,91",transparent:"transparent"},F={increment:5,decrement:-5,max:40,min:10}},209170:function(e,n,t){"use strict";t.d(n,{W:function(){return co}});var i=t(331635),a=t(474848),r=t(296540),o=t(868238),s=t(478260),l=t(805450),d=t(105146),u=t(317981),c=t(415044),p=t(37441),m=t(407827),v=t(486612),f=t(14876),g=t(775042),h=t(719774),y=t(890675),k=t(933781),S=t(359630),_=t(764120),b=t(196288),C=t(780358),P=t(583167),E=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onPlayerStateChange=function(e){n.maybeSetActivePlayerRef(e===b.p.PLAYING,e===b.p.IDLE)},n.onAdStateChange=function(e){var t=e===_.V.Resumed||e===_.V.Started,i=e===_.V.Paused;n.maybeSetActivePlayerRef(t,i)},n.maybeSetActivePlayerRef=function(e,t){var i=n.props.playerRefID===n.props.activeVideoPlayerRefID;e&&!i&&n.props.reportPlayerInstanceStarted(n.props.playerRefID),t&&i&&n.props.reportPlayerInstanceStarted(void 0)},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){e.activeVideoPlayerRefID!==this.props.activeVideoPlayerRefID&&this.props.activeVideoPlayerRefID&&this.props.activeVideoPlayerRefID!==this.props.playerRefID&&this.props.isPlaying&&this.props.exclusivePlayback&&this.props.pause()},n.prototype.componentDidMount=function(){var e=this;[b.p.IDLE,b.p.PLAYING].forEach((function(n){e.props.playerEvents.addEventListener(n,(function(){return e.onPlayerStateChange(n)}))})),[_.V.Paused,_.V.Started,_.V.Resumed].forEach((function(n){e.props.adEvents.addEventListener(n,(function(){return e.onAdStateChange(n)}))}))},n.prototype.render=function(){return null},n}(r.Component),N=(0,o.Zz)((0,c.Ng)((function(e){return{activeVideoPlayerRefID:(0,C.LG)(e)}}),(function(e){return(0,o.zH)({reportPlayerInstanceStarted:f.A},e)})),(0,S.AP)((function(e){var n=e.isPlaying,t=e.pause;return{isPlaying:n,pause:t}})),(0,y.dd)((function(e){var n=e.playerRefID;return{playerRefID:n}})),(0,k.cj)((function(e){return{exclusivePlayback:!!(0,P.wk)({playerPublicPropsContext:e}).exclusivePlayback}})),(0,h.X)(),(0,g.O)())(E);var x=function(e){return function(e){var n=e.playerId,t=(0,c.d4)(C.LG),i=(0,c.wA)(),a=(0,r.useRef)(t);(0,r.useEffect)((function(){a.current=t}),[t]);var o=(0,r.useRef)(n);(0,r.useEffect)((function(){o.current=n}),[n]),(0,r.useEffect)((function(){return function(){o.current===a.current&&i((0,f.A)(void 0))}}),[i])}(e),null},A=t(783321),w=t(503472),T=t(652867),I=t(372512),D=t(347953),F=t(500074),O=t.n(F),R=function(){var e=(0,A.n_)(O())[0],n=(0,r.useContext)(y.$g).logger,t=(0,r.useRef)(n.withCategory("clips-update-view-count")),a=(0,r.useContext)(k.kl).content,o=(0,D.Qc)(a),s=(0,D.Jn)(a),l=(0,r.useCallback)((function(n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var a;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:if("video-play"!==n.name||!s||!o)return[3,4];t.current.debug("incrementing clip view count",o),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e((0,i.__assign)({},(0,w.AR)({slug:o})))];case 2:return r.sent(),[3,4];case 3:return a=r.sent(),t.current.warn("Failed to increment clip view count.",a),[3,4];case 4:return[2]}}))}))}),[o,s,e]);return(0,T.p)(I.a.ANALYTICS_EVENT,l),null},V=function(e){return e.isClip?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(R,{})}):null},M=t(928778),L=t(732446),j=t(288520),B=t(860203),U=t(472717),q=t(944129),G=t.n(q),z=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.logger=s.x2.logger.withCategory("CollectionManagerComponent"),n.getVodID=function(){var e,t,i,a,r;return null!==(r=null!==(e=n.props.vodID)&&void 0!==e?e:null===(a=null===(i=null===(t=n.props.data)||void 0===t?void 0:t.collection)||void 0===i?void 0:i.items.edges[0])||void 0===a?void 0:a.node.id)&&void 0!==r?r:null},n.handleEndOfVideo=function(e,t){if(t&&e){var i=function(e){var n=e.items.edges;return n.filter((function(e){return null!==e})).map((function(e){return e.node}))}(t),a=i.findIndex((function(n){return n.id===e}));if(!(a<0||i.length<=a))a<i.length-1&&n.showNextVideo(i[a+1].id,t.id)}},n.showNextVideo=function(e,t){var i=n.props.getContentUrl({type:B.FC.Collection,vodID:e,collectionID:t});i?(0,U.cW)(i,n.props.navigate):n.logger.warn("Failed to get get next video URL.",{nextVideoID:e,collectionID:t})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this.props,n=e.data,t=e.playbackEnded,i=e.collectionID,a=this.getVodID();i&&this.props.updateContext({collectionSessionId:(0,d.aq)()}),H(n)&&t&&this.handleEndOfVideo(a,n.collection)},n.prototype.componentDidUpdate=function(e){var n=this.getVodID();(!e.playbackEnded&&this.props.playbackEnded&&H(this.props.data)||!H(e.data)&&H(this.props.data)&&this.props.playbackEnded)&&this.handleEndOfVideo(n,this.props.data.collection),this.props.collectionID&&this.props.collectionID!==e.collectionID?this.props.updateContext({collectionSessionId:(0,d.aq)()}):this.props.collectionID||this.props.updateContext({collectionSessionId:void 0})},n.prototype.componentWillUnmount=function(){this.props.updateContext({collectionSessionId:null})},n.prototype.render=function(){return null},n}(r.Component);function H(e){return!!e&&!e.loading&&!e.error}var W=(0,o.Zz)((0,y.dd)((function(e){var n=e.mediaPlayerInstance,t=e.playerState,i=e.updateContext;return{updateContext:i,mediaPlayerInstance:n,playbackEnded:t===b.p.ENDED}})),(0,k.cj)((function(e){var n=(0,P.Rh)({playerPublicPropsContext:e}),t=(0,D.P3)(n)?n:null,i=t&&t.collectionID,a=t&&t.vodID||null;return{collectionID:i,vodID:a}})),(0,M._v)(G(),{options:function(e){return{variables:{collectionID:e.collectionID||""}}},skip:function(e){return null===e.collectionID}}),L.y,(0,j.e)())(z);var K=t(887758),Z=t(441783),Q=t(161480),Y=t(567329),X=t(226312),$=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.currSegmentPrevTimeChange=null,n.handleTimeChanged=function(e){var t=n.props.editingSegments;if(t&&t.length){var i=(0,X.y)(t,e),a=i.currSegment,r=i.prevSegment,o=n.currSegmentPrevTimeChange&&!a,s=o&&n.currSegmentPrevTimeChange===t[t.length-1];(n.lastEndBehaviorReceived===Y.CK.PlayAndPauseAtCurrentEditingSegmentEnd&&o||n.lastEndBehaviorReceived===Y.CK.PlayAndPauseAtLastEditingSegmentEnd&&s)&&n.pausePlayback(),r&&o&&n.lastEndBehaviorReceived===Y.CK.PlayAndReplayAtCurrentEditingSegmentEnd&&n.seekToTime(r.startOffset),n.currSegmentPrevTimeChange=a}},n.storeLastEndBehaviorRequest=function(){n.props.endBehavior&&(n.lastEndBehaviorReceived=n.props.endBehavior)},n.maybeRestartPlayback=function(e){var t=n.props,i=t.mediaPlayerInstance,a=t.endBehavior,r=t.videoOffset,o=t.isPostEdit;if(i){var s=e.videoOffset!==r&&void 0!==r,l=e.endBehavior!==a&&void 0!==a,d=e.isPostEdit!==o&&!0===o;(s||l||d)&&(i.seekTo(n.props.videoOffset||0),n.currSegmentPrevTimeChange=null,n.lastEndBehaviorReceived=a||Y.CK.PlayAndPauseAtCurrentEditingSegmentEnd),i.isPaused()&&l&&i.play()}},n.pausePlayback=function(){var e=n.props.mediaPlayerInstance;e&&e.pause()},n.seekToTime=function(e){var t=n.props.mediaPlayerInstance;t&&t.seekTo(e)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.storeLastEndBehaviorRequest()},n.prototype.componentDidUpdate=function(e){this.maybeRestartPlayback(e),this.storeLastEndBehaviorRequest()},n.prototype.render=function(){return(0,a.jsx)(Q.j,{onTimeChanged:this.handleTimeChanged})},n}(r.Component),J=(0,o.Zz)((0,k.cj)((function(e){var n=(0,P.Rh)({playerPublicPropsContext:e}),t=(0,D.N1)(n),i=(0,D.J8)(n),a=(0,D.xq)(n);return{editingSegments:t,videoOffset:a,isPostEdit:i,endBehavior:(0,P.wk)({playerPublicPropsContext:e}).editingPlaybackBehavior}})),(0,y.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})))($);var ee=t(371367),ne=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.pausedFromModalShowing=!1,n.handleModalChange=function(e){var t=n.props,i=t.modalShowing,a=t.pause,r=t.play,o=t.isPlaying,s=!e.modalShowing&&i,l=e.modalShowing&&!i;s&&(n.pausedFromModalShowing=!0,a()),l&&n.pausedFromModalShowing&&!o&&r()},n.updatePausedFromModalStatus=function(e){var t=n.props.isPlaying;!e.isPlaying&&t&&(n.pausedFromModalShowing=!0)},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){this.updatePausedFromModalStatus(e),this.handleModalChange(e)},n.prototype.render=function(){return null},n}(r.Component),te=(0,o.Zz)((0,c.Ng)((function(e){return{modalShowing:e.modal.show}})),(0,S.AP)((function(e){var n=e.isPlaying,t=e.pause,i=e.play;return{isPlaying:n,pause:t,play:i}})))(ne);var ie=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={wasPlayingOnOffline:n.props.isPlaying},n.onOffline=function(){n.props.updateContext({isNetworkOffline:!0}),n.setState({wasPlayingOnOffline:n.props.isPlaying})},n.onOnline=function(){n.state.wasPlayingOnOffline&&n.props.play(),n.props.updateContext({isNetworkOffline:!1})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){window.addEventListener("offline",this.onOffline),window.addEventListener("online",this.onOnline)},n.prototype.componentWillUnmount=function(){window.removeEventListener("offline",this.onOffline),window.removeEventListener("online",this.onOnline)},n.prototype.render=function(){return null},n}(r.Component);var ae,re,oe=(0,o.Zz)((0,y.dd)((function(e){return{updateContext:e.updateContext}})),(0,S.AP)((function(e){return{isPlaying:e.isPlaying,play:e.play}})))(ie),se=t(891975),le=t(882439),de=t(345029),ue=t(669022),ce=t(574156),pe=t(105774),me=t(486481),ve=t.n(me);!function(e){e.End="end",e.LoadMetadata="loadMetadata",e.SetPlayheadPosition="setPlayheadPosition",e.Stop="stop"}(ae||(ae={})),function(e){e[e.End=3]="End",e[e.Start=1]="Start"}(re||(re={}));var fe;!function(e){e.Active="active",e.Inactive="inactive"}(fe||(fe={}));var ge=r.memo((function(e){var n=e.blockConsentRequiredContent,t=e.channelLogin,i=e.disableNielsenAuditPings,a=e.isLiveContent,o=(0,r.useContext)(y.$g),l=o.hasPlayed,d=o.playSessionId,u=o.playSessionStartTime,c=(0,pe.F4)(o),p=(0,pe.pl)(o),m=(0,r.useCallback)((function(e){if(d&&!n&&a&&!i&&"US"===((0,de.If)()||"US")){var r="";r="primevideo"===t||"twitchmedia18"===t||"twitchmedia58"===t||"primevideo_espanol"===t||"PrimeVideo_XRayVision"===t||"Prime_XRayVision"===t||"PrimeVision"===t||"primevideo_altstream"===t?"dtvr":"dcr";var o=le.stringify({prd:"audit",apid:"PE7867845-886F-4940-8BB2-44030EE44570",sessionid:s.x2.session.appSessionID||d,streamid:d,pingtype:e,product:r,uoo:0,createtm:Math.floor((e===re.Start?u:Date.now())/1e3)}),l="nielsen-s2s-audit-ping",c=document.getElementById(l);c&&c.parentNode&&c.parentNode.removeChild(c);var p=document.createElement("img");p.id=l,p.src="".concat("https://secure-sts-prod.imrworldwide.com/cgi-bin/gn","?").concat(o),p.style.display="none",document.body.appendChild(p)}}),[i,a,d,u,t,n]),v=(0,r.useCallback)((function(){m(re.End)}),[m]),f=(0,r.useCallback)((function(){l||m(re.Start)}),[l,m]);return r.useEffect((function(){return function(){l&&!p&&m(re.End)}}),[l,p,m]),(0,T.p)(b.p.ENDED,(0,r.useCallback)((function(){m(re.End)}),[m])),(0,T.p)(b.p.PLAYING,f),(0,se.S)((function(){return c&&f(),window.addEventListener("beforeunload",v),function(){window.removeEventListener("beforeunload",v)}})),null}));ge.displayName="NielsenAnalytics";var he=(0,M._v)(ve(),{options:function(e){return{variables:{isCollectionContent:e.isCollectionContent,isLiveContent:e.isLiveContent,isVODContent:e.isVodContent,collectionID:e.collectionID,login:e.channelLogin||"",vodID:e.vodID}}}})(ge),ye=function(){var e=(0,ue.S9)().data,n=(0,ce.bq)(v.F.Nielsen,e),t=(0,r.useContext)(k.kl),i=t.behaviors,o=t.content,s=(0,D.DG)(o),l=(0,D.hd)(o)||null,d=(0,D.hq)(o)||"",u=(0,D.Eq)(o)||"",c=(0,D.P3)(o)&&!d,p=(0,D.wy)(o)&&!c,m=!(!i||!i.disableNielsenAuditPings);return(0,a.jsx)(he,{blockConsentRequiredContent:n,channelLogin:l,collectionID:u,disableNielsenAuditPings:m,isCollectionContent:c,isLiveContent:s,isVodContent:p,vodID:d})},ke=t(290942),Se=t(344426),_e=(0,o.Zz)((0,c.Ng)((function(e){return{isAdMuted:e.ads.isOlvAdMuted}})),(0,S.AP)((function(e){var n=e.muted,t=e.setMuted;return{videoPlayerMuted:n,setVideoPlayerMuted:t}})))((function(e){var n=e.isAdMuted,t=e.videoPlayerMuted,i=e.setVideoPlayerMuted,a=r.useRef(!1),o=(0,ke.Z)(n),s=(0,ke.Z)(null!=t&&t),l=(0,c.wA)();return r.useEffect((function(){var e=!o&&n,r=s&&!t;o&&!n&&!t&&(a.current=!0,i(!0)),a.current&&e&&t&&(a.current=!1,i(!1)),r&&!n&&l((0,Se._9)())}),[o,n,s,t,i,l]),null}));var be=t(982821),Ce=t(456450),Pe=t(954351),Ee=t(420613),Ne=t(349041),xe=t.n(Ne),Ae=function(){function e(e,n){this.timerIsPaused=!0,this.ms=n,this.callback=e,this.lastStartTimestamp=0,this.msRemaining=this.ms}return e.prototype.start=function(){var e=this;this.timerIsPaused&&(this.lastStartTimestamp=Date.now(),this.timerId=setTimeout((function(){return e.timeoutCallback()}),this.msRemaining),this.timerIsPaused=!1)},e.prototype.pause=function(){if(!this.timerIsPaused){clearTimeout(this.timerId),this.timerIsPaused=!0;var e=Date.now();this.msRemaining=this.msRemaining-(e-this.lastStartTimestamp)}},e.prototype.timeoutCallback=function(){this.callback()},e.prototype.destroy=function(){clearTimeout(this.timerId)},e}(),we=r.memo((function(e){var n,t,i,a=e.isAdShowing,o=e.isPlaying,l=e.isBuffering,d=e.isOffline,u=(0,A.IT)(xe(),{variables:{login:e.channelLogin,allowAmazon:e.allow_amazon,allowComscore:e.allow_comscore,allowGoogle:e.allow_google,allowNielsen:e.allow_nielsen}}),c=u.data,p=u.refetch,m=null===(n=null==c?void 0:c.channel)||void 0===n?void 0:n.id,v=null===(i=null===(t=null==c?void 0:c.channel)||void 0===t?void 0:t.adProperties)||void 0===i?void 0:i.trackingPixels,f=(0,r.useRef)([]),g=(0,r.useRef)(e);(0,r.useEffect)((function(){g.current=e}));var h=(0,r.useCallback)((function(e){var n=f.current.findIndex((function(n){var t;return n.ms===1e3*(null!==(t=e.timeOffsetSeconds)&&void 0!==t?t:5)}));n<0||(f.current.splice(n,1),fetch(e.url,{cache:"no-store",mode:"no-cors"}))}),[]),y=(0,r.useCallback)((function(){f.current.forEach((function(e){return e.destroy()})),f.current=[]}),[f]),k=(0,r.useCallback)((function(e){var n;f.current.push(new Ae((function(){return h(e)}),1e3*(null!==(n=e.timeOffsetSeconds)&&void 0!==n?n:5)))}),[f,h]),S=(0,r.useCallback)((function(){return(v||[]).forEach(k)}),[k,v]),_=(0,r.useCallback)((function(){var e=g.current.isPlaying,n=g.current.isBuffering,t=g.current.isAdShowing,i=g.current.isOffline;!e||n||t||i||f.current.forEach((function(e){return e.start()}))}),[f,g]),b=(0,r.useCallback)((function(){f.current.forEach((function(e){return e.pause()}))}),[f]);return(0,r.useEffect)((function(){if(m){var e=(0,Ce.yi)(m);return s.UE.subscribe({topic:e,onMessage:function(e){e.type===be.PD.PixelTrackingUpdate&&"true"===e.data.refresh&&p&&p()}})}}),[m,p]),(0,r.useEffect)((function(){!o||l||a||d?b():_()}),[o,l,a,d,_,b]),(0,r.useEffect)((function(){return y(),S(),_(),function(){return y()}}),[v,S,_,y]),null}));we.displayName="PixelTracking";var Te=function(){var e=(0,r.useContext)(Pe.jK).videoAdMetadata,n=(0,r.useContext)(y.$g),t=(0,r.useContext)(k.kl),i=t.content,o=t.behaviors,s=(0,r.useContext)(Ee.g7),l=(0,r.useContext)(S.wL).isPlaying,d=n.isOffline,u=(0,pe.TN)(n),c=(0,D.DG)(i),p=(0,D.hd)(i),m=!!o&&o.disablePixelTracking,f=(0,ue.S9)().data,g=!(0,ce.bq)(v.F.TwitchAmazon,f),h=!(0,ce.bq)(v.F.ComScore,f),_=!(0,ce.bq)(v.F.Google,f),b=!(0,ce.bq)(v.F.Nielsen,f);return c&&!m&&p?(0,a.jsx)(we,{isAdShowing:void 0!==e,playerTracking:s,isOffline:!0===d||void 0===d,isPlaying:l,isBuffering:u,allow_amazon:g,allow_comscore:h,allow_google:_,allow_nielsen:b,channelLogin:p}):null};Te.displayName="PixelTrackingManager";var Ie,De=t(211212),Fe=t(378328),Oe=function(){var e=r.useState(!1),n=e[0],t=e[1],i=r.useContext(Ee.g7).track,a=r.useContext(Pe.jK),o=a.videoAdMetadata,s=a.adFormatMetadata,l=(0,Fe.EF)(o),d=(0,Fe.hr)(s),u=(0,Fe.lq)(o),c=r.useContext(y.$g).mediaPlayerInstance,p=r.useContext(k.kl).content,m=(0,D.wy)(p)||(0,D.P3)(p),v=r.useCallback((function(){return m&&(null==c?void 0:c.getPosition())||null}),[m,c]);return(0,T.p)(b.p.IDLE,r.useCallback((function(){l||(i("video_pause",{ad_is_playing:u,vod_timestamp:v(),action:"pause"}),t(!0))}),[v,l,u,i,t])),(0,T.p)(b.p.PLAYING,r.useCallback((function(){!l&&n&&(i("video_pause",{ad_is_playing:u,vod_timestamp:v(),action:"play"}),t(!1))}),[v,l,u,i,n,t])),(0,De._)(_.V.Paused,r.useCallback((function(){d||(i("video_pause",{ad_is_playing:!0,vod_timestamp:v(),action:"pause"}),t(!0))}),[v,i,t,d])),(0,De._)(_.V.Resumed,r.useCallback((function(){d||(i("video_pause",{ad_is_playing:!0,vod_timestamp:v(),action:"play"}),t(!1))}),[v,i,t,d])),null},Re=function(){var e=(0,r.useContext)(Ee.g7).track,n=(0,r.useContext)(k.kl).content,t=(0,r.useCallback)((function(t){"minute-watched"===t.name&&(t.properties.isDVR=(0,D.lp)(n)),e(t.name,t.properties)}),[e,n]);return(0,T.p)(I.a.ANALYTICS_EVENT,t),null};!function(e){e.ID3="MetaID3"}(Ie||(Ie={}));var Ve=t(580251),Me=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.logger=n.props.logger.withCategory("debug-events"),n.attachEventListeners=function(){var e=n.props.playerEvents.addEventListener;Object.values(b.p).forEach((function(t){return e(t,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return n.logStateEvent.apply(n,(0,i.__spreadArray)([t],e,!1))}))})),Object.values(I.a).forEach((function(t){return e(t,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return n.logPlayerEvent.apply(n,(0,i.__spreadArray)([t],e,!1))}))})),Object.values(Ie).forEach((function(t){return e(t,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return n.logMetadataEvent.apply(n,(0,i.__spreadArray)([t],e,!1))}))})),Object.values(Ve.G).forEach((function(t){return e(t,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return n.logRemoteEvent.apply(n,(0,i.__spreadArray)([t],e,!1))}))})),Object.values(_.V).forEach((function(e){return n.props.adEvents.addEventListener(e,(function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return n.logClientSideAdEvent.apply(n,(0,i.__spreadArray)([e],t,!1))}))}))},n.logEvent=function(e,t){for(var a,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return(a=n.logger).debug.apply(a,(0,i.__spreadArray)(["".concat(e," - ").concat(t)],r,!1))},n.logStateEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["State",e],t,!1))},n.logPlayerEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["Player",e],t,!1))},n.logMetadataEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["Metadata",e],t,!1))},n.logRemoteEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["Remote",e],t,!1))},n.logClientSideAdEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["Ads",e],t,!1))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){(this.props.enableDebug||le.parse(window.location.search).debug)&&this.attachEventListeners()},n.prototype.render=function(){return null},n}(r.Component),Le=(0,o.Zz)((0,k.cj)((function(e){return{enableDebug:!!(0,P.wk)({playerPublicPropsContext:e}).enableDebug}})),(0,h.X)(),(0,g.O)())(Me),je=t(82984),Be=t(337930),Ue=t(630193),qe=t(252770),Ge=t(470939),ze=t(605375),He=t(871077),We=t(15763),Ke=t(215551),Ze=t.n(Ke),Qe=t(86521),Ye=t.n(Qe),Xe=t(936746),$e=t(234598);function Je(e,n){if((0,D.DG)(e)&&(0,D.DG)(n))return e.channelLogin!==n.channelLogin;if(e.type!==n.type)return!0;if((0,D.wy)(e))return e.vodID!==n.vodID;if((0,D.P3)(e))return e.collectionID!==n.collectionID||e.vodID!==n.vodID;if((0,D.Jn)(e)){var t=n,i=(e.editing&&e.editing.videoUrl)!==(t.editing&&t.editing.videoUrl);return e.clipSlug!==n.clipSlug||i}return(0,D.lp)(e)?e.channelLogin!==n.channelLogin:void 0}function en(e,n,t,a,r,o,s){return(0,i.__awaiter)(this,arguments,Promise,(function(e,n,t,a,r,o,s,l,d){var u,c;return void 0===l&&(l=!1),(0,i.__generator)(this,(function(i){switch(i.label){case 0:switch(u=t||"https://usher.ttvnw.net",e.type){case B.FC.Live:return[3,1];case B.FC.VOD:return[3,2];case B.FC.Collection:return[3,3];case B.FC.Clip:return[3,4];case B.FC.DVRLive:return[3,8];case B.FC.DVRVOD:return[3,9]}return[3,10];case 1:case 8:return[2,nn(e.channelLogin,n,u,l,s,d)];case 2:case 9:return[2,tn(e.vodID,n,u,l,s,d)];case 3:return[2,an(e,n,u,l,s,d)];case 4:return(0,ze.vO)()?[4,un(e.clipSlug)]:[3,6];case 5:return[2,i.sent()];case 6:return[4,ln(e,a)];case 7:return c=i.sent(),[2,rn(r,o,e,c)];case 10:return[2,{src:null}]}}))}))}function nn(e,n,t,a,r,o){return(0,i.__awaiter)(this,void 0,void 0,(function(){var l,d,u,c,p,m;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=e.toLowerCase(),l=performance.now(),[4,(0,$e.l)({channelLogin:e,playerType:n,refreshAccessToken:a})];case 1:if(d=i.sent(),u=Math.round(performance.now()-l),!d)return[2,{src:null,videoAccessToken:void 0,accessTokenLoadTime:u}];c=null,p=!1;try{(m=JSON.parse(d.token))&&m.authorization&&(c=isNaN(m.authorization.access_expiration)?null:m.authorization.access_expiration,p=m.authorization.forbidden)}catch(e){s.vF.warn("Error parsing video access token: ".concat(e))}return[2,{src:"".concat(t,"/api/channel/hls/").concat(e,".m3u8?").concat(on({live:!0,videoAccessToken:d,isVP9Available:r,playSessionId:o,includeUnavailableVariants:!0})),videoAccessToken:d,forbidden:p,accessExpiration:c,accessTokenLoadTime:u}]}}))}))}function tn(e,n,t,a,r,o){return(0,i.__awaiter)(this,void 0,void 0,(function(){var s,l,d,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=e.startsWith("v")?e.substr(1):e,s=performance.now(),[4,(0,$e.l)({playerType:n,vodID:e,refreshAccessToken:a})];case 1:return l=i.sent(),d=Math.round(performance.now()-s),l?(u="".concat(t,"/vod/").concat(e,".m3u8?").concat(on({live:!1,videoAccessToken:l,isVP9Available:r,playSessionId:o,includeUnavailableVariants:!0})),[2,{accessTokenLoadTime:d,videoAccessToken:l,src:u}]):[2,{src:null,accessTokenLoadTime:d}]}}))}))}function an(e,n,t,a,r,o){return(0,i.__awaiter)(this,void 0,void 0,(function(){var s,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(l=e.vodID)?[3,2]:[4,sn(e.collectionID)];case 1:l=i.sent(),i.label=2;case 2:return(s=l)?[4,tn(s,n,t,a,r,o)]:[2,{src:null}];case 3:return[2,i.sent()]}}))}))}function rn(e,n,t,a){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,i.__generator)(this,(function(i){return(0,D.Jn)(t)&&t.editing&&t.editing.videoUrl?[2,{src:t.editing.videoUrl}]:(r=(0,We.Tp)(a,e,n,!0),o="",r.quality&&(0,We.Gi)(r.quality)&&(o=r.quality.source),[2,{src:o}])}))}))}function on(e){var n,t,i,a,r,o,l,d,u,c=e.live,p=e.videoAccessToken,m=e.playSessionId,v=e.includeUnavailableVariants,f=void 0!==v&&v,g=(0,He.h)(window.navigator.userAgent),h={BrowseItemTrackingId:null===(t=null===(n=s.x2.router.state.location)||void 0===n?void 0:n.state)||void 0===t?void 0:t.item_tracking_id,AppVersion:s.x2.config.buildID},y={acmb:btoa(JSON.stringify(h)),raid_id:void 0,force_manifest_node:void 0,force_segment_node:void 0,force_weaver_ads:void 0,force_preroll:void 0,force_midroll:void 0,force_creative_id:void 0,allow_source:!0,fast_bread:!!c||void 0,playlist_include_framerate:!0,reassignments_supported:!0,sig:p.sig,token:p.token,player_backend:"mediaplayer",p:Math.floor(9999999*Math.random()),play_session_id:m,dt:void 0,bndl:void 0,app:void 0,os:void 0,transode_mode:void 0,parent_domains:void 0,include_unavailable:f};if((0,Be.fX)("twilight_device_type")&&(y.dt=g),c){y.raid_id=null===(a=null===(i=s.x2.router.state.location)||void 0===i?void 0:i.state)||void 0===a?void 0:a.raid_id;var k=le.parse(window.location.search);y.force_manifest_node=null===(r=k.force_manifest_node)||void 0===r?void 0:r.toString(),y.force_segment_node=null===(o=k.force_segment_node)||void 0===o?void 0:o.toString(),"true"===k.force_weaver_ads&&(y.force_weaver_ads=k.force_weaver_ads,y.force_preroll=null===(l=k.force_preroll)||void 0===l?void 0:l.toString(),y.force_midroll=null===(d=k.force_midroll)||void 0===d?void 0:d.toString(),y.force_creative_id=null===(u=k.force_creative_id)||void 0===u?void 0:u.toString())}var S=s.x2.experiments.__hardcodedStaleExperiment("mobile_native_web_transcode_mode","cbr_v1");return S&&(y.transcode_mode=S),(0,Ue.W)()&&(y.parent_domains=["twitchplayer"]),le.stringify(y)}function sn(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,t,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,s.x2.apollo.client.query({query:Ye(),variables:{id:e}})];case 1:return n=i.sent(),t=n.data.collection,[2,(a=t&&t.items.edges[0])&&a.node.id];case 2:return i.sent(),[2];case 3:return[2]}}))}))}function ln(e,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,dn(e.clipSlug)];case 1:return t=i.sent(),a=(0,We.S9)(t),n({availableQualities:a}),[2,a]}}))}))}function dn(e){return(0,i.__awaiter)(this,void 0,Promise,(function(){var n,t,a,r,o,l;return(0,i.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,s.x2.apollo.client.query({query:Ze(),variables:{platform:(0,Xe.R)(),slug:e}})];case 1:return n=d.sent(),(t=n.data.clip)&&t.videoQualities&&(null===(o=t.playbackAccessToken)||void 0===o?void 0:o.value)&&(null===(l=t.playbackAccessToken)||void 0===l?void 0:l.signature)?(a=t.playbackAccessToken.value,r=t.playbackAccessToken.signature,[2,t.videoQualities.map((function(e){return(0,i.__assign)((0,i.__assign)({},e),{sourceURL:(0,Ge.F)(e.sourceURL,a,r)})}))]):[2,[]];case 2:return d.sent(),[2,[]];case 3:return[2]}}))}))}function un(e){return(0,i.__awaiter)(this,void 0,Promise,(function(){var n,t,a,r,o,l,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,s.x2.apollo.client.query({query:Ze(),variables:{platform:(0,Xe.R)(),slug:e}})];case 1:return n=i.sent(),t=n.data.clip,(null==(a=(0,qe.JF)(null==t?void 0:t.assets).sourceAsset)?void 0:a.videoQualities)&&(null===(o=null==t?void 0:t.playbackAccessToken)||void 0===o?void 0:o.value)&&(null===(l=t.playbackAccessToken)||void 0===l?void 0:l.signature)?(r={version:1,token:{value:t.playbackAccessToken.value,signature:t.playbackAccessToken.signature},assets:null===(d=a.videoQualities)||void 0===d?void 0:d.map((function(e){return{frameRate:e.frameRate,name:(0,We.u5)(e),sourceURL:e.sourceURL,width:e.width,height:e.height,bitrate:e.bitrate,codecs:e.codecs}}))},[2,{src:JSON.stringify(r)}]):[2,{src:""}]}}))}))}var cn=function(e){var n=e.reportInteractive,t=r.useContext(k.kl).content,i=(0,ke.Z)(t),a=r.useContext(y.$g),o=a.isOffline,l=a.restrictions,d=(0,pe.k1)({restrictions:l}),u=r.useRef(void 0),c=r.useCallback((function(){clearTimeout(u.current),n()}),[n]);return r.useEffect((function(){if(!i||Je(i,t)){clearTimeout(u.current);var e=s.x2.dynamicSettings.get("player_prioritization_timeout_seconds",15);u.current=setTimeout((function(){c()}),1e3*e)}}),[t,i,c]),r.useEffect((function(){o&&c()}),[o,c]),r.useEffect((function(){d&&c()}),[d,c]),(0,De._)(_.V.Started,c),(0,De._)(_.V.Error,c),(0,T.p)(b.p.PLAYING,c),(0,T.p)(b.p.IDLE,c),(0,T.p)(b.p.ENDED,c),r.useEffect((function(){return function(){c()}}),[c]),null},pn=function(e){function n(n){var t=e.call(this,n)||this;return t.playSessionWasRestricted=!1,t.shouldReceivePlayerPrioritizationTreatment=!1,t.onPlaying=function(){t.doNotTrack()||(t.props.latencyTracking.reportCustomEvent(t.playingEvent),t.playingEvent.duration.value&&s.x2.sentry.reportCustomMeasurement("tw.player.played",t.playingEvent.duration.value,"millisecond"))},t.onBuffering=function(){t.doNotTrack()||t.props.latencyTracking.reportCustomEvent(t.bufferingEvent)},t.onReady=function(){t.shouldReceivePlayerPrioritizationTreatment||t.props.latencyTracking.reportInteractive(),t.loadedEvent&&t.props.latencyTracking.reportCustomEvent(t.loadedEvent)},t.doNotTrack=function(){return!t.props.autoplay||t.playSessionWasRestricted},t.registerPlayingEvent=function(){return t.props.latencyTracking.registerCustomEvent({benchmark:4e3,group:"Player",key:"player-played",label:"First Frame",doNotTrack:t.doNotTrack()})},t.registerBufferingEvent=function(){return t.props.latencyTracking.registerCustomEvent({benchmark:1e3,group:"Player",key:"player-buffering",label:"Buffering",doNotTrack:t.doNotTrack()})},t.resetLatencyTrackingEvents=function(){t.playSessionWasRestricted=!1,t.createdEvent=null,t.loadedEvent=null,t.bufferingEvent=t.registerBufferingEvent(),t.playingEvent=t.registerPlayingEvent()},t.maybeCheckPlayerPrioritizationEnrollment=function(e){var n;if((null===(n=e.behaviors)||void 0===n?void 0:n.applyChannelWatchOptimizations)&&(0,D.DG)(e.content)&&e.autoplay){var i=s.x2.experiments.getAndTrackAssignment("player_prioritization_holdout");t.shouldReceivePlayerPrioritizationTreatment="control"===i}else t.shouldReceivePlayerPrioritizationTreatment=!1},t.maybeCheckPlayerPrioritizationEnrollment(n),t.createdEvent=t.props.latencyTracking.registerCustomEvent({benchmark:1e3,group:"Player",key:"player-created",label:"Created"}),t.loadedEvent=t.props.latencyTracking.registerCustomEvent({benchmark:2500,group:"Player",key:"player-loaded",label:"Init"}),t.bufferingEvent=t.registerBufferingEvent(),t.playingEvent=t.registerPlayingEvent(),t.playSessionWasRestricted=t.props.hasPlaybackRestriction,t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.createdEvent&&this.props.latencyTracking.reportCustomEvent(this.createdEvent),this.props.playerEvents.addEventListener(b.p.PLAYING,this.onPlaying),this.props.playerEvents.addEventListener(b.p.BUFFERING,this.onBuffering),this.props.adEvents.addEventListener(_.V.Started,this.onPlaying),this.props.isPlayerCoreLoading||this.onReady()},n.prototype.componentDidUpdate=function(e){this.maybeCheckPlayerPrioritizationEnrollment(this.props),Je(e.content,this.props.content)&&this.resetLatencyTrackingEvents(),e.isPlayerCoreLoading&&!this.props.isPlayerCoreLoading&&this.onReady(),this.props.hasPlaybackRestriction&&(this.playSessionWasRestricted=!0)},n.prototype.render=function(){return(0,a.jsxs)(a.Fragment,{children:[this.shouldReceivePlayerPrioritizationTreatment&&(0,a.jsx)(cn,{reportInteractive:this.props.latencyTracking.reportInteractive}),this.props.children||null]})},n}(r.Component),mn=(0,o.Zz)((0,je.W)("OverhaulPlayer"),(0,h.X)(),(0,g.O)(),(0,y.dd)((function(e){return{autoplay:e.autoplay,isPlayerCoreLoading:e.isPlayerCoreLoading,hasPlaybackRestriction:(0,pe.k1)(e)}})),(0,k.cj)((function(e){return{content:e.content,behaviors:e.behaviors}})))(pn),vn=t(607788),fn=t(441613),gn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.detectLoopingChange=function(e){var t=n.props,i=t.mediaPlayerInstance,a=t.enableLooping;i&&(e.enableLooping&&!a?i.setLooping(!1):!e.enableLooping&&a&&i.setLooping(!0))},n.detectDisableAudioChange=function(e){var t=n.props,i=t.disableAudio,a=t.playerType,r=t.setMuted;e.disableAudio&&!i?vn.o.get("video-muted",a)||r(!1,{persist:!1}):!e.disableAudio&&i&&r(!0,{persist:!1})},n.detectDisableAutoplayChange=function(e){var t=n.props,i=t.mediaPlayerInstance,a=t.disableAutoplay,r=t.hasPlayed,o=t.play;i&&!r&&e.disableAutoplay&&!a&&o()},n.applyForceMaxAutoDimensions=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.forceMaxAutoDimensions;if(t)if(i&&i.group!==Y._6.Auto){var a=i.width,r=i.height;t.setAutoMaxVideoSize(a,r)}else{var o=t.getQualities().find((function(e){return"chunked"===e.group}));o&&t.setAutoMaxQuality(o)}},n.detectForceMaxAutoDimensionsChange=function(e){n.props.forceMaxAutoDimensions!==e.forceMaxAutoDimensions&&n.applyForceMaxAutoDimensions()},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){this.detectLoopingChange(e),this.detectDisableAudioChange(e),this.detectDisableAutoplayChange(e),this.detectForceMaxAutoDimensionsChange(e)},n.prototype.render=function(){return(0,a.jsx)(hn,{applyForceMaxAutoDimensions:this.applyForceMaxAutoDimensions})},n}(r.Component),hn=function(e){var n=e.applyForceMaxAutoDimensions;return(0,T.p)(b.p.READY,n),null},yn=(0,o.Zz)((0,k.cj)((function(e){var n=(0,P.wk)({playerPublicPropsContext:e}),t=n.disableAudio,i=n.enableLooping,a=n.disableAutoplay,r=n.forceMaxAutoDimensions;return{disableAudio:t,enableLooping:i,disableAutoplay:a,forceMaxAutoDimensions:r,playerType:(0,fn.O)(e)}})),(0,y.dd)((function(e){var n=e.mediaPlayerInstance,t=e.hasPlayed;return{mediaPlayerInstance:n,hasPlayed:t}})),(0,S.AP)((function(e){var n=e.isPlaying,t=e.play,i=e.setMuted;return{isPlaying:n,play:t,setMuted:i}})))(gn);var kn=t(309221),Sn=t(947945),_n=t(742729),bn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onPlaybackBlocked=function(){var e=n.props.onPlaybackBlocked;e&&e()},n.onPlaybackEnded=function(){var e=n.props.onPlaybackEnded;e&&e()},n.onTimeChanged=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.onVideoTimeChange;t&&i&&i(t.getPosition())},n.onAnalyticsEvent=function(e){var t=n.props.onAnalyticsEvent;t&&t(e)},n.detectOnPlayingChange=function(e){var t=n.props.onPlaying;t&&(!e.isPlayerPlaying&&n.props.isPlayerPlaying&&t(n.props.playSessionId),!e.isAdPlaying&&n.props.isAdPlaying&&t(n.props.playSessionId))},n.detectOnPauseChange=function(e){var t=n.props.onPauseToggled;t&&(e.isPlayerPlaying!==n.props.isPlayerPlaying&&t(!n.props.isPlayerPlaying),e.isAdPlaying!==n.props.isAdPlaying&&t(!n.props.isAdPlaying))},n.detectOnReadyChange=function(e){var t=n.props.onReady;t&&!e.isPlayerReady&&n.props.isPlayerReady&&t()},n.detectMutedChange=function(e){var t=n.props.onMuteToggled;t&&e.muted!==n.props.muted&&t(!!n.props.muted)},n.detectFullscreenChange=function(e){var t=n.props.onFullscreenChange;t&&e.isFullscreen!==n.props.isFullscreen&&t(n.props.isFullscreen)},n.detectPlaybackRestrictionChange=function(e){var t=n.props.onContentRestricted;t&&!e.hasPlaybackRestriction&&n.props.hasPlaybackRestriction&&t()},n.detectContentClassificationChange=function(e){var t=n.props,i=t.onContentClassificationChange,a=t.contentClassificationOverlayType;i&&e.contentClassificationOverlayType!==a&&i(a)},n.detectInitChange=function(e){var t=n.props.onInit;if(t&&e.isPlayerCoreLoading&&!n.props.isPlayerCoreLoading){var i=n.props;t({play:i.play,pause:i.pause,seek:i.seek,requestManualReset:i.requestManualReset,setClosedCaptionsEnabled:i.setClosedCaptionsEnabled,setVolume:i.setVolume,setMuted:i.setMuted,setQuality:i.setQuality,getPlayerMetadata:i.getPlayerMetadata,track:i.track})}},n.detectOnlineChange=function(e){var t=n.props.onStreamOnline;t&&!1!==e.isOffline&&!1===n.props.isOffline&&t()},n.detectOfflineChange=function(e){var t=n.props.onStreamOffline;t&&!0!==e.isOffline&&!0===n.props.isOffline&&t()},n.detectFetchVideoSourceFailure=function(e){var t=n.props.onFetchVideoSourceFailure;t&&!e.isNoneSourceStatus&&n.props.isNoneSourceStatus&&t()},n.detectAdShowingChange=function(e){var t=n.props,i=t.onAdEnd,a=t.onAdStart,r=e.isAdShowing,o=n.props.isAdShowing;i&&r&&!o?i({adID:e.adID,content:e.content,sessionID:e.sessionID,stitched:e.isStitchedAd,roll:e.adRollType}):a&&!r&&o&&a({adID:n.props.adID,content:n.props.content,sessionID:n.props.sessionID,stitched:n.props.isStitchedAd,roll:n.props.adRollType,adFormat:n.props.adFormat})},n.detectPlaybackErrorChange=function(e){var t=n.props,i=t.error,a=t.onPlaybackError,r=e.error;a&&(!r&&i||r&&i&&r!==i)&&a({code:i})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(I.a.PLAYBACK_BLOCKED,this.onPlaybackBlocked),this.props.playerEvents.addEventListener(I.a.TIME_UPDATE,this.onTimeChanged),this.props.playerEvents.addEventListener(b.p.ENDED,this.onPlaybackEnded),this.props.playerEvents.addEventListener(I.a.ANALYTICS_EVENT,this.onAnalyticsEvent)},n.prototype.componentDidUpdate=function(e){this.detectAdShowingChange(e),this.detectInitChange(e),this.detectFetchVideoSourceFailure(e),this.detectFullscreenChange(e),this.detectMutedChange(e),this.detectOfflineChange(e),this.detectOnlineChange(e),this.detectOnPauseChange(e),this.detectOnPlayingChange(e),this.detectOnReadyChange(e),this.detectPlaybackRestrictionChange(e),this.detectContentClassificationChange(e),this.detectPlaybackErrorChange(e)},n.prototype.render=function(){return null},n}(r.Component),Cn=(0,o.Zz)((0,k.cj)((function(e){var n=(0,P.zB)({playerPublicPropsContext:e}),t=n.onAdEnd,i=n.onAdStart,a=n.onAnalyticsEvent,r=n.onContentRestricted,o=n.onContentClassificationChange,s=n.onFetchVideoSourceFailure,l=n.onFullscreenChange,d=n.onInit,u=n.onMuteToggled,c=n.onPauseToggled,p=n.onPlaybackBlocked,m=n.onPlaybackEnded,v=n.onPlaybackError,f=n.onPlaying,g=n.onReady,h=n.onStreamOffline,y=n.onStreamOnline,k=n.onVideoTimeChange;return{content:e.content,onAdEnd:t,onAdStart:i,onAnalyticsEvent:a,onContentRestricted:r,onContentClassificationChange:o,onFetchVideoSourceFailure:s,onFullscreenChange:l,onInit:d,onMuteToggled:u,onPauseToggled:c,onPlaybackBlocked:p,onPlaybackEnded:m,onPlaybackError:v,onPlaying:f,onReady:g,onStreamOffline:h,onStreamOnline:y,onVideoTimeChange:k}})),(0,Pe.VX)((function(e){var n=e.isPlaying,t=e.videoAdMetadata,i=e.videoAdRequest;return{adID:(0,Fe.lq)(t)?null==t?void 0:t.lineItemId:void 0,adRollType:(0,Fe.lq)(t)?null==t?void 0:t.roll:null==i?void 0:i.roll,isAdPlaying:n,isAdShowing:(0,Fe.cz)(t),isStitchedAd:(0,Fe.lq)(t),sessionID:(0,Fe.lq)(t)?null==t?void 0:t.adSessionId:null==i?void 0:i.sessionID,adFormat:(0,Fe.EF)(t)?null==t?void 0:t.adFormat:void 0}})),(0,y.dd)((function(e){var n=e.error,t=e.isOffline,i=e.isPlayerCoreLoading,a=e.mediaPlayerInstance,r=e.requestManualReset,o=e.playSessionId,s=e.sourceStatus;return{error:n,hasPlaybackRestriction:(0,pe.k1)(e),isOffline:t,isPlayerCoreLoading:i,isPlayerPlaying:(0,pe.F4)(e),isPlayerReady:(0,pe.i_)(e),mediaPlayerInstance:a,requestManualReset:r,playSessionId:o,isNoneSourceStatus:s===_n.O.None}})),(0,kn.Z)((function(e){return{contentClassificationOverlayType:e.overlayType}})),(0,S.AP)((function(e){var n=e.muted,t=e.play,i=e.pause,a=e.seek,r=e.setMuted,o=e.setVolume,s=e.setQuality,l=e.getPlayerMetadata;return{muted:n,play:t,pause:i,seek:a,setMuted:r,setVolume:o,setQuality:s,getPlayerMetadata:l}})),(0,Sn.c0)((function(e){var n=e.isFullscreen,t=e.setClosedCaptionsEnabled;return{isFullscreen:n,setClosedCaptionsEnabled:t}})),(0,h.X)(),(0,Ee.o1)())(bn);var Pn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.detectVideoOffsetChange=function(e,t){var i=(0,D.xq)(e),a=(0,D.xq)(t);void 0!==a&&i!==a&&n.props.mediaPlayerInstance&&!(0,D.JN)(t)&&n.props.mediaPlayerInstance.seekTo(a)},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){var n=e.content,t=this.props.content;Je(n,t)||this.detectVideoOffsetChange(n,t)},n.prototype.render=function(){return null},n}(r.Component),En=(0,o.Zz)((0,y.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,k.cj)((function(e){var n=e.content;return{content:n}})))(Pn);var Nn=t(131883),xn=t(420845),An=t(791165),wn=t.n(An),Tn=s.x2.logger.withCategory("resume-watching"),In=function(){var e=r.useState(!1),n=e[0],t=e[1],i=r.useState(0),a=i[0],o=i[1],l=r.useContext(y.$g).mediaPlayerInstance,d=r.useContext(k.kl).content,u=(0,D.hq)(d),p=r.useRef();r.useEffect((function(){p.current=u}));var m=(0,D.wy)(d)?d.videoOffset:void 0,v=(0,c.d4)((function(e){var n=(0,Nn.wz)(e);return!(!n||!n.id)})),f=!u||!v,g=(0,A.IT)(wn(),{skip:f,notifyOnNetworkStatusChange:!0,variables:u?{videoId:u}:void 0}),h=g.data,S=g.loading,_=g.refetch,b=!!u&&u!==p.current;return(0,T.p)(I.a.DURATION_CHANGED,r.useCallback((function(){o(l?l.getDuration():0)}),[l])),r.useEffect((function(){return o(0)}),[u]),r.useEffect((function(){!b||S||f||(Tn.debug("Switched to a new VOD, refetching user's viewed videos."),_())}),[b,S,f,_]),r.useEffect((function(){b&&void 0===m?(Tn.debug("Switched to new VOD with no video offset, we should try to resume watch"),t(!0)):b||void 0===m||(Tn.debug("Received new video offset for the current VOD, bail any attempts to resume watch"),t(!1))}),[b,m]),r.useEffect((function(){if(n&&u&&function(e){return e>0&&e<1/0}(a)&&l)if(v){if(!h||S)return void Tn.debug("Still waiting on GraphQL data to load");t(!1),function(e){var n,t;Tn.debug("Trying to resume watch as a logged in user for VOD ".concat(e.vodID));var i=e.data.video;if(!i)return void Tn.debug("User cannot see this video from GraphQL.");if("number"!=typeof(null===(t=null===(n=i.self)||void 0===n?void 0:n.viewingHistory)||void 0===t?void 0:t.position))return Tn.debug("User has saved watch times from GraphQL, but not for this VOD ".concat(e.vodID,".")),void e.mediaPlayerInstance.seekTo(.01);var a=i.self.viewingHistory.position;if(Fn(a,e.duration))return void Tn.debug("Resume time ".concat(a," is too close to end of VOD ").concat(e.vodID," (").concat(e.duration,")s"));Tn.debug("Resuming watch to ".concat(a," for VOD ").concat(e.vodID)),e.mediaPlayerInstance.seekTo(a)}({vodID:u,duration:a,data:h,mediaPlayerInstance:l})}else t(!1),function(e){Tn.debug("Trying to resume watch as a logged out user for VOD ".concat(e.vodID));var n=function(e){var n="v".concat(e);return s.IG.get(xn.U.VOD_RESUME_TIMES,{})[n]}(e.vodID);if(void 0===n)return e.mediaPlayerInstance.seekTo(.01),void Tn.debug("No resume time found in local storage for VOD ".concat(e.vodID));if(Fn(n,e.duration))return void Tn.debug("Resume time ".concat(n," is too close to end of VOD ").concat(e.vodID," (").concat(e.duration,")s"));Tn.debug("Resuming watch to ".concat(n," for VOD ").concat(e.vodID)),e.mediaPlayerInstance.seekTo(n)}({vodID:u,duration:a,mediaPlayerInstance:l})}),[n,v,u,h,S,l,a]),null};var Dn=120;function Fn(e,n){return n-e<Dn}var On=t(267924),Rn=t(300235);var Vn=t(168618),Mn=t.n(Vn);function Ln(e){return e.playerCoreBroadcastID}function jn(e){var n=e.mediaPlayerInstance;if(!n)throw new Error("no backend");return n.getPosition()}var Bn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.currentStreamOffset=0,n.writeToGQL=function(e,t){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n,a,r,o,l,d,u,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(n=this.props,a=n.isVod,r=n.isLive,o=n.vodID,l=n.currentUserID,n.isAdShowing)return[2];if(!l)throw new Error("resume watched should use local storage for logged out users");return!r||this.props.hasEnded?[3,2]:(d=Ln(this.props))?(c={userID:l,position:Math.floor(t),videoID:d,videoType:On.MrR.LIVE},[4,this.props.updateUserViewedVideo({variables:{input:c}})]):(s.x2.logger.withCategory("ResumeWatching").warn("missing broadcastID while attempting to update user resume watching status"),[2]);case 1:return i.sent(),[3,4];case 2:return a?(u=function(e){var n=e.mediaPlayerInstance;if(!n)throw new Error("no backend");return n.getDuration()}(this.props)-jn(this.props)<120,c={userID:l,position:u?0:Math.floor(e),videoID:o||"",videoType:On.MrR.VOD},[4,this.props.updateUserViewedVideo({variables:{input:c}})]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},n.writeToStorage=function(e){var t=n.props,i=t.isVod,a=t.vodID,r=t.isLive,o=t.isAdShowing,l=t.hasEnded;if(!o){var d=Ln(n.props);if(i&&n.props.mediaPlayerInstance)(u=s.IG.get(xn.U.VOD_RESUME_TIMES,{}))["v".concat(a)]=n.props.mediaPlayerInstance.getDuration()-e<120?0:Math.floor(e),s.IG.set(xn.U.VOD_RESUME_TIMES,u);else if(r&&d){var u;(u=s.IG.get(xn.U.LIVE_RESUME_TIMES,{}))[d]=l?0:Math.floor(n.currentStreamOffset),s.IG.set(xn.U.LIVE_RESUME_TIMES,u)}}},n.onSegmentMetadata=function(e){var t=e.streamOffset;n.currentStreamOffset=t},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.setupLiveGqlTimeouts(),this.props.playerEvents.addEventListener(I.a.SEGMENT_METADATA,this.onSegmentMetadata)},n.prototype.componentWillUnmount=function(){this.clearAsync(),this.props.playerEvents.removeEventListener(I.a.SEGMENT_METADATA,this.onSegmentMetadata)},n.prototype.componentDidUpdate=function(){var e=this;this.clearAsync(),this.setupLiveGqlTimeouts(),clearTimeout(this.endClearTimeout),this.endClearTimeout=setTimeout((function(){return(0,i.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return this.props.isLive&&this.props.hasEnded&&this.props.currentUserID?(e=Ln(this.props))?(n={userID:this.props.currentUserID,position:0,videoID:e,videoType:On.MrR.LIVE},[4,this.props.updateUserViewedVideo({variables:{input:n}})]):(s.x2.logger.withCategory("ResumeWatching").warn("missing broadcastID while attempting to update user resume watching status"),[2]):[3,2];case 1:t.sent(),t.label=2;case 2:return this.props.isVod&&this.props.vodID&&this.props.hasEnded&&this.props.currentUserID?(n={userID:this.props.currentUserID,position:0,videoID:this.props.vodID,videoType:On.MrR.VOD},[4,this.props.updateUserViewedVideo({variables:{input:n}})]):[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))}),5e3*Math.random())},n.prototype.render=function(){return this.props.hasPlayed?this.props.currentUserID&&this.props.isVod?(0,a.jsx)(Q.j,{onTimeChanged:this.writeToGQL,throttleMilliseconds:2e4}):this.props.currentUserID?null:(0,a.jsx)(Q.j,{onTimeChanged:this.writeToStorage,throttleMilliseconds:5e3}):null},n.prototype.setupLiveGqlTimeouts=function(){var e=this;if(this.props.hasPlayed&&this.props.currentUserID&&this.props.isLive&&Ln(this.props)&&this.props.mediaPlayerInstance){var n=function(){e.writeToGQL(jn(e.props),e.currentStreamOffset)},t=Math.ceil(5*Math.random()*6e4);this.timeout=setTimeout((function(){n(),e.interval=setInterval(n,6e5)}),t)}},n.prototype.clearAsync=function(){clearInterval(this.interval),clearTimeout(this.timeout)},n}(r.Component);var Un=(0,o.Zz)((0,c.Ng)((function(e){var n=(0,Nn.wz)(e);return{currentUserID:n?n.id:null}})),(0,Pe.VX)((function(e){return{isAdShowing:(0,Fe.cz)(e.videoAdMetadata)}})),(0,y.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,hasPlayed:e.hasPlayed,hasEnded:e.playerState===b.p.ENDED}})),(0,k.cj)((function(e){var n=e.content;return{isVod:(0,D.wy)(n)||(0,D.P3)(n),vodID:(0,D.hq)(n),isLive:(0,D.DG)(n)}})),(0,h.X)(),(function(e){var n=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={id:void 0},e.onDurationChanged=function(){e.setState((function(n){var t,i,a=(t=e.props.mediaPlayerInstance,(i=t&&t.getSessionData())&&i["BROADCAST-ID"]);return n.id===a?null:{id:a}}))},e}return(0,i.__extends)(t,n),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(I.a.DURATION_CHANGED,this.onDurationChanged)},t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,{playerCoreBroadcastID:this.state.id}))},t.displayName=(0,Rn.K)(t.name,e),t}(r.Component);return(0,o.Zz)((0,y.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,h.X)())(n)}),(0,M._v)(Mn(),{name:"updateUserViewedVideo"}))(Bn),qn=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Un,{}),(0,a.jsx)(In,{})]})},Gn=t(959385),zn=t(412670);var Hn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.hasEverPausedFromBeingOutsideViewPort=!1,n.checkVisible=function(e){var t=n.props,i=t.videoContainer,a=t.isPlaying,r=t.pausingBehavior;if(i&&a&&r){var o,s,l=i.getBoundingClientRect();if(o=e,(s=l).bottom<o.top||s.top>o.bottom)r!==zn.Fc.Once||n.hasEverPausedFromBeingOutsideViewPort||(n.pausePlayer(),n.unregisterScrollListener()),r===zn.Fc.Always&&n.pausePlayer()}},n.pausePlayer=function(){n.hasEverPausedFromBeingOutsideViewPort=!0,n.props.pause()},n.unregisterScrollListener=function(){n.unregister&&n.unregister()},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.pausingBehavior&&(this.unregister=this.props.registerReceiver(this))},n.prototype.componentDidUpdate=function(e){!e.pausingBehavior&&this.props.pausingBehavior&&(this.unregister=this.props.registerReceiver(this))},n.prototype.componentWillUnmount=function(){this.unregisterScrollListener()},n.prototype.render=function(){return null},n}(r.Component),Wn=(0,o.Zz)((0,Sn.c0)((function(e){var n=e.videoContainer;return{videoContainer:n}})),(0,S.AP)((function(e){var n=e.isPlaying,t=e.pause;return{isPlaying:n,pause:t}})),(0,k.cj)((function(e){return{pausingBehavior:(0,P.wk)({playerPublicPropsContext:e}).pauseWhenNotInViewport}})),(0,Gn.UJ)((function(e){return{registerReceiver:e.registerReceiver}})))(Hn);var Kn=t(388597),Zn=t.n(Kn),Qn=s.x2.logger.withCategory("StreamRefetchManagerComponent"),Yn=[6e4,3e5,6e5,9e5];function Xn(e){var n=e&&e.getSessionData();return n&&n["BROADCAST-ID"]}var $n=(0,o.Zz)((0,y.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,isPlayerCoreLoading:e.isPlayerCoreLoading}})),(0,k.cj)((function(e){var n=e.content;return{isLive:(0,D.DG)(n),channelLogin:(0,D.DG)(n)?n.channelLogin:void 0}})),(0,M._v)(Zn(),{options:function(e){return{variables:{channel:e.channelLogin}}},skip:function(e){return!e.isLive}}))((function(e){var n=(0,r.useRef)(""),t=(0,r.useRef)(!0),a=e.mediaPlayerInstance,o=e.isPlayerCoreLoading,s=(0,r.useState)((function(){return Xn(a)})),l=s[0],u=s[1],c=(0,r.useRef)(!1),p=e.data&&e.data.user&&e.data.user.stream&&e.data.user.stream.id||void 0,m=e.data&&e.data.refetch,v=!(!e.data||!e.data.loading),f=(0,r.useCallback)((function(){Qn.debug("set broadcast id",{id:Xn(a)}),u(Xn(a))}),[a,u]);return(0,r.useEffect)((function(){var e;return n.current=(0,d.k3)(),Qn.debug("running the effect",{isLoading:v,gqlBroadcastId:p,playerCoreBroadcastID:l,effectId:n.current,isPlayerCoreLoading:o}),v||o||p===l||!m?p===l&&(Qn.debug("ID stabilized",{effectId:n.current,gqlBroadcastId:p,playerCoreBroadcastID:l}),t.current=!1):(c.current=!0,(0,i.__awaiter)(void 0,void 0,void 0,(function(){function a(){return(0,i.__awaiter)(this,arguments,void 0,(function(t){var r,o;return void 0===t&&(t=0),(0,i.__generator)(this,(function(i){switch(i.label){case 0:return m?(Qn.debug("refetch",{retryNumber:t}),r=n.current,[4,m().catch((function(){return Qn.warn("gql error")}))]):(Qn.errorAndReport(new Error("refetch function is missing"),"refetch function is missing"),[2,void 0]);case 1:return o=i.sent(),r!==n.current?(Qn.debug("got results from a refetch, but discarding them as the effect closed over it was torn down",{effectIdForThisRequest:r,effectId:n.current,retryNumber:t}),[2]):p!==l?[2,new Promise((function(i,o){Qn.debug("IDs do not match, setting a timeout to do a retry",{effectIdForThisRequest:r,effectId:n.current,retryNumber:t,timeout:Yn[t],gqlBroadcastId:p,playerCoreBroadcastID:l}),e=setTimeout((function(){a(t+1).then(i,o)}),(t>=Yn.length-1?Yn[Yn.length-1]:Yn[t])+12e4*Math.random()-6e4)}))]:(Qn.debug("ID stabilized",{effectIdForThisRequest:r,effectId:n.current,retryNumber:t,timeout:Yn[t],gqlBroadcastId:p,playerCoreBroadcastID:l,result:o}),[2,o])}}))}))}return(0,i.__generator)(this,(function(i){return Qn.debug("broadcast ID mismatch, polling for new ID",{gqlBroadcastId:p,playerCoreBroadcastID:l,effectId:n.current,isPlayerCoreLoading:o}),t.current?(e=setTimeout((function(){return a()}),Yn[0]),t.current=!1):a(),c.current=!1,[2]}))}))),function(){Qn.debug("something changed, tearing down effect",{effectId:n.current}),clearTimeout(e)}}),[f,p,a,m,l,v,o]),(0,T.p)(I.a.DURATION_CHANGED,(function(){Qn.debug("duration changed"),f()})),(0,T.p)(b.p.ENDED,(function(){Qn.debug("ended"),u(void 0)})),(0,T.p)(I.a.ERROR,(function(){Qn.debug("error"),f()})),null})),Jn=t(346621),et=t.n(Jn);var nt=(0,o.Zz)((0,k.cj)((function(e){var n=e.content;return{isLiveContent:(0,D.DG)(n),channelLogin:(0,D.hd)(n)||"",videoID:(0,D.hq)(n)||"",content:n}})),(0,M._v)(et(),{name:"channelData",skip:function(e){var n=e.isLiveContent,t=e.channelLogin;return!n||!t},options:function(e){return{variables:{channel:e.channelLogin}}}}))((function(e){var n=e.isLiveContent,t=e.content,i=(0,r.useContext)(y.$g),a=i.isOffline,o=i.hasPlayed,s=(0,r.useContext)(Ee.g7).track,l=(0,r.useRef)(t),d=function(e){var n,t,i,a=e.channelData;if(a&&!a.loading&&!a.error)return(null===(i=null===(t=null===(n=a.user)||void 0===n?void 0:n.stream)||void 0===t?void 0:t.freeformTags)||void 0===i?void 0:i.map((function(e){return e.name})))||null;return null}(e),u=(0,r.useRef)(d),c=(0,r.useRef)(!1);Je(t,l.current)&&(c.current=!1),l.current=t;var p=(0,r.useCallback)((function(){c.current=!0,s("play_session_tags",{freeform_tag_stream:u.current?JSON.stringify(u.current):null})}),[s]),m=o&&d&&(n&&!a);return(0,r.useEffect)((function(){if(m){var e,n,t=(e=u.current,n=d,!(!e&&!n||e&&!e.length&&n&&!n.length||e&&n&&e.length===n.length&&e.every((function(e){return n.includes(e)}))));t&&(u.current=d);var i=t&&c.current;c.current&&!i||p()}}),[m,d,p]),null}));var tt=t(533202),it="video_ads.stream_loudness";var at,rt=function(e){var n=(0,r.useRef)(e);n.current=e,(0,r.useEffect)((function(){var e=function(){var e;n.current&&(e=n.current,s.IG.set(it,e))},t=setInterval(e,3e4);return e(),function(){clearInterval(t),e()}}),[])},ot="TXXX";function st(e){var n=e.filter(lt),t=n.length&&n[0];if(!t||!t.info||!t.info.length)return null;try{var i=JSON.parse(t.info[0]);return{cmd:i.cmd,stream_loudness:i.stream_loudness,length:i.length,commercial_id:i.commercial_id,splice_event_id:i.splice_event_id,avail_num:i.avail_num}}catch(e){return null}}function lt(e){return e.id===ot}!function(e){e.BeginAdPod="BeginAdPod",e.DurationThreshold="DurationThreshold",e.ResetAdPod="ResetAdPod",e.ResetContext="ResetContext",e.StreamLoudness="StreamLoudness"}(at||(at={}));var dt=t(358091);function ut(e,n){switch(n.update){case at.BeginAdPod:return(0,i.__assign)((0,i.__assign)({},e),{preAdPodVolume:n.volume,preAdPodMuted:n.muted});case at.DurationThreshold:return(0,i.__assign)((0,i.__assign)({},e),{reachedDurationThreshold:!0});case at.ResetAdPod:return(0,i.__assign)((0,i.__assign)({},e),{preAdPodVolume:null,preAdPodMuted:null});case at.ResetContext:return(0,i.__assign)({},dt._u);case at.StreamLoudness:return(0,i.__assign)((0,i.__assign)({},e),{streamLoudness:n.next});default:return e}}var ct,pt=function(e){var n=r.useContext(k.kl).content,t=r.useReducer(ut,(0,i.__assign)((0,i.__assign)({},dt._u),{streamLoudness:s.IG.getOptional(it)})),o=t[0],l=t[1];return(0,a.jsxs)(dt.s_.Provider,{value:o,children:[((0,D.DG)(n)||(0,D.wy)(n))&&(0,a.jsx)(mt,{state:o,dispatch:l}),e.children]})},mt=function(e){var n=e.state,t=e.dispatch;return vt(t,n),ft(t,n),r.useEffect((function(){return function(){t({update:at.ResetContext})}}),[t]),null},vt=function(e,n){var t=n.streamLoudness,i=n.reachedDurationThreshold;rt(t),(0,T.p)(Ie.ID3,r.useCallback((function(n){var t,a=null!==(t=function(e){var n=st(e);return n&&n.stream_loudness||void 0}(n))&&void 0!==t?t:(0,tt.KZ)();a&&i&&e({update:at.StreamLoudness,next:{loudness:a,timestamp:Date.now()}})}),[i,e])),r.useEffect((function(){var n=setTimeout((function(){e({update:at.DurationThreshold})}),5e3);return function(){return clearTimeout(n)}}),[e])},ft=function(e,n){var t=r.useContext(Pe.jK),i=t.adFormatMetadata,a=t.videoAdMetadata,o=r.useContext(y.$g),s=o.volume,l=o.muted,d=n.preAdPodMuted,u=n.preAdPodVolume,c=(0,Fe.EF)(a)||(0,Fe.hr)(i);r.useEffect((function(){c?null===d&&null===u&&e({update:at.BeginAdPod,volume:s||0,muted:!!l}):e({update:at.ResetAdPod})}),[c,s,l,d,u,e])},gt=t(485272),ht=t(185418),yt=t(404852),kt=t(358350);!function(e){e.Amazon="amazon"}(ct||(ct={}));var St,_t=t(826094),bt=t(602778),Ct=t(26605),Pt=t(860879),Et=t(159385),Nt=t(466257),xt=t(220383),At=t(351612),wt=t.n(At),Tt=60,It=3e5,Dt=3e4,Ft="broadcaster";function Ot(e){return(0,i.__awaiter)(this,void 0,Promise,(function(){var n,t,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,jt(e)];case 1:return n=i.sent(),t=function(e){var n=e.request,t=e.props,i=new Set,a=le.parse(window.location.search),r=Date.now(),o=t.video,s=t.broadcaster,l=t.currentUser,d=n.roll===kt.df.Pre,u=n.roll===kt.df.Mid,c=n.roll===kt.df.Post,p=(0,Nt.B2)(),m=(0,Nt.tb)(),v=s&&s.adProperties;t.declineVideoAdsReason&&i.add(t.declineVideoAdsReason);n.roll===kt.df.Pre&&t.content.type===B.FC.Live&&l&&s&&l.id===s.id&&i.add(Et.k.BroadcasterPreroll);o&&o.lengthSeconds&&o.lengthSeconds<Tt&&n.roll===kt.df.Pre&&i.add(Et.k.ShortVideo);d&&o&&s&&l&&s.id===l.id&&i.add(Et.k.VODCreator);l&&l.hasTurbo&&i.add(Et.k.Turbo);d&&r-p<It&&i.add(Et.k.RateLimitPreroll);u&&s&&m.channelId===s.id&&r-m.time<Dt&&i.add(Et.k.RateLimitMidroll);s&&s.self&&s.self.subscriptionBenefit&&s.self.subscriptionBenefit.product&&s.self.subscriptionBenefit.product.hasAdFree&&i.add(Et.k.AdFreeChannelSubscription);var f=v&&d&&v.hasPrerollsDisabled,g=v&&c&&v.hasPostrollsDisabled;(f||g)&&i.add(Et.k.AdFreeChannel);d&&"raid"===a.referrer&&i.add(Et.k.Raid);o&&u&&v&&n.broadcasterInitiated&&o.broadcastType===On.Suw.ARCHIVE&&v.vodArchiveMidrolls!==Ft&&i.add(Et.k.BroadcasterInitiatedVODMidroll);o&&v&&!v.hasVodAdsEnabled&&i.add(Et.k.AdFreeVOD);d&&o&&t.embeddedPromotionalVOD&&i.add(Et.k.EmbedPromo);return i}(e),a=null,n&&n.reason&&t.add(n.reason),n&&n.error&&(a=n.error),[2,{shouldDecline:!!t.size&&!e.request.forced,trackingEvent:"video_ad_request_declined",trackingProperties:Rt(t),serverError:a,radToken:n?n.radToken:null}]}}))}))}function Rt(e){return[Et.k,Et.e].reduce((function(n,t){return Object.values(t).forEach((function(t){n[t]=e.has(t)})),n}),{})}function Vt(e){var n=Ct.bi.StandardVideoAd;if(e){var t=e;t.adFormat&&(n=t.adFormat)}return n}var Mt=((St={})[kt.df.Pre]=On.bOg.PREROLL,St[kt.df.Mid]=On.bOg.MIDROLL,St[kt.df.Post]=On.bOg.POSTROLL,St),Lt=function(e){switch(e){case B.FC.Live:case B.FC.DVRLive:return On.ebQ.LIVE;case B.FC.VOD:case B.FC.DVRVOD:case B.FC.Collection:return On.ebQ.VOD;default:return null}};function jt(e){return(0,i.__awaiter)(this,arguments,Promise,(function(e){var n,t,a,r,o,l,d,u,c,p,m,v,f,g,h,y,k,S,_,b,C=e.request,P=e.props,E=e.trackVideoAdData;return(0,i.__generator)(this,(function(e){switch(e.label){case 0:if(n=P.videoAccessToken,t=P.disableAutoplay,a=P.content,r=Lt(a.type),o={break_length:C.duration,emitting_service:"AdvantEdge",is_mafs:!!C.mafsDecision,stitched:!!(0,Fe.lq)(P.stitchedAdMetadata)},!n)return[2,{reason:null,error:{context:"GrandDAds",error:"invalid request - nauth",details:"no nauth token present"},radToken:null}];if(!r)return[2,{reason:null,error:{context:"GrandDAds",error:"invalid request - content type",details:"invalid content type"},radToken:null}];l=null,P.mediaPlayerInstance&&(l=P.mediaPlayerInstance.getSessionData()["VIDEO-SESSION-ID"]),d={adSessionID:C.sessionID,clientContext:{isAudioOnly:!1,isMiniTheater:!1,isPIP:!1,isUsingExternalPlayback:!1,clientApp:s.x2.session.clientApp||"",appVersion:s.x2.config.buildID||""},duration:C.duration,playerContext:{contentType:r,isAutoPlay:!t,nauthSig:n.sig||"",nauthToken:n.token||"",videoSessionID:l,playerSizeMode:(0,xt.y)(P),playerType:P.playerType,raidID:null===(y=null===(h=P.location)||void 0===h?void 0:h.state)||void 0===y?void 0:y.raid_id,browseItemTrackingID:null===(S=null===(k=P.location)||void 0===k?void 0:k.state)||void 0===S?void 0:S.item_tracking_id},rollType:Mt[C.roll],isVLM:!!C.isVLM,commercialID:C.commercialID||"",game:(null===(_=P.game)||void 0===_?void 0:_.name)||"",twitchCorrelator:C.twitchCorrelator||"",adFormat:Vt(P.stitchedAdMetadata)},u=(0,bt.ff)(C.adFormat)?C.adFormat.toString():Pt.p.CHANNEL_PLAYER,E("ad_eligibility_check_client_request",(0,i.__assign)({ad_placement:u,allocation_type:"PreFill",main_play_session_id:s.E5.getVideoPlayerTrackingData().playSessionID,pbyp_play_session_id:void 0},o)),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,s.x2.apollo.client.query({query:wt(),fetchPolicy:"network-only",variables:{context:d}})];case 2:return c=e.sent(),p=c.data.adContext,m=(null==p?void 0:p.radToken)||null,E("ad_eligibility_check_client_request_response",(0,i.__assign)({ad_placement:u,shouldDecline:p&&p.declineState.shouldDecline},o)),v=null,c.errors&&c.errors.length&&(v={context:"GrandDAds",error:"server error",details:c.errors.toString()},E("ad_eligibility_check_client_request_error",(0,i.__assign)((0,i.__assign)({ad_placement:u},o),{error_reason:c.errors.toString()}))),[2,{reason:p&&p.declineState.reason,error:v,radToken:m}];case 3:return f=e.sent(),g=(0,_t.d)(f,{useRawMessage:!0}),E("ad_eligibility_check_client_request_error",(0,i.__assign)({error_reason:g},o)),[2,{reason:null,error:{context:"GrandDAds",error:g,details:f instanceof Error&&(null===(b=f.stack)||void 0===b?void 0:b.toString())||""},radToken:null}];case 4:return[2]}}))}))}var Bt=t(726726);function Ut(e,n){var t,i=n.game,a=n.broadcaster,r=n.embed,o={game:(0,Bt.mV)(null!==(t=null==i?void 0:i.name)&&void 0!==t?t:""),chan:a&&a.login,chanid:a&&a.id,twitchcorrelator:e.twitchCorrelator,ad_session_id:e.sessionID,embed:r,platform:"web",mature:!!(a&&a.broadcastSettings&&a.broadcastSettings.isMature),pos:qt(e.roll),timebreak:e.duration,tag:Gt(n),content_labels:zt(n)},s=a&&a.roles;return s&&s.isPartner?o.chantype="partner":s&&s.isAffiliate?o.chantype="affiliate":o.chantype="basic",o}function qt(e){switch(e){case kt.df.Mid:return 2;case kt.df.Post:return 3;default:return 1}}function Gt(e){var n=e.broadcaster,t=e.video,a=e.content,r=[];return a.type!==B.FC.Live&&t&&t.contentTags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),t.contentTags,!0)),a.type===B.FC.Live&&n&&n.stream&&n.stream.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.stream.tags,!0)),a.type===B.FC.Live&&n&&n.stream&&n.stream.game&&n.stream.game.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.stream.game.tags,!0)),r.map((function(e){return(0,Bt.mV)(e.tagName.toLowerCase())})).join("|")}function zt(e){var n,t;return(null===(t=null===(n=e.video)||void 0===n?void 0:n.contentClassificationLabels)||void 0===t?void 0:t.filter((function(e){return e.isEnabled})).map((function(e){return e.id})).join("|"))||""}var Ht=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.requestInProcess=null,n.handleNewVideoAdRequest=function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var e,n,t,a,r,o,s,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=this.props,n=e.adFormatRequest,t=e.videoAdRequest,a=e.server,r=e.processAdRequest,o=e.reset,(s=null!=t?t:n)&&s.status===kt.sC.Pending&&this.requestInProcess!==s?(this.props.trackVideoAdData("ad_opportunity_start_client",{sda_sequence_length:null==n?void 0:n.sequenceLength}),this.requestInProcess=s,[4,Ot({request:s,props:this.props,trackVideoAdData:this.props.trackVideoAdData})]):[2];case 1:return(l=i.sent()).serverError&&this.props.trackVideoAdData("video_ad_related_error",l.serverError),this.props.setRadToken(l.radToken),this.props.videoAdRequest!==t?[2]:!l.shouldDecline||s.forced?a===_.K.VAES?(r(s,(d=s,u=ct.Amazon,c=this.props,{sdk:u,content:c.content,playerType:c.playerType,broadcaster:c.broadcaster,currentUser:c.currentUser,game:c.game,video:c.video,server:c.server,tagParams:Ut(d,c)})),[2]):(o(),[2]):(this.props.trackVideoAdData(l.trackingEvent,l.trackingProperties),"video_ad_request_declined"===l.trackingEvent&&this.props.trackVideoRAdEvent(yt.V.VideoAdRequestDeclined,l.trackingProperties),this.props.reset(),[2])}var d,u,c}))}))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.handleNewVideoAdRequest()},n.prototype.componentDidUpdate=function(){this.handleNewVideoAdRequest()},n.prototype.render=function(){return null},n}(r.Component);var Wt=(0,o.Zz)((0,k.cj)((function(e){var n=(0,P.wk)({playerPublicPropsContext:e});return{content:e.content,declineVideoAdsReason:n.declineVideoAdsReason,embeddedPromotionalVOD:n.embeddedPromotionalVOD,playerType:e.type,embed:!!n.embed,disableAutoplay:n.disableAutoplay,mini:!!n.mini}})),(0,ht._)(),(0,Pe.VX)((function(e){var n=e.adFormatRequest,t=e.videoAdRequest,i=e.processAdRequest,a=e.setRadToken,r=e.reset,o=e.videoAdMetadata,s=(0,Fe.lq)(o)&&o||void 0;return{adFormatRequest:n,videoAdRequest:t,reset:r,setRadToken:a,processAdRequest:i,stitchedAdMetadata:s}})),(0,y.dd)((function(e){var n=e.videoAccessToken,t=e.mediaPlayerInstance;return{videoAccessToken:n,mediaPlayerInstance:t}})),(0,Sn.c0)((function(e){var n=e.isFullscreen;return{isFullscreen:n}})),L.y,(0,c.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled}})))(Ht);var Kt=t(75021),Zt=t.n(Kt),Qt=t(55533),Yt=t(876275);function Xt(e,n){var t,i=n.game,a=n.broadcaster,r=n.embed,o={game:(0,Bt.mV)(null!==(t=null==i?void 0:i.name)&&void 0!==t?t:""),chan:a&&a.login,chanid:a&&a.id,twitchcorrelator:e.twitchCorrelator,embed:r,platform:"web",mature:!!(a&&a.broadcastSettings&&a.broadcastSettings.isMature),pos:$t(e.roll),timebreak:e.duration,tag:Jt(n),content_labels:ei(n)},s=a&&a.roles;return s&&s.isPartner?o.chantype="partner":s&&s.isAffiliate?o.chantype="affiliate":o.chantype="basic",o}function $t(e){switch(e){case kt.df.Mid:return 2;case kt.df.Post:return 3;default:return 1}}function Jt(e){var n=e.broadcaster,t=e.video,a=e.content,r=[];return a.type!==B.FC.Live&&t&&t.contentTags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),t.contentTags,!0)),a.type===B.FC.Live&&n&&n.stream&&n.stream.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.stream.tags,!0)),a.type===B.FC.Live&&n&&n.stream&&n.stream.game&&n.stream.game.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.stream.game.tags,!0)),r.map((function(e){return(0,Bt.mV)(e.tagName.toLowerCase())})).join("|")}function ei(e){var n,t;return(null===(t=null===(n=e.video)||void 0===n?void 0:n.contentClassificationLabels)||void 0===t?void 0:t.filter((function(e){return e.isEnabled})).map((function(e){return e.id})).join("|"))||""}var ni=t(703664),ti=t(357515),ii=(0,o.Zz)((0,c.Ng)((function(e){return{rightColumnExpanded:e.ui.rightColumnExpanded}})),(0,ni.A)(),(0,Sn.c0)((function(e){var n=e.videoContainer;return{videoContainer:n}})),(0,k.cj)((function(e){var n=e.behaviors;return{behaviors:n}})))((function(e){var n,t=!!(null===(n=e.behaviors)||void 0===n?void 0:n.mini);r.useEffect((function(){a()}));var a=function(){var n=e.adFormatRequest,t=e.processAdRequest,a=e.reset,r=e.rightColumnExpanded;if(n&&n.status===kt.sC.Pending&&(0,gt.rF)(n.adFormat)&&!e.loading){var s=n;s.radsToken&&e.setRadToken(s.radsToken);var l=s.adFormat,d=o(l);if(d&&!n.forced)return e.trackAdFormatData("ad_request_format_declined",{reason:JSON.stringify([d])}),void a();var u=[];n.primaryFormats&&(u=(0,i.__spreadArray)([],n.primaryFormats,!0)),n.fallbackFormats&&(u=(0,i.__spreadArray)((0,i.__spreadArray)([],u,!0),n.fallbackFormats,!0));for(var c=[],p=0,m=u;p<m.length;p++){var v=m[p];switch(v){case ti.Z$.OUTSTREAM_VERTICAL_VIDEO:var f=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,g=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;(f<768||g<400)&&(c.push(v),e.trackAdFormatData("ad_request_format_declined",{reason:JSON.stringify([Qt.y.InvalidWindowSize]),format_name:(0,ti.uN)(v)}));break;case ti.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO:r||(c.push(v),e.trackAdFormatData("ad_request_format_declined",{reason:JSON.stringify([Qt.y.RightColumnCollapsed]),format_name:(0,ti.uN)(v)}))}}t((0,i.__assign)((0,i.__assign)({},n),{declinedAdFormats:c}),function(e,n){return{content:n.content,sdk:Yt.hJ.Amazon,broadcaster:n.broadcaster,currentUser:n.currentUser,game:n.game,video:n.video,server:n.server,tagParams:Xt(e,n)}}(n,e))}},o=function(e){switch(e){case ti.Z$.LOWER_THIRD:case ti.Z$.SQUEEZEBACK:case ti.Z$.OUTSTREAM_VERTICAL_VIDEO:case ti.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO:return t?Qt.y.MiniPlayer:void 0;default:return Qt.y.InvalidFormat}};return null}));function ai(e){var n,t;return e.collection?null===(n=e.collection)||void 0===n?void 0:n.owner:e.video?null===(t=e.video)||void 0===t?void 0:t.owner:e.user}function ri(e){var n,t;if(e.collection){var i=null===(t=null===(n=e.collection)||void 0===n?void 0:n.items)||void 0===t?void 0:t.edges,a=i&&(0,w.bK)(i);if(a&&a.length>0)return a[0]}return e.video}function oi(e){var n=ai(e),t=ri(e);return t?t.game:(null==n?void 0:n.stream)?n.stream.game:void 0}function si(e){var n=ai(e),t=n&&n.adProperties;if(t)return t.adServerDefault||_.K.DFP}var li=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.adFormatRequest;return e&&(0,gt.rF)(e.adFormat)?(0,a.jsx)(ii,(0,i.__assign)({},this.props)):this.props.loading?null:(0,a.jsx)(Wt,(0,i.__assign)({},this.props))},n}(r.Component),di=(0,o.Zz)((0,k.cj)((function(e){var n=(0,P.wk)({playerPublicPropsContext:e});return{content:e.content,declineVideoAdsReason:n.declineVideoAdsReason,embeddedPromotionalVOD:n.embeddedPromotionalVOD,playerType:e.type,embed:!!n.embed,disableAutoplay:n.disableAutoplay,mini:!!n.mini}})),(0,Pe.VX)((function(e){var n=e.adFormatRequest,t=e.processAdRequest,i=e.setRadToken,a=e.reset,r=e.videoAdMetadata,o=(0,Fe.lq)(r)&&r||void 0;return{adFormatRequest:n,reset:a,setRadToken:i,processAdRequest:t,stitchedAdMetadata:o}})),(0,M._v)(Zt(),{props:function(e){return{broadcaster:(n=e.data)&&ai(n)||null,currentUser:n&&n.currentUser||null,error:n&&n.error,game:n&&oi(n)||null,inputVariables:n&&n.variables,loading:!(!n||!n.loading),server:n&&si(n),video:n&&ri(n)||null};var n},options:function(e){var n=e.content;return{variables:{isLive:!!(0,D.DG)(n),login:(0,D.hd)(n)||"",isVOD:!!(0,D.wy)(n)||!(!(0,D.P3)(n)||!n.vodID),vodID:(0,D.hq)(n)||"",isCollection:!!(0,D.P3)(n)&&!n.vodID,collectionID:!(0,D.hq)(n)&&(0,D.Eq)(n)||""}}}}))(li);var ui=t(269661),ci=t(103432),pi=t(297818),mi=t(711850),vi=(0,o.Zz)((0,ht._)(),(0,ni.A)())((function(e){var n=e.trackVideoAdData,t=e.trackAdFormatData,a=e.trackVideoRAdEvent,o=r.useContext(Pe.jK),s=o.thirdPartyVideoAdElement,l=o.thirdPartyOutstreamVideoAdElement,d=o.thirdPartyCompanionAdElement,u=o.videoAdRequest,c=o.reset,p=o.resetOutstreamAd,m=o.fillClientSideAd,v=o.updateClientSideAdSelectionParams,f=o.adFormatRequest,g=r.useContext(k.kl).behaviors,h=r.useContext(y.$g).mediaPlayerInstance,S=r.useRef(!1),_=!(g&&g.declineVideoAdsReason),b=r.useCallback((function(){var e={reason:ui.Z6};n("video_ad_request_error",e),a(yt.V.VideoAdRequestError,e)}),[n,a]),C=(0,ui.w6)({onAVAPLoadError:b,shouldInitializeAVAP:_,thirdPartyVideoAdElement:s,thirdPartyCompanionAdElement:d,thirdPartyOutstreamVideoAdElement:l}),P=C.sdkVersion,E=C.sdkUrl,N=C.amazonVideoAds;return r.useEffect((function(){var e,t=null!=u?u:fi(f)?f:null,r=new Date,o={emitting_service:"AdvantEdge",allocation_strategy:(null==t?void 0:t.mafsDecision)||"",date:r.toDateString(),stitched:!1,allocation_type:"PreFill",requested_format:null==t?void 0:t.adFormat.toString(),fallback_format:null===(e=null==t?void 0:t.fallbackFormat)||void 0===e?void 0:e.toString(),primary_format:null==t?void 0:t.adFormat.toString()};if(t&&t.status===kt.sC.Processed&&t.sdk===ct.Amazon&&N&&h&&!S.current){S.current=!0,n("video_ad_request"),a(yt.V.VideoAdRequest);var s=Date.now();n("ad_edge_request",o),function(e){(0,i.__awaiter)(this,arguments,void 0,(function(e){var t,r,l,d,u,p,f,g,h,y,k,_,b,C,P,N,x=e.url,A=e.request,w=e.avap,T=e.mediaPlayer;return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),[4,w.fetchAds(x)];case 1:if(null==(t=e.sent()))throw new Error("Failed to retrieve valid Ads Manager from AVAP");return t.init({fullscreen:!1,muted:T.isMuted(),volume:T.getVolume()}),n("video_ad_request_response"),n("ad_edge_request_response",{request_duration:Date.now()-s}),r=(0,pi.SS)({amazonVideoAds:w,adsManager:t,request:A,sdkUrl:E}),l=null===(_=r.adInfo)||void 0===_?void 0:_.adSystem,d=(0,i.__assign)((0,i.__assign)({},o),{player_mute:T.isMuted(),player_volume:T.getVolume(),ad_id:null===(b=r.adInfo)||void 0===b?void 0:b.adID,available_impression:r.numberOfAds,commercial_id:A.commercialID,break_length:A.duration,ad_position:r.adPosition,duration:A.duration,actual_duration:r.duration}),n("ad_csai_bid_parse_success",d),m(r,A),n("ad_csai_served_impressions",d),u=(0,ci.o)(T,r.roll),p=u.videoBitrate,f=u.adBitrate,g=u.storedAdBitrate,v({isAutoQualityMode:null!==(C=T.isAutoQualityMode())&&void 0!==C&&C,currentVideoWidth:null!==(P=T.getVideoWidth())&&void 0!==P?P:0,currentVideoHeight:null!==(N=T.getVideoHeight())&&void 0!==N?N:0,currentVideoBitrate:p,maxAdBitrate:f,storedAdBitrate:g}),t.startAds(f),l&&"FAS"===l||n("ad_client_pod_start",d),[3,4];case 2:return h=e.sent(),y={reason:(0,_t.d)(h,{useRawMessage:!0})},n("video_ad_request_error",y),a(yt.V.VideoAdRequestError,y),k=(0,_t.d)(h,{useRawMessage:!0}),n("ad_edge_request_error",(0,i.__assign)({error_message:k},o)),n("ad_csai_bid_parse_error",(0,i.__assign)({error_code:k},o)),c(),[3,4];case 3:return S.current=!1,[7];case 4:return[2]}}))}))}({url:(0,mi.SD)({request:t,sdkVersion:P}),request:t,avap:N,mediaPlayer:h})}}),[f,u,N,S,h,m,v,c,n,a,E,P]),r.useEffect((function(){var e,n=null!=f||fi(f)?f:null,a=new Date,r={allocation_strategy:(null==n?void 0:n.mafsDecision)||"",date:a.toDateString(),stitched:!1,requested_format:null==n?void 0:n.adFormat.toString(),fallback_format:null===(e=null==n?void 0:n.fallbackFormat)||void 0===e?void 0:e.toString(),primary_format:null==n?void 0:n.adFormat.toString()};n&&n.status===kt.sC.Preparing&&n.vast&&N&&h&&l&&!S.current&&(S.current=!0,function(e){(0,i.__awaiter)(this,arguments,void 0,(function(e){var n,a,o,s,l,d,u,c,f,g,h,y,k,_,b=e.request,C=e.avap,P=e.mediaPlayer;return(0,i.__generator)(this,(function(e){switch(e.label){case 0:if(e.trys.push([0,2,3,4]),!b.vast)throw new Error("No VAST was provided");return[4,C.parseAds(b.vast)];case 1:if(null==(n=e.sent()))throw new Error("Failed to retrieve valid Ads Manager from AVAP");return a=(0,pi.SS)({amazonVideoAds:C,adsManager:n,request:b}),o=(0,ci.o)(P,a.roll),s=o.videoBitrate,l=o.adBitrate,d=o.storedAdBitrate,n.init({fullscreen:!1,muted:!0,volume:P.getVolume()},{bitrate:l}),u=null===(g=a.adInfo)||void 0===g?void 0:g.adSystem,c=(0,i.__assign)((0,i.__assign)({},r),{player_mute:P.isMuted(),player_volume:P.getVolume(),ad_id:null===(h=a.adInfo)||void 0===h?void 0:h.adID,available_impression:a.numberOfAds,commercial_id:b.commercialID,break_length:b.duration,ad_position:a.adPosition,duration:b.duration,actual_duration:a.duration}),t("ad_csai_bid_parse_success",c),m(a,b),t("ad_csai_served_impressions",c),v({isAutoQualityMode:null!==(y=P.isAutoQualityMode())&&void 0!==y&&y,currentVideoWidth:null!==(k=P.getVideoWidth())&&void 0!==k?k:0,currentVideoHeight:null!==(_=P.getVideoHeight())&&void 0!==_?_:0,currentVideoBitrate:s,maxAdBitrate:l,storedAdBitrate:d}),u&&"FAS"===u||t("ad_client_pod_start",c),[3,4];case 2:return f=e.sent(),t("ad_request_error",{reason:(0,_t.d)(f,{useRawMessage:!0})}),t("ad_csai_bid_parse_error",(0,i.__assign)({error_code:(0,_t.d)(f,{useRawMessage:!0})},r)),p(),[3,4];case 3:return S.current=!1,[7];case 4:return[2]}}))}))}({request:n,avap:N,mediaPlayer:h}))}),[f,l,N,S,h,m,v,p,t]),null}));function fi(e){return void 0!==(null==e?void 0:e.adFormat)}var gi,hi=t(518658),yi=t(787004),ki=t(641581),Si=t(440961),_i=t(458083),bi=t(424182),Ci=t(743338),Pi=t(411998),Ei=t(325640),Ni=s.vF.withCategory("stream-display-ad");!function(e){e.Start="START",e.End="END",e.Abort="ABORT"}(gi||(gi={}));var xi=1e3;function Ai(e){var n=r.useState(!1),t=n[0],a=n[1],o=r.useState(0),s=o[0],l=o[1],d=r.useRef(void 0),u=r.useRef(!1),c=e.trackAdFormatData,p=e.trackAdFormatRAdEvent,m=r.useContext(Sn._t).setIsMenuShowing,v=r.useContext(k.kl).behaviors,f=(0,de.If)(),g=r.useContext(Pe.jK),h=g.adFormatRequest,y=g.adFormatMetadata,S=g.reset,_=g.resetOutstreamAd,b=g.startClientSideAd,C=g.updateOutstreamAdDisplayStatus,P=g.videoAdMetadata,E=g.isDisplayingSDASequence,N=g.updateSDAHiddenState,x=g.isSDAContainerHidden,A=r.useRef(null),w=r.useRef(null),T=r.useState(1),I=T[0],D=T[1],F=r.useRef(I),O=r.useState(Ei.bi.Default),R=O[0],V=O[1],M=r.useState(!1),L=M[0],j=M[1],B=r.useRef(R);r.useEffect((function(){B.current=R}),[R]);var U=r.useRef();U.current=(0,Fe.I9)(y)?y.adFormat===ti.Z$.LOWER_THIRD?Ei.bi[R]:Ei.bi[Ei.bi.InVideo]:void 0;var q=r.useMemo((function(){return function(e){if(!(0,gt.rW)(e))return ti.Z$.SQUEEZEBACK;return e}((null==y?void 0:y.adFormat)||(null==h?void 0:h.adFormat))}),[null==y?void 0:y.adFormat,null==h?void 0:h.adFormat]),G=r.useState({}),z=G[0],H=G[1],W=r.useCallback((function(e){Ni.debug("reporting mount of ".concat(e.format?ti.Z$[e.format]:void 0," format, ").concat(Ei.bi[e.mode||Ei.bi.Default]," mode, ").concat(e.isSkyscraper?"skyscraper":"non-skyscraper"," SDA component")),H(e)}),[]),K=r.useCallback((function(e){Ni.debug("reporting unmount of ".concat(e.format?ti.Z$[e.format]:void 0," format, ").concat(Ei.bi[e.mode||Ei.bi.Default]," mode, ").concat(e.isSkyscraper?"skyscraper":"non-skyscraper"," SDA component")),H((function(n){return e.format===n.format&&e.mode===n.mode&&e.isSkyscraper===n.isSkyscraper?{}:n}))}),[]),Z=r.useCallback((function(e){if((0,Be.fX)("nab_gate")&&void 0!==f&&!de.l$.has(f)){var n=function(e){return!(!e||!e.offsetParent)}(e);n?c("nab_detection",(0,i.__assign)((0,i.__assign)({},re.current),{nab_value:"1",client_country_code:f})):(c("nab_detection",(0,i.__assign)((0,i.__assign)({},re.current),{nab_value:"3",client_country_code:f})),N(!0))}}),[f,c,N]);r.useEffect((function(){F.current=I}),[I]);var Q=r.useCallback((function(){D((function(e){return e%2+1}))}),[]),Y=r.useCallback((function(){return F.current%2?A.current:w.current}),[]),X=r.useCallback((function(){return F.current%2?w.current:A.current}),[]),$=r.useCallback((function(e){e&&(e.src="about:blank",e.srcdoc="")}),[]),J=y,ee=r.useMemo((function(){return null==J?void 0:J.bid}),[null==J?void 0:J.bid]),ne=r.useMemo((function(){return(0,bi.F)(q,ee)}),[ee,q]),te=r.useMemo((function(){return(0,Ci.Ny)(ne)}),[ne]),ie=r.useMemo((function(){if(null==J?void 0:J.bid)return Date.now()+1e3*((null==J?void 0:J.duration)||0)}),[null==J?void 0:J.duration,null==J?void 0:J.bid]),ae=r.useCallback((function(){var e=(0,Be.fX)("sda_dynamic_durations"),n=1e3*((null==J?void 0:J.duration)||0);if(!e||void 0===ie)return Ni.debug("Using default SDA duration of ".concat(n)),n;var t=Math.max(2e3,Math.min(ie-Date.now(),n));return Ni.debug("Using updated SDA duration of ".concat(t)),t}),[ie,null==J?void 0:J.duration]),re=r.useRef((null==J?void 0:J.trackingParams)||{}),oe=r.useCallback((function(e){re.current=e||{}}),[]),se=r.useState(!0),le=se[0],ue=se[1],ce=r.useRef(0),pe=r.useCallback((function(){m(!1),a(!1),l(0),ue(!0),oe(void 0),clearInterval(d.current)}),[m,a,l,oe]),me=r.useRef(""),ve=r.useState(!1),fe=ve[0],ge=ve[1];r.useEffect((function(){fe&&(pe(),(null==P?void 0:P.stitched)?_():S(),c("stream_display_ad_visibility_state",(0,i.__assign)((0,i.__assign)({},re.current),{ad_size:"".concat(null==ee?void 0:ee.width,"x").concat(null==ee?void 0:ee.height),state:gi.Abort,sub_format_name:(0,_i.Fn)(q,null==ee?void 0:ee.height,null==ee?void 0:ee.width),abort_reason:"Error",error:me.current})),ge(!1))}),[pe,null==ee?void 0:ee.height,null==ee?void 0:ee.width,fe,S,_,q,c,null==P?void 0:P.stitched]),r.useEffect((function(){h&&h.status===kt.sC.Filled&&(0,Fe.I9)(J)&&(null==v?void 0:v.mini)&&(pe(),S(),c("stream_display_ad_visibility_state",(0,i.__assign)((0,i.__assign)({},re.current),{ad_size:"".concat(null==ee?void 0:ee.width,"x").concat(null==ee?void 0:ee.height),state:gi.Abort,abort_reason:"MINI",sub_format_name:(0,_i.Fn)(q,null==ee?void 0:ee.height,null==ee?void 0:ee.width)})))}),[h,null==v?void 0:v.mini,pe,ee,S,q,J,c]),r.useEffect((function(){h&&h.status===kt.sC.Filled&&(0,Fe.I9)(J)&&(null==P?void 0:P.stitched)&&(pe(),_(),c("stream_display_ad_visibility_state",(0,i.__assign)((0,i.__assign)({},re.current),{ad_size:"".concat(null==ee?void 0:ee.width,"x").concat(null==ee?void 0:ee.height),state:gi.Abort,abort_reason:"SureStream",sub_format_name:(0,_i.Fn)(q,null==ee?void 0:ee.height,null==ee?void 0:ee.width)})))}),[h,pe,ee,_,q,J,c,null==P?void 0:P.stitched]);var he=(0,ke.Z)(R);r.useEffect((function(){h&&h.status===kt.sC.Filled&&(0,Fe.I9)(J)&&J.adFormat===ti.Z$.LOWER_THIRD&&void 0!==he&&he!==R&&(pe(),S(),c("stream_display_ad_visibility_state",(0,i.__assign)((0,i.__assign)({},re.current),{ad_size:"".concat(null==ee?void 0:ee.width,"x").concat(null==ee?void 0:ee.height),state:gi.Abort,abort_reason:"PushdownEligibilityChanged",sub_format_name:(0,_i.Fn)(q,null==ee?void 0:ee.height,null==ee?void 0:ee.width)})))}),[h,pe,null==ee?void 0:ee.height,null==ee?void 0:ee.width,R,he,S,q,J,c]),r.useEffect((function(){(null==ee?void 0:ee.creativeHtml)&&t&&"visible"===(null==J?void 0:J.status)&&a(!1)}),[ee,t,null==J?void 0:J.status]),r.useEffect((function(){var e=X();if(h&&h.status===kt.sC.Filled&&(0,Fe.I9)(J)&&e){var n=q!==ti.Z$.LOWER_THIRD||R===z.mode||R===Ei.bi.Default&&z.mode===Ei.bi.InVideo,r=q!==ti.Z$.SQUEEZEBACK||te===z.isSkyscraper;q===z.format&&n&&r&&!u.current&&!t&&le&&(null==J?void 0:J.bid)&&"ready"===(null==J?void 0:J.status)&&(Ni.debug("rendering the ad in the new location ".concat(z.format?ti.Z$[z.format]:void 0," format, ").concat(Ei.bi[z.mode||Ei.bi.Default]," mode, ").concat(z.isSkyscraper?"skyscraper":"non-skyscraper"," SDA component")),$(e),oe(null==J?void 0:J.trackingParams),(null==ee?void 0:ee.creativeHtml)&&(u.current=!0,hi.F.renderCreative(ee,e,c,!1,ti.Z$[J.adFormat],(0,i.__assign)((0,i.__assign)({},re.current),{ad_size:"".concat(null==ee?void 0:ee.width,"x").concat(null==ee?void 0:ee.height),pushdown_mode:U.current})).then((function(){var n,t;1!==(null===(n=null==J?void 0:J.trackingParams)||void 0===n?void 0:n.sda_sequence_number)&&(null===(t=null==J?void 0:J.trackingParams)||void 0===t?void 0:t.sda_sequence_number)||Z(e),p(Pi.V.AdImpression,(0,i.__assign)((0,i.__assign)({},re.current),{ad_size:"".concat(null==ee?void 0:ee.width,"x").concat(null==ee?void 0:ee.height),pushdown_mode:U.current})),(0,Si.flushSync)((function(){a(!0)})),(0,Si.flushSync)((function(){ue(!1)})),(0,Si.flushSync)((function(){l(0)})),(0,Si.flushSync)((function(){Q()}))})).catch((function(e){Ni.warn(e),me.current=(0,_t.d)(e,{useRawMessage:!0})||"caught an error while rendering an SDA",ge(!0)})).finally((function(){u.current=!1}))))}}),[z.format,z.isSkyscraper,z.mode,le,h,$,ee,E,te,X,q,R,N,t,J,Q,c,p,oe,x,f,Z]),r.useEffect((function(){if(t&&"ready"===(null==J?void 0:J.status)){var e=setTimeout((function(){b({adFormat:J.adFormat,position:J.adPosition,numberOfAds:1}),m(!1)}),0);return function(){return clearTimeout(e)}}}),[m,null==J?void 0:J.status,null==J?void 0:J.adFormat,null==J?void 0:J.adPosition,t,b]),r.useEffect((function(){if("visible"===(null==J?void 0:J.status)){var e=ae(),n=setTimeout((function(){C("hiding")}),e);return clearInterval(d.current),d.current=setInterval((function(){return l((function(e){return e+1}))}),(e-600)/4),function(){return clearTimeout(n)}}}),[null==J?void 0:J.status,null==J?void 0:J.duration,C,ae]),r.useEffect((function(){if(!E&&"hiding"===(null==J?void 0:J.status)){var e=setTimeout((function(){pe(),S()}),xi);return function(){return clearTimeout(e)}}}),[pe,S,E,null==J?void 0:J.status]),r.useEffect((function(){"visible"===(null==J?void 0:J.status)?c("stream_display_ad_visibility_state",(0,i.__assign)((0,i.__assign)({},re.current),{ad_size:"".concat(null==ee?void 0:ee.width,"x").concat(null==ee?void 0:ee.height),state:gi.Start,sub_format_name:(0,_i.Fn)(q,null==ee?void 0:ee.height,null==ee?void 0:ee.width),pushdown_mode:U.current})):"hiding"===(null==J?void 0:J.status)&&c("stream_display_ad_visibility_state",(0,i.__assign)((0,i.__assign)({},re.current),{ad_size:"".concat(null==ee?void 0:ee.width,"x").concat(null==ee?void 0:ee.height),state:gi.End,sub_format_name:(0,_i.Fn)(q,null==ee?void 0:ee.height,null==ee?void 0:ee.width),pushdown_mode:U.current}))}),[ee,c,null==J?void 0:J.status,null==J?void 0:J.bid,q]);var ye=r.useRef(ee);r.useEffect((function(){ye.current=ee}),[ee]),r.useEffect((function(){var e,n,t,a,r,o,l,u,p=Y();ce.current!==s&&(s>0&&s<=4&&p&&(c("ad_quartile",(0,i.__assign)((0,i.__assign)({},re.current),{ad_size:"".concat(null===(e=ye.current)||void 0===e?void 0:e.width,"x").concat(null===(n=ye.current)||void 0===n?void 0:n.height),sub_format_name:(0,_i.Fn)(q,null===(t=ye.current)||void 0===t?void 0:t.height,null===(a=ye.current)||void 0===a?void 0:a.width),quartile:s,pushdown_mode:U.current})),c("ad_client_quartile",(0,i.__assign)((0,i.__assign)({},re.current),{ad_size:"".concat(null===(r=ye.current)||void 0===r?void 0:r.width,"x").concat(null===(o=ye.current)||void 0===o?void 0:o.height),sub_format_name:(0,_i.Fn)(q,null===(l=ye.current)||void 0===l?void 0:l.height,null===(u=ye.current)||void 0===u?void 0:u.width),quartile:s,pushdown_mode:U.current})),ce.current=s),s>=4&&(ue(!0),clearInterval(d.current)))}),[s,c,Y,q]);var Se=!!P,_e=r.useRef(!1);r.useEffect((function(){(0,Fe.I9)(y)?_e.current=!0:_e.current&&(pe(),Se?_():S(),_e.current=!1)}),[y,pe,_,S,Se,c]);var be=!!(0,Fe.I9)(y);r.useEffect((function(){be||($(A.current),$(w.current))}),[be,$]),r.useEffect((function(){I%2&&(Ni.debug("clearing iframe 2"),$(w.current)),I%2||(Ni.debug("clearing iframe 1"),$(A.current))}),[I,$]);var Ce=r.useState(!1),Ee=Ce[0],Ne=Ce[1];r.useEffect((function(){!Ee&&(0,Fe.I9)(y)&&"visible"===y.status?Ne(!0):Ee&&!(0,Fe.I9)(y)&&Ne(!1)}),[Ee,y]);var xe=r.useMemo((function(){return!(!(null==J?void 0:J.bid)||!(null==ee?void 0:ee.creativeHtml))}),[null==ee?void 0:ee.creativeHtml,null==J?void 0:J.bid]);return r.useMemo((function(){return{isSDASequenceVisible:Ee,iframeEl1:A,iframeEl2:w,curFrame:I,hasActiveBid:xe,sdaFormat:q,sdaMode:R,pushdownAvailable:L,setSDAMode:V,setPushdownAvailable:j,reportMount:W,reportUnmount:K,checkAndUpdateSDAHiddenState:Z}}),[Ee,I,xe,q,R,L,W,K,Z])}var wi,Ti=s.vF.withCategory("useSDATimers");!function(e){e[e.Reset=0]="Reset",e[e.NextRequest=1]="NextRequest"}(wi||(wi={}));var Ii=s.vF.withCategory("OutstreamAdRequester");function Di(e){return!(!e||e.adFormat!==ti.Z$.LOWER_THIRD&&e.adFormat!==ti.Z$.SQUEEZEBACK&&e.adFormat!==ti.Z$.OUTSTREAM_VERTICAL_VIDEO&&e.adFormat!==ti.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO)}var Fi=(0,ni.A)()((function(e){var n=e.trackAdFormatData,t=e.trackAdFormatRAdEvent,a=r.useContext(Pe.jK),o=a.adFormatRequest,s=a.reset,l=a.fillClientSideAd,d=a.prepareClientSideAd,u=a.transferClientSideAd,c=a.displaySDASequence,p=a.videoAdMetadata,m=a.resetOutstreamAd,v=a.updateLastSDAAdRequestBlocked,f=a.incrementSDARequestCount,g=a.updateDeclinedFormats,h=a.radToken,_=r.useContext(k.kl),b=_.behaviors,C=_.content,P=r.useContext(y.$g).mediaPlayerInstance,E=r.useContext(yi.FO).onMirrorPbyPAdPodTrigger,N=r.useContext(Sn._t).videoContainer,x=r.useContext(S.wL),A=x.volume,w=x.muted,T=!(!b||!b.declineVideoAdsReason),I=r.useRef(!1),D=r.useRef(!1),F=r.useRef(),O=r.useRef(""),R=r.useRef(0),V=r.useRef(0),M=r.useRef(0),L=r.useRef(0),j=r.useRef(0),B=r.useRef([]),U=r.useRef([]),q=r.useRef([]),G=r.useRef(!1);r.useEffect((function(){G.current=!!(null==p?void 0:p.stitched)}),[null==p?void 0:p.stitched]);var z=r.useRef(!1);r.useEffect((function(){z.current=!!(null==b?void 0:b.mini)}),[null==b?void 0:b.mini]);var H=function(){var e=r.useState(void 0),n=e[0],t=e[1];r.useEffect((function(){return function(){return clearTimeout(n)}}),[n]);var i=r.useState(void 0),a=i[0],o=i[1];r.useEffect((function(){return function(){return clearTimeout(a)}}),[a]);var s=r.useCallback((function(){return void 0!==n||void 0!==a}),[n,a]);return{clearAllSDATimeouts:r.useCallback((function(){void 0!==n&&(Ti.debug("Clearing the 'state reset' SDA timeout"),t(void 0)),void 0!==a&&(Ti.debug("Clearing the 'next request' SDA timeout"),o(void 0))}),[n,a]),setNewSDATimeout:r.useCallback((function(e,n){e===wi.Reset?(Ti.debug("Updating the 'state reset' SDA timeout"),t(n)):e===wi.NextRequest&&(Ti.debug("Updating the 'next request' SDA timeout"),o(n))}),[]),hasActiveTimeouts:s}}(),W=H.clearAllSDATimeouts,K=H.setNewSDATimeout,Z=H.hasActiveTimeouts,Q=r.useRef(Di(o));return r.useEffect((function(){Q.current=Di(o)}),[o]),r.useEffect((function(){if(!T&&o&&o.status===kt.sC.Processed&&P&&!I.current){var e=o,t=e.adFormat,a=e.duration,r=e.sequenceLength,p=new Date,y={allocation_strategy:ti.Z$[t],date:p.toDateString(),sdk:Yt.hJ.Amazon,emitting_service:"AdvantEdge",stitched:!1,pbyp_visible:!1,is_mafs:!!o.mafsDecision,eligible_formats:null,allocation_type:"PreFill",fallback_format:null};t&&(0,gt.rF)(t)&&(M.current=r&&Number(r)||1,R.current=Math.floor(a/M.current),V.current=M.current,I.current=!0,_(e,F.current,O.current))}function k(){c(!1),I.current=!1,D.current=!1,K(wi.Reset,setTimeout((function(){G.current?(Ii.debug("Outstream ad requester is resetting the SDA state as a stitched ad is active"),m()):(Ii.debug("Outstream ad requester is resetting the ad context state"),s())}),1500))}function S(t){var a=this;K(wi.NextRequest,setTimeout((function(){return(0,i.__awaiter)(a,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return V.current>0||!Q.current?[4,_(e,F.current,O.current)]:[3,2];case 1:return t.sent(),[3,3];case 2:Ii.debug("Outstream ad break has completed and will reset"),L.current>1&&n("ad_client_pod_completion",{flexsealTrackingProps:y,sda_sequence_length:L.current,sda_sequence_number:j.current}),k(),t.label=3;case 3:return[2]}}))}))}),t))}function _(t,r,s){return(0,i.__awaiter)(this,void 0,Promise,(function(){var p,_,x,T,H,W,K,Z,Y,X,$,J,ee,ne,te,ie,ae,re,oe,se,le,ue,ce;return(0,i.__generator)(this,(function(pe){switch(pe.label){case 0:return pe.trys.push([0,2,3,4]),V.current<=0||G.current||z.current?(k(),[2]):(p=(0,gt.rF)(r)?r:t.adFormat,_=""!==s?s:t.mafsDecision,x=(0,_i.zB)(p).size,T=M.current,H=M.current-V.current+1,Ii.debug("Outstream ad break is currently on ad ".concat(H,"/").concat(T)),1===H&&(Ii.info("resetting sda sequence parameters"),B.current=[],U.current=[],q.current=[],f()),W=(0,i.__assign)((0,i.__assign)({},t),{adFormat:p,mafsDecision:_,duration:R.current}),K=(0,bt.L9)(new ki.C,(0,i.__assign)((0,i.__assign)({},W),{duration:a})),T>1&&(L.current=T,j.current=H,Ii.info("applying sda sequence parameters to request"),K=K.withBlockedCreatives(B.current.join("|")).withBlockedAdvertisers(U.current.join("|")).withBlockedCategories(q.current.join("|")).withMaxSequence(T).withSequenceNumber(H)),Z=[],e.declinedAdFormats&&(Z=(0,i.__spreadArray)([],e.declinedAdFormats,!0)),H>1&&(Y=!1,Z.includes(ti.Z$.OUTSTREAM_VERTICAL_VIDEO)||(Z.push(ti.Z$.OUTSTREAM_VERTICAL_VIDEO),Y=!0),Z.includes(ti.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO)||(Z.push(ti.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO),Y=!0),Y&&g(e,Z)),K=K.withDeclinedFormats(Z),X=T>1?{sda_sequence_length:T,sda_sequence_number:H}:void 0,$=function(e,t){var a=null==o?void 0:o.adFormat;return H>1&&F.current&&(a=F.current),n(e,(0,i.__assign)((0,i.__assign)((0,i.__assign)({ad_size:JSON.stringify(x),format_name:(0,ti.uN)(a)},t||{}),X||{}),y))},J=function(e){var t=(0,Be.fX)("nab_gate"),i=(0,de.If)();t&&void 0!==i&&!de.l$.has(i)&&e<250&&(v(!0),n("nab_detection",{nab_value:"2",client_country_code:(0,de.If)()}))},[4,hi.F.requestAd(K,$,J)]);case 1:if(ee=pe.sent()||{},V.current-=1,(0,_i.Jp)(ee))ne=ee.resp,t.adFormat=ee.format,ee.format===ti.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO?(u((0,i.__assign)((0,i.__assign)({},t),{vast:ne}),t),E({adFormatRequest:t,vast:ne,resetAdContext:m,radToken:h,content:C,behaviors:b,videoContainer:N,videoSessionId:P&&P.getSessionData()["VIDEO-SESSION-ID"],videoVolume:A,videoMuted:w,mediaPlayerBitrate:null==P?void 0:P.getVideoBitRate()})):d((0,i.__assign)((0,i.__assign)({},t),{vast:ne}),t),V.current=0;else{if(te=null!==(ce=ee.resp)&&void 0!==ce?ce:{},!D.current&&te&&(0,gt.rW)(te.returnedAdFormat)&&te.updatedMafsDecision&&(F.current=te.returnedAdFormat,O.current=te.updatedMafsDecision,D.current=!0),!Q.current)return Ii.debug("Outstream ad break was aborted during ad request, so not filling the ad"),k(),[2];te.creativeHtml?(Ii.debug("got sda bid response, now ".concat(V.current," ads remaining"),te),te.adv&&te.adv.length>0&&!te.adv.find((function(e){return"amazon.com"===e.toLowerCase()}))&&(Ii.info("adding a new adv",te.adv),(le=U.current).push.apply(le,te.adv)),te.cat&&te.cat.length>0&&!te.cat.find((function(e){return"IAB22"===e.toUpperCase()}))&&(Ii.info("adding a new cat",te.cat),(ue=q.current).push.apply(ue,te.cat)),ie=(0,gt.rW)(F.current)?F.current:W.adFormat,ae=""===O.current?W.mafsDecision:O.current,re=(0,i.__assign)((0,i.__assign)({},W),{adFormat:ie,mafsDecision:ae}),oe=(0,_i.V4)(re,te,X),l(oe,re),c(!0),1===H&&n("ad_client_pod_start",(0,i.__assign)({flexsealTrackingProps:y,format_name:(0,ti.uN)(te.returnedAdFormat),requested_ad_size:JSON.stringify(x)},X||{})),S(oe.duration*xi)):(Ii.debug("no sda returned, now ".concat(V.current," ads remaining")),S(0))}return[3,4];case 2:return se=pe.sent(),Ii.debug("caught an error while handling ad edge response",se),k(),[3,4];case 3:return I.current=V.current>0,[7];case 4:return[2]}}))}))}}),[o,c,l,d,P,s,m,K,T,n,t,v,f,g,E,u,h,C,b,N,A,w]),r.useEffect((function(){!Di(o)&&Z()&&(Ii.debug("adFormatRequest has been reset while SDA timeouts are active. Clearing active timeouts"),W(),I.current=!1,D.current=!1)}),[o,W,Z]),r.useEffect((function(){o||(F.current=void 0,O.current="")}),[o]),null})),Oi=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(vi,{}),(0,a.jsx)(Fi,{})]})},Ri=(0,g.O)()((function(e){var n=e.adEvents,t=r.useContext(Pe.jK).updateAdStats;return r.useEffect((function(){var e=function(e){t(function(e){var n=e.adInfo;return{id:n&&n.adID||void 0,adPosition:n&&n.adPodInfo?n.adPodInfo.adPosition:void 0,adWrapperIds:n&&n.adWrapperIds||void 0,creativeId:n&&n.creativeID||void 0,duration:n&&n.duration||void 0,impressionTime:Date.now(),totalAds:n&&n.adPodInfo?n.adPodInfo.totalAds:void 0,system:n&&n.adSystem||void 0,title:n&&n.title||void 0,contentType:n&&n.contentType||void 0,vastMediaHeight:n&&void 0!==n.vastMediaHeight?n.vastMediaHeight:void 0,vastMediaWidth:n&&void 0!==n.vastMediaWidth?n.vastMediaWidth:void 0,vastMediaBitrate:n&&void 0!==n.vastMediaBitrate?n.vastMediaBitrate:void 0,mediaUrl:n&&n.mediaUrl||void 0}}(e))};return n.addEventListener(_.V.Impression,e),function(){n.removeEventListener(_.V.Impression,e)}}),[n,t]),null}));var Vi=t(71385),Mi=t(982382),Li=t(509611),ji=t(30947),Bi=(0,o.Zz)((0,g.O)(),(0,ni.A)(),(0,ji.B)(),(0,Pe.VX)((function(e){var n=e.muted,t=e.volume,i=e.adFormatMetadata,a=e.adFormatRequest,r=e.resetOutstreamAd,o=e.startClientSideAd,s=e.updateAdVolume,l=e.updateAdMuted,d=e.updateAdPlaying,u=e.clientSideAdSelectionParams,c=e.updateOutstreamAdDisplayStatus;return{adMuted:n,adVolume:t,resetOutstreamAd:r,adFormatMetadata:i,adFormatRequest:a,startClientSideAd:o,updateAdVolume:s,updateAdMuted:l,updateAdPlaying:d,clientSideAdSelectionParams:u,updateOutstreamAdDisplayStatus:c}})),(0,y.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,volume:e.volume,muted:e.muted}})))((function(e){var n=e.adVolume,t=e.adMuted,i=e.adFormatMetadata,a=e.adFormatRequest,o=e.clientSideAdSelectionParams,s=e.resetOutstreamAd,l=e.startClientSideAd,d=e.updateAdVolume,u=e.updateAdMuted,c=e.updateAdPlaying,p=e.updateOutstreamAdDisplayStatus,m=e.mediaPlayerInstance,v=e.volume,f=e.muted,g=e.getInitialMuteState,h=e.getAdjustedVolume,y=e.shouldAdjustVolume,k=e.trackAdFormatData,S=e.trackAdFormatRAdEvent,b=new Map;b.set(_.V.Resumed,(0,r.useCallback)((function(){c(!0)}),[c])),b.set(_.V.Paused,(0,r.useCallback)((function(){c(!1)}),[c])),b.set(_.V.ContentPauseRequested,(0,r.useCallback)((function(e){var n=e.event,t=null!=v?v:.5;n.videoAd.setVolume(t),n.videoAd.setMuted(!0),u(!0)}),[v,u])),b.set(_.V.VolumeChanged,(0,r.useCallback)((function(e){var n=e.event;d(n.volume)}),[d]));var C=(0,r.useCallback)((function(e){var n=e.event,t=n;if(u(t.muted),!t.muted){var i=t.videoAd.getVolume(),a=h(i),r=y(i)?a:v,o=Math.max(r||0,.1);n.videoAd.setVolume(o),null==m||m.setMuted(!0)}}),[u,h,y,v,m]);b.set(_.V.Muted,C),b.set(_.V.Unmuted,C),b.set(_.V.Started,(0,r.useCallback)((function(e){var n,t=e.event,a=t.adInfo&&t.adInfo.adPodInfo,r=t.adInfo;c(!0),l({adFormat:null!==(n=null==i?void 0:i.adFormat)&&void 0!==n?n:ti.Z$.OUTSTREAM_VERTICAL_VIDEO,position:a&&a.adPosition||1,numberOfAds:a&&a.totalAds||1,adInfo:r})}),[null==i?void 0:i.adFormat,l,c]));var P=(0,r.useCallback)((function(){var e=g();e!==!!f&&(null==m||m.setMuted(e)),p("hiding");var n=setTimeout((function(){s()}),1e3);return function(){return clearTimeout(n)}}),[g,m,f,s,p]);return b.set(_.V.Error,P),b.set(_.V.ContentResumeRequested,P),(0,Li.Z)({adMuted:t,adVolume:n,adFormatMetadata:i,adFormatRequest:a,clientSideAdSelectionParams:o,mainPlayerVolume:v,eventSideEffectOptions:b,reset:s,trackAdFormatData:k,trackAdFormatRAdEvent:S,addEventListener:e.adEvents.addEventListener}),null}));var Ui,qi,Gi,zi=function(){var e=r.useContext(y.$g).mediaPlayerInstance,n=(0,fn.O)(r.useContext(k.kl)),t=r.useContext(Ee.g7).track;return(0,T.p)(I.a.METADATA,r.useCallback((function(i){var a;try{if("text/json"!==i.type)return;var r=void 0;try{r=JSON.parse(i.data)}catch(e){return void s.x2.logger.warn("failed to parse metadata event")}if("twitch-session"!==r.CLASS)return;if(void 0===r["X-TV-TWITCH-SESSIONID"]||void 0===r["START-DATE"])return;var o=null===(a=null==e?void 0:e.getSessionData())||void 0===a?void 0:a["VIDEO-SESSION-ID"],l=r["X-TV-TWITCH-SESSIONID"],d=r["START-DATE"];o!==l&&void 0!==l&&t("ads_hank",{player:n,video_session_id:o,hank_id:"hs",hank_payload:JSON.stringify({hank_session_id:l,hank_start_time:d})})}catch(e){}}),[e,n,t])),null},Hi=t(192453);!function(e){e.Paused="AdPaused",e.Playing="AdPlaying",e.Stopped="AdStopped",e.VideoComplete="AdVideoComplete",e.VideoFirstQuartile="AdVideoFirstQuartile",e.VideoMidpoint="AdVideoMidpoint",e.VideoStart="AdVideoStart",e.VideoThirdQuartile="AdVideoThirdQuartile",e.VolumeChanged="AdVolumeChanged"}(Ui||(Ui={})),function(e){e.Start="start",e.FirstQuartile="first-quartile",e.Midpoint="midpoint",e.ThirdQuartile="third-quartile",e.Complete="complete"}(qi||(qi={})),function(e){e.Stitched="stitched",e.VAES="vaes"}(Gi||(Gi={}));function Wi(e){var n=e.clearMoatAnalytics,t=e.initializeMoatAnalytics,i=e.trackMoatEvent,a=e.currentMoatAnalyticsType,o=r.useCallback((function(e){a===Gi.VAES&&i(e)}),[a,i]);(0,De._)(_.V.Loaded,r.useCallback((function(e){(function(e){var n=e.request;return!(!n.server||n.server!==_.K.VAES)})(e)&&e.adInfo&&t({type:Gi.VAES,duration:e.adInfo.duration,adCfId:e.adInfo.adCfId,advertiserCfId:e.adInfo.advertiserCfId,campaignCfId:e.adInfo.campaignCfId,creativeCfId:e.adInfo.creativeCfId})}),[t])),(0,De._)(_.V.Progress,r.useCallback((function(){return o(Ui.Playing)}),[o])),(0,De._)(_.V.Paused,r.useCallback((function(){return o(Ui.Paused)}),[o])),(0,De._)(_.V.VolumeChanged,r.useMemo((function(){return(0,Hi.n)((function(){o(Ui.VolumeChanged)}),5e3)}),[o])),(0,De._)(_.V.Started,r.useCallback((function(){return o(Ui.VideoStart)}),[o])),(0,De._)(_.V.FirstQuartile,r.useCallback((function(){return o(Ui.VideoFirstQuartile)}),[o])),(0,De._)(_.V.Midpoint,r.useCallback((function(){return o(Ui.VideoMidpoint)}),[o])),(0,De._)(_.V.ThirdQuartile,r.useCallback((function(){return o(Ui.VideoThirdQuartile)}),[o])),(0,De._)(_.V.Complete,r.useCallback((function(){return o(Ui.VideoComplete)}),[o])),(0,De._)(_.V.ContentResumeRequested,r.useCallback((function(){o(Ui.Stopped),n()}),[o,n]))}var Ki="unknown";function Zi(e){var n=e.videoAdRequest;if(!n||n.status!==kt.sC.Processed&&n.status!==kt.sC.Filled)return Ki;var t=n.broadcaster&&n.broadcaster.login,i=n.game&&n.game.name.toLowerCase().replace(/[^a-z0-9]+/g,"_"),a=t||Ki;return i?"".concat(a," + ").concat(i):a}var Qi,Yi,Xi="www.twitch.tv";function $i(e){var n=r.useContext(Pe.jK),t=function(){var e=r.useContext(Pe.jK).volume,n=r.useContext(S.wL),t=n.volume,i=n.muted,a=r.useRef(e),o=r.useRef(t),s=r.useRef(i);return r.useEffect((function(){a.current=e,o.current=t,s.current=i})),r.useCallback((function(e){return s.current?0:e===Gi.VAES?a.current:o.current}),[])}(),i=r.useState(null),a=i[0],o=i[1],s=r.useState(null),l=s[0],d=s[1],u=r.useCallback((function(){o(null),d(null)}),[o]),c=r.useCallback((function(n){var t=window.navigator.languages||window.navigator.language||"";e("video_ad_moat_viewability_event",{accept_languages:t,query_string:n.queryString,stitched:n.stitched,ad_server:n.adServer,provider:n.provider})}),[e]),p=r.useCallback((function(e){if(e.type===Gi.VAES){var t={level1:e.advertiserCfId,level2:e.campaignCfId,level3:e.adCfId,level4:e.creativeCfId,slicer1:Xi,slicer2:Zi(n)};o(function(e,n,t,i,a,r){var o,s,l=document.createElement("script"),d=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:n,duration:t,url:a},dispatchEvent:function(e){u.sendEvent?(d&&(d.push(e),e=d,d=!1),u.sendEvent(e)):d&&d.push(e)},clientCallback:r};n="_mApi"+Math.floor(1e8*Math.random());try{s=(o=e.ownerDocument).defaultView||o.parentWindow}catch(e){o=document,s=window}return s[n]=u,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src="https://www.twitch.tv/r/s/m/va.min.js#".concat(n),u}(n.thirdPartyVideoAdElement,t,e.duration,0,null,(function(e){return c({adServer:Qi.VAES,provider:Yi.Amazon,stitched:!1,queryString:e})}))),d(Gi.VAES)}else if(e.type===Gi.Stitched){t={level1:e.advertiserId,level2:e.campaignId,level3:e.adId,level4:e.creativeId,slicer1:Xi,slicer2:Zi(n)};o(function(e,n,t,i,a,r){var o,s,l=document.createElement("script"),d=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:n,duration:t,url:a},dispatchEvent:function(e){u.sendEvent?(d&&(d.push(e),e=d,d=!1),u.sendEvent(e)):d&&d.push(e)},clientCallback:r};n="_mApi"+Math.floor(1e8*Math.random());try{s=(o=e.ownerDocument).defaultView||o.parentWindow}catch(e){o=document,s=window}return s[n]=u,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src="https://www.twitch.tv/r/s/m/nat.min.js#".concat(n),u}(n.thirdPartyVideoAdElement,t,e.duration,0,null,(function(e){return c({adServer:Qi.VAES,provider:Yi.Fring,stitched:!0,queryString:e})}))),d(Gi.Stitched)}}),[o,n,c]),m=r.useCallback((function(e,n){if(void 0===n&&(n={}),a){var i=void 0===n.volume?t(l):n.volume;a.dispatchEvent({adVolume:i||0,type:e})}}),[a,t,l]);return{moatAnalytics:a,currentMoatAnalyticsType:l,initializeMoatAnalytics:p,clearMoatAnalytics:u,trackMoatEvent:m}}!function(e){e.VAES="vaes"}(Qi||(Qi={})),function(e){e.Amazon="amazon",e.Fring="fring"}(Yi||(Yi={}));var Ji=5e3;var ea,na=t(859304);function ta(e){if(e)return e.status===kt.sC.Filled||e.status===kt.sC.Processed?e.server:void 0}!function(e){e.StartTracking="start-tracking",e.StopTracking="stop-tracking",e.Track="track",e.TrackStart="track-start",e.TrackFirstQuartile="track-first-quartile",e.TrackMidpoint="track-midpoint",e.TrackThirdQuartile="track-third-quartile",e.TrackComplete="track-complete"}(ea||(ea={}));var ia=function(e,n){var t;switch(n.type){case ea.StartTracking:return(0,i.__assign)((0,i.__assign)({},e),{hasTracked:{start:!1,firstQuartile:!1,midpoint:!1,thirdQuartile:!1,complete:!1},currentAd:{duration:n.adDuration,startTime:n.adStartTime}});case ea.StopTracking:return(0,i.__assign)((0,i.__assign)({},e),{currentAd:null});case ea.Track:return e.currentAd?(0,i.__assign)((0,i.__assign)({},e),{hasTracked:(0,i.__assign)((0,i.__assign)({},e.hasTracked),(t={},t[n.quartile]=!0,t))}):e;default:return e}};function aa(e){var n,t,i,a,o=e.initializeMoatAnalytics,s=e.trackMoatEvent,l=e.clearMoatAnalytics,d=e.currentMoatAnalyticsType,u=r.useCallback((function(e,n){void 0===n&&(n={}),d===Gi.Stitched&&s(e,n)}),[s,d]),c=function(e){var n=r.useContext(y.$g).mediaPlayerInstance,t=r.useReducer(ia,{hasTracked:{start:!1,firstQuartile:!1,midpoint:!1,thirdQuartile:!1,complete:!1},currentAd:null}),i=t[0],a=t[1],o=r.useCallback((function(e){a({type:ea.StartTracking,adDuration:e.adDuration,adStartTime:e.adStartTime})}),[a]),s=r.useCallback((function(){a({type:ea.StopTracking})}),[a]),l=r.useCallback((function(n){e(n,s)}),[e,s]),d=r.useCallback((function(){if(i.currentAd&&n){var e=n.getPosition(),t=i.currentAd,r=t.duration,o=(r+t.startTime-e)/r;o<=.02?i.hasTracked.complete||(a({type:ea.Track,quartile:"complete"}),l(qi.Complete)):o<.25?i.hasTracked.thirdQuartile||(a({type:ea.Track,quartile:"thirdQuartile"}),l(qi.ThirdQuartile)):o<.5?i.hasTracked.midpoint||(a({type:ea.Track,quartile:"midpoint"}),l(qi.Midpoint)):o<.75?i.hasTracked.firstQuartile||(a({type:ea.Track,quartile:"firstQuartile"}),l(qi.FirstQuartile)):o<.99&&(i.hasTracked.start||(a({type:ea.Track,quartile:"start"}),l(qi.Start)))}}),[i,n,l]);return(0,T.p)(I.a.TIME_UPDATE,d),{startStitchedQuartileTracking:o,stopStitchedQuartileTracking:s}}(r.useCallback((function(e,n){switch(e){case qi.Start:u(Ui.VideoStart);break;case qi.FirstQuartile:u(Ui.VideoFirstQuartile);break;case qi.Midpoint:u(Ui.VideoMidpoint);break;case qi.ThirdQuartile:u(Ui.VideoThirdQuartile);break;case qi.Complete:u(Ui.VideoComplete),n(),l()}}),[u,l])),p=c.startStitchedQuartileTracking,m=c.stopStitchedQuartileTracking;n=r.useCallback((function(e){var n=e.adMetadata,t=e.adServer,i=e.startTime;p({adDuration:n.duration,adStartTime:i}),o({type:Gi.Stitched,duration:n.duration,adId:n.lineItemId,creativeId:n.creativeId,advertiserId:n.advertiserId,campaignId:n.orderId,adServer:t})}),[o,p]),t=r.useRef(),i=r.useContext(Pe.jK),a=r.useContext(y.$g).mediaPlayerInstance,r.useEffect((function(){i.videoAdMetadata&&i.videoAdMetadata.stitched&&(t.current&&t.current.videoAdMetadata===i.videoAdMetadata||!a||n({adMetadata:i.videoAdMetadata,adServer:ta(i.videoAdRequest),startTime:a.getPosition()}))}),[t,i,n,a]),r.useEffect((function(){t.current=i}),[i]),function(e){var n=r.useContext(y.$g).mediaPlayerInstance,t=r.useMemo((function(){return(0,Hi.n)((function(){var t=n&&n.isMuted()?0:n&&n.getVolume();e(t)}),Ji)}),[e,n]);(0,T.p)(I.a.VOLUME_CHANGED,t),(0,T.p)(I.a.MUTED_CHANGED,t)}(r.useCallback((function(e){u(Ui.VolumeChanged,{volume:e})}),[u])),(0,na.i)({onPlay:r.useCallback((function(){u(Ui.Playing)}),[u]),onPause:r.useCallback((function(){u(Ui.Paused)}),[u])}),r.useEffect((function(){var e=function(){u(Ui.Stopped),m(),l()};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[u,m,l])}var ra=(0,ht._)()((function(e){var n=$i(e.trackVideoAdData);return Wi(n),aa(n),null})),oa=(0,o.Zz)((0,ni.A)())((function(e){var n=(0,r.useContext)(Pe.jK),t=n.adFormatRequest,i=n.videoAdMetadata,a=(0,r.useContext)(k.kl).behaviors,o=(0,r.useContext)(yi.FO).resetMirrorPbyPAd,s=e.trackAdFormatData;return(0,r.useEffect)((function(){var e=(null==t?void 0:t.status)===kt.sC.Transferred&&t.adFormat===ti.Z$.OUTSTREAM_MIRROR_PBYP_VIDEO,n=!1,r="";(null==i?void 0:i.stitched)?(n=!0,r="SureStream"):(null==a?void 0:a.mini)&&(n=!0,r="MINI"),e&&n&&(s("ad_opportunity_abort",{abort_reason:r}),o())}),[null==t?void 0:t.adFormat,null==t?void 0:t.status,null==a?void 0:a.mini,s,o,null==i?void 0:i.stitched]),null})),sa=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onMetadata=function(e){try{if("text/json"===e.type){var t=void 0;try{t=JSON.parse(e.data)}catch(e){return void s.x2.logger.warn("failed to parse pbyp metadata")}if(!t)return void s.x2.logger.warn("failed to parse pbyp metadata");if("live-video-net-metadata"===t.CLASS&&"pbyp-preflight"===t["X-NET-LIVE-VIDEO-METADATA-TYPE"]){var i=(t["X-NET-LIVE-VIDEO-METADATA-PBYP-WEIGHTED-BUCKETS"]||"").split(","),a={jitterTime:parseInt(t["X-NET-LIVE-VIDEO-METADATA-PBYP-JITTER-TIME"]||"",10),jitterBuckets:parseInt(t["X-NET-LIVE-VIDEO-METADATA-PBYP-JITTER-BUCKETS"]||"",10),warmupTime:parseInt(t["X-NET-LIVE-VIDEO-METADATA-PBYP-WARMUP-TIME"]||"",10),commercialId:t["X-NET-LIVE-VIDEO-METADATA-PBYP-COMMERCIAL-ID"]||"",weightedBuckets:i.map((function(e){return parseFloat(e)}))},r=a.weightedBuckets.reduce((function(e,n){return e+n}));isNaN(a.jitterTime)||isNaN(a.jitterBuckets)||isNaN(a.warmupTime)||!a.commercialId||1!==r||n.props.onMainPlayerHLSTrigger(a)}}}catch(e){s.x2.logger.errorAndReport(e,"Unable to create metadata for pbyp preflight.")}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(I.a.METADATA,this.onMetadata)},n.prototype.render=function(){return null},n}(r.Component),la=(0,o.Zz)((0,yi.dC)((function(e){return{onMainPlayerHLSTrigger:e.onMainPlayerHLSTrigger}})),(0,h.X)())(sa);var da=["US"],ua=function(){var e=(0,de.If)()||"";return da.includes(e)&&"active"===s.x2.experiments.getAndTrackAssignment("twilight_p_4")?45:30};function ca(e){return(null==e?void 0:e.split(",").map((function(e){var n=parseInt(e,10);return n in ti.Z$?n:void 0})).filter((function(e){return void 0!==e})))||[]}var pa=t(658844),ma=t.n(pa),va=(0,o.Zz)((0,k.cj)((function(e){return{content:e.content}})),(0,M._v)(ma(),{props:function(e){var n=e.data;return{broadcastType:ga(n),adProperties:fa(n)}},options:function(e){var n=e.content;return{variables:{isVOD:!!(0,D.wy)(n)||!(!(0,D.P3)(n)||!n.vodID),vodID:(0,D.hq)(n)||"",isCollection:!!(0,D.P3)(n)&&!n.vodID,collectionID:!(0,D.hq)(n)&&(0,D.Eq)(n)||""}}}}))((function(e){var n=r.useContext(Pe.jK),t=n.videoAdMetadata,i=n.requestAd,a=r.useContext(S.wL).isPlaying,o=e.adProperties,s=e.broadcastType,l=o&&o.hasVodAdsEnabled,d=o&&o.vodArchiveMidrolls,u=o&&o.vodArchiveMidrollsBreakLength,c=o&&o.vodArchiveMidrollsFrequency,p=s===On.Suw.ARCHIVE||s===On.Suw.PAST_PREMIERE,m=function(e,n){var t=(0,r.useRef)(0),i=(0,r.useRef)(0),a=(0,r.useRef)(0),o=(0,r.useCallback)((function(){i.current=0,a.current=0,clearTimeout(t.current)}),[]),s=(0,r.useCallback)((function(){a.current=Date.now();var r=e-i.current;clearTimeout(t.current),t.current=window.setTimeout((function(){n(),o(),s()}),r)}),[n,e,o]),l=(0,r.useCallback)((function(){clearTimeout(t.current),a.current>0&&(i.current=Date.now()-a.current+i.current)}),[]);return(0,r.useEffect)((function(){return o}),[o,e,n]),{start:s,pause:l,stop:o}}(6e4*(c||0),r.useCallback((function(){i({adFormat:ti.gz.STANDARD_VIDEO,sessionID:(0,Bt.SG)(),roll:kt.df.Mid,duration:u||30})}),[i,u])),v=m.start,f=m.pause,g=m.stop,h=!(l&&c&&p&&"inserted"===d&&!t);return r.useEffect((function(){h?g():a?v():f()}),[h,a,v,g,f]),null}));function fa(e){return e?e.video?e.video.owner&&e.video.owner.adProperties:e.collection?e.collection.owner&&e.collection.owner.adProperties:null:null}function ga(e){if(!e)return null;if(e.video)return e.video.broadcastType;if(e.collection){var n=e.collection&&e.collection.items&&e.collection.items.edges,t=n&&(0,w.bK)(n);if(t&&t.length>0)return t[0].broadcastType}return null}var ha,ya,ka,Sa=(0,o.Zz)((0,ht._)(),(0,ni.A)())((function(e){var n=e.trackVideoAdData,t=e.trackAdFormatData,i=r.useContext(Pe.jK),o=i.requestAd,l=i.videoAdRequest,d=i.adFormatMetadata,u=i.resetOutstreamAd,c=i.updateOutstreamAdDisplayStatus,p=i.adFormatRequest,m=r.useContext(y.$g),v=r.useContext(k.kl).content,f=m.hasPlayed,g=m.logger,h=r.useContext(yi.FO).resetMirrorPbyPAd,S=(0,pe.k1)(m),_=r.useRef(S),C=r.useRef(f),P=(0,D.Jn)(v);(0,T.p)(Ie.ID3,r.useCallback((function(e){if(!(0,D.DG)(v)||!(0,Be.fX)("VLM_HLS_Midrolls")){var n=function(e){var n=st(e);return n&&"commercial"===n.cmd&&n.length&&n.commercial_id?{duration:n.length,commercialID:n.commercial_id,spliceEventID:n.splice_event_id,availNum:n.avail_num}:null}(e);n&&o({sessionID:(0,Bt.SG)(),adFormat:ti.gz.STANDARD_VIDEO,roll:kt.df.Mid,duration:+n.duration,broadcasterInitiated:!0,commercialID:n.commercialID})}}),[o,v])),(0,T.p)(I.a.METADATA,r.useCallback((function(e){if((0,Be.fX)("VLM_HLS_Midrolls"))try{if("text/json"===e.type){var i=void 0;try{i=JSON.parse(e.data)}catch(e){return void g.warn("failed to parse client ad metadata")}if(!i)return void g.warn("failed to parse client ad metadata");if("twitch-maf-ad"===i.CLASS&&i["X-TTV-MAF-AD-COMMERCIAL-ID"]&&i["X-TTV-MAF-AD-AD-SESSION-ID"]&&i["X-TTV-MAF-AD-PRIMARY-POD"]&&i["PLANNED-DURATION"]){var a=parseInt(i["PLANNED-DURATION"],10),r=i["X-TTV-MAF-AD-RADS-TOKEN"],m=i["X-TTV-MAF-AD-AD-SESSION-ID"]||(0,Bt.SG)(),v=i["X-TTV-MAF-AD-COMMERCIAL-ID"],f=i["X-TTV-MAF-AD-DECISION"],y=ca(i["X-TTV-MAF-AD-PRIMARY-POD"]),k=ca(i["X-TTV-MAF-AD-FALLBACK-FORMATS"]);if(n("ad_request_client_trigger_received",{allocation_type:"PreFill",break_length:a,format_name:(0,ti.uN)(y[0]),fallback_format_name:(0,ti.uN)(k[0]),is_mafs:!!f,commercial_id:v,stitched:!1,roll_type:kt.df.Mid,ad_session_id:m,twitch_correlator:null==l?void 0:l.twitchCorrelator,main_play_session_id:s.E5.getVideoPlayerTrackingData().playSessionID,pbyp_play_session_id:void 0}),y.length>0&&(0,gt.rF)(y[0])){g.debug("outstream ad metadata event",{duration:a,primaryPod:y,fallbackFormats:k,radsToken:r,adSessionId:m});var S=(null==d?void 0:d.adFormat)===ti.Z$.OUTSTREAM_VERTICAL_VIDEO,_=(null==p?void 0:p.status)===kt.sC.Transferred;(S||_)&&t("ad_opportunity_abort",{abort_reason:"NextOutstreamAd"}),S&&(c("hiding"),setTimeout((function(){u()}),1e3)),_&&h(),o({adFormat:y[0],sessionID:m,duration:a,roll:kt.df.Mid,commercialID:v,radsToken:r,isVLM:!0,mafsDecision:f,sequenceLength:i["X-TTV-MAF-AD-SDA-SEQUENCE-LENGTH"],primaryFormats:y,fallbackFormats:k})}else y.length>0&&f&&(0,gt.zf)(y[0])&&o({adFormat:y[0],sessionID:m,duration:a,roll:kt.df.Mid,broadcasterInitiated:!0,commercialID:v,radsToken:r,isVLM:"1"===i["X-TV-TWITCH-AD-VLM"],mafsDecision:f})}}}catch(e){g.errorAndReport(e,"Unable to create request for client side ad.")}}),[g,n,null==l?void 0:l.twitchCorrelator,null==d?void 0:d.adFormat,null==p?void 0:p.status,o,t,c,u,h])),r.useEffect((function(){!S&&_.current?(o({sessionID:(0,Bt.SG)(),adFormat:ti.gz.STANDARD_VIDEO,roll:kt.df.Pre,duration:ua()}),_.current=!1):S&&(_.current=!0)}),[S,_,o]),(0,T.p)(b.p.ENDED,r.useCallback((function(){f&&(0,D.DG)(v)&&o({sessionID:(0,Bt.SG)(),adFormat:ti.gz.STANDARD_VIDEO,roll:kt.df.Post,duration:30})}),[o,f,v]));var E=r.useRef(!1);return(0,T.p)(b.p.READY,r.useCallback((function(){return E.current=!0}),[])),(0,T.p)(I.a.DURATION_CHANGED,r.useCallback((function(){if(E.current){var e={sessionID:(0,Bt.SG)(),adFormat:ti.gz.STANDARD_VIDEO,roll:kt.df.Pre,duration:ua(),forced:!1};E.current=!1,o(function(e){var n=le.parse(e);if(!(n.force_preroll||n.force_midroll||n.force_postroll||n.force_lower_third_display||n.force_squeezeback_display))return null;var t={sessionID:(0,Bt.SG)(),adFormat:ti.gz.STANDARD_VIDEO,duration:30,forced:!0,roll:kt.df.Pre};n.force_midroll&&(t.roll=kt.df.Mid,t.duration=parseInt(n.force_midroll.toString(),10)||30);n.force_postroll&&(t.roll=kt.df.Post);n.force_lower_third_display&&(t.adFormat=ti.Z$.LOWER_THIRD,t.duration=parseInt(n.force_lower_third_display.toString(),10)||10,t.roll=kt.df.Mid,t.mafsDecision=kt.ne);n.force_squeezeback_display&&(t.adFormat=ti.Z$.SQUEEZEBACK,t.duration=parseInt(n.force_squeezeback_display.toString(),10)||10,t.roll=kt.df.Mid,t.mafsDecision=kt.tV);return t}(window.location.search)||e)}}),[o])),r.useEffect((function(){!f||C.current||P||o({sessionID:(0,Bt.SG)(),adFormat:ti.gz.STANDARD_VIDEO,roll:kt.df.Pre,duration:ua()}),C.current=f}),[o,f,P]),(0,a.jsx)(va,{})})),_a=m.x.wrap((function(){return t.e(6184).then(t.bind(t,690601))}),"PushdownSDAEligibilityHandler",{failSilently:!0,placeholder:null}),ba=(0,l.X)({name:"VideoAds"})((function(){var e=(0,c.d4)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}),c.bN).firstPageLoaded,n=r.useContext(y.$g).mediaPlayerInstance;return r.useEffect((function(){if(n){var e={timeoutID:void 0,setup:function(){this.timeoutID=setTimeout((function(){var e,t;n&&!n.isPaused()&&s.IG.set("ads_bitrate_bps",null!==(t=null===(e=n.getQuality())||void 0===e?void 0:e.bitrate)&&void 0!==t?t:0,{expireInMS:12096e5})}),2e4)},cancel:function(){clearTimeout(this.timeoutID)}},t=function(){e.setup()};return n.addEventListener(b.p.PLAYING,t),function(){n&&n.removeEventListener(b.p.PLAYING,t),e.cancel()}}}),[n]),(0,a.jsxs)(pt,{children:[(0,a.jsx)(Sa,{}),(0,a.jsx)(di,{}),(0,a.jsx)(Oi,{}),(0,a.jsx)(Mi.b3,{}),(0,a.jsx)(Bi,{}),(0,a.jsx)(Ri,{}),(0,a.jsx)(Ct.Tm,{}),(0,a.jsx)(ra,{}),(0,a.jsx)(la,{}),(0,a.jsx)(Vi.c,{}),e&&(0,a.jsx)(_a,{}),(0,a.jsx)(zi,{}),(0,a.jsx)(oa,{})]})})),Ca=t(198640);!function(e){e.UNKNOWN="Unspecified",e.FILE="File",e.SEGMENT="Segment",e.SOURCE="Source",e.DECODER="Decode",e.RENDERER="Render",e.MASTER_PLAYLIST="MasterPlaylist",e.MEDIA_PLAYLIST="MediaPlaylist",e.DRM="DRM"}(ha||(ha={})),function(e){e.GENERIC="Error",e.NOT_SUPPORTED="ErrorNotSupported",e.NO_SOURCE="ErrorNoSource",e.INVALID_DATA="ErrorInvalidData",e.INVALID_STATE="ErrorInvalidState",e.INVALID_PARAMETER="ErrorInvalidParameter",e.TIMEOUT="ErrorTimeout",e.INVALID_OUTPUT="ErrorInvalidOutput",e.INTERNAL="ErrorInternal",e.NETWORK="ErrorNetwork",e.NETWORK_IO="ErrorNetworkIO",e.AUTHORIZATION="ErrorAuthorization",e.NOT_AVAILABLE="ErrorNotAvailable"}(ya||(ya={})),function(e){e[e.GEOBLOCKED=1]="GEOBLOCKED",e[e.UNSUPPORTED_DEVICE=2]="UNSUPPORTED_DEVICE",e[e.ANONYMIZER_BLOCKED=3]="ANONYMIZER_BLOCKED",e[e.CELLULAR_NETWORK_PROHIBITED=4]="CELLULAR_NETWORK_PROHIBITED",e[e.UNAUTHORIZATION_ENTITLEMENTS=5]="UNAUTHORIZATION_ENTITLEMENTS",e[e.VOD_RESTRICTED=6]="VOD_RESTRICTED"}(ka||(ka={}));var Pa,Ea=t(905686),Na=t(226620),xa=t(239248),Aa=t.n(xa);!function(e){e.Failure="failure",e.Skipped="skipped",e.Success="success"}(Pa||(Pa={}));var wa=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={lastStreamUpServerTime:0},n.vp9Disabled=!1,n.logger=n.props.logger.withCategory("on-video-source-props-changed"),n.retryVP9Error=function(e,t){return(0,i.__awaiter)(n,void 0,Promise,(function(){var n,a,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(n=this.props.mediaPlayerInstance)?(a=n.getQuality().codecs,r=e===ha.DECODER,o=(e===ha.MASTER_PLAYLIST||e===ha.MEDIA_PLAYLIST)&&t>=500,a.includes("vp09")&&(r||o)?(this.vp9Disabled=!0,Na.e3(),[4,this.setSrc()]):[3,2]):[2,!1];case 1:return[2,i.sent()===Pa.Success];case 2:return[2,!1]}}))}))},n.setSrc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.__awaiter)(n,(0,i.__spreadArray)([],e,!0),Promise,(function(e){var n,t,a,r,o,s,l,u,c,p,m,v,f,g;return void 0===e&&(e={}),(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=this.props,t=n.mediaPlayerInstance,a=n.mediaPlayerHandle,r=n.content,o=n.updatePlayerContext,s=n.playerType,l=n.forceManifestNode,u=n.quality,c=n.qualityBitrate,this.logger.debug("setting video source props",r),o({sourceStatus:_n.O.Loading,manualResetRequested:!1}),t?(t.pause(),p=this.props,m=!1,(null==a?void 0:a.isVP9Supported)?[4,a.isVP9Supported()]:[3,2]):(this.logger.debug("mediaplayer instance missing. Skipping."),[2,Pa.Skipped]);case 1:m=i.sent(),i.label=2;case 2:return v=(0,d.k3)(),[4,en(r,s,l,o,u,c,m&&!this.vp9Disabled,!!e.refreshAccessToken,v)];case 3:return f=i.sent(),Je(p.content,this.props.content)?(this.logger.debug("video source props have changed while getting new media player source. Skipping.",{propsRef:p,props:this.props}),[2,Pa.Skipped]):this.props.mediaPlayerInstance&&this.props.mediaPlayerInstance===t?f.src?(this.props.adContextReset(),this.props.resetOnSourceChange(f,v),this.props.setClosedCaptionsAvailable(!1),(0,ze.vO)()&&r.type===B.FC.Clip&&(g="application/x-twitch-clip"),this.props.mediaPlayerInstance.load(f.src,g),e.isNewMediaPlayerInstance&&this.setInitialPlaybackSettings(this.props.mediaPlayerInstance),this.setSrcChangedPlaybackSettings(this.props.mediaPlayerInstance),[2,Pa.Success]):(o({sourceStatus:_n.O.None}),this.logger.warn("Unable to get usher src"),[2,Pa.Failure]):(this.logger.warn("mediaPlayerInstance not available or changed. Skipping."),[2,Pa.Skipped])}}))}))},n.setInitialPlaybackSettings=function(e){n.setInitialMutedSetting(e),n.setInitialVolumeSetting(e),n.setInitialLoopingSetting(e),n.setInitialLiveLowLatencySetting(e)},n.setSrcChangedPlaybackSettings=function(e){n.setInitialPlaybackRateSetting(e),n.setPlaybackState(e)},n.setInitialMutedSetting=function(e){if(n.props.isPlaybackRestricted)e.setMuted(!0);else{var t=n.props.disableAudio||n.props.initialMuted||vn.o.get("video-muted",n.props.playerType);void 0!==t&&e.setMuted(t)}},n.setInitialVolumeSetting=function(e){var t=void 0!==n.props.initialVolume?n.props.initialVolume:s.IG.get(xn.U.VOLUME,.5);e.setVolume(t)},n.setInitialPlaybackRateSetting=function(e){if(n.props.playbackRateSupported){var t=s.IG.getOptional(xn.U.PLAYBACK_RATE)||"1";void 0!==t&&e.setPlaybackRate(parseFloat(t))}},n.setInitialLoopingSetting=function(e){void 0!==n.props.enableLooping&&e.setLooping(n.props.enableLooping)},n.setInitialLiveLowLatencySetting=function(e){e.setLiveLowLatencyEnabled(n.props.isLiveLowLatencyEnabled)},n.setPlaybackState=function(e){!n.props.isPlaybackRestricted&&n.props.autoplay&&(n.props.setUserTriggeredPause(!1),n.props.setUserTriggeredPlay(!1),e.play())},n.onError=function(e){return(0,i.__awaiter)(n,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:switch(e.type){case ya.NOT_AVAILABLE:case ya.AUTHORIZATION:case ya.NOT_SUPPORTED:case ya.NETWORK_IO:return[3,1];case ya.NETWORK:return[3,2]}return[3,4];case 1:return[2];case 2:return[4,this.handleNetworkError(e)];case 3:case 5:return n.sent(),[2];case 4:return[4,this.handleDefaultError(e)]}}))}))},n.handleNetworkError=function(e){return(0,i.__awaiter)(n,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.retryVP9Error(e.source,e.code)];case 1:return n.sent()||this.props.setError(Ea.O4.Network),[2]}}))}))},n.handleDefaultError=function(e){return(0,i.__awaiter)(n,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return e.source!==ha.DECODER?[3,2]:[4,this.retryVP9Error(e.source,e.code)];case 1:return n.sent()?[2]:(this.props.setError(Ea.O4.Decode),[3,3]);case 2:this.props.setError(Ea.O4.Aborted),n.label=3;case 3:return[2]}}))}))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(I.a.ERROR,this.onError),this.props.mediaPlayerInstance&&this.setSrc({isNewMediaPlayerInstance:!0})},n.prototype.componentDidUpdate=function(e){var n=e.mediaPlayerInstance!==this.props.mediaPlayerInstance;Je(e.content,this.props.content)||n?(this.vp9Disabled=!1,this.setSrc({isNewMediaPlayerInstance:n})):this.props.manualResetRequested&&!e.manualResetRequested&&this.setSrc(),this.checkSubsUpdate(e),this.checkStreamUp()},n.prototype.render=function(){return null},n.prototype.checkStreamUp=function(){var e=this,n=this.props.pubsub.messages.streamUp;n&&this.state.lastStreamUpServerTime<n.server_time&&this.setState({lastStreamUpServerTime:n.server_time},(function(){return e.setSrc()}))},n.prototype.checkSubsUpdate=function(e){var n=this.props,t=n.userData,i=n.pubsub,a=n.isPlaybackRestrictedByPremiumContent;t.userByAttribute&&i.messages.subscriptionInfo!==e.pubsub.messages.subscriptionInfo&&i.messages.subscriptionInfo&&i.messages.subscriptionInfo.channel_id===t.userByAttribute.id&&a&&this.setSrc({refreshAccessToken:!0})},n}(r.Component);function Ta(e){return e.userData.userByAttribute&&e.userData.userByAttribute.id?(0,Ce.RW)(e.userData.userByAttribute.id):""}function Ia(e){return!(0,D.DG)(e.content)||!e.userData||e.userData.loading||!e.userData.userByAttribute||!e.userData.userByAttribute.id}function Da(e){return e.currentUserID?(0,Ce.CH)(e.currentUserID):""}function Fa(e){return!e.currentUserID}function Oa(e){var n,t,i,a;return{input:{login:null!==(n=(0,D.jp)(e))&&void 0!==n?n:null,ownsVideoID:null!==(t=(0,D.hq)(e))&&void 0!==t?t:null,ownsCollectionID:null!==(i=(0,D.Eq)(e))&&void 0!==i?i:null,broadcasterOfClipSlug:null!==(a=(0,D.Qc)(e))&&void 0!==a?a:null}}}var Ra=(0,o.Zz)((0,c.Ng)((function(e){var n;return{currentUserID:null===(n=e.session.user)||void 0===n?void 0:n.id}})),(0,S.AP)((function(e){var n=e.setUserTriggeredPause,t=e.setUserTriggeredPlay,i=e.userTriggeredPause;return{userTriggeredPause:i,setUserTriggeredPause:n,setUserTriggeredPlay:t}})),(0,y.dd)((function(e){var n=e.autoplay,t=e.isLiveLowLatencyEnabled,i=e.mediaPlayerHandle,a=e.mediaPlayerInstance,r=e.logger,o=e.updateContext,s=e.setError,l=e.resetOnSourceChange,d=e.quality,u=e.qualityBitrate,c=e.manualResetRequested,p=e.addRestriction;return{autoplay:n,isLiveLowLatencyEnabled:t,mediaPlayerHandle:i,mediaPlayerInstance:a,logger:r,updatePlayerContext:o,setError:s,resetOnSourceChange:l,quality:d,qualityBitrate:u,isPlaybackRestricted:(0,pe.k1)(e),isPlaybackRestrictedByPremiumContent:(0,pe.uJ)(e),manualResetRequested:c,addRestriction:p}})),(0,Sn.c0)((function(e){return{setClosedCaptionsAvailable:e.setClosedCaptionsAvailable}})),(0,Pe.VX)((function(e){return{adContextReset:e.resetForNewPlayerContent}})),(0,k.cj)((function(e){var n,t=(0,P.Rh)({playerPublicPropsContext:e}),i=(0,P.wk)({playerPublicPropsContext:e}),a=i.disableAudio,r=i.enableLooping,o=i.forceManifestNode,s=i.initialVolume,l=i.initialMuted;return{content:t,disableAudio:a,enableLooping:r,forceManifestNode:o,initialMuted:null!==(n=null==l?void 0:l.enabled)&&void 0!==n&&n,initialVolume:s,playerType:e.type,playbackRateSupported:(0,D.pk)(t)}})),(0,h.X)(),(0,M._v)(Aa(),{name:"userData",options:function(e){return{variables:Oa(e.content)}}}),function(){var e;return(0,Ca.U)([{topic:Ta,skip:Ia,mapMessageTypesToProps:(e={},e[be.PD.ChannelStreamUp]="streamUp",e)},{topic:Da,skip:Fa,mapMessageTypesToProps:{"*":"subscriptionInfo"}}])}())(wa);var Va=t(455817),Ma=m.x.wrap((function(){return t.e(38923).then(t.bind(t,321791))}),"SharedViewershipTracking"),La=function(e){var n=(0,c.d4)(Va.G,c.bN).firstPageLoaded;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Le,{logger:e.logger}),(0,a.jsx)(x,{playerId:e.id}),e.children,(0,a.jsx)(W,{}),(0,a.jsx)(Ra,{}),(0,a.jsx)(Re,{}),(0,a.jsx)(Oe,{}),(0,a.jsx)(V,{isClip:(0,D.Jn)(e.content)}),(0,P.N8)(e.behaviors,"enablePlaySessionTagTracking")&&(0,a.jsx)(nt,{}),n&&(0,a.jsx)(Te,{}),(0,a.jsx)(p.j,{consentVendor:v.F.ComScore,children:(0,a.jsx)(K.gb,{})}),(0,a.jsx)(mn,{}),(0,a.jsx)(Cn,{}),(0,a.jsx)(En,{}),(0,a.jsx)(yn,{}),(0,a.jsx)(ee.NH,{}),(0,a.jsx)($n,{}),!(0,D.JN)(e.content)&&(0,a.jsx)(qn,{}),(0,a.jsx)(Z.H,{}),(0,a.jsx)(ba,{}),(0,a.jsx)(oe,{}),(0,D.JN)(e.content)&&(0,a.jsx)(J,{}),(0,a.jsx)(ye,{}),(0,a.jsx)(_e,{}),(0,P.N8)(e.behaviors,"exclusivePlayback")&&(0,a.jsx)(N,{}),(0,P.N8)(e.behaviors,"pauseWhenModalShowing")&&(0,a.jsx)(te,{}),(0,P.N8)(e.behaviors,"pauseWhenNotInViewport")&&(0,a.jsx)(Wn,{}),(0,P.N8)(e.behaviors,"sharedViewershipTracking")&&(0,a.jsx)(Ma,{channelLogin:(0,D.hd)(e.content)||""})]})};La.displayName="VideoPlayerCoreCommonManagers";var ja,Ba=t(194569),Ua=t(327167),qa=function(e){var n=r.useContext(Sn._t),t=n.isFullscreen,i=n.videoContainer,o=void 0!==i&&t?function(){return i}:void 0;return(0,a.jsx)(Ua.dw,{parentSelector:o,disableAriaHideApp:void 0!==o,children:e.children})},Ga=m.x.wrap((function(){return t.e(76188).then(t.bind(t,812366))}),"PushdownSDAPortal",{failSilently:!0,placeholder:null}),za=(0,o.Zz)((0,ni.A)(),(0,l.X)({name:"SDAContextManager"}))((function(e){var n=Ai(e),t=(0,c.d4)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}),c.bN).firstPageLoaded;return(0,a.jsxs)(Ei.OK.Provider,{value:n,children:[t&&(0,a.jsx)(Ga,{}),e.children||null]})})),Ha=t(430228),Wa=t.n(Ha),Ka=function(e){switch(e){case ti.Z$.STANDARD_VIDEO:case ti.Z$.STANDARD_AUDIO:case ti.gz.STANDARD_VIDEO:return!0;default:return!1}};function Za(e,n){var t,a;switch(n.type){case ja.AdElementUpdated:return(0,i.__assign)((0,i.__assign)({},e),{thirdPartyVideoAdElement:n.element});case ja.CompanionElementUpdated:return(0,i.__assign)((0,i.__assign)({},e),{thirdPartyCompanionAdElement:n.element});case ja.OutstreamAdElementUpdated:return(0,i.__assign)((0,i.__assign)({},e),{thirdPartyOutstreamVideoAdElement:n.element});case ja.OutstreamAdDisplayStatusUpdated:return(0,gt.rF)(null===(t=e.adFormatMetadata)||void 0===t?void 0:t.adFormat)?(0,i.__assign)((0,i.__assign)({},e),{adFormatMetadata:(0,i.__assign)((0,i.__assign)({},e.adFormatMetadata),{status:n.status})}):e;case ja.AdStatsUpdated:return(0,i.__assign)((0,i.__assign)({},e),{adPodStats:(0,i.__spreadArray)((0,i.__spreadArray)([],e.adPodStats,!0),[n.stats],!1)});case ja.ClientSideVideoAdMuted:return(0,i.__assign)((0,i.__assign)({},e),{muted:n.muted,userManuallyAdjustedVolumeDuringAd:n.userInitiated&&!!e.videoAdMetadata||e.userManuallyAdjustedVolumeDuringAd});case ja.FillClientSideVideoAd:return(0,i.__assign)((0,i.__assign)({},e),{adPodStats:[],videoAdMetadata:n.metadata,videoAdRequest:(0,i.__assign)((0,i.__assign)({},n.request),{status:kt.sC.Filled})});case ja.SetRadToken:return(0,i.__assign)((0,i.__assign)({},e),{radToken:n.radToken});case ja.StitchedVideoAdStarted:return(0,i.__assign)((0,i.__assign)({},e),{videoAdMetadata:n.metadata,adPodStats:[]});case ja.ClientSideAdSelectionParamsUpdated:return(0,i.__assign)((0,i.__assign)({},e),{clientSideAdSelectionParams:n.params});case ja.ClientSideVideoAdRequested:return(0,i.__assign)((0,i.__assign)({},e),{videoAdRequest:n.request});case ja.ProcessClientSideVideoAdRequest:var r=(0,i.__assign)((0,i.__assign)((0,i.__assign)({},n.request),n.metadata),{status:kt.sC.Processed});return(0,i.__assign)((0,i.__assign)({},e),{videoAdRequest:r});case ja.ClientSideVideoAdStarted:if(!(0,Fe.EF)(e.videoAdMetadata))return e;var o=void 0;switch(n.adFormat){case ti.gz.STANDARD_VIDEO:case ti.gz.BROWSE_DISPLAY:case ti.Z$.STANDARD_AUDIO:case ti.Z$.STANDARD_VIDEO:o=n.adFormat;break;default:o=ti.gz.STANDARD_VIDEO}return(0,i.__assign)((0,i.__assign)({},e),{videoAdMetadata:(0,i.__assign)((0,i.__assign)({},e.videoAdMetadata),{started:!0,start:n.start,adPosition:n.position,numberOfAds:n.numberOfAds,adFormat:o,adInfo:n.adInfo}),isPlaying:!0});case ja.ClientSideVideoAdVolumeUpdated:return(0,i.__assign)((0,i.__assign)({},e),{volume:n.volume,userManuallyAdjustedVolumeDuringAd:n.userInitiated&&!!e.videoAdMetadata||e.userManuallyAdjustedVolumeDuringAd});case ja.ClientSideVideoAdPlayingUpdated:return(0,i.__assign)((0,i.__assign)({},e),{isPlaying:n.isPlaying});case ja.Reset:return(0,i.__assign)((0,i.__assign)({},e),{adFormatMetadata:void 0,adFormatRequest:void 0,userManuallyAdjustedVolumeDuringAd:!1,videoAdMetadata:void 0,videoAdRequest:void 0,isPlaying:!1,volume:void 0,muted:void 0,clientSideAdSelectionParams:void 0});case ja.ResetForNewPlayerContent:return(0,i.__assign)((0,i.__assign)({},e),{adFormatMetadata:void 0,adFormatRequest:void 0,userManuallyAdjustedVolumeDuringAd:!1,videoAdMetadata:void 0,videoAdRequest:void 0,isPlaying:!1,volume:void 0,muted:void 0,clientSideAdSelectionParams:void 0,isSDAContainerHidden:!1,lastSDAAdRequestBlocked:!1});case ja.ResetOutstreamAd:var s={};return(0,Fe.hr)(e.adFormatMetadata)&&(s={isPlaying:!1,volume:void 0,muted:void 0,clientSideAdSelectionParams:void 0,userManuallyAdjustedVolumeDuringAd:!1}),(0,i.__assign)((0,i.__assign)((0,i.__assign)({},e),{adFormatMetadata:void 0,adFormatRequest:void 0}),s);case ja.ClientSideAdFormatRequested:return(0,i.__assign)((0,i.__assign)({},e),{adFormatRequest:n.request});case ja.ClientSideAdFormatStarted:return(0,Fe.hr)(e.adFormatMetadata)?(0,i.__assign)((0,i.__assign)({},e),{adFormatMetadata:(0,i.__assign)((0,i.__assign)({},e.adFormatMetadata),{started:!0,start:n.start,adPosition:n.position,numberOfAds:n.numberOfAds,adInfo:n.adInfo}),isPlaying:!0}):(0,Fe.I9)(e.adFormatMetadata)?(0,i.__assign)((0,i.__assign)({},e),{adFormatMetadata:(0,i.__assign)((0,i.__assign)({},e.adFormatMetadata),{status:"visible",start:n.start,adPosition:n.position,numberOfAds:n.numberOfAds}),isPlaying:!0}):e;case ja.FillClientSideAdFormat:return(0,i.__assign)((0,i.__assign)({},e),{adPodStats:[],adFormatMetadata:n.metadata,adFormatRequest:(0,i.__assign)((0,i.__assign)({},n.request),{status:kt.sC.Filled,video:null,broadcaster:null,content:null,currentUser:null,game:null})});case ja.ProcessClientSideAdFormatRequest:var l=(0,i.__assign)((0,i.__assign)((0,i.__assign)({},n.request),n.metadata),{status:kt.sC.Processed});return(0,i.__assign)((0,i.__assign)({},e),{adFormatRequest:l});case ja.PrepareClientSideAdFormat:return(0,i.__assign)((0,i.__assign)({},e),{adFormatRequest:(0,i.__assign)((0,i.__assign)((0,i.__assign)({},n.request),n.metadata),{status:kt.sC.Preparing})});case ja.TransferClientSideAdFormat:return(0,i.__assign)((0,i.__assign)({},e),{adFormatRequest:(0,i.__assign)((0,i.__assign)((0,i.__assign)({},n.request),n.metadata),{status:kt.sC.Transferred})});case ja.DisplaySDASequence:return(0,i.__assign)((0,i.__assign)({},e),{isDisplayingSDASequence:n.display});case ja.UpdateSDAHiddenState:return(0,i.__assign)((0,i.__assign)({},e),{isSDAContainerHidden:n.hidden});case ja.LastSDAdRequestBlocked:return(0,i.__assign)((0,i.__assign)({},e),{lastSDAAdRequestBlocked:n.isBlocked});case ja.SDARequestCount:return(0,i.__assign)((0,i.__assign)({},e),{sdaRequestCount:e.sdaRequestCount+1});case ja.DeclinedAdFormatsUpdated:return(0,gt.rF)(null===(a=e.adFormatMetadata)||void 0===a?void 0:a.adFormat)?(0,i.__assign)((0,i.__assign)({},e),{adFormatRequest:(0,i.__assign)((0,i.__assign)({},n.request),{declinedAdFormats:n.declinedFormats})}):e;default:return e}}!function(e){e.AdElementUpdated="AdElementUpdated",e.OutstreamAdElementUpdated="OutstreamAdElementUpdated",e.OutstreamAdDisplayStatusUpdated="OutstreamAdDisplayStatusUpdated",e.AdStatsUpdated="AdStatsUpdated",e.ClientSideVideoAdMuted="ClientSideVideoAdMuted",e.ClientSideVideoAdPlayingUpdated="ClientSideVideoAdPlayingUpdated",e.ClientSideVideoAdRequested="ClientSideVideoAdRequested",e.ClientSideVideoAdStarted="ClientSideVideoAdStarted",e.ClientSideVideoAdVolumeUpdated="ClientSideVideoAdVolumeUpdated",e.CompanionElementUpdated="CompanionElementUpdated",e.FillClientSideVideoAd="FillClientSideVideoAd",e.ProcessClientSideVideoAdRequest="ProcessClientSideVideoAdRequest",e.Reset="reset",e.ResetForNewPlayerContent="ResetForNewPlayerContent",e.ResetOutstreamAd="ResetOutstreamAd",e.SetRadToken="SetRadToken",e.StitchedVideoAdStarted="StitchedVideoAdStarted",e.ClientSideAdSelectionParamsUpdated="ClientSideAdSelectionParamsUpdated",e.DeclinedAdFormatsUpdated="DeclinedAdFormatsUpdated",e.ClientSideAdFormatRequested="ClientSideAdFormatRequested",e.ClientSideAdFormatStarted="ClientSideAdFormatStarted",e.FillClientSideAdFormat="FillClientSideAdFormat",e.PrepareClientSideAdFormat="PrepareClientSideAdFormat",e.TransferClientSideAdFormat="TransferClientSideAdFormat",e.ProcessClientSideAdFormatRequest="ProcessClientSideAdFormatRequest",e.DisplaySDASequence="DisplaySDASequence",e.UpdateSDAHiddenState="UpdateSDAHiddenState",e.LastSDAdRequestBlocked="SDAAdEdgeRequestBlocked",e.SDARequestCount="SDARequestCount"}(ja||(ja={}));var Qa,Ya=function(e){var n=function(){var e,n,t,a,o,l,d,u=(0,r.useReducer)(Za,Pe.AD),c=u[0],p=u[1],m=(0,r.useContext)(k.kl),v=(0,r.useContext)(y.$g),f=(0,ue.S9)().data,g=null===(n=null===(e=null==f?void 0:f.consent)||void 0===e?void 0:e.gdprUserPreferences)||void 0===n?void 0:n.tcData,h=c.adFormatMetadata,S=c.adFormatRequest,_=c.videoAdMetadata,b=c.videoAdRequest,C=(0,Be.fX)(gt.qi),P=(0,r.useRef)(!1);P.current=!(h&&!(0,gt.C_)(null==h?void 0:h.adFormat)||S&&!(0,gt.C_)(null==S?void 0:S.adFormat)||_||b||(0,pe.k1)(v)||!v.playerState||!v.mediaPlayerInstance);var E=(0,r.useRef)(!1),N="undefined"!=typeof MediaSource;C?E.current="true"===(null===(a=null===(t=null==v?void 0:v.mediaPlayerInstance)||void 0===t?void 0:t.getSessionData())||void 0===a?void 0:a.SUPPRESS)||!N:P.current=P.current&&"true"!==(null===(l=null===(o=null==v?void 0:v.mediaPlayerInstance)||void 0===o?void 0:o.getSessionData())||void 0===l?void 0:l.SUPPRESS);var x=(0,r.useRef)(null);x.current=null!==(d=(0,Fe.jC)(_,h))&&void 0!==d?d:null,(0,r.useLayoutEffect)((function(){return function(){x.current&&(x.current.stop(),x.current.destroy())}}),[]);var A=(0,r.useRef)(new(Wa())),w=(0,r.useCallback)((function(){A.current.emit("click")}),[]),T=(0,r.useCallback)((function(e){A.current.addListener("click",e)}),[]),I=(0,r.useCallback)((function(e){A.current.removeListener("click",e)}),[]),D=(0,r.useCallback)((function(e){p({type:ja.SetRadToken,radToken:e})}),[p]),F=(0,r.useCallback)((function(e){var n=e.position,t=e.numberOfAds,i=e.adFormat,a=e.adInfo,r=Ka(i)?ja.ClientSideVideoAdStarted:ja.ClientSideAdFormatStarted;p({type:r,start:Date.now(),position:n,numberOfAds:t,adFormat:i,adInfo:a})}),[p]),O=(0,r.useRef)(),R=(0,r.useRef)(),V=(0,r.useCallback)((function(e){var n,t,a,r,o,l,d,u,c,f,h;e.sessionID||(e.sessionID=(0,Bt.SG)());var y=void 0;(0,Bt.Ix)(e.adFormat)?y=e.adFormat:(0,Bt.vK)(e.adFormat)&&(y=ti.Z$[e.adFormat]);var k=e.sessionID,S=b,_=null===(n=null==S?void 0:S.game)||void 0===n?void 0:n.id,C=_?parseInt(_,10):void 0,N=(0,de.If)()||"",x={ad_session_id:k,format_name:y,break_length:e.duration,country:N,play_session_id:s.E5.getVideoPlayerTrackingData().playSessionID,video_session_id:null===(a=null===(t=v.mediaPlayerInstance)||void 0===t?void 0:t.getSessionData())||void 0===a?void 0:a["VIDEO-SESSION-ID"],browser:null===(r=s.E5.getLastPageview())||void 0===r?void 0:r.browser,user_agent:navigator.userAgent,content_type:null===(o=s.E5.getLastPageview())||void 0===o?void 0:o.content_type,channel_id:null===(l=null==S?void 0:S.broadcaster)||void 0===l?void 0:l.id,game:null===(d=s.E5.getLastPageview())||void 0===d?void 0:d.game,game_id:C,commercial_id:e.commercialID,twitch_correlator:k,roll_type:e.roll,player:(0,fn.O)(m),stitched:!1,is_mafs:!!e.mafsDecision,requested_format:y||(0,ti.uN)(e.adFormat),allocation_strategy:y||e.adFormat,gdpr_consent:null===(u=null==g?void 0:g.purpose.consents)||void 0===u?void 0:u.valueOf(),gdpr_enabled:null===(c=null==g?void 0:g.ifGDPRApplies)||void 0===c?void 0:c.valueOf(),referrer_domain:null===(f=s.E5.getLastPageview())||void 0===f?void 0:f.referrer_domain,is_embed:null===(h=m.behaviors)||void 0===h?void 0:h.embed};if(e.sessionID&&O.current===e.sessionID||e.commercialID&&R.current===e.commercialID)s.E5.track("ad_request_client_trigger_declined",(0,i.__assign)({reason:JSON.stringify([Qt.A.DuplicateTrigger])},x));else if(e.commercialID&&(R.current=e.commercialID),e.sessionID&&(O.current=e.sessionID),P.current)if(e.forced||!E.current||(0,gt.rF)(e.adFormat)){var A=s.Zn.get(gt.MA,[]);if((0,gt.rF)(e.adFormat)&&"visible"!==document.visibilityState&&(A.includes(N)||A.includes(gt.qx))&&"treatment"===s.x2.experiments.getAndTrackAssignment(gt.rg))s.E5.track("ad_request_format_declined",(0,i.__assign)({reason:JSON.stringify([Qt.y.TabNotVisible])},x));else{var w=Ka(e.adFormat)?ja.ClientSideVideoAdRequested:ja.ClientSideAdFormatRequested;s.E5.track("ad_request_client_trigger_accepted",(0,i.__assign)((0,i.__assign)({},x),{game_id:_})),p({type:w,request:(0,i.__assign)((0,i.__assign)({},e),{status:kt.sC.Pending,requestTime:Date.now(),twitchCorrelator:k,sessionID:k})})}}else s.E5.track("ad_request_format_declined",(0,i.__assign)({reason:JSON.stringify([Qt.y.NotSurestream])},x));else s.E5.track("ad_request_format_declined",(0,i.__assign)({reason:JSON.stringify([Qt.A.AdInProgress])},x))}),[b,v,m,null==g?void 0:g.purpose.consents,null==g?void 0:g.ifGDPRApplies]),M=(0,r.useCallback)((function(){x.current&&x.current.stop(),p({type:ja.Reset})}),[p]),L=(0,r.useCallback)((function(){x.current&&x.current.stop(),p({type:ja.ResetForNewPlayerContent})}),[p]),j=(0,r.useCallback)((function(){(0,gt.rF)(null==h?void 0:h.adFormat)&&x.current&&x.current.stop(),p({type:ja.ResetOutstreamAd})}),[p,null==h?void 0:h.adFormat]),B=(0,r.useCallback)((function(e,n){var t=Ka(e.adFormat)?ja.ProcessClientSideVideoAdRequest:ja.ProcessClientSideAdFormatRequest;p({type:t,request:e,metadata:n})}),[p]),U=(0,r.useCallback)((function(e,n){var t=Ka(n.adFormat)?ja.FillClientSideVideoAd:ja.FillClientSideAdFormat;p({type:t,request:n,metadata:e})}),[p]),q=(0,r.useCallback)((function(e,n){p({type:ja.TransferClientSideAdFormat,request:n,metadata:e})}),[p]),G=(0,r.useCallback)((function(e,n){p({type:ja.PrepareClientSideAdFormat,request:n,metadata:e})}),[p]),z=(0,r.useCallback)((function(e){p({type:ja.StitchedVideoAdStarted,metadata:e})}),[p]),H=(0,r.useCallback)((function(e){p({type:ja.ClientSideAdSelectionParamsUpdated,params:e})}),[p]),W=(0,r.useCallback)((function(e){p({type:ja.DisplaySDASequence,display:e})}),[p]),K=(0,r.useCallback)((function(e){p({type:ja.UpdateSDAHiddenState,hidden:e})}),[p]),Z=(0,r.useCallback)((function(e,n){p({type:ja.ClientSideVideoAdMuted,muted:e,userInitiated:n})}),[p]),Q=(0,r.useCallback)((function(e,n){p({type:ja.ClientSideVideoAdVolumeUpdated,volume:e,userInitiated:n})}),[p]),Y=(0,r.useCallback)((function(e){p({type:ja.ClientSideVideoAdPlayingUpdated,isPlaying:e})}),[p]),X=(0,r.useCallback)((function(e){p({type:ja.AdElementUpdated,element:e})}),[p]),$=(0,r.useCallback)((function(e){p({type:ja.CompanionElementUpdated,element:e})}),[p]),J=(0,r.useCallback)((function(e){p({type:ja.OutstreamAdElementUpdated,element:e})}),[p]),ee=(0,r.useCallback)((function(e){p({type:ja.AdStatsUpdated,stats:e})}),[p]),ne=(0,r.useCallback)((function(e){p({type:ja.OutstreamAdDisplayStatusUpdated,status:e})}),[p]),te=(0,r.useCallback)((function(e){p({type:ja.LastSDAdRequestBlocked,isBlocked:e})}),[p]),ie=(0,r.useCallback)((function(){p({type:ja.SDARequestCount})}),[p]),ae=(0,r.useCallback)((function(e,n){p({type:ja.DeclinedAdFormatsUpdated,request:e,declinedFormats:n})}),[p]);return(0,r.useMemo)((function(){return(0,i.__assign)((0,i.__assign)({},c),{fillClientSideAd:U,transferClientSideAd:q,prepareClientSideAd:G,processAdRequest:B,requestAd:V,reset:M,resetForNewPlayerContent:L,resetOutstreamAd:j,setRadToken:D,startClientSideAd:F,emitClickEvent:w,addClickListener:T,removeClickListener:I,startStitchedAd:z,updateClientSideAdSelectionParams:H,updateAdElement:X,updateCompanionAdElement:$,updateOutstreamAdElement:J,updateOutstreamAdDisplayStatus:ne,updateAdMuted:Z,updateAdPlaying:Y,updateAdStats:ee,updateAdVolume:Q,displaySDASequence:W,updateSDAHiddenState:K,updateLastSDAAdRequestBlocked:te,incrementSDARequestCount:ie,updateDeclinedFormats:ae})}),[c,U,q,G,B,V,M,L,j,D,F,w,T,I,z,H,X,$,J,ne,Z,Y,ee,Q,W,K,te,ie,ae])}();return(0,a.jsx)(Pe.jK.Provider,{value:n,children:e.children||null})},Xa=t(953970),$a=t(906161),Ja=t.n($a),er=t(77451),nr=t(641535),tr=t(486651),ir=t(973421),ar=t.n(ir),rr=t(145748),or=t(214120),sr=t(702181),lr=t.n(sr),dr=t(762436),ur="content-classification-labels-acknowledged",cr={loggedIn:{},loggedOut:{}},pr=t(116989),mr=function(e){var n,t=e.disableMatureOverlay,a=e.content,o=e.playSessionId,l=e.isOffline,d=(0,r.useMemo)((function(){return(0,nr.i5)(a)}),[a]),u=(0,r.useState)(er.HX.PageLoad),p=u[0],m=u[1],v=t||l||!d.isStream&&!d.isVOD&&!d.isClip,f=(0,A.IT)(Ja(),{variables:d,skip:v}),g=f.data,h=f.error,y=f.loading,k=null===(n=null==g?void 0:g.user)||void 0===n?void 0:n.id;!function(e){var n=e.disableMatureOverlay,t=e.setOverlayTiming,a=e.streamChannelID,o=e.variables,s=(0,tr.m)(),l=(0,c.d4)(Nn.JK),d=(0,r.useRef)(),u=(0,rr.D)(a?(0,Ce.mq)(a):"",{skip:n||!o.isStream||"string"!=typeof a,skipMessage:function(e){return e.type!==be.PD.ContentClassificationLabelsUpdated}})[0],p=(0,ke.Z)(u);(0,r.useEffect)((function(){u&&u!==p&&(clearTimeout(d.current),d.current=setTimeout((function(){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,s.query({query:lr(),variables:{channelID:a},fetchPolicy:"network-only"})];case 1:return e=n.sent().data,(0,w.oR)(Ja(),o,(function(n){t(er.HX.Interrupt);var i=ar()(n,(function(e){return e.user.stream.contentClassificationLabels}),(function(){return(0,nr.NB)(l,null==u?void 0:u.content_classification_labels)}));return i=ar()(i,(function(e){return e.user.stream.contentClassificationLabelPolicyProperties}),(function(){var n,t;return(null===(t=null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.stream)||void 0===t?void 0:t.contentClassificationLabelPolicyProperties)?{__typename:"ContentClassificationLabelPolicyProperties",signPostProperties:e.user.stream.contentClassificationLabelPolicyProperties.signPostProperties,contentGateProperties:e.user.stream.contentClassificationLabelPolicyProperties.contentGateProperties}:null})),i}),(function(n){var t,i,a;return!(null===(t=null==n?void 0:n.user)||void 0===t?void 0:t.stream)||(null===(i=null==n?void 0:n.user)||void 0===i?void 0:i.id)!==(null===(a=null==e?void 0:e.user)||void 0===a?void 0:a.id)}),s),[2]}}))}))}),(0,or.yT)(u.jitter)))}),[s,l,p,t,a,u,o]),(0,se.S)((function(){return function(){clearTimeout(d.current)}}))}({disableMatureOverlay:t,setOverlayTiming:m,streamChannelID:k,variables:d}),(0,r.useEffect)((function(){y&&m(er.HX.PageLoad)}),[y,m]);var S=(0,r.useMemo)((function(){return(0,nr.$Q)({variables:d,loading:y,skip:v,data:g,error:h})}),[d,y,v,g,h]),_=S.channelName,b=S.contentLabels,C=S.contentPolicies,P=function(e){var n,t=null===(n=(0,c.d4)(Nn.wz))||void 0===n?void 0:n.id,a=(0,dr.r)(ur,cr),o=a[0],l=a[1],d=(0,r.useMemo)((function(){if(!e||0===e.length)return!0;if(t){var n=o.loggedIn[t];return!!n&&e.every((function(e){return n.includes(e)}))}var i=(0,nr.Cp)(o.loggedOut);return e.every((function(e){return i.hasOwnProperty(e)}))}),[o,e,t]),u=(0,r.useCallback)((function(){var n;if(e&&0!==e.length){var a=s.IG.get(ur,cr);if(t){var r=null!==(n=a.loggedIn[t])&&void 0!==n?n:[],o=e.reduce((function(e,n){return e.includes(n)||e.push(n),e}),r);a.loggedIn[t]=o}else{var d=(0,nr.Cp)(a.loggedOut),u=Date.now()+2592e6;a.loggedOut=e.reduce((function(e,n){return e[n]=u,e}),d)}l((0,i.__assign)({},a))}}),[e,t,l]);return{isAcknowledged:d,storeAcknowledgement:u}}((0,nr.ky)(b,C)),E=P.isAcknowledged,N=P.storeAcknowledgement,x=(0,r.useMemo)((function(){return(0,nr.$p)({result:S,isAcknowledged:E})}),[S,E]),T=function(e){var n=e.data,t=e.overlayTiming,a=e.overlayType,o=e.playSessionId,l=e.result,d=e.variables,u=(0,r.useMemo)((function(){var e,i,r,u,c,p,m,v;return{page_session_id:s.x2.session.pageviewID,play_session_id:o,channel_id:l.channelID,broadcast_id:null!==(r=null===(i=null===(e=null==n?void 0:n.user)||void 0===e?void 0:e.stream)||void 0===i?void 0:i.id)&&void 0!==r?r:null,category:l.category,live:d.isStream,vod_type:(null===(u=null==n?void 0:n.video)||void 0===u?void 0:u.broadcastType)?(0,pr.O)(n.video.broadcastType):null,clip_slug:null!==(p=null===(c=null==n?void 0:n.clip)||void 0===c?void 0:c.slug)&&void 0!==p?p:null,vod_id:null!==(v=null===(m=null==n?void 0:n.video)||void 0===m?void 0:m.id)&&void 0!==v?v:null,content_classification_label_display_type:a,content_classification_label_load_type:t,content_classification_label_set:(0,nr.aH)(l.contentLabels)}}),[n,t,a,o,l,d]),c=(0,r.useRef)({location:null,page_session_id:s.x2.session.pageviewID,play_session_id:o,channel_id:null,broadcast_id:null,category:null,live:!1,vod_type:null,vod_id:null,clip_slug:null,content_classification_label_display_type:a,content_classification_label_load_type:t,content_classification_label_set:null}),p=(0,r.useRef)();(0,r.useEffect)((function(){u.channel_id===c.current.channel_id&&u.content_classification_label_display_type===c.current.content_classification_label_display_type&&u.content_classification_label_load_type===c.current.content_classification_label_load_type&&u.content_classification_label_set===c.current.content_classification_label_set||(clearTimeout(p.current),p.current=setTimeout((function(){var e,n;c.current=u,l.status!==er.ff.Skip&&u.content_classification_label_display_type!==er.P8.Unknown&&(u.content_classification_label_display_type===er.P8.FetchErrorDisclosure||null!==u.channel_id&&null!==u.content_classification_label_set)&&(s.x2.tracking.trackAvailability({category:"community",name:"VideoPlayer_ContentClassificationOverlays",is_available:l.status!==er.ff.Error,reason:l.status===er.ff.Error?l.reason:void 0}),u.content_classification_label_display_type!==er.P8.None&&s.x2.tracking.__track_SSRMigrationFixme("content_classification_label_display",(0,i.__assign)((0,i.__assign)({},u),{location:null!==(n=null===(e=s.x2.tracking.getLastPageview())||void 0===e?void 0:e.location)&&void 0!==n?n:null})))}),250))}),[c,l,u]);var m=(0,r.useCallback)((function(e){var n,t;return s.x2.tracking.__track_SSRMigrationFixme("content_classification_label_click",(0,i.__assign)((0,i.__assign)({},c.current),{action:e,location:null!==(t=null===(n=s.x2.tracking.getLastPageview())||void 0===n?void 0:n.location)&&void 0!==t?t:null}))}),[c]);return{trackClick:m}}({data:g,playSessionId:o,overlayTiming:p,overlayType:x,result:S,variables:d}).trackClick;return(0,r.useMemo)((function(){return{channelName:_,contentLabels:b,storeAcknowledgement:N,overlayTiming:p,overlayType:x,trackClick:T}}),[_,b,N,p,x,T])},vr=(0,o.Zz)((0,k.cj)((function(e){var n,t=e.behaviors,i=e.content;return{disableMatureOverlay:null!==(n=null==t?void 0:t.disableMatureOverlay)&&void 0!==n&&n,content:i}})),(0,y.dd)((function(e){return{playSessionId:e.playSessionId,isOffline:e.isOffline}})))((function(e){var n=e.children,t=e.content,i=e.disableMatureOverlay,r=e.playSessionId,o=e.isOffline,s=mr({content:t,disableMatureOverlay:i,playSessionId:r,isOffline:o});return(0,a.jsx)(kn.J.Provider,{value:s,children:n})})),fr=t(288480),gr=t(769660),hr=t(793122),yr=t(33381),kr=t(945989),Sr=t.n(kr),_r=t(98865);!function(e){e[e.RESET=0]="RESET",e[e.SET_OVERLAY_VISIBILITY=1]="SET_OVERLAY_VISIBILITY",e[e.OPEN_POPOVER=2]="OPEN_POPOVER",e[e.CLOSE_POPOVER=3]="CLOSE_POPOVER",e[e.SET_MENU_STATE=4]="SET_MENU_STATE",e[e.SET_PLAYER_MENU_STATE=5]="SET_PLAYER_MENU_STATE",e[e.SET_NOTIFICATION_STATE=6]="SET_NOTIFICATION_STATE"}(Qa||(Qa={}));var br=t(987476);function Cr(e){var n=e.extensionsForChannel;return n&&n.fetchedChannelID}function Pr(e){var n=e.extensionsForChannel;if(!n)return!1;var t=n.error,i=n.loading,a=n.installedExtensions;return!(t||i||!a||!a.length)}function Er(e){var n=e.isMini,t=e.isVideoAdShowing,i=e.isPlaying;return!(!e.isCasting&&!n&&i&&!t)}function Nr(e){return e.reduce((function(e,n){var t=(0,yr.wv)(n);return t&&(e[t]={identityLinkedStatus:(0,yr.aX)(n.extension.token).identityLinkedStatus}),e}),{})}var xr={isOverlayVisible:!0,menuState:{type:hr.gu.NONE},playerMenuState:{type:hr.gu.NONE,selectedInstallationID:null},notificationState:{type:hr._n.NONE},selectedExtensionID:null,hoveredExtensionID:null,permissionsStates:{}},Ar=function(e){function n(n){var t=e.call(this,n)||this;return t.computeContextProps=function(){var e=t.sortExtensions();return(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},_r.GZ),{loginID:t.props.loginID,channelID:Cr(t.props),hideExtensions:Er(t.props),isChannelInfoVisible:t.props.isFullscreen||t.props.isTheatreMode||!!t.props.showChannelInfoOnHover}),e),{shouldMountExtensionComponents:Pr(t.props),isOverlayVisible:t.state.isOverlayVisible&&!!e.overlayExtension,permissionsStates:t.state.permissionsStates,setOverlayVisibility:t.setOverlayVisibility,openPopover:t.openPopover,closePopover:t.closePopover,togglePopover:t.togglePopover,hoverExtensionCard:t.hoverExtensionCard,setMenuState:t.setMenuState,setPlayerMenuState:t.setPlayerMenuState,setPermissionsState:t.setPermissionsState,setNotification:t.setNotification,isMenuOpen:t.isMenuOpen,isDockIconHovered:t.isDockIconHovered,getMenuState:t.getMenuState,getPlayerMenuState:t.getPlayerMenuState,getNotification:t.getNotification,isPopoverOpen:t.isPopoverOpen,isAnyPopoverOpen:t.isAnyPopoverOpen,trackEvent:t.trackEvent})},t.sortExtensions=function(){var e=(0,yr.gw)(t.installations),n=e[fr.Z1.Overlay][0]||null,a=e[fr.Z1.Component];return{overlayExtension:n,componentExtensions:a,allVideoExtensions:(0,i.__spreadArray)((0,i.__spreadArray)([],n?[n]:[],!0),a,!0)}},t.computeInitialNotificationState=function(e,n){return e===hr._n.BITS_BALANCE?(0,i.__assign)((0,i.__assign)({},n),{type:hr._n.BITS_BALANCE,expiration:Date.now()+yr.QH}):{type:hr._n.NONE}},t.computeNewState=function(e,n,a){var r="active"===s.x2.experiments.__hardcodedStaleExperiment("extension_overlay_improvement","control");switch(e.type){case Qa.RESET:return t.defaultState;case Qa.SET_OVERLAY_VISIBILITY:return(0,i.__assign)((0,i.__assign)({},n),{isOverlayVisible:e.payload.visible});case Qa.SET_NOTIFICATION_STATE:return(0,i.__assign)((0,i.__assign)({},n),{notificationState:e.payload.notificationState});case Qa.OPEN_POPOVER:var o=hr.gu.NONE;return(0,yr.l1)(e.payload.installation)&&(o=hr.gu.SETTINGS),(0,yr.MA)(e.payload.installation,n.permissionsStates)||(o=hr.gu.UNRELEASED),(0,i.__assign)((0,i.__assign)({},n),{menuState:{type:o},selectedExtensionID:(0,yr.wv)(e.payload.installation)});case Qa.CLOSE_POPOVER:return(0,i.__assign)((0,i.__assign)({},n),{menuState:{type:hr.gu.NONE},selectedExtensionID:null});case Qa.SET_MENU_STATE:return r&&(0,yr.l1)(e.payload.installation)&&e.payload.menuState.type===hr.gu.MANAGE_ACCESS?(0,i.__assign)((0,i.__assign)({},n),{playerMenuState:{type:hr.gu.MANAGE_ACCESS,selectedInstallationID:(0,yr.wv)(e.payload.installation)}}):e.payload.menuState.type===hr.gu.NONE&&(0,yr.l1)(e.payload.installation)?(0,i.__assign)((0,i.__assign)({},n),{menuState:{type:hr.gu.NONE},selectedExtensionID:null}):(0,yr.l1)(e.payload.installation)||e.payload.menuState.type!==hr.gu.MANAGE_ACCESS&&e.payload.menuState.type!==hr.gu.LOGIN_REQUIRED||n.selectedExtensionID===(0,yr.wv)(e.payload.installation)?e.payload.menuState.type!==hr.gu.MANAGE_ACCESS||a.loginID?(0,i.__assign)((0,i.__assign)({},n),{menuState:e.payload.menuState,selectedExtensionID:(0,yr.wv)(e.payload.installation)}):(0,i.__assign)((0,i.__assign)({},n),{menuState:t.addOnDestroyCallbackToMenuState(e.payload.menuState),selectedExtensionID:(0,yr.wv)(e.payload.installation)}):n;case Qa.SET_PLAYER_MENU_STATE:return(0,i.__assign)((0,i.__assign)({},n),{playerMenuState:{type:e.payload.type,selectedInstallationID:e.payload.installation?(0,yr.wv)(e.payload.installation):null}});default:return n}},t.getDefaultState=function(e){return e.length?(0,i.__assign)((0,i.__assign)({},xr),{permissionsStates:Nr(e)}):xr},t.updateState=function(e,n,i){void 0===i&&(i=!1);var a=t.state;t.setState((function(i){return t.computeNewState(e,i,n||t.props)}),(function(){t.handleExpiringNotification(),i||t.handleDestroyedConfirmationRequests(a),t.props.setIsMenuShowing(t.getPlayerMenuState().type!==hr.gu.NONE)}))},t.handleDestroyedConfirmationRequests=function(e){var n=e.menuState;n!==t.state.menuState&&((0,hr.GS)(n)||(0,hr.Ns)(n)||(0,hr.UE)(n))&&n.onDestroy&&n.onDestroy(n.confirmationRequest)},t.handleExpiringNotification=function(){var e=t.state.notificationState;(0,hr.dD)(e)?t.createExpiringNotificationTimeout(e):t.cancelExpiringNotificationTimeout()},t.cancelExpiringNotificationTimeout=function(){t.expiringNotificationTimer&&(clearTimeout(t.expiringNotificationTimer),t.expiringNotificationTimer=0)},t.createExpiringNotificationTimeout=function(e){t.cancelExpiringNotificationTimeout(),t.expiringNotificationTimer=setTimeout(t.removeExpiringNotificationIfExpired,t.remainingExpiringNotificationTime(e))},t.removeExpiringNotificationIfExpired=function(){t.cancelExpiringNotificationTimeout();var e=t.state.notificationState;(0,hr.dD)(e)&&(0===t.remainingExpiringNotificationTime(e)&&t.updateState({type:Qa.SET_NOTIFICATION_STATE,payload:{notificationState:{type:hr._n.NONE}}}))},t.remainingExpiringNotificationTime=function(e){var n=Date.now(),t=e.expiration;return Math.max(t-n,0)},t.setNotification=function(e,n){t.updateState({type:Qa.SET_NOTIFICATION_STATE,payload:{notificationState:t.computeInitialNotificationState(e,n)}})},t.getNotification=function(){return t.state.notificationState},t.setOverlayVisibility=function(e){t.updateState({type:Qa.SET_OVERLAY_VISIBILITY,payload:{visible:e}})},t.openPopover=function(e){t.updateState({type:Qa.OPEN_POPOVER,payload:{installation:e}})},t.closePopover=function(e){t.updateState({type:Qa.CLOSE_POPOVER,payload:{installation:e}})},t.togglePopover=function(e){t.isPopoverOpen(e)?t.closePopover(e):t.openPopover(e)},t.hoverExtensionCard=function(e){var n=e&&(0,yr.wv)(e);t.setState((function(e){return e.hoveredExtensionID!==n?{hoveredExtensionID:n}:null})),e&&t.trackEvent(br.X2.ExtensionDockIconHover,br.iN.DisplayHoverInfo,br.si.ExtensionDockIconHover,e)},t.setMenuState=function(e,n,i){void 0===i&&(i=!1),t.updateState({type:Qa.SET_MENU_STATE,payload:{menuState:t.addOnDestroyCallbackToMenuState(e),installation:n}},void 0,i)},t.setPlayerMenuState=function(e,n){t.updateState({type:Qa.SET_PLAYER_MENU_STATE,payload:{type:e,installation:n}})},t.addOnDestroyCallbackToMenuState=function(e){return(0,hr.GS)(e)||(0,hr.Ns)(e)||(0,hr.UE)(e)?(0,i.__assign)((0,i.__assign)({},e),{onDestroy:function(e){e&&e.resultCallback&&e.defaultResult&&e.resultCallback(e.defaultResult)}}):e},t.reset=function(){t.updateState({type:Qa.RESET})},t.getMenuState=function(e){return t.state.selectedExtensionID===(0,yr.wv)(e)?t.state.menuState:{type:hr.gu.NONE}},t.getPlayerMenuState=function(){return t.state.playerMenuState},t.isMenuOpen=function(e){return t.state.selectedExtensionID===(0,yr.wv)(e)&&t.state.menuState.type!==hr.gu.NONE},t.isDockIconHovered=function(e){return t.state.hoveredExtensionID===(0,yr.wv)(e)},t.isPopoverOpen=function(e){return t.state.selectedExtensionID===(0,yr.wv)(e)},t.isAnyPopoverOpen=function(){return null!==t.state.selectedExtensionID},t.setPermissionsState=function(e,n){var a=(0,yr.wv)(e);t.setState((function(e){var t;return{permissionsStates:(0,i.__assign)((0,i.__assign)({},e.permissionsStates),(t={},t[a]=(0,i.__assign)((0,i.__assign)({},e.permissionsStates[a]),n),t))}}))},t.trackEvent=function(e,n,i,a){var r=(0,br.w1)(i);r&&t.props.track(r,(0,br.dP)(e,n,a))},t.state=t.getDefaultState(t.installations),t}return(0,i.__extends)(n,e),Object.defineProperty(n.prototype,"installations",{get:function(){var e=this.props.extensionsForChannel;return e&&e.installedExtensions?function(e){var n=e.extensionsForChannel;return n&&n.installedExtensions?n.installedExtensions.filter((function(e){return e.activationConfig.state===fr.sh.Active})):[]}(this.props):[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultState",{get:function(){var e=this.props.extensionsForChannel;return e&&e.installedExtensions?(0,i.__assign)((0,i.__assign)({},xr),{permissionsStates:Nr(this.installations)}):xr},enumerable:!1,configurable:!0}),n.prototype.componentDidUpdate=function(e){Cr(e)!==Cr(this.props)&&this.reset()},n.prototype.render=function(){return(0,a.jsx)(_r.iu.Provider,{value:this.computeContextProps(),children:this.props.children||null})},n}(r.Component);function wr(e){return e.channelID&&e.channelID.user&&e.channelID.user.id}var Tr=(0,o.Zz)((0,c.Ng)((function(e){var n=(0,Nn.wz)(e);return{loginID:n&&n.id||void 0,isTheatreMode:e.ui.theatreModeEnabled}})),(0,k.cj)((function(e){var n=(0,P.wk)({playerPublicPropsContext:e});return{channelLogin:(0,D.jp)(e.content),parentChannelID:(0,D.b3)(e.content),isMini:!!n.mini,showChannelInfoOnHover:!!n.showChannelInfoOnHover}})),(0,Sn.c0)((function(e){return{isFullscreen:e.isFullscreen,setIsMenuShowing:e.setIsMenuShowing,videoContainer:e.videoContainer}})),(0,Ee.o1)(),(0,S.AP)((function(e){return{isPlaying:e.isPlaying}})),(0,Pe.VX)((function(e){return{isVideoAdShowing:(0,Fe.cz)(e.videoAdMetadata)}})),(0,Xa.vM)((function(e){return{isCasting:(0,Xa.mh)(e)}})),(0,M._v)(Sr(),{name:"channelID",skip:function(e){return!e.channelLogin},options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,gr.Fe)({name:"extensionsForChannel",skip:function(e){return!wr(e)},options:function(e){return{variables:{channelID:e.parentChannelID||wr(e)||""}}}}))(Ar),Ir=t(886384),Dr=t(650510),Fr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onAudioBlocked=function(){var e=n.props,t=e.updateContext,i=e.mediaPlayerInstance;t({audioBlocked:!0,muted:!0}),i&&!i.isMuted()&&i.setMuted(!0)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(I.a.AUDIO_BLOCKED,this.onAudioBlocked)},n.prototype.render=function(){return null},n}(r.Component),Or=(0,o.Zz)((0,y.dd)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),(0,h.X)())(Fr),Rr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onDurationChanged=function(e){0!==e&&(0,n.props.updateContext)({isOffline:!1})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(I.a.DURATION_CHANGED,this.onDurationChanged)},n.prototype.render=function(){return null},n}(r.Component),Vr=(0,o.Zz)((0,y.dd)((function(e){return{updateContext:e.updateContext}})),(0,h.X)())(Rr),Mr=t(407310),Lr=t(873830),jr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onError=function(e){var t=e.code,i=e.source;switch(e.type){case ya.NOT_AVAILABLE:return void n.handleNotAvailableError(t,i);case ya.AUTHORIZATION:return void n.handleAuthError(t,i);case ya.NOT_SUPPORTED:return void n.handleNotSupportedError();case ya.NETWORK_IO:return void n.handleNetworkIOError();case ya.GENERIC:return void(i===ha.DRM&&n.props.setError(Ea.O4.DRMLicenseServerError));case ya.NETWORK:default:return}},n.handleNotAvailableError=function(e,t){t!==ha.DRM?e===Ea.O4.LVSCCUCap?n.props.setError(Ea.O4.CCUCapReached):n.props.updateContext({isOffline:!0}):n.props.setError(Ea.O4.DRMLicenseNotAvailable)},n.handleAuthError=function(e,t){var i=n.props,a=i.setError,r=i.addRestriction;if(t!==ha.DRM)switch(e){case Ea.O4.GeoBlocked:return void a(Ea.O4.GeoBlocked);case Ea.O4.UnsupportedDevice:return void((0,Lr.F$)(n.props.data)&&Mr.j.browser.isSafari()?a(Ea.O4.SafariUnsupportedDevice):a(Ea.O4.UnsupportedDevice));case Ea.O4.AnonymizerBlocked:return void a(Ea.O4.AnonymizerBlocked);case Ea.O4.CellularNetworkProhibited:return void a(Ea.O4.CellularNetworkProhibited);case Ea.O4.UnauthorizationEntitlements:return void r(Dr.S.PremiumContent);case Ea.O4.VodRestricted:return void r(Dr.S.SubscriberVOD);default:if(n.props.isOffline)return;return void a(Ea.O4.ContentNotAvailable)}else a(Ea.O4.CDMNotAuthorized)},n.handleNotSupportedError=function(){n.props.setError(Ea.O4.FormatNotSupported)},n.handleNetworkIOError=function(){n.props.setError(Ea.O4.Network)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(I.a.ERROR,this.onError)},n.prototype.render=function(){return null},n}(r.Component),Br=(0,o.Zz)((0,y.dd)((function(e){return{setError:e.setError,addRestriction:e.addRestriction,isOffline:e.isOffline,updateContext:e.updateContext}})),(0,h.X)(),(0,Lr.yg)())(jr),Ur=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onMutedChange=function(){var e=n.props,t=e.updateContext,i=e.mediaPlayerInstance;t({muted:i&&i.isMuted()})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(I.a.MUTED_CHANGED,this.onMutedChange)},n.prototype.render=function(){return null},n}(r.Component),qr=(0,o.Zz)((0,y.dd)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),(0,h.X)())(Ur),Gr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onPlaybackRateChange=function(){var e=n.props,t=e.updateContext,i=e.mediaPlayerInstance;t({speed:i&&i.getPlaybackRate()})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(I.a.PLAYBACK_RATE_CHANGED,this.onPlaybackRateChange)},n.prototype.render=function(){return null},n}(r.Component),zr=(0,o.Zz)((0,y.dd)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),(0,h.X)())(Gr),Hr=t(337455),Wr=t(433700),Kr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.isUnmounted=!1,n.logger=n.props.logger.withCategory("on-player-core-loaded"),n.onPlayerCoreLoaded=function(e){var t,a;if(e)if(n.logger.debug("player core loaded"),n.isUnmounted)n.logger.debug("component is unmounted. will not in init mediaplayer");else{if(s.x2.config.buildType!==Hr.n.Production&&(window.mediaPlayer=e),n.props.containerRef){n.logger.debug("attaching video element");var r=e.mediaPlayerInstance.getHTMLVideoElement();r.setAttribute("playsinline",""),r.setAttribute("webkit-playsinline","");var o=null===(a=(t=e.mediaPlayerInstance).getVideoRenderSurface)||void 0===a?void 0:a.call(t);null==o||o.setAttribute("class","video-render-surface"),n.props.containerRef.insertBefore(null!=o?o:r,n.props.containerRef.firstChild)}e.mediaPlayerInstance.setClientId(s.x2.config.authSettings.clientID);var l=e.mediaPlayerInstance.getVolume(),d=e.mediaPlayerInstance.isMuted();n.props.updateContext((0,i.__assign)((0,i.__assign)({},e),{volume:l,muted:d,isPlayerCoreLoading:!1}))}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,n,t;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=this.onPlayerCoreLoaded,[4,(0,Wr.F)({enableSuperResExperiment:null!==(t=this.props.enableSuperResExperiment)&&void 0!==t&&t})];case 1:return e.apply(this,[i.sent()]),[3,3];case 2:return n=i.sent(),this.props.logger.errorAndReport(n,"Failed to load player core via npm module."),[3,3];case 3:return[2]}}))}))},n.prototype.componentWillUnmount=function(){var e=this;this.isUnmounted=!0,setTimeout((function(){e.props.mediaPlayerInstance&&e.props.mediaPlayerInstance.delete(),e.props.onDestroy&&e.props.onDestroy()}))},n.prototype.render=function(){return null},n}(r.Component),Zr=(0,o.Zz)((0,y.dd)((function(e){var n=e.updateContext,t=e.logger;return{mediaPlayerInstance:e.mediaPlayerInstance,updateContext:n,logger:t}})),(0,k.cj)((function(e){return{onDestroy:(0,P.zB)({playerPublicPropsContext:e}).onDestroy,enableSuperResExperiment:(0,P.wk)({playerPublicPropsContext:e}).enableSuperResExperiment}})))(Kr),Qr=t(823583),Yr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onPlayerStateChange=function(e){var t=n.props,i=t.updateContext,a=t.hasPlayed,r=t.mediaPlayerInstance,o=t.removeError,l=e===b.p.PLAYING,d=l||a;if(i({hasPlayed:d,playerState:e}),n.props.disableGlobalPlaySessionIdUpdate||s.E5.setVideoPlayerTrackingData({hasPlayed:d}),l&&o(),e===b.p.ENDED&&i({isOffline:!0}),e===b.p.READY){if(!r)return;n.setInitialVideoOffset(r),n.setInitialQualitySetting(r)}},n.setInitialVideoOffset=function(e){var t=n.props,i=t.hasPlayed,a=t.initialOffset;a&&!i&&e.seekTo(a)},n.setInitialQualitySetting=function(e){var t=n.props,i=t.isClipContent,a=t.quality,r=t.qualityBitrate,o=t.updateContext,s=i&&!(0,ze.vO)()?n.props.availableQualities:(0,We.Er)(e);if((!i||i&&(0,ze.vO)())&&o({availableQualities:s,unavailableQualities:(0,We.FC)(e)}),0!==s.length){var l=s.some((function(e){return e.group===Qr.s9}));if(a===Qr.s9&&l)e.setAutoQualityMode(!0);else{var d=(0,We.Tp)(s,a,r,i&&!(0,ze.vO)());l&&"lowest"===d.strategy?e.setAutoQualityMode(!0):(d.quality.group!==a&&o({quality:d.quality.group,qualityBitrate:d.quality.bitrate}),e.setQuality(d.quality))}}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this;[b.p.IDLE,b.p.READY,b.p.BUFFERING,b.p.PLAYING,b.p.ENDED].forEach((function(n){e.props.playerEvents.addEventListener(n,(function(){return e.onPlayerStateChange(n)}))})),this.props.playerEvents.addEventListener(I.a.QUALITIES_CHANGED,(function(){if(e.props.mediaPlayerInstance){var n=(0,We.Er)(e.props.mediaPlayerInstance),t=(0,We.FC)(e.props.mediaPlayerInstance);s.vF.debug("Received player QUALITIES_CHANGED event","available:",n,"unavailable:",t),e.props.updateContext({availableQualities:n,unavailableQualities:t})}}))},n.prototype.render=function(){return null},n}(r.Component),Xr=(0,o.Zz)((0,c.Ng)((function(e){return{activeVideoPlayerRefID:(0,C.LG)(e)}})),(0,y.dd)((function(e){var n=e.availableQualities,t=e.hasPlayed,i=e.mediaPlayerInstance,a=e.playerRefID,r=e.quality,o=e.qualityBitrate,s=e.updateContext,l=e.removeError;return{availableQualities:n,hasPlayed:t,mediaPlayerInstance:i,playerRefID:a,quality:r,qualityBitrate:o,updateContext:s,removeError:l}})),(0,h.X)(),(0,k.cj)((function(e){var n=e.content,t=(0,P.wk)({playerPublicPropsContext:e}).disableGlobalPlaySessionIdUpdate;return{isClipContent:(0,D.Jn)(n),initialOffset:(0,D.xq)(n),disableGlobalPlaySessionIdUpdate:t}})))(Yr);var $r=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onQualityChange=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.updateContext;if(t)if(t.isAutoQualityMode())i({quality:Qr.IJ.group,qualityBitrate:Qr.IJ.bitrate});else{var a=t.getQuality();i({quality:a.group,qualityBitrate:a.bitrate})}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(I.a.QUALITY_CHANGED,this.onQualityChange)},n.prototype.render=function(){return null},n}(r.Component),Jr=(0,o.Zz)((0,y.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,updateContext:e.updateContext}})),(0,h.X)())($r),eo=t(59470),no=(0,o.Zz)((0,y.dd)((function(e){return{updateContext:e.updateContext}})))((function(e){var n=e.updateContext,t=r.useContext(eo.DV),a=t.requiresVideoTokenRefresh,o=t.setRequiresVideoTokenRefresh,s=r.useContext(k.kl),l=(0,D.hd)(s.content),d=r.useCallback((function(){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return l?[4,(0,$e.l)({channelLogin:l,playerType:s.type,refreshAccessToken:!0})]:[2];case 1:return e=t.sent(),n({videoAccessToken:e,manualResetRequested:!0}),[2]}}))}))}),[l,s.type,n]);return r.useEffect((function(){a&&(o(!1),d())}),[d,a,o]),null})),to=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onVolumeChanged=function(){var e=n.props,t=e.updateContext,i=e.mediaPlayerInstance,a=i&&i.getVolume();t({volume:a&&Math.round(100*a)/100})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(I.a.VOLUME_CHANGED,this.onVolumeChanged)},n.prototype.render=function(){return null},n}(r.Component),io=(0,o.Zz)((0,y.dd)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),(0,h.X)())(to),ao=function(e){function n(n){var t=e.call(this,n)||this;return t.logger=t.props.logger.withCategory("player-context-provider"),t.maybeUpdateAutoplay=function(){var e=oo(t.props);t.state.autoplay===e||t.state.mediaPlayerInstance||t.updateContext({autoplay:e})},t.requestManualReset=function(){t.updateContext({manualResetRequested:!0})},t.updateContext=function(e,n){t.setState((function(n){return Object.keys(e).some((function(t){return e[t]!==n[t]}))?(0,i.__assign)((0,i.__assign)({},n),e):null}),(function(){t.logger.debug("player context updated",{state:t.state}),n&&n()}))},t.addRestriction=function(e){t.setState((function(n){var t;return n.restrictions[e]?null:{restrictions:(0,i.__assign)((0,i.__assign)({},n.restrictions),(t={},t[e]=!0,t))}}))},t.liftRestriction=function(e){t.setState((function(n){var t;return n.restrictions[e]?{restrictions:(0,i.__assign)((0,i.__assign)({},n.restrictions),(t={},t[e]=!1,t))}:null}))},t.setError=function(e){t.setState((function(n){return e===n.error?null:{error:e}}))},t.removeError=function(){t.setState((function(e){return e.error?{error:void 0}:null}))},t.resetOnSourceChange=function(e,n){var i=(0,Dr.u)();(null==e?void 0:e.videoAccessToken)&&(i[Dr.S.AccountRestricted]=(0,$e.P)(e.videoAccessToken)),t.setState({hasPlayed:!1,isOffline:void 0,playerState:void 0,playSessionId:n,playSessionStartTime:Date.now(),sourceStatus:_n.O.Provided,restrictions:i,error:void 0,videoAccessToken:e&&e.videoAccessToken,accessExpiration:e&&e.accessExpiration,forbidden:e&&e.forbidden,accessTokenLoadTime:e&&e.accessTokenLoadTime}),t.props.disableGlobalPlaySessionIdUpdate||t.updatePlaySessionId(n)},t.state=(0,i.__assign)((0,i.__assign)({},y.Sw),{autoplay:oo(t.props),addRestriction:t.addRestriction,isLiveLowLatencyEnabled:s.IG.get(xn.U.LOW_LATENCY_MODE,!0),liftRestriction:t.liftRestriction,setError:t.setError,removeError:t.removeError,availableQualities:[],isNetworkOffline:!navigator.onLine,playerRefID:t.props.playerRefID,quality:t.props.quality,qualityBitrate:(0,We.Ao)()||y.Sw.qualityBitrate,updateContext:t.updateContext,requestManualReset:t.requestManualReset,resetOnSourceChange:t.resetOnSourceChange,logger:t.props.logger}),t.props.disableGlobalPlaySessionIdUpdate||t.updatePlaySessionId(y.Sw.playSessionId),t}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(){this.maybeUpdateAutoplay()},n.prototype.render=function(){return(0,a.jsxs)(y.$g.Provider,{value:this.state,children:[this.props.children||null,(0,a.jsx)(Or,{}),(0,a.jsx)(Vr,{}),(0,a.jsx)(Br,{}),(0,a.jsx)(qr,{}),(0,a.jsx)(zr,{}),(0,a.jsx)(Zr,{containerRef:this.props.videoRef}),(0,a.jsx)(Xr,{}),(0,a.jsx)(Jr,{}),(0,a.jsx)(io,{}),(0,a.jsx)(no,{})]})},n.prototype.componentWillUnmount=function(){this.updatePlaySessionId(void 0)},n.prototype.updatePlaySessionId=function(e){s.x2.tracking.setVideoPlayerTrackingData({playSessionID:e,hasPlayed:!1})},n}(r.Component),ro=(0,o.Zz)((0,c.Ng)((function(e){return{activePlayerRefID:(0,C.LG)(e)}})),(0,k.cj)((function(e){var n=(0,P.wk)({playerPublicPropsContext:e}),t=n.disableAutoplay,i=n.disableGlobalPlaySessionIdUpdate,a=n.exclusivePlayback,r=(0,We.x0)({playerPublicPropsContext:e});return{disableAutoplay:t,disableGlobalPlaySessionIdUpdate:i,exclusivePlayback:a,quality:r}})))(ao);function oo(e){var n=e.disableAutoplay;return e.exclusivePlayback?!(n||e.activePlayerRefID&&e.activePlayerRefID!==e.playerRefID):!n}var so=t(631266),lo=function(e){var n=r.useContext(S.wL),t=r.useContext(Sn._t),i=r.useContext(y.$g).requestManualReset,o=r.useContext(Ee.g7).track,s=n.play,l=n.pause,d=n.seek,u=n.setVolume,c=n.setMuted,p=n.setQuality,m=n.getPlayerMetadata,v=t.setClosedCaptionsEnabled,f=r.useMemo((function(){return{getPlayerMetadata:m,pause:l,play:s,seek:d,requestManualReset:i,setClosedCaptionsEnabled:v,setMuted:c,setQuality:p,setVolume:u,track:o}}),[m,l,s,d,i,v,c,p,u,o]);return(0,a.jsx)(so.$_.Provider,{value:f,children:e.children||null})},uo=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(ro,{videoRef:this.props.videoRef,logger:this.props.logger,playerRefID:this.props.playerRefID,children:(0,a.jsx)(Ya,{children:(0,a.jsx)(S.X0,{children:(0,a.jsx)(Sn.nD,{videoContainer:this.props.videoContainer,videoRef:this.props.videoRef,children:(0,a.jsx)(Ir.RX,{containerRef:this.props.videoContainer,videoRef:this.props.videoRef,children:(0,a.jsx)(lo,{children:(0,a.jsx)(vr,{children:(0,a.jsx)(Ee.N1,{children:(0,a.jsx)(Xa._v,{logger:this.props.logger,children:(0,a.jsx)(za,{children:(0,a.jsx)(Tr,{children:(0,a.jsx)(Ba.hW,{children:(0,a.jsx)(qa,{children:this.props.children})})})})})})})})})})})})})},n}(r.Component),co=(0,o.Zz)((0,l.X)({name:"VideoPlayer",content:(0,a.jsx)(u.x,{})}))((function(e){var n=e.videoContainerRef,t=e.videoRef,o=e.children,l=(0,i.__rest)(e,["videoContainerRef","videoRef","children"]),u=(0,r.useRef)((0,d.yr)(16)),c=(0,r.useRef)(s.x2.logger.withCategory("core-video-player").withCategory(u.current));return(0,a.jsx)(k.df,(0,i.__assign)({},l,{children:(0,a.jsx)(uo,{videoContainer:n,videoRef:t,logger:c.current,playerRefID:u.current,children:(0,a.jsx)(La,(0,i.__assign)({id:u.current,logger:c.current},l,{children:o}))})}))}))},860879:function(e,n,t){"use strict";var i;t.d(n,{p:function(){return i}}),function(e){e.CHANNEL_PLAYER="CHANNEL_PLAYER",e.HOME_PAGE="HOME_PAGE",e.BROWSE_PAGE="BROWSE_PAGE"}(i||(i={}))},159385:function(e,n,t){"use strict";var i,a;t.d(n,{e:function(){return a},k:function(){return i}}),function(e){e.AdFreeChannel="reason_channeladfree",e.AdFreeChannelSubscription="reason_channelsub",e.AdFreeVOD="reason_vod_ads_disabled",e.BountyInProgress="reason_bounty",e.BroadcasterInitiatedVODMidroll="reason_vod_midroll",e.BroadcasterPreroll="reason_stream_broadcaster",e.EmbedPromo="reason_embed_promo",e.MidrollDensity="reason_p4m",e.NotAffiliateOrPartner="reason_lt",e.Raid="reason_raid",e.RateLimitMidroll="reason_midroll_during_preroll",e.RateLimitPreroll="reason_ratelimit",e.ShortVideo="reason_short_vod",e.Turbo="reason_turbo",e.VODCreator="reason_vod_creator",e.WatchParty="reason_wp",e.ZeroAdGroupDevice="reason_zagd",e.ZeroAdGroupUser="reason_zagu",e.MidrollRatelimit="reason_midlimit",e.TP="reason_tp",e.RaidValid="reason_raid_valid",e.ChannelSubErr="reason_channelsub_err"}(i||(i={})),function(e){e.AmazonProductPage="reason_amazon_product_page",e.AnimatedThumbnails="reason_animated_thumbnails",e.Creative="reason_creative_player",e.Dashboard="reason_dashboard",e.Facebook="reason_facebook",e.Frontpage="reason_frontpage",e.Highlighter="reason_highlighter",e.Onboarding="reason_onboarding",e.PictureByPicture="reason_pbyp",e.SquadSecondary="reason_squad_stream_secondary_player",e.ESports="reason_thunderdome",e.Embed="reason_embed",e.ChannelSwitcher="reason_channel_switcher",e.CreatorCollaborationPreview="reason_creator_collaboration_preview"}(a||(a={}))},764120:function(e,n,t){"use strict";var i,a;t.d(n,{K:function(){return i},V:function(){return a}}),function(e){e.DFP="DFP",e.TEVS="TEVS",e.VAES="VAES"}(i||(i={})),function(e){e.Error="AdError",e.Resumed="Resumed",e.Paused="Paused",e.ContentPauseRequested="ContentPauseRequested",e.ContentResumeRequested="ContentResumeRequested",e.Loaded="Loaded",e.Started="Started",e.Progress="AdProgress",e.FirstQuartile="FirstQuartile",e.Midpoint="Midpoint",e.ThirdQuartile="ThirdQuartile",e.Impression="Impression",e.Complete="Complete",e.VolumeChanged="VolumeChanged",e.Click="Click",e.CreativeError="CreativeError",e.CreativeViewed="CreativeViewed",e.Muted="Muted",e.Unmuted="Unmuted",e.PodReplayLoopStarted="PodReplayLoopStarted"}(a||(a={}))},412670:function(e,n,t){"use strict";var i,a,r,o,s;t.d(n,{Fc:function(){return r},Ie:function(){return s},_w:function(){return i},vM:function(){return a},vS:function(){return o}}),function(e){e[e.FollowAndSub=0]="FollowAndSub",e[e.FollowAndSubVerbose=1]="FollowAndSubVerbose",e[e.WatchAndSub=2]="WatchAndSub"}(i||(i={})),function(e){e[e.AboveStreamInfo=0]="AboveStreamInfo",e[e.BelowStreamInfo=1]="BelowStreamInfo"}(a||(a={})),function(e){e.Once="Once",e.Always="Always"}(r||(r={})),function(e){e[e.Navigate=0]="Navigate",e[e.Modal=1]="Modal"}(o||(o={})),function(e){e.Hidden="hidden",e.Showing="showing"}(s||(s={}))},339672:function(e,n,t){"use strict";var i;t.d(n,{G:function(){return i}}),function(e){e[e.Default=0]="Default",e[e.TopRight=1]="TopRight"}(i||(i={}))},793122:function(e,n,t){"use strict";var i,a,r,o;t.d(n,{GS:function(){return l},Gy:function(){return i},Ns:function(){return u},UE:function(){return d},XL:function(){return c},Xh:function(){return a},_n:function(){return s},dD:function(){return m},gu:function(){return o}}),function(e){e.LINKED="linked",e.UNLINKED="unlinked",e.LINK_REQUESTED="link_requested",e.UNLINK_REQUESTED="unlink_requested"}(i||(i={})),function(e){e.VIEWER="viewer",e.BROADCASTER="broadcaster"}(a||(a={})),function(e){e.EXTENSIONS_NOT_LOADED="not loaded",e.EXTENSIONS_LOADED="loaded",e.EXTENSIONS_LOADING="loading",e.EXTENSIONS_RELOADING="reloading"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.INSTALL=1]="INSTALL",e[e.SETTINGS=2]="SETTINGS",e[e.REPORT=3]="REPORT",e[e.MANAGE_ACCESS=4]="MANAGE_ACCESS",e[e.UNRELEASED=5]="UNRELEASED",e[e.INFO=6]="INFO",e[e.FOLLOW=7]="FOLLOW",e[e.PURCHASE=8]="PURCHASE",e[e.LOGIN_REQUIRED=9]="LOGIN_REQUIRED",e[e.CONDITION_CONFIRMATION=10]="CONDITION_CONFIRMATION"}(o||(o={}));var s,l=function(e){return e.type===o.FOLLOW},d=function(e){return e.type===o.PURCHASE},u=function(e){return e.type===o.LOGIN_REQUIRED},c=function(e){return e.type===o.CONDITION_CONFIRMATION};!function(e){e[e.NONE=0]="NONE",e[e.BITS_BALANCE=1]="BITS_BALANCE"}(s||(s={}));var p,m=function(e){return e.type===s.BITS_BALANCE};!function(e){e[e.UniqueExtensionID=0]="UniqueExtensionID"}(p||(p={}))},372512:function(e,n,t){"use strict";var i;t.d(n,{a:function(){return i}}),function(e){e.INITIALIZED="PlayerInitialized",e.QUALITY_CHANGED="PlayerQualityChanged",e.QUALITIES_CHANGED="PlayerQualitiesChanged",e.DURATION_CHANGED="PlayerDurationChanged",e.VOLUME_CHANGED="PlayerVolumeChanged",e.MUTED_CHANGED="PlayerMutedChanged",e.PLAYBACK_RATE_CHANGED="PlayerPlaybackRateChanged",e.REBUFFERING="PlayerRebuffering",e.AUDIO_BLOCKED="PlayerAudioBlocked",e.PLAYBACK_BLOCKED="PlayerPlaybackBlocked",e.ERROR="PlayerError",e.RECOVERABLE_ERROR="PlayerRecoverableError",e.ANALYTICS_EVENT="PlayerAnalyticsEvent",e.TIME_UPDATE="PlayerTimeUpdate",e.BUFFER_UPDATE="PlayerBufferUpdate",e.SEEK_COMPLETED="PlayerSeekCompleted",e.SESSION_DATA="PlayerSessionData",e.WORKER_ERROR="PlayerWorkerError",e.METADATA="PlayerMetadata",e.TEXT_CUE="PlayerTextCue",e.TEXT_METADATA_CUE="PlayerTextMetadataCue",e.SEGMENT_METADATA="PlayerSegmentMetadata"}(i||(i={}))},580251:function(e,n,t){"use strict";var i;t.d(n,{G:function(){return i}}),function(e){e.AVAILABLE="RemotePlayerAvailable",e.UNAVAILABLE="RemotePlayerUnavailable",e.SESSION_STARTED="RemotePlayerSessionStarted",e.SESSION_ENDED="RemotePlayerSessionEnded"}(i||(i={}))},905686:function(e,n,t){"use strict";var i,a;function r(e){return!![i.Aborted,i.Network,i.Decode].includes(e)}t.d(n,{G_:function(){return r},O4:function(){return i}}),function(e){e[e.GeoBlocked=1]="GeoBlocked",e[e.UnsupportedDevice=2]="UnsupportedDevice",e[e.AnonymizerBlocked=3]="AnonymizerBlocked",e[e.CellularNetworkProhibited=4]="CellularNetworkProhibited",e[e.UnauthorizationEntitlements=5]="UnauthorizationEntitlements",e[e.VodRestricted=6]="VodRestricted",e[e.LVSCCUCap=509]="LVSCCUCap",e[e.Aborted=1e3]="Aborted",e[e.DRMLicenseServerError=1001]="DRMLicenseServerError",e[e.Network=2e3]="Network",e[e.CCUCapReached=2001]="CCUCapReached",e[e.Decode=3e3]="Decode",e[e.FormatNotSupported=4e3]="FormatNotSupported",e[e.ContentNotAvailable=5e3]="ContentNotAvailable",e[e.DRMLicenseNotAvailable=5001]="DRMLicenseNotAvailable",e[e.RendererNotAvailable=6e3]="RendererNotAvailable",e[e.SafariUnsupportedDevice=7004]="SafariUnsupportedDevice",e[e.CDMNotAuthorized=7005]="CDMNotAuthorized",e[e.Fatal=8001]="Fatal",e[e.FatalAuth=8003]="FatalAuth",e[e.Offline=8002]="Offline",e[e.WarnAuth=8004]="WarnAuth"}(i||(i={})),function(e){e.PREMIUM_CONTENT_RESTRICTED="PREMIUM_CONTENT",e.VOD_RESTRICTED="vod_manifest_restricted"}(a||(a={}))},999895:function(e,n,t){"use strict";var i;t.d(n,{m:function(){return i}}),function(e){e.Fullscreen="fullscreen",e.Popout="popout",e.Theatre="theatre mode",e.Mini="mini",e.Default="default",e.Unknown="unknown"}(i||(i={}))},455817:function(e,n,t){"use strict";function i(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,firstPageLoaded:!!e.session.firstPageLoaded}}t.d(n,{G:function(){return i}})},780358:function(e,n,t){"use strict";t.d(n,{LG:function(){return o}});var i=t(331635),a=t(478260),r=t(14876);function o(e){return e.videoPlayer.activeVideoPlayerInstanceRefID}a.x2.store.registerReducer("videoPlayer",(function(e,n){return void 0===e&&(e={activeVideoPlayerInstanceRefID:void 0}),n.type===r.Q?(0,i.__assign)((0,i.__assign)({},e),{activeVideoPlayerInstanceRefID:n.playerRefID}):e}))},466257:function(e,n,t){"use strict";t.d(n,{B2:function(){return o},DL:function(){return s},JN:function(){return d},tb:function(){return l}});var i=t(478260),a="lastAdDisplay",r="lastPrerollAdDisplay";function o(){return i.x2.storage.get(a,0)}function s(e){void 0===e&&(e=Date.now()),i.x2.storage.set(a,e)}function l(){return i.x2.storage.get(r,{channelId:null,time:0})}function d(e,n){void 0===n&&(n=Date.now()),i.x2.storage.set(r,{channelId:e,time:n})}},472717:function(e,n,t){"use strict";t.d(n,{$q:function(){return g},A9:function(){return v},Kk:function(){return s},Mr:function(){return f},Ni:function(){return k},U:function(){return c},Yk:function(){return S},b3:function(){return p},cW:function(){return C},cs:function(){return h},dF:function(){return _},kG:function(){return u},zM:function(){return y},zb:function(){return m}});var i=t(331635),a=t(882439),r=t(612567),o=t(347953),s="https://www.twitch.tv",l="https://clips.twitch.tv",d="https://player.twitch.tv";function u(e,n){var t={};if(((0,o.wy)(e)||(0,o.P3)(e))&&(t.video=e.vodID),(0,o.P3)(e)&&(t.collection=e.collectionID),(0,o.DG)(e)&&(t.channel=e.channelLogin),!((t=(0,i.__assign)((0,i.__assign)({},t),n)).channel||t.video||t.collection))return s;var r=a.stringify(t);return"".concat(d,"/").concat(r&&"?".concat(r))}var c=function(e,n){void 0===n&&(n={});var t=n.linkTrackingContext,a=n.trackingContext;return{pathname:"/".concat(e.channelLogin),state:(t||a)&&(0,i.__assign)((0,i.__assign)({},t),a)}},p=function(e,n){void 0===n&&(n={});var t=c(e,n),i=b(t);return"".concat(s).concat(t.pathname).concat(i&&"?".concat(i))},m=function(e,n){void 0===n&&(n={});var t=n.linkTrackingContext,a=n.trackingContext;return{pathname:"/videos/".concat(e.vodID),search:e.videoOffset?"?t=".concat((0,r.W)(e.videoOffset)):void 0,state:(t||a)&&(0,i.__assign)((0,i.__assign)({},t),a)}},v=function(e,n){void 0===n&&(n={});var t=m(e,n),i=b(t);return"".concat(s).concat(t.pathname).concat(i&&"?".concat(i))},f=function(e,n){void 0===n&&(n={});var t=n.linkTrackingContext,o=n.trackingContext,s=e.videoOffset?(0,r.W)(e.videoOffset):void 0;return e.vodID?{pathname:"/videos/".concat(e.vodID),search:a.stringify({t:s,collection:e.collectionID}),state:(t||o)&&(0,i.__assign)((0,i.__assign)({},t),o)}:{pathname:"/collections/".concat(e.collectionID),search:a.stringify({t:s}),state:(t||o)&&(0,i.__assign)((0,i.__assign)({},t),o)}},g=function(e,n){void 0===n&&(n={});var t=f(e,n),i=b(t);return"".concat(s).concat(t.pathname).concat(i&&"?".concat(i))},h=function(e,n){void 0===n&&(n={});var t=n.linkTrackingContext,a=n.trackingContext;return e.channelLogin?{pathname:"/".concat(e.channelLogin,"/clip/").concat(e.clipSlug),search:e.videoOffset?"?t=".concat((0,r.W)(e.videoOffset)):void 0,state:(t||a)&&(0,i.__assign)((0,i.__assign)({},t),a)}:k(e,n)},y=function(e,n){var t,i,o,l,d,u;void 0===n&&(n={});var c={tt_content:null!==(i=null===(t=null==n?void 0:n.linkTrackingContext)||void 0===t?void 0:t.content)&&void 0!==i?i:null===(o=null==n?void 0:n.trackingContext)||void 0===o?void 0:o.content,tt_medium:null!==(d=null===(l=null==n?void 0:n.linkTrackingContext)||void 0===l?void 0:l.medium)&&void 0!==d?d:null===(u=null==n?void 0:n.trackingContext)||void 0===u?void 0:u.medium,t:e.videoOffset?(0,r.W)(e.videoOffset):void 0};return e.channelLogin?function(e,n,t){void 0===t&&(t={});var i=a.stringify(t);return"".concat(s,"/").concat(e,"/clip/").concat(n).concat(i&&"?".concat(i))}(e.channelLogin,e.clipSlug,c):S(e.clipSlug,c)},k=function(e,n){var t,i,a,o,s,l;return void 0===n&&(n={}),S(e.clipSlug,{tt_content:null!==(i=null===(t=null==n?void 0:n.linkTrackingContext)||void 0===t?void 0:t.content)&&void 0!==i?i:null===(a=null==n?void 0:n.trackingContext)||void 0===a?void 0:a.content,tt_medium:null!==(s=null===(o=null==n?void 0:n.linkTrackingContext)||void 0===o?void 0:o.medium)&&void 0!==s?s:null===(l=null==n?void 0:n.trackingContext)||void 0===l?void 0:l.medium,t:e.videoOffset?(0,r.W)(e.videoOffset):void 0})};function S(e,n){void 0===n&&(n={});var t=a.stringify(n);return"".concat(l,"/").concat(e).concat(t&&"?".concat(t))}function _(e,n){void 0===n&&(n={});var t=a.stringify(n);return"".concat(l,"/").concat(e,"/edit").concat(t&&"?".concat(t))}function b(e){var n=a.parse(e.search||""),t=e.state||{},r=t.content,o=void 0===r?void 0:r,s=t.medium,l=void 0===s?void 0:s,d=(0,i.__rest)(t,["content","medium"]);return a.stringify((0,i.__assign)((0,i.__assign)((0,i.__assign)({},d),n),{tt_content:o,tt_medium:l}))}function C(e,n){if("string"==typeof e)n(e);else{var t=e.state;n((0,i.__rest)(e,["state"]),{state:t})}}},433700:function(e,n,t){"use strict";t.d(n,{F:function(){return w}});var i,a=t(331635),r=t(248573),o=t(256760),s=t(699453),l=t(280579),d=t(815750),u=t(397923),c=t(954866),p=t(722795),m=t(542762),v=t(535911),f=t(809322),g=t(637415),h=t(882439),y=t(478260),k=t(681903);!function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(i||(i={}));var S=t(372512);var _,b={};function C(e,n){void 0===n&&(n=!1);var t=new URL(e,document.URL).toString();if(!n)return Promise.resolve(t);var i=b[t];return i||(b[t]=function(e){return(0,a.__awaiter)(this,void 0,void 0,(function(){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,fetch(e,{credentials:"include"})];case 1:return[4,t.sent().blob()];case 2:return n=t.sent(),[2,URL.createObjectURL(n)]}}))}))}(t))}var P,E,N={key:"cvp-log",validValues:["debug","error","info","warn"],defaultValue:"error"};!function(e){e.Base="player-core-base",e.VarA="player-core-variant-a",e.VarB="player-core-variant-b",e.VarM="player-core-variant-m"}(E||(E={}));var x=((_={})[E.Base]={baseJs:s,wasmJs:r,wasm:o,mediaPlayerLoader:function(){return Promise.all([t.e(38673),t.e(32731),t.e(62506)]).then(t.t.bind(t,502019,23))}},_[E.VarA]={baseJs:u,wasmJs:l,wasm:d,mediaPlayerLoader:function(){return Promise.all([t.e(38673),t.e(32731),t.e(95434)]).then(t.t.bind(t,10387,23))}},_[E.VarB]={baseJs:m,wasmJs:c,wasm:p,mediaPlayerLoader:function(){return Promise.all([t.e(38673),t.e(32731),t.e(82625)]).then(t.t.bind(t,256728,23))}},_[E.VarM]={baseJs:g,wasmJs:v,wasm:f,mediaPlayerLoader:function(){return Promise.all([t.e(38673),t.e(32731),t.e(92614)]).then(t.t.bind(t,508743,23))}},_),A=new Map([["debug",i.DEBUG],["error",i.ERROR],["warn",i.WARN],["info",i.INFO]]);function w(e){return(0,a.__awaiter)(this,void 0,Promise,(function(){var n,t,r,o,s,l,d,u,c,p,m,v,f,g,_,b,w;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=performance.now(),t=y.x2.store.getState(),r=!(!t.session.user||!t.session.user.roles)&&t.session.user.roles.isStaff,o=y.x2.experiments.getAndTrackAssignment(r?"TWILIGHT_PLAYER_CORE_NPM_STAFF":"TWILIGHT_PLAYER_CORE_NPM")||"",I=(o||"").match(/([^+]+)(?:\+([^+]+))?/),D=I?"player-core-".concat(I[1]):E.Base,s=D in x?D:E.Base,l={enableRemoteSearch:!0,wasmWorker:"",asmWorker:"",wasmBinary:""},[4,(d=x[s]).mediaPlayerLoader()];case 1:return u=a.sent(),P?[3,5]:u.isWasmSupported?(p=(c=u.createWorker).apply,m=[u],[4,Promise.all([C(d.wasmJs),C(d.wasm)])]):[3,3];case 2:return P=p.apply(c,m.concat([a.sent()])),[3,5];case 3:return f=(v=u.createWorker).apply,g=[u],[4,Promise.all([C(d.baseJs),C(d.wasm)])];case 4:P=f.apply(v,g.concat([a.sent()])),a.label=5;case 5:return(_=new u.MediaPlayer(l,P)).setClientId(y.x2.config.authSettings.clientID),_.setLogLevel(A.get(function(){var e,n=null===(e=h.parse(window.location.search)[N.key])||void 0===e?void 0:e.toString();if(!n||-1===N.validValues.indexOf(n))return N.defaultValue;return n}().toString())||i.ERROR),T(_,k.Rv.ivs_player_mse_in_workers_safari.id),T(_,k.Rv.ivs_player_mse_in_workers_edge.id),T(_,k.Rv.ivs_player_mse_in_workers_opera.id),T(_,k.Rv.ivs_player_probe_endpoint.id),T(_,k.Rv.ivs_player_abr_score.id),T(_,k.Rv.ivs_player_edge_prewarm_v2.id),b=new Set,e.enableSuperResExperiment?r?(T(_,k.Rv.ivs_player_web_gpu_transform_staff.id),b.add(k.Rv.ivs_player_web_gpu_transform.id)):(T(_,k.Rv.ivs_player_web_gpu_transform.id),b.add(k.Rv.ivs_player_web_gpu_transform_staff.id)):(b.add(k.Rv.ivs_player_web_gpu_transform.id),b.add(k.Rv.ivs_player_web_gpu_transform_staff.id)),_.addEventListener(S.a.INITIALIZED,(function(){if("function"==typeof _.getExperiments&&"function"==typeof _.setExperiment){var e=_.getExperiments();for(var n in y.x2.experiments.addToDefaultAssignments(e),e)e.hasOwnProperty(n)&&!b.has(n)&&T(_,n)}})),w=new Promise((function(e){_.addEventListener(S.a.INITIALIZED,(function(){var t=Math.round(performance.now()-n);e(t)}))})),[2,{mediaPlayerInstance:_,playerLoadTimePromise:w,mediaPlayerHandle:u,isWasm:u.isWasmSupported}]}var I,D}))}))}function T(e,n){var t=y.x2.experiments.getExperimentById(n);null!==t&&(e.setExperimentData?e.setExperimentData(t):null!==t.assignment&&e.setExperiment(n,t.assignment))}},441613:function(e,n,t){"use strict";t.d(n,{O:function(){return a}});var i=t(491798);function a(e){return e.type||i.C.Site}},15763:function(e,n,t){"use strict";t.d(n,{Ao:function(){return v},Er:function(){return k},FC:function(){return S},Gi:function(){return N},IW:function(){return A},L:function(){return I},MC:function(){return w},Qf:function(){return F},Ql:function(){return D},S9:function(){return h},Tp:function(){return E},WF:function(){return O},XF:function(){return m},Xz:function(){return g},dD:function(){return T},di:function(){return f},ei:function(){return x},u5:function(){return y},uU:function(){return _},x0:function(){return C}});var i=t(331635),a=t(478260),r=t(605375),o=t(890675),s=t(823583),l=t(607788),d=t(420845),u=t(583167),c=t(476795);function p(e){var n,t=e.playerPublicPropsContext;return n=t.type,l.o.get("video-quality",n)}function m(e,n){!function(e,n){l.o.set("video-quality",n,e.group)}(e,n),e.bitrate>0&&a.IG.set(d.U.BITRATE,e.bitrate)}function v(){return a.IG.getOptional(d.U.BITRATE)}function f(){a.IG.set(s.A8,Date.now())}function g(e){return void 0===e&&(e=0),a.IG.get(s.A8,e)}function h(e,n){if(void 0===n&&(n=!1),0===e.length)return[];if(n){var t=e[0],i=t.frameRate,a=t.sourceURL;return[{bitrate:0,codecs:"",framerate:i||0,group:s.w_,height:0,isDefault:!1,name:y(t),source:a,width:0}]}return e.map((function(e){return{bitrate:0,codecs:"",framerate:e.frameRate||0,group:(n=e,"".concat(y(n)).concat(n.frameRate)),height:0,isDefault:!1,name:y(e),source:e.sourceURL,width:0};var n}))}function y(e){return"p"===e.quality.trim().slice(-1)?e.quality:"".concat(e.quality,"p")}function k(e){var n=e.getQualities();return(0,r.vO)()?n:(0,i.__spreadArray)([s.IJ],n,!0)}function S(e){return(e.getUnavailableQualities()||[]).map((function(e){return(0,i.__assign)((0,i.__assign)({},e),{authReasons:e.authReasons.filter((function(e){return c.iq.includes(e)})),filterReasons:e.filterReasons.filter((function(e){return c.iq.includes(e)}))})})).filter((function(e){return e.authReasons.length>0||e.filterReasons.length>0}))}function _(e){return function(e,n){return b(function(e){return e.availableQualities}(n),e)}(e.quality,e)||s.IJ}function b(e,n){return e.find((function(e){return e.group===n}))}function C(e){return(0,u.wk)(e).forceQuality||(0,u.wk)(e).initialQuality||p(e)||o.Sw.quality}function P(e,n){return{quality:e,strategy:n}}function E(e,n,t,i){var a=b(e,n);if(a)return P(a,"matching");if(i){var r=parseInt(n,10),o=e.slice().reverse().find((function(e){return parseInt(e.group,10)>r}));return o?P(o,"closest"):P(e[0],"highest")}var s=e.concat().sort((function(e,n){return n.bitrate-e.bitrate})),l=s.find((function(e){return e.bitrate<t}));return l?P(l,"closest"):P(s[s.length-1],"lowest")}function N(e){return void 0!==e.source}function x(e){var n=e.width*e.height;return n>=4096e3?"4k":n>=2304e3?"2k":n>=1024e3?"fullHD":n>=921600?"HD":"SD"}function A(e,n){return"2k"!==n&&"4k"!==n||(e.startsWith("hev1")||e.startsWith("hvc1"))}function w(e){return e.hasOwnProperty("filterReasons")}var T=["2k","4k"];function I(e){return e.group===s.w_}function D(e){var n,t=e.availableQualities,a=e.unavailableQualities,r=(null===(n=t[0])||void 0===n?void 0:n.group)===s.s9;return(0,i.__spreadArray)((0,i.__spreadArray)((0,i.__spreadArray)([r?t[0]:null],a,!0),[r?null:t[0]],!1),t.slice(1),!0).filter((function(e){return null!==e}))}function F(e,n){n.load(e.source),n.play()}function O(e,n,t){e.group===s.s9?n.setAutoQualityMode(!0):(n.getQuality().group!==e.group&&t(!0),n.setQuality(e))}},476795:function(e,n,t){"use strict";t.d(n,{DZ:function(){return r},iq:function(){return l},oq:function(){return o},vb:function(){return s}});var i=t(478260),a=function(){return(0,i.hw)("Learn more","SettingsMenuSubmenuQuality")},r={deviceNotSupported:function(){return{id:"NOT_SUPPORTED",title:(0,i.hw)("Device not supported","SettingsMenuSubmenuQuality"),message:(0,i.hw)("The device you are using is not compatible with some stream qualities.","SettingsMenuSubmenuQuality"),linkText:a(),linkTo:"https://link.twitch.tv/resolution#how-to-watch"}},deviceOrSettingsIssue:function(){return{id:"DEVICE_OR_SETTINGS_ISSUE",title:(0,i.hw)("Device or settings issue","SettingsMenuSubmenuQuality"),message:(0,i.hw)("Your browser settings, software, or device do not support some stream qualities","SettingsMenuSubmenuQuality"),linkText:(0,i.hw)("Troubleshooting","SettingsMenuSubmenuQuality"),linkTo:"https://link.twitch.tv/resolution#troubleshooting"}},locationRestriction:function(){return{id:"LOCATION_RESTRICTION",title:(0,i.hw)("Location restriction","SettingsMenuSubmenuQuality"),message:(0,i.hw)("The disabled quality settings are not currently supported in your location.","SettingsMenuSubmenuQuality"),linkText:a(),linkTo:"https://link.twitch.tv/resolution#how-to-watch"}},loggedOut:function(){return{id:"LOGGED_OUT",title:(0,i.hw)("You're logged out!","SettingsMenuSubmenuQuality"),message:(0,i.hw)("Sign up or log in to view higher resolutions.","SettingsMenuSubmenuQuality")}},generic:function(){return{id:"GENERIC",title:(0,i.hw)("Heads up!","SettingsMenuSubmenuQuality"),message:(0,i.hw)("Some stream qualities may not be available to you.","SettingsMenuSubmenuQuality"),linkText:a(),linkTo:"https://link.twitch.tv/resolution"}}},o={FR_RESOLUTION_DISALLOWED:r.generic,FR_BITRATE_DISALLOWED:r.generic,FR_FRAMERATE_DISALLOWED:r.generic,FR_SOURCE_DISALLOWED:r.generic,FR_OTHER_DISALLOWED:r.generic,FR_CODEC_NOT_REQUESTED:r.deviceOrSettingsIssue,FR_CODEC_DEVICE_INCOMPATIBLE:r.deviceOrSettingsIssue,FR_CODEC_DEVICE_BLOCKLISTED:r.deviceNotSupported,FR_EXPERIMENT_FILTERING:r.generic,AUTHZ_GEO:r.locationRestriction,AUTHZ_NOT_LOGGED_IN:r.loggedOut,AUTHZ_NOT_SUBSCRIBED:r.generic,AUTHZ_NOT_TURBO:r.generic,AUTHZ_DISALLOWED_BITRATE:r.generic},s=[r.locationRestriction,r.deviceNotSupported,r.loggedOut,r.deviceOrSettingsIssue,r.generic],l=["FR_CODEC_NOT_REQUESTED","FR_CODEC_DEVICE_INCOMPATIBLE","FR_CODEC_DEVICE_BLOCKLISTED","AUTHZ_GEO","AUTHZ_NOT_LOGGED_IN"]},938185:function(e,n,t){"use strict";function i(e){return e?{height:e.clientHeight,width:e.clientWidth}:{}}function a(e){if(e){var n=e.getBoundingClientRect(),t=n.top;return{x:n.left,y:t,width:n.width,height:n.height}}return{}}t.d(n,{G:function(){return a},P:function(){return i}})},220383:function(e,n,t){"use strict";t.d(n,{y:function(){return r}});var i=t(999895),a=t(491798);function r(e){return e.isFullscreen?i.m.Fullscreen:e.playerType&&e.playerType===a.C.Popout?i.m.Popout:e.theatreModeEnabled?i.m.Theatre:e.mini?i.m.Mini:e.playerType&&e.playerType===a.C.Site?i.m.Default:i.m.Unknown}},871806:function(e,n,t){"use strict";t.d(n,{M:function(){return d},X:function(){return l}});var i=t(331635),a=t(478260),r=t(936746),o=t(1248),s=t.n(o),l=function(e,n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return[2,u({live:!0,login:e,playerType:n})]}))}))},d=function(e,n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return[2,u({live:!1,vodID:e,playerType:n})]}))}))};function u(e){return(0,i.__awaiter)(this,void 0,Promise,(function(){var n,t,o,l,d,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a.x2.apollo.client.query({query:s(),fetchPolicy:"no-cache",variables:{isLive:e.live,login:e.live&&e.login||"",isVod:!e.live,vodID:!e.live&&e.vodID||"",playerType:e.playerType,platform:(0,r.R)()}})];case 1:return n=i.sent(),t=null===(d=null==n?void 0:n.data)||void 0===d?void 0:d.streamPlaybackAccessToken,o=null===(u=null==n?void 0:n.data)||void 0===u?void 0:u.videoPlaybackAccessToken,e.live&&t?[2,{token:t.value,sig:t.signature,authorization:t.authorization,mobile_restricted:!1}]:!e.live&&o?[2,{token:o.value,sig:o.signature,mobile_restricted:!1}]:[3,3];case 2:return l=i.sent(),a.x2.logger.warn("Received an error while fetching PlaybackAccessToken from GQL",l),[3,3];case 3:return[2]}}))}))}},226620:function(e,n,t){"use strict";t.d(n,{Mx:function(){return s},X5:function(){return o},e3:function(){return v},ic:function(){return d},jN:function(){return l}});var i=t(478260),a=t(491798),r={};var o=u(p),s=u(m),l=c(p),d=c(m);function u(e){return function(n,t){var o=e(n,t),s=r[o],l=t===a.C.Site||t===a.C.SiteMini;if(o.startsWith("live")&&l){var d=i.x2.vat.getCachedToken({type:"live",channel:n});if(d)return d}if(s)try{var u=JSON.parse(s.token);return Date.now()>=1e3*u.expires?void delete r[o]:s}catch(e){return void delete r[o]}}}function c(e){return function(n,t,i){r[e(n,t)]=i}}function p(e,n){return"live-".concat(n,"-").concat(e)}function m(e,n){return"vod-".concat(n,"-").concat(e)}function v(){var e;r=e||{}}},234598:function(e,n,t){"use strict";t.d(n,{l:function(){return c},P:function(){return f}});var i=t(331635),a=t(267924),r=t(936746),o=t(871806),s=t(226620),l=u("live"),d=u("vod");function u(e){var n=this;return function(t,a,r){return(0,i.__awaiter)(n,void 0,Promise,(function(){var n,o,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return window.__vat&&window.__vat.contentType===e&&window.__vat.playerType===a&&window.__vat.id===t&&window.__vat.platform===r?[4,window.__vat.request]:[3,5];case 1:if(!(n=i.sent()).ok||n.bodyUsed)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,n.json()];case 3:return o=i.sent(),[2,{mobile_restricted:!1,sig:(s="live"===e?o.data.streamPlaybackAccessToken:o.data.videoPlaybackAccessToken).signature,token:s.value,authorization:s.authorization}];case 4:return i.sent(),[2];case 5:return[2]}}))}))}}function c(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){return e.channelLogin?[2,p(e.channelLogin,e.playerType,e.refreshAccessToken)]:e.vodID?[2,m(e.vodID,e.playerType,e.refreshAccessToken)]:[2]}))}))}var p=v({get:s.X5,set:s.jN},l,o.X),m=v({get:s.Mx,set:s.ic},d,o.M);function v(e,n,t){var a=this;return function(o,s,l){return(0,i.__awaiter)(a,void 0,void 0,(function(){var a,d,u,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(a=e.get(o,s))&&!l?[2,a]:(d=(0,r.R)(),[4,n(o,s,d)]);case 1:return(u=i.sent())&&!l?(e.set(o,s,u),[2,u]):[4,t(o,s,d)];case 2:return(c=i.sent())?(e.set(o,s,c),[2,c]):[2]}}))}))}}var f=function(e){var n;if(null===(n=e.authorization)||void 0===n?void 0:n.isForbidden){var t=e.authorization.forbiddenReasonCode;return t===a.Xaf.UNAUTHORIZED||t===a.Xaf.CHANNEL_RESTRICTED_BANNED_USER}return!1}},977973:function(e,n,t){"use strict";t.r(n),t.d(n,{VideoPlayerDesktopWeb:function(){return g}});var i=t(331635),a=t(474848),r=t(959340),o=t(296540),s=t(868238),l=t(478260),d=t(805450),u=t(105146),c=t(209170),p=t(317981),m=t(662354),v=t(512113),f=t(221191),g=(0,s.Zz)((0,d.X)({name:"VideoPlayerDesktopWeb",content:(0,a.jsx)(p.x,{})}))((function(e){var n=e.children,t=(0,i.__rest)(e,["children"]),s=(0,o.useState)(),d=s[0],p=s[1],g=(0,o.useState)(),h=g[0],y=g[1],k=(0,o.useRef)((0,u.yr)(16)),S=(0,o.useRef)(l.x2.logger.withCategory("video-player-desktop-web").withCategory(k.current));return(0,a.jsx)(c.W,(0,i.__assign)({},t,{videoContainerRef:d,videoRef:h,children:(0,a.jsxs)(f.P,(0,i.__assign)({logger:S.current,onContainerRefDelegate:p,onVideoRefDelegate:y},t,{children:[(0,a.jsx)(m.Sf,{children:(0,a.jsx)(r.P,{className:"video-player__overlay",position:"absolute",attachBottom:!0,attachLeft:!0,attachRight:!0,attachTop:!0,children:(0,a.jsx)(v.Qk,{logger:S.current})})}),(0,a.jsx)("div",{style:{display:"none"},children:n})]}))}))}))},317981:function(e,n,t){"use strict";t.d(n,{x:function(){return s}});var i=t(474848),a=t(478260),r=t(894814),o=t(744893),s=function(){return(0,i.jsx)(r.rj,{iconProps:{type:o.W.Empty},text:(0,a.hw)("An error occurred. Please try again.","CoreVideoPlayerErrorBoundary")})}},358073:function(e,n,t){"use strict";t.d(n,{Nb:function(){return u}});var i=t(331635),a=t(296540),r=t(868238),o=t(719774),s=t(890675),l=t(372512),d=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleSeekCompleted=function(){var e=n.props.mediaPlayerInstance;if(e){var t=e.getPosition();n.props.onSeekComplete(t)}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(l.a.SEEK_COMPLETED,this.handleSeekCompleted)},n.prototype.render=function(){return null},n}(a.Component),u=(0,r.Zz)((0,s.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,o.X)())(d)},662354:function(e,n,t){"use strict";t.d(n,{Sf:function(){return m}});var i=t(474848),a=t(959340),r=t(246942),o=t.n(r),s=(t(296540),t(868238)),l=t(886384),d=t(933781),u=t(359630),c=t(412670),p=t(583167),m=(0,s.Zz)((0,l.In)((function(e){return{active:e.active}})),(0,d.cj)((function(e){return{forceControlVisibilityShowing:(0,p.wk)({playerPublicPropsContext:e}).forceControlVisibility===c.Ie.Showing}})),(0,u.AP)((function(e){return{isPlaying:e.isPlaying}})))((function(e){var n=e.active,t=e.children,r=e.forceControlVisibilityShowing,s=e.isPlaying;return(0,i.jsx)(a.P,{className:o()("video-player__default-player",{"video-player__inactive":!n&&s&&!r}),children:t})}))},512113:function(e,n,t){"use strict";t.d(n,{Qk:function(){return tu}});var i=t(331635),a=t(474848),r=t(296540),o=t(868238),s=t(805450),l=t(407827),d=t(65684),u=t(194569),c=t(226483),p=t(447944),m=t(945137),v=t(959340),f=t(914421),g=t(337930),h=t(485272),y=t(787004),k=t(415044),S=l.x.wrap((function(){return t.e(23721).then(t.bind(t,374945))}),"AudioAdOverlayContainer",{failSilently:!0,placeholder:null});var _=(0,o.Zz)((0,s.X)({name:"AudioAdOverlay"}),(0,k.Ng)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}})))((function(e){return e.firstPageLoaded?(0,a.jsx)(S,{}):null}));_.displayName="AudioAdOverlay";var b=t(97774),C=t(392395),P=t(478260),E=function(){return(0,a.jsxs)(v.P,{position:f.yX.Absolute,attachRight:!0,padding:1,background:f.VS.Overlay,display:f.nl.Flex,alignItems:f.k2.Center,className:"picture-by-picture-overlay",borderRadius:b.Z.Medium,children:[(0,a.jsx)(C.h,{size:25}),(0,a.jsx)(v.P,{margin:{left:.5},children:(0,P.hw)("To view the stream while an ad is playing, open Chat","PictureByPictureOverlay")})]})},N=t(216042),x=t(882439),A=t(26605),w=t(954351),T=t(933781),I=t(420613),D=t(583167),F=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(){if(n.props.stitchedAdUrl&&0!==n.props.stitchedAdClickTrackUrls.length||n.props.adFormat===A.bi.StandardAudioAd){var e={beacon_id:n.props.clickBeaconId,click_tracking_urls:n.props.stitchedAdClickTrackUrls.join("|"),ad_format:n.props.adFormat,stitched:!0,is_url_present:!!n.props.stitchedAdUrl};if(n.props.adFormat===A.bi.StandardVideoAd&&n.props.track("video_ad_click",e),n.props.emitClickEvent(),n.props.stitchedAdUrl){var t=n.props.isEmbedded?"tt_medium=".concat("embed","&tt_content=").concat("embed_stitched_ad_interstitial"):"",i=n.props.stitchedAdUrl;if(""!==t)i=x.extract(n.props.stitchedAdUrl)?i.concat("&".concat(t)):i.concat("?".concat(t));window.open(i,"_blank","noopener")}}},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.props.stitchedAdUrl||this.props.adFormat===A.bi.StandardAudioAd?(0,a.jsx)(N.S,{attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,position:f.yX.Absolute,children:(0,a.jsx)("div",{role:"presentation",onClick:this.onClick})}):null},n}(r.Component);var O=(0,o.Zz)((0,w.VX)((function(e){var n=e.emitClickEvent,t=e.videoAdMetadata;return{stitchedAdClickTrackUrls:t&&t.stitched&&t.stitchedAdClickTrackUrls||[],stitchedAdUrl:t&&t.stitched&&t.adUrl||null,emitClickEvent:n,clickBeaconId:t&&t.stitched&&t.clickBeaconId||null,adFormat:t&&t.stitched&&t.adFormat||null}})),(0,T.cj)((function(e){var n=(0,D.wk)({playerPublicPropsContext:e});return{isEmbedded:!!(null==n?void 0:n.embed)}})),(0,I.o1)())(F);O.displayName="StitchedAdClickHandler";var R=t(290942),V=t(652867),M=t(890675),L=t(372512),j=t(378328),B=function(){var e=r.useContext(w.jK).videoAdMetadata,n=r.useContext(M.$g),t=n.muted,a=n.mediaPlayerInstance,o=n.playerState,s=(0,j.lq)(e)?e:void 0,l=r.useMemo((function(){return a&&s?{startPosition:a.getPosition()||0}:null}),[s,a]),d=r.useCallback((function(){var n=(0,j.lq)(e)?e.stitchedAdMuteTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){try{fetch(e,{method:"GET",mode:"no-cors"})}catch(e){P.vF.warn("Failed to issue GET request",e)}}))}),[e]),u=r.useCallback((function(){var n=(0,j.lq)(e)?e.stitchedAdUnMuteTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){try{fetch(e,{method:"GET",mode:"no-cors"})}catch(e){P.vF.warn("Failed to issue GET request",e)}}))}),[e]),c=r.useCallback((function(){var n=(0,j.lq)(e)?e.stitchedAdCompanionCreativeViewTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch(e,{method:"GET",mode:"no-cors"})];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),P.vF.warn("Failed to issue GET request",n),[3,3];case 3:return[2]}}))}))}))}),[e]),p=r.useCallback((function(){var n=(0,j.lq)(e)?e.stitchedAdPauseTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch(e,{method:"GET",mode:"no-cors"})];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),P.vF.warn("Failed to issue GET request",n),[3,3];case 3:return[2]}}))}))}))}),[e]),m=r.useCallback((function(){var n=(0,j.lq)(e)?e.stitchedAdResumeTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch(e,{method:"GET",mode:"no-cors"})];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),P.vF.warn("Failed to issue GET request",n),[3,3];case 3:return[2]}}))}))}))}),[e]),v=r.useCallback((function(){if(s){var e=s.stitchedAdCreativeViewTrackUrls;e&&0!==e.length&&e.forEach((function(e){try{fetch(e,{method:"GET",mode:"no-cors"})}catch(e){P.vF.warn("Failed to issue GET request",e)}}))}}),[s]),f=(0,r.useRef)(!1),g=(0,R.Z)(null==s?void 0:s.adPosition);r.useEffect((function(){g!==(null==s?void 0:s.adPosition)&&f.current&&(f.current=!1)}),[g,null==s?void 0:s.adPosition]);var h=r.useCallback((function(){if(a&&l){var e=l.startPosition;a.getPosition()-e>=2&&!f.current&&(v(),f.current=!0)}}),[v,a,l]),y=(0,r.useRef)(!0);(0,V.p)(L.a.TIME_UPDATE,h),(0,r.useEffect)((function(){y.current?y.current=!1:t?d():u()}),[d,t,u]);var k=(0,r.useRef)(!0),S=r.useCallback((function(){k.current&&"visible"===document.visibilityState&&"Playing"===o&&(c(),k.current=!1)}),[c,o]);r.useEffect((function(){return document.addEventListener("visibilitychange",S),window.addEventListener("focus",S),S(),function(){document.removeEventListener("visibilitychange",S),window.removeEventListener("focus",S)}}),[S]);var _=(0,r.useRef)(!0);return(0,r.useEffect)((function(){"Buffering"!==o&&(_.current?_.current=!1:"Idle"===o?p():"Playing"===o&&m())}),[p,o,m]),null},U=t(312663),q=t(588702),G=t(928778),z=t(369382),H=t(347953),W=t(497579),K=t.n(W),Z=t(798999),Q=t(358350);function Y(e){switch(e.roll){case Q.df.Pre:return function(e){var n=e.supportsChannel,t=e.channel,i=e.isLive;if(n)return i?ee(t):(0,P.hw)("Start watching {channel} right after this ad break; stick around to support the channel!",{channel:t},"VideoAdBanner");return $()}(e);case Q.df.Mid:return function(e){var n=e.supportsChannel,t=e.channel,i=e.isLive,a=e.isVLM;if(i)return a?ee(t):n?(0,P.hw)("{channel} is taking an ad break; stick around to support the stream!",{channel:t},"VideoAdBanner"):(0,P.hw)("{channel} will be back shortly. This Ad supports Twitch.",{channel:t},"VideoAdBanner");return n?(0,P.hw)("Continue watching {channel} right after this ad break; stick around to support the channel!",{channel:t},"VideoAdBanner"):(0,P.hw)("This video will be back shortly. This Ad supports Twitch.","VideoAdBanner")}(e);case Q.df.Post:return function(e){var n=e.supportsChannel,t=e.channel,i=e.isLive;if(i)return n?(0,P.hw)("Thank you for watching {channel}; finish watching the ad to support the stream!",{channel:t},"VideoAdBanner"):(0,P.hw)("Thanks for watching the stream! This Ad supports Twitch.","VideoAdBanner");return n?(0,P.hw)("Thank you for watching {channel}; finish watching the ad to support the channel!",{channel:t},"VideoAdBanner"):$()}(e);default:return e.supportsChannel?J(e.channel):$()}}var X,$=function(){return(0,P.hw)("This Ad supports Twitch","VideoAdBanner")},J=function(e){return(0,P.hw)("This Ad supports {channel}",{channel:e},"VideoAdBanner")};function ee(e){return(0,P.hw)("Catch {channel} right after this ad break; stick around to support the stream!",{channel:e},"VideoAdBanner")}!function(e){e.DefaultText="ad-banner-default-text"}(X||(X={}));var ne=(0,o.Zz)((0,T.cj)((function(e){return{content:e.content,isMini:!!(0,D.wk)({playerPublicPropsContext:e}).mini}})),(0,w.VX)((function(e){return{metadata:e.videoAdMetadata,isVideoAdShowing:(0,j.cz)(e.videoAdMetadata),updateAdElement:e.updateAdElement,stitchedAdMetadata:(0,j.lq)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,clientSideAdMetadata:(0,j.EF)(e.videoAdMetadata)&&e.videoAdMetadata||void 0}})),(0,G._v)(K(),{options:function(e){return{variables:{input:{login:((0,H.DG)(e.content)||(0,H.lp)(e.content))&&e.content.channelLogin||"",ownsCollectionID:(0,H.P3)(e.content)&&e.content.collectionID||"",ownsVideoID:(0,H.wy)(e.content)&&e.content.vodID||""}}}}}))((function(e){var n,t=function(e){var n=function(e){var n=e.data.userByAttribute;if(n&&n.roles&&n.login)return{login:n.login,displayName:n.displayName,isPartner:n.roles.isPartner,isAffiliate:n.roles.isAffiliate,profileImageURL:n.profileImageURL}}(e);return e.isVideoAdShowing&&e.metadata&&n&&!P.Zn.get("player_ad_banner_unsupported_channels",[]).includes(n.login)?{supportsChannel:!!n.isPartner||!!n.isAffiliate,channel:(0,Z.d)(n.login,n.displayName,!0),roll:e.metadata.roll,isLive:(0,H.DG)(e.content),profileImageURL:n.profileImageURL||"",isVLM:!!e.metadata.isVLM}:null}(e),i=(0,z.S)(),r=(0,g.fX)(h.Wj),o=!0===(null===(n=e.stitchedAdMetadata)||void 0===n?void 0:n.hideAdOverlay),s=r&&(0,j.g)(e.clientSideAdMetadata),l=!o&&!s;return!t||e.isMini?null:(0,a.jsxs)(v.P,{position:f.yX.Absolute,attachTop:!0,attachLeft:!0,padding:1,margin:{right:"10rem"},background:f.VS.Overlay,display:f.nl.InlineBlock,children:[(0,a.jsxs)(U.N,{"data-a-target":"video-ad-label","data-test-selector":X.DefaultText,color:f.Q1.Overlay,type:q.M2.Span,children:[Y(t),l&&" "]}),l&&(0,a.jsx)(U.N,{color:f.Q1.Overlay,type:q.M2.Span,"data-a-target":"video-ad-countdown",children:i})]})}));ne.displayName="VideoAdBanner";var te=t(947945),ie=t(883079);var ae=(0,o.Zz)((0,s.X)({name:"VideoAdOverlay"}),(0,y.dC)((function(e){return{isShowingPictureByPicture:e.isShowing}})),(0,T.cj)((function(e){return{behaviors:e.behaviors}})),(0,w.VX)((function(e){return{updateAdElement:e.updateAdElement,stitchedAdMetadata:(0,j.lq)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,clientSideAdMetadata:(0,j.EF)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,isInstreamVideoAd:(0,j.cz)(e.videoAdMetadata)}})),(0,te.c0)((function(e){return{isFullscreen:e.isFullscreen}})))((function(e){var n=e.updateAdElement,t=e.isFullscreen,r=e.isShowingPictureByPicture,o=e.stitchedAdMetadata,s=e.clientSideAdMetadata,l=e.isInstreamVideoAd,d=e.behaviors,u=!l||!0===(null==o?void 0:o.hideAdOverlay),c=(0,g.fX)(h.Wj),p=c&&(0,j.g)(s),m=!u&&!p,y=!!(null==d?void 0:d.mini),k=!u&&!p&&y,S=t&&r&&!u,b=(null==o?void 0:o.adFormat)===A.bi.StandardAudioAd;return(0,a.jsxs)(v.P,{position:f.yX.Absolute,attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,children:[(0,a.jsx)(v.P,{position:f.yX.Absolute,attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,ref:n,"data-a-target":"ax-overlay"}),m&&(0,a.jsx)(ne,{}),(null==o?void 0:o.stitched)&&b&&(0,a.jsx)(B,{}),(0,a.jsx)(O,{}),k&&(0,a.jsx)(z.AF,{}),S&&(0,a.jsx)(E,{}),c&&(0,a.jsx)(_,{}),l&&!p&&!y&&(0,a.jsx)(ie.Cq,(0,i.__assign)({},{format:"video"}))]})}));ae.displayName="VideoAdOverlay";var re=t(953970),oe=t(309221),se=t(641535),le=t(886384),de=t(359630),ue=t(759369),ce=t(145748),pe=t(456450),me=t(267924),ve=t(131883),fe=t(932376),ge=t(234598),he=t(894814),ye=t(744893),ke=function(e){var n,t,o=r.useContext(T.kl),s=null===(n=(0,k.d4)(ve.wz))||void 0===n?void 0:n.id,l=(0,H.hd)(o.content),d=(0,fe.C)(null!=l?l:"").id,u=r.useContext(M.$g),c=u.addRestriction,p=u.liftRestriction,m=u.videoAccessToken,v=u.updateContext,f=(0,ce.D)((0,pe.v7)(null!=s?s:""),{skip:!s,skipMessage:function(e){return!(function(e){return"refetch_video_token"===e.type}(e)&&e.data.channel_id===d)}})[0];return r.useEffect((function(){f&&(0,i.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return l?[4,(0,ge.l)({channelLogin:l,playerType:o.type,refreshAccessToken:!0})]:[3,2];case 1:(e=n.sent())&&v({videoAccessToken:e,manualResetRequested:!0}),n.label=2;case 2:return[2]}}))}))}),[c,l,o.type,p,f,v]),l&&e.show?(null===(t=null==m?void 0:m.authorization)||void 0===t?void 0:t.forbiddenReasonCode)===me.Xaf.CHANNEL_RESTRICTED_BANNED_USER?(0,a.jsx)(he.rj,{iconProps:{type:ye.W.Icon,icon:ue.t.Lock},text:[(0,P.hw)("You are banned.","AccountRestrictedOverlay"),(0,P.hw)("You are unable to watch this channel's stream until a moderator unbans you. You may be able to request an unban in the chat column.","AccountRestrictedOverlay")]}):(0,a.jsx)(he.rj,{iconProps:{type:ye.W.Icon,icon:ue.t.Lock},text:(0,P.hw)("You are not allowed to view this stream.","AccountRestrictedOverlay")}):null},Se=t(882197),_e=t(79004),be=t(953838),Ce=t(574570),Pe=t(8194),Ee=t(898791),Ne=t(608189),xe=t(124751),Ae=t(548271),we=t(959385),Te=r.memo((function(e){var n=e.stats,t=e.onClose;return(0,a.jsx)(Se.e,{theme:"dark",children:(0,a.jsx)(N.S,{position:f.yX.Absolute,attachTop:!0,margin:1,children:(0,a.jsx)(we.Vq,{suppressScrollX:!0,children:(0,a.jsxs)(v.P,{background:f.VS.Base,color:f.Q1.Base,children:[(0,a.jsx)(v.P,{display:f.nl.Flex,justifyContent:f.A9.End,children:(0,a.jsx)(_e.a2,{"aria-label":(0,P.hw)("Close ad stats","AdstatsOverlay"),onClick:t,icon:be.g})}),(0,a.jsxs)(Ce.X,{children:[(0,a.jsx)(Pe.A,{children:(0,a.jsxs)(Ee.H,{children:[(0,a.jsx)(Ne.x,{padding:.5,label:(0,P.hw)("Name","AdStatsOverlay")}),(0,a.jsx)(Ne.x,{padding:.5,label:(0,P.hw)("Value","AdStatsOverlay")})]})}),(0,a.jsxs)(xe.B,{children:[Ie((0,P.hw)("ID","AdStatsOverlay"),n&&n.id),Ie((0,P.hw)("Impression Time","AdStatsOverlay"),n&&n.impressionTime),Ie((0,P.hw)("Ad Position","AdStatsOverlay"),n&&n.adPosition),Ie((0,P.hw)("Total Ads","AdStatsOverlay"),n&&n.totalAds),Ie((0,P.hw)("Creative ID","AdStatsOverlay"),n&&n.creativeId),Ie((0,P.hw)("Ad Wrapper IDs","AdStatsOverlay"),n&&JSON.stringify(n.adWrapperIds)),Ie((0,P.hw)("System","AdStatsOverlay"),n&&n.system),Ie((0,P.hw)("Title","AdStatsOverlay"),n&&n.title),Ie((0,P.hw)("Content Type","AdStatsOverlay"),n&&n.contentType),Ie((0,P.hw)("VAST Media Height","AdStatsOverlay"),n&&n.vastMediaHeight),Ie((0,P.hw)("VAST Media Width","AdStatsOverlay"),n&&n.vastMediaWidth),Ie((0,P.hw)("VAST Media Bitrate","AdStatsOverlay"),n&&n.vastMediaBitrate)]})]})]})})})})}));function Ie(e,n){var t=void 0===n||""===n?"--":n,i="".concat(e,":");return(0,a.jsxs)(Ee.H,{children:[(0,a.jsx)(Ae.n,{padding:.5,children:i}),(0,a.jsx)(Ae.n,{padding:.5,children:t})]},e)}var De=(0,o.Zz)((0,s.X)({name:"AdStatsOverlay",content:(0,a.jsx)((function(){return(0,a.jsx)(v.P,{position:f.yX.Absolute,attachTop:!0,margin:1,className:"ad-stats-overlay__error-container",children:(0,a.jsx)(U.N,{color:f.Q1.Overlay,children:(0,P.hw)("The ad stats overlay has crashed. Please disable it in the player settings menu.","AdStatsOverlay")})})}),{})}))((function(){var e=r.useContext(te._t).setStatsOverlay,n=r.useContext(w.jK).adPodStats,t=r.useCallback((function(){return e(te.Uz.None)}),[e]);return(0,a.jsx)(Te,{stats:n.length?n[n.length-1]:void 0,onClose:t})})),Fe=t(650510),Oe="age_restricted_channels";function Re(e){var n=e.split(":"),t=n[0],i=n[1];return[t,parseInt(i,10)||0]}function Ve(){return P.Zn.get(Oe,[])}var Me=t(763696),Le=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.updateRestriction=function(){var e=n.props,t=e.addRestriction,i=e.liftRestriction,a=e.skip,r=e.restriction,o=e.restrictions,s=!a&&!o[r],l=a&&!!o[r];s?t(r):l&&i(r)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.updateRestriction()},n.prototype.componentDidUpdate=function(){this.updateRestriction()},n.prototype.componentWillUnmount=function(){var e=this.props;(0,e.liftRestriction)(e.restriction)},n.prototype.render=function(){return this.props.children||null},n}(r.Component),je=(0,M.dd)((function(e){var n=e.addRestriction,t=e.liftRestriction,i=e.restrictions;return{addRestriction:n,liftRestriction:t,restrictions:i}}))(Le);var Be=function(e){var n=e.restriction;return(0,a.jsx)(Me.FT,{className:"content-overlay-gate",type:Me.NL.Fullscreen,transparency:Me.xL.Transparency0,children:(0,a.jsx)(je,{restriction:n})})};function Ue(e,n){return(0,s.X)({name:e,content:(0,a.jsx)(Be,{restriction:n})})}var qe=t(292644),Ge=t(920962),ze=t(160526),He=t(564368),We=t(917705);function Ke(e){var n=e.previousDay,t=e.newMonth,i=e.newYear;return n>(0,We.getDaysInMonth)(new Date(i,t))?1:n}function Ze(){return(0,We.getYear)(new Date)-14}function Qe(e){return void 0===e?0:nn()[e]||0}function Ye(e){var n,t,a=nn(),r=a[e],o=void 0===r?1:r+1;return t=(0,i.__assign)((0,i.__assign)({},a),((n={})[e]=o,n)),P.VS.set(en,t),o}function Xe(e,n){var t;void 0===n&&(n=!0);var a,r=an();a=(0,i.__assign)((0,i.__assign)({},r),((t={})[e]=n,t)),P.IG.set(tn,a)}function $e(e){return void 0!==e&&!!an()[e]}function Je(e){var n=(0,We.setHours)(e,0);return n=(0,We.setMinutes)(n,0),n=(0,We.setSeconds)(n,0)}var en="age_gates_failed";function nn(){return P.VS.get(en,{})}var tn="age_gate";function an(){return P.IG.get(tn,{})}var rn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={month:0,day:1,year:Ze()},n.renderGateContent=function(e,t){if(e.failureCount>1)return null;var i=t?qe.Y.Small:qe.Y.Default;return(0,a.jsx)(Ge.h,{overlay:!0,children:(0,a.jsxs)(v.P,{display:f.nl.Flex,"data-a-target":"player-overlay-age-gate-form",children:[(0,a.jsx)(v.P,{padding:{x:.5},children:(0,a.jsxs)(ze.l,{value:"".concat(n.state.month),onChange:n.handleMonthChange,size:i,"aria-label":(0,P.hw)("Month","AgeGateOverlay"),children:[(0,a.jsx)("option",{value:"0",children:(0,P.hw)("January","AgeGateOverlay")}),(0,a.jsx)("option",{value:"1",children:(0,P.hw)("February","AgeGateOverlay")}),(0,a.jsx)("option",{value:"2",children:(0,P.hw)("March","AgeGateOverlay")}),(0,a.jsx)("option",{value:"3",children:(0,P.hw)("April","AgeGateOverlay")}),(0,a.jsx)("option",{value:"4",children:(0,P.hw)("May","AgeGateOverlay")}),(0,a.jsx)("option",{value:"5",children:(0,P.hw)("June","AgeGateOverlay")}),(0,a.jsx)("option",{value:"6",children:(0,P.hw)("July","AgeGateOverlay")}),(0,a.jsx)("option",{value:"7",children:(0,P.hw)("August","AgeGateOverlay")}),(0,a.jsx)("option",{value:"8",children:(0,P.hw)("September","AgeGateOverlay")}),(0,a.jsx)("option",{value:"9",children:(0,P.hw)("October","AgeGateOverlay")}),(0,a.jsx)("option",{value:"10",children:(0,P.hw)("November","AgeGateOverlay")}),(0,a.jsx)("option",{value:"11",children:(0,P.hw)("December","AgeGateOverlay")})]})}),(0,a.jsx)(v.P,{padding:{x:.5},children:(0,a.jsx)(ze.l,{value:"".concat(n.state.day),onChange:n.handleDayChange,size:i,"aria-label":(0,P.hw)("Day","AgeGateOverlay"),children:n.renderDayOptions(n.state)})}),(0,a.jsx)(v.P,{padding:{x:.5},children:(0,a.jsx)(ze.l,{value:"".concat(n.state.year),onChange:n.handleYearChange,"data-a-target":"player-overlay-age-gate-year",size:i,"aria-label":(0,P.hw)("Year","AgeGateOverlay"),children:n.renderYearOptions()})}),(0,a.jsx)(v.P,{padding:{x:.5},children:(0,a.jsx)(He.$n,{onClick:n.handleSubmit,"data-a-target":"player-overlay-age-gate-submit",size:t?He.Mp.Small:He.Mp.Default,children:(0,P.hw)("Submit","AgeGateOverlay")})})]})})},n.renderDayOptions=function(e){for(var n=e.month,t=e.year,i=(0,We.getDaysInMonth)(new Date(t,n)),r=[],o=1;o<=i;o++)r.push((0,a.jsx)("option",{value:"".concat(o),children:o},"day-".concat(o)));return r},n.renderYearOptions=function(){for(var e=Ze(),n=[],t=e;t>e-100;t--)n.push((0,a.jsx)("option",{value:"".concat(t),children:t},"year-".concat(t)));return n},n.handleDayChange=function(e){n.setState({day:+e.currentTarget.value})},n.handleMonthChange=function(e){var t=+e.currentTarget.value;n.setState((function(e){return{day:Ke({previousDay:e.day,newMonth:t,newYear:e.year}),month:t}}))},n.handleYearChange=function(e){var t=+e.currentTarget.value;n.setState((function(e){return{day:Ke({previousDay:e.day,newMonth:e.month,newYear:t}),year:t}}))},n.handleSubmit=function(){var e=n.state,t=e.day,i=e.month,a=e.year;n.props.onSubmit({day:t,month:i,year:a})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this,n=this.props,t=n.requiredAge,i=n.failureCount>0?(0,P.hw)("Sorry, you must be over the age of {requiredAge} to view this content.",{requiredAge:t},"AgeGateOverlay"):(0,P.hw)("You must be {requiredAge} to view this content. Please enter your date of birth.",{requiredAge:t},"AgeGateOverlay");return(0,a.jsx)(he.rj,{iconProps:{type:ye.W.Icon,icon:ue.t.Warning},text:i,children:function(n){return e.renderGateContent(e.props,n)}})},n}(r.Component),on=t(303045),sn=t.n(on);function ln(e){var n,t=(0,H.hd)(e.content);if(t)return t;var i=e.broadcasterData;return(null===(n=null==i?void 0:i.userByAttribute)||void 0===n?void 0:n.login)||void 0}var dn=function(e){function n(n){var t=e.call(this,n)||this;t.getRequiredAge=function(e){var n=e.broadcasterData,a=ln(e);if(a){var r=Ve().reduce((function(e,n){var t,a=Re(n),r=a[0],o=a[1];return(0,i.__assign)((0,i.__assign)({},e),((t={})[r]=o,t))}),{}),o=r[a];if(o)return o}return(0,H.DG)(t.props.content)&&n&&n.userByAttribute&&n.userByAttribute.adProperties&&null!==n.userByAttribute.adProperties.requiredAge?n.userByAttribute.adProperties.requiredAge:0},t.handleSubmit=function(e){var n=ln(t.props);if(n){var i=e.day,a=e.month,r=e.year,o=t.getRequiredAge(t.props),s=function(e,n){var t=Je(new Date),i=(0,We.subYears)(t,n);return(0,We.compareAsc)(Je(e),i)<=0}(new Date(r,a,i),o);s?(Xe(n),t.setState({hasPassed:!0})):t.setState({failureCount:Ye(n)})}};var a=ln(n);return t.state={failureCount:Qe(a),hasPassed:$e(a)},t}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){var n=ln(e),t=ln(this.props);n!==t&&this.setState({failureCount:Qe(t),hasPassed:$e(t)})},n.prototype.render=function(){var e=this.getRequiredAge(this.props);return e<=0||this.state.hasPassed?null:(0,a.jsx)(je,{restriction:Fe.S.Age,children:(0,a.jsx)(rn,{requiredAge:e,failureCount:this.state.failureCount,onSubmit:this.handleSubmit})})},n}(r.Component),un=(0,o.Zz)(Ue("AgeGateOverlay",Fe.S.Age),(0,T.cj)((function(e){var n=e.content;return{content:n}})),(0,G._v)(sn(),{name:"broadcasterData",options:function(e){return{variables:{input:{login:(0,H.hd)(e.content)||null,ownsVideoID:(0,H.hq)(e.content)||null}}}},skip:function(e){return!(0,H.DG)(e.content)&&!(0,H.hd)(e.content)&&!(0,H.hq)(e.content)}}))(dn);var cn=t(246942),pn=t.n(cn),mn=t(86043),vn=t(719774),fn=t(554262),gn=t(860203),hn=t(938185),yn=t(36935),kn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderCaptionStyledError=function(e){var t=e.containerStyles,i=e.windowContainerStyles,r=e.windowStyles,o=e.textStyles;return(0,a.jsx)("div",{className:"player-captions-container",style:t,children:(0,a.jsx)("div",{className:"player-captions-container__caption-window",style:i,children:(0,a.jsx)("div",{style:r,children:(0,a.jsx)("p",{className:"player-captions-container__caption-line",style:o,children:n.getMessage()})})})})},n.renderUnstyledFallbackError=function(){return(0,a.jsx)(v.P,{display:f.nl.Flex,justifyContent:f.A9.Center,children:(0,a.jsx)(v.P,{color:f.Q1.Overlay,position:f.yX.Absolute,attachBottom:!0,margin:3,children:(0,a.jsx)(yn.hE,{children:n.getMessage()})})})},n.getMessage=function(){return(0,P.hw)("The closed caption overlay has crashed. To re-enable captions, toggle closed captions off and on in the player, or refresh the page.","CaptionOverlay")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.props.captionsEnabled||!this.props.captionsAvailable)return null;var e;try{e=xn(this.props.captionsStyle)}catch(e){return this.renderUnstyledFallbackError()}return this.renderCaptionStyledError(e)},n}(r.Component),Sn=(0,o.Zz)((0,te.c0)((function(e){var n=e.captions;return{captionsAvailable:n.available,captionsEnabled:n.enabled,captionsStyle:n.style}})))(kn);var _n=/\r?\n|\r/g;function bn(e){var n=e.text;return(n&&n.length>0?n.trim():"")?String(n).split(_n):[]}var Cn=Object.freeze(["top","bottom","fontSize"]),Pn=Object.freeze(["alignItems"]);function En(e,n){return n.reduce((function(n,t){return e.hasOwnProperty(t)&&(n[t]=e[t]),n}),{})}function Nn(e,n){return Object.getOwnPropertyNames(e).reduce((function(t,i){return n.includes(i)||(t[i]=e[i]),t}),{})}function xn(e){var n=function(e){var n=e.fontColorName,t=void 0===n?fn.OU.White:n,i=e.fontOpacity,a=void 0===i?fn.Y4.Solid:i;return{color:fn.Rw(fn.tZ[t],fn.sT[a].opacityValue),animation:fn.sT[a].animation}}(e),t=function(e){var n=e.backgroundOpacity,t=void 0===n?fn.Y4.Solid:n,i=e.backgroundColorName,a=void 0===i?fn.DA.Black:i;return fn.Rw(fn.Yi[a],fn.sT[t].opacityValue)}(e),a=function(e){var n=e.windowColorName,t=void 0===n?fn.DA.Transparent:n,i=e.windowOpacity,a=void 0===i?fn.Y4.Solid:i;return{backgroundColor:fn.Rw(fn.Yi[t],fn.sT[a].opacityValue)}}(e),r=(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},e),n),fn.yF[e.fontFamily]),fn.K7[e.edge]),fn.iB[e.verticalPosition]),fn.o8[e.fontUnderline]),fn.sy[e.fontItalic]),fn.Bn[e.fontBold]),fn.kf[e.alignment]),{backgroundColor:t});return{textStyles:Nn(r,Cn),containerStyles:En(r,Cn),windowContainerStyles:En(r,Pn),windowStyles:a}}var An=function(e){function n(n){var t=e.call(this,n)||this;return t.CAPTION_THRESHOLD=10,t.onCaption=function(e){t.ccCounter=0,t.setState({data:bn(e)}),t.props.captionsAvailable||t.props.setClosedCaptionsAvailable(!0),t.state.hasTrackedCaptionAvailability||null===t.props.channelLogin&&null===t.props.vodID||(P.E5.track("stream_captions_available",{channel_login:t.props.channelLogin,vod_id:t.props.vodID}),t.setState({hasTrackedCaptionAvailability:!0}))},t.onSeekComplete=function(){t.clearCaption()},t.clearCaption=function(){t.setState({data:[]})},t.closedCaptionTick=function(){t.props.isPlaying&&!t.props.adIsPlaying&&t.ccCounter++,t.ccCounter===t.CAPTION_THRESHOLD&&t.clearCaption()},t.shouldShow=function(){return!t.props.error&&t.state.data.length&&t.props.captionsEnabled&&t.props.captionsAvailable},t.onResize=function(e){t.setState({width:e})},t.ccInterval=0,t.ccCounter=0,t.state={data:[],hasTrackedCaptionAvailability:!1,width:(0,hn.P)(n.videoContainer).width||0},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.TEXT_CUE,this.onCaption),this.props.playerEvents.addEventListener(L.a.SEEK_COMPLETED,this.onSeekComplete),this.ccInterval=setInterval(this.closedCaptionTick,1e3)},n.prototype.componentDidUpdate=function(e){var n=this;e.adIsPlaying!==this.props.adIsPlaying&&setTimeout((function(){n.setState({data:[]})}),500),e.channelLogin===this.props.channelLogin&&e.vodID===this.props.vodID||this.setState({hasTrackedCaptionAvailability:!1})},n.prototype.componentWillUnmount=function(){clearInterval(this.ccInterval)},n.prototype.render=function(){if(!this.shouldShow())return null;var e=xn(this.props.captionsStyle),n=e.containerStyles,t=e.textStyles,i=e.windowContainerStyles,o=e.windowStyles;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(mn.$,{onResize:this.onResize,debounceMs:50}),(0,a.jsx)("div",{className:pn()("player-captions-container",{"player-captions-container__sm":this.state.width<=580}),style:n,children:(0,a.jsx)("div",{className:"player-captions-container__caption-window",style:i,children:(0,a.jsx)(r.Fragment,{children:this.state.data.map((function(e,n){return(0,a.jsx)("div",{style:o,children:(0,a.jsx)("p",{style:t,className:"player-captions-container__caption-line",children:e})},e+n)}))},this.state.data.join())})})]})},n}(r.Component),wn=(0,o.Zz)((0,s.X)({name:"CaptionOverlay",content:(0,a.jsx)(Sn,{})}),(0,te.c0)((function(e){return{captionsAvailable:e.captions.available,captionsEnabled:e.captions.enabled,captionsStyle:e.captions.style,setClosedCaptionsAvailable:e.setClosedCaptionsAvailable,videoContainer:e.videoContainer}})),(0,vn.X)(),(0,M.dd)((function(e){var n=e.error;return{error:!!n}})),(0,w.VX)((function(e){return{adIsPlaying:(0,j.cz)(e.videoAdMetadata)}})),(0,de.AP)((function(e){var n=e.isPlaying;return{isPlaying:n}})),(0,T.cj)((function(e){var n,t,i,a;switch(e.content.type){case gn.FC.Clip:return{channelLogin:null!==(n=e.content.channelLogin)&&void 0!==n?n:null,vodID:null};case gn.FC.Collection:return{channelLogin:null!==(t=e.content.channelLogin)&&void 0!==t?t:null,vodID:null!==(i=e.content.vodID)&&void 0!==i?i:null};case gn.FC.DVRLive:case gn.FC.DVRVOD:return{channelLogin:e.content.channelLogin,vodID:e.content.vodID};case gn.FC.Live:return{channelLogin:e.content.channelLogin,vodID:null};case gn.FC.VOD:return{channelLogin:null!==(a=e.content.channelLogin)&&void 0!==a?a:null,vodID:e.content.vodID};default:return{channelLogin:null,vodID:null}}})))(An);var Tn=t(168703);var In=(0,o.Zz)((0,s.X)({name:"ChromecastOverlay"}),(0,re.vM)((function(e){return{isCasting:(0,re.mh)(e),deviceName:e.deviceName}})))((function(e){return e.isCasting?(0,a.jsx)(Me.FT,{transparency:Me.xL.Transparency5,type:Me.NL.Fullscreen,children:(0,a.jsx)(v.P,{margin:{top:2},textAlign:f.nO.Center,children:(0,a.jsx)(U.N,{fontSize:f.Z4.Size4,bold:!0,lineHeight:q.aK.Heading,color:f.Q1.Overlay,children:(0,P.hw)("Now casting to {deviceName}",{deviceName:e.deviceName},"ChromecastOverlay")})})}):null}));var Dn=t(732446),Fn=t(631266),On=t(58218),Rn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(e){var t=n.props,i=t.content,a=t.isPlaying,r=t.muted,o=t.onPlayerClick,s=t.volume,l=t.publicAPI;o&&o({event:e,state:{currentVideoOffsetTimestamp:n.getCurrentVideoOffsetTimestamp(),isPlaying:a,muted:r,volume:s},api:l,content:i})},n.onTouchEnd=function(e){e.preventDefault(),(0,n.props.togglePlayerActivity)(),n.onClick(e)},n.getCurrentVideoOffsetTimestamp=function(){var e=n.props,t=e.content,i=e.mediaPlayerInstance;return((0,H.Jn)(t)||(0,H.wy)(t)||(0,H.P3)(t))&&i?(0,On.O)(Math.floor(i.getPosition())):null},n.handleToggleFullscreen=function(){n.props.disableDoubleClickFullscreen||(n.props.isFullscreen?n.props.exitFullscreen():n.props.enterFullscreen())},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(N.S,{position:f.yX.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,children:(0,a.jsx)("div",{className:"click-handler","data-a-target":"player-overlay-click-handler",onDoubleClick:this.handleToggleFullscreen,onClick:this.onClick,onTouchEnd:this.onTouchEnd})})},n}(r.Component),Vn=(0,o.Zz)((0,s.X)({name:"ClickHandlerOverlay"}),(0,M.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,te.c0)((function(e){var n=e.enterFullscreen,t=e.exitFullscreen,i=e.isFullscreen;return{enterFullscreen:n,exitFullscreen:t,isFullscreen:i}})),(0,I.o1)(),(0,de.AP)((function(e){var n=e.isPlaying,t=e.muted,i=e.volume;return{isPlaying:n,muted:t,volume:i}})),(0,T.cj)((function(e){var n=e.content,t=(0,D.wk)({playerPublicPropsContext:e}).disableDoubleClickFullscreen,i=(0,D.zB)({playerPublicPropsContext:e}).onPlayerClick;return{disableDoubleClickFullscreen:t,content:n,onPlayerClick:i}})),(0,Fn.BZ)((function(e){return{publicAPI:e}})),(0,le.In)((function(e){var n=e.active,t=e.__doNotUse_SetPlayerActivity;return{togglePlayerActivity:function(){t(!n)}}})),Dn.y)(Rn);var Mn=t(67813),Ln=t(723319),jn=t(792486),Bn=t(509534),Un=t(298830),qn=function(){var e=(0,r.useContext)(de.wL),n=e.play,t=e.isPlaying,i=e.pause,o=(0,r.useContext)(M.$g).mediaPlayerInstance,s=(0,P.hw)("Play","ClickToPlayPauseOverlay"),l=(0,P.hw)("Pause","ClickToPlayPauseOverlay"),d=(0,r.useState)(!1),u=d[0],c=d[1],p=(0,r.useCallback)((function(){c(!0)}),[]);(0,r.useEffect)((function(){p()}),[t,p]);var m=function(){return o?o.getDisplayHeight()<=240?30:o.getDisplayHeight()>=480?80:Math.round(o.getDisplayHeight()*(1/6)):60},f=function(){return o?o.getDisplayHeight()<=240?"6rem":o.getDisplayHeight()>=480?"10rem":"".concat(Math.round(o.getDisplayHeight()*(1/3)),"px"):"10rem"};return(0,a.jsx)(v.P,{color:"overlay",width:"fit-content",height:"100%",margin:"0 auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:(0,a.jsx)(Mn.e,{show:u,type:[Ln.ES.ScaleOver,Ln.ES.Fade],children:(0,a.jsx)(N.S,{borderRadius:b.Z.Rounded,background:"overlay",height:f(),width:f(),children:(0,a.jsx)(jn.M,{onClick:function(){t?i({userTriggered:!0}):n({userTriggered:!0})},"aria-label":t?l:s,children:(0,a.jsx)(v.P,{display:"flex",alignItems:"center",justifyContent:"center",color:"overlay",children:t?(0,a.jsx)(Bn.i,{size:m()}):(0,a.jsx)(Un.A,{size:m()})})})})})})},Gn=t(187033),zn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={audioBlockedCTATimeoutElapsed:!1},n.setAudioBlockedCTATimeoutElapsed=function(){n.setState((function(e){return e.audioBlockedCTATimeoutElapsed?null:{audioBlockedCTATimeoutElapsed:!0}}))},n.handleClick=function(){n.props.setMuted(!1,{persist:!0,userTriggered:!0})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.overlayDuration>=0&&isFinite(this.props.overlayDuration)&&(this.visibleTimeout=setTimeout(this.setAudioBlockedCTATimeoutElapsed,this.props.overlayDuration))},n.prototype.componentWillUnmount=function(){clearTimeout(this.visibleTimeout)},n.prototype.render=function(){var e=this.props,n=e.canShow,t=e.initialMuted,i=e.muted,r=e.showOverlay,o=e.audioBlocked,s=e.userEverUnmuted;if(!n)return null;var l=!!i&&t&&r&&!s,d=o&&!this.state.audioBlockedCTATimeoutElapsed,u=l||d;return(0,a.jsx)(Mn.e,{show:u,type:Ln.ES.Fade,children:(0,a.jsx)("div",{onClick:this.handleClick,className:"click-to-unmute__container",children:(0,a.jsxs)(Me.FT,{type:Me.NL.Fullscreen,transparency:Me.xL.Transparency5,children:[(0,a.jsx)(Gn.x,{size:35}),(0,a.jsx)(v.P,{margin:{top:2},children:(0,a.jsx)(U.N,{fontSize:f.Z4.Size6,bold:!0,lineHeight:q.aK.Heading,color:f.Q1.Overlay,children:(0,P.hw)("Click to unmute","AutomatedMuteOverlay")})})]})})})},n}(r.Component),Hn=(0,o.Zz)((0,s.X)({name:"ClickToUnmuteOverlay"}),(0,de.AP)((function(e){var n=e.setMuted;return{setMuted:n}})),(0,M.dd)((function(e){var n=e.audioBlocked,t=e.updateContext,i=e.muted,a=e.userEverUnmuted;return{audioBlocked:n,updateContext:t,muted:i,userEverUnmuted:a}})),(0,T.cj)((function(e){var n,t,i,a=(0,D.wk)({playerPublicPropsContext:e}).initialMuted;return{initialMuted:null!==(n=null==a?void 0:a.enabled)&&void 0!==n&&n,showOverlay:null!==(t=null==a?void 0:a.showOverlay)&&void 0!==t&&t,overlayDuration:null!==(i=null==a?void 0:a.overlayDuration)&&void 0!==i?i:5e3}})),(0,I.o1)())(zn);function Wn(){return(0,a.jsx)(he.rj,{iconProps:{type:ye.W.Icon,icon:ue.t.DeadGlitch},text:(0,P.hw)("This clip is no longer available","ClipEmbedErrorOverlay")})}var Kn,Zn,Qn=t(486489),Yn=t(847388),Xn=t(540943),$n=t(891975),Jn=t(742729),et=t(105774);!function(e){e.Clip="clip",e.Live="live_channel",e.VOD="vod"}(Kn||(Kn={})),function(e){e.Broadcaster="channel_popular_clips",e.Game="game_popular_clips",e.Top="popular_clips"}(Zn||(Zn={}));function nt(e,n,t){var a=new URL(e),r=""!==a.search?x.parse(a.search):{};return a.search=x.stringify((0,i.__assign)((0,i.__assign)({},r),{tt_content:n,tt_medium:t})),a.toString()}function tt(e){return e?{channelLogin:e.login||"",displayName:e.displayName||e.login||""}:{channelLogin:"",displayName:""}}function it(e,n,t){return(0,i.__assign)((0,i.__assign)({},tt(e.broadcaster)),{category:n,content:{channelLogin:e.broadcaster&&e.broadcaster.login||void 0,clipSlug:e.slug,type:gn.FC.Clip},durationSeconds:e.durationSeconds,gameName:e.game?e.game.displayName:"",itemID:e.id,imageUrl:e.thumbnailURL,title:e.title,tracking:{content:"recommendation",medium:t},type:Kn.Clip,viewCount:e.viewCount})}function at(e,n){var t=[];if(!e.clip||!e.clip.broadcaster)return t;var a=tt(e.clip.broadcaster);return function(e){return!!(e.clip&&e.clip.broadcaster&&e.clip.broadcaster.stream&&e.clip.broadcaster.stream.id)}(e)&&t.push((0,i.__assign)((0,i.__assign)({},a),function(e,n){return{content:{channelLogin:e.login||"",type:gn.FC.Live},gameName:e.stream&&e.stream.game?e.stream.game.displayName:"",itemID:e.id||"",imageUrl:nt(e.stream&&e.stream.previewImageURL||"","recommend_stream_img",n),tracking:{content:"recommend_stream_link",medium:n},type:Kn.Live}}(e.clip.broadcaster,n))),e.clip.video&&t.push((0,i.__assign)((0,i.__assign)({},a),function(e,n,t){var i=e.game?e.game.displayName:"";return{content:{videoOffset:n||void 0,vodID:e.id,type:gn.FC.VOD},durationSeconds:e.lengthSeconds||0,gameName:i,itemID:e.id,imageUrl:nt(e.previewThumbnailURL,"recommend_vod_img",t),tracking:{content:"recommend_vod_link",medium:t},type:Kn.VOD}}(e.clip.video,e.clip.videoOffsetSeconds,n))),t.length<2&&e.clip.relatedClips&&t.push.apply(t,function(e,n,t){var i=[];if(e.broadcaster){var a=e.broadcaster.map((function(e){return it(e,Zn.Broadcaster,t)}));i.push.apply(i,a)}if(e.game&&i.length<n){var r=e.game.map((function(e){return it(e,Zn.Game,t)}));i.push.apply(i,r)}if(e.top&&i.length<n){var o=e.top.map((function(e){return it(e,Zn.Top,t)}));i.push.apply(i,o)}return i}(e.clip.relatedClips,2-t.length,n)),t.slice(0,2)}var rt=t(663953),ot=t(725681),st=t(65538),lt=t(235233),dt=t(973474),ut=t(468777),ct=t(288520),pt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderOverlay=function(){var e=n.props.typeOverlay;return e?e.type===gn.FC.Live?(0,a.jsx)(v.P,{position:f.yX.Absolute,attachTop:!0,attachLeft:!0,margin:1,children:(0,a.jsx)(v.P,{fontSize:f.Z4.Size4,children:(0,a.jsx)(rt.qd,{label:(0,P.hw)("LIVE","VideoPlayerVideoCard")})})}):e.type===gn.FC.VOD?(0,a.jsx)(v.P,{position:f.yX.Absolute,attachTop:!0,attachLeft:!0,margin:1,children:(0,a.jsx)(v.P,{fontSize:f.Z4.Size4,children:(0,a.jsx)(ot.L,{icon:Un.A,children:(0,ut.X)(e.durationInSeconds)})})}):e.type===gn.FC.Clip?(0,a.jsx)(v.P,{position:f.yX.Absolute,attachTop:!0,attachLeft:!0,margin:1,children:(0,a.jsx)(v.P,{fontSize:f.Z4.Size4,children:(0,a.jsx)(ot.L,{icon:st.y,children:(0,ut.X)(e.durationInSeconds)})})}):void 0:null},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.video,t=e.onSelect,i=e.info,r=e.content,o=e.marginBottom,s=void 0===o?1:o,l=e.targetBlank,d=e.getContentUrl,u=e.trackingContext;return(0,a.jsx)(N.S,{borderRadius:b.Z.Small,display:f.nl.Block,margin:{bottom:s},attachTop:!0,attachBottom:!0,children:(0,a.jsxs)(jn.M,{linkTo:d(r,u),targetBlank:l,className:"offline-recommendations-video-card",onClick:t,children:[(0,a.jsx)("div",{className:"offline-recommendations-video-card-border-2",children:(0,a.jsx)("div",{className:"offline-recommendations-video-card-border-3",children:(0,a.jsx)("div",{className:"offline-recommendations-video-card-border-4",children:(0,a.jsx)(lt.j$,{ratio:16/9,children:(0,a.jsx)("div",{style:{backgroundImage:'url("https://vod-secure.twitch.tv/_404/404_processing_640x360.png")',backgroundSize:"cover"},children:(0,a.jsx)(dt.L,{className:"offline-recommendations-video-card-img",src:n.previewThumbnailURL,alt:(0,P.hw)("Video Thumbnail","VideoCard")})})})})})}),i&&(0,a.jsx)(v.P,{padding:{bottom:1},textAlign:f.nO.Left,color:f.Q1.Overlay,margin:{top:1},children:i}),this.renderOverlay()]})})},n}(r.Component),mt=(0,ct.e)()(pt),vt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getTitle=function(e){switch(e.type){case Kn.Live:return(0,P.hw)("Watch {channelDisplayName} Live",{channelDisplayName:e.displayName},"ClipPostplayRecommendationCard");case Kn.VOD:return(0,P.hw)("Continue Watching","ClipPostplayRecommendationCard");case Kn.Clip:return e.title;default:return""}},n.getSubtitle=function(e){if(e.type===Kn.Clip){var n=(0,P.hw)("{viewCount} views",{viewCount:e.viewCount},"ClipPostplayRecommendationCard");return e.gameName?"".concat(n," • ").concat(e.gameName):n}return e.gameName?(0,P.hw)("{channelDisplayName} playing {gameName}",{channelDisplayName:e.displayName,gameName:e.gameName},"ClipPostplayRecommendationCard"):e.type===Kn.Live?(0,P.hw)("{channelDisplayName} streaming on Twitch",{channelDisplayName:e.displayName},"ClipPostplayRecommendationCard"):e.type===Kn.VOD?(0,P.hw)("{channelDisplayName}'s video on Twitch",{channelDisplayName:e.displayName},"ClipPostplayRecommendationCard"):""},n.getTypeOverlay=function(e){switch(e.type){case Kn.Live:return{type:gn.FC.Live};case Kn.VOD:return{durationInSeconds:e.durationSeconds,type:gn.FC.VOD};case Kn.Clip:return{durationInSeconds:e.durationSeconds,type:gn.FC.Clip};default:return}},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.recommendation,t=e.targetBlank,i=e.trackSelectionClick;return(0,a.jsx)(mt,{video:{previewThumbnailURL:n.imageUrl,title:this.getTitle(n)},content:n.content,onSelect:i,info:(0,a.jsxs)(U.N,{fontSize:f.Z4.Size6,ellipsis:!0,children:[this.getTitle(n),(0,a.jsx)("br",{}),this.getSubtitle(n)]}),typeOverlay:this.getTypeOverlay(n),targetBlank:t,trackingContext:n.tracking})},n}(r.Component),ft=(0,T.cj)()(vt);function gt(e){return e&&e.clip&&e.clip.broadcaster&&e.clip.broadcaster.login||null}function ht(e){return e&&e.clip&&e.clip.game&&e.clip.game.name||null}function yt(e){return e&&e.clip&&e.clip.id||null}function kt(e){return e.map((function(e){return e.type})).join(",")}function St(e){return e.map((function(e){return e.type===Kn.Clip?e.viewCount:"null"})).join(",")}function _t(e){return{carousel_content:"similar_clips",section_index:0,source_channel:gt(e),source_game:ht(e),source_item_type:"clips",source_vod_id:yt(e)}}var bt=t(680478),Ct=t.n(bt),Pt=(0,G._v)(Ct(),{options:function(e){var n;return{variables:{slug:null!==(n=e.clipSlug)&&void 0!==n?n:""}}},skip:function(e){return!e.clipSlug}}),Et=(0,o.Zz)((0,s.X)({name:"ClipPostplayRecommendations"}),(0,T.cj)((function(e){var n,t=e.content,i=e.behaviors;return{clipSlug:(0,H.Qc)(t),isEmbedded:!!(null==i?void 0:i.embed),medium:null===(n=null==i?void 0:i.linkTrackingContext)||void 0===n?void 0:n.medium}})),(0,I.o1)(),Pt,(0,te.c0)((function(e){var n=e.setRecommendationsShowing,t=e.recommendationsShowing;return{setRecommendationsShowing:n,recommendationsShowing:t}})))((function(e){var n,t=r.useRef(!1),o=r.useContext(M.$g);if((0,$n.S)((function(){return function(){return e.setRecommendationsShowing(!1)}})),r.useEffect((function(){return e.data&&e.data.clip&&e.setRecommendationsShowing(!0),function(){return e.setRecommendationsShowing(!1)}}),[e,e.data]),r.useEffect((function(){var n,a;t.current||!e.data||e.data.loading||e.data.error||(e.track("item_section_load",(0,i.__assign)((0,i.__assign)({},_t(e.data)),{num_recs_visible:(n=at(e.data,e.medium)).length,rendered_item_count:n.length,rendered_item_list:(a=n,a.map((function(e){return e.itemID})).join(",")),rendered_items_types:kt(n),rendered_items_viewcounts:St(n)})),t.current=!0)})),!!(o.isPlayerCoreLoading||(0,et.TN)(o)||(0,et.i_)(o)||!o.hasPlayed&&o.sourceStatus!==Jn.O.None)||(null===(n=e.data)||void 0===n?void 0:n.loading))return(0,a.jsx)(Me.FT,{transparency:Me.xL.Transparency1,type:Me.NL.Fullscreen,children:(0,a.jsx)(v.P,{className:"clip-postplay-recommendations",display:f.nl.Flex,flexWrap:f.I4.NoWrap,justifyContent:f.A9.Center,alignItems:f.k2.Center,margin:{x:1},children:(0,a.jsx)(Qn.k,{fillContent:!0})})});if(!e.data||!e.data.clip||!e.recommendationsShowing)return null;var s=at(e.data,e.medium);return(0,a.jsx)(Me.FT,{transparency:Me.xL.Transparency1,type:Me.NL.Fullscreen,children:(0,a.jsx)(v.P,{className:"clip-postplay-recommendations",display:f.nl.Flex,flexWrap:f.I4.NoWrap,justifyContent:f.A9.Center,alignItems:f.k2.Center,margin:{x:1},children:(0,a.jsx)(Yn.x,{justifyContent:f.A9.Center,children:s.map((function(n){return(0,a.jsx)(Xn.VP,{cols:6,children:(0,a.jsx)(ft,{recommendation:n,trackSelectionClick:function(){return function(n){e.track("item_section_click",(0,i.__assign)((0,i.__assign)({},_t(e.data)),{content:n.type===Kn.Clip?n.category:null,channel:n.channelLogin,item_id:n.itemID,item_type:n.type,item_viewcount:n.type===Kn.Clip?n.viewCount:null}))}(n)},targetBlank:e.isEmbedded})},n.itemID)}))})})})}));var Nt=t(902418),xt=t(927784),At=t(82984),wt=function(e){function n(n){var t=e.call(this,n)||this;return t.setRef=function(e){t.setState({clipboardInput:e})},t.copy=function(e){var n;try{t.state.clipboardInput&&t.state.clipboardInput.select(),n=document.execCommand("copy")}catch(e){n=!1}return t.props.onClick&&t.props.onClick(e),t.setState({copied:n}),n},t.state={copied:!1,clipboardInput:null},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},n.prototype.render=function(){var e=this.state.copied?(0,P.hw)("copied","CopyButton"):(0,P.hw)("copy","CopyButton");return(0,a.jsxs)(v.P,{className:"copy-button copy-btn",display:f.nl.Flex,children:[(0,a.jsx)(N.S,{className:"copy-button__btn",children:(0,a.jsx)(He.$n,{onClick:this.copy,variant:this.state.copied?He.VQ.Success:He.VQ.Primary,children:e})}),(0,a.jsx)("input",{"aria-hidden":!0,className:"copy-button__copy-input",ref:this.setRef,value:this.props.clipboardText,readOnly:!0})]})},n}(r.Component),Tt=(0,o.Zz)((0,At.W)("CopyButton"))(wt),It=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={value:n.props.initialText},n.onChange=function(e){n.setState({value:e.currentTarget.value})},n.handleInputClick=function(e){n.props.onInputClick&&n.props.onInputClick(e)},n.handleButtonClick=function(e){n.props.onButtonClick&&n.props.onButtonClick(e)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},n.prototype.render=function(){return this.state&&this.state.value?(0,a.jsxs)(v.P,{className:"copyable-item",display:f.nl.Flex,flexGrow:1,children:[(0,a.jsx)(v.P,{flexGrow:1,children:(0,a.jsx)(xt.pd,{disabled:this.props.disabled,onChange:this.onChange,onClick:this.handleInputClick,readOnly:this.props.readOnly,type:xt.NZ.Text,value:this.state.value,overlay:this.props.overlay})}),(0,a.jsx)(v.P,{children:(0,a.jsx)(Tt,{clipboardText:this.state.value,onClick:this.handleButtonClick})})]}):null},n}(r.Component),Dt=(0,o.Zz)((0,At.W)("CopyableItem"))(It),Ft=t(291822),Ot=t(523540),Rt=t(472717),Vt=t(914009),Mt=t.n(Vt),Lt=t(265430);function jt(e,n){void 0===n&&(n={});var t=n.title,i=n.broadcaster,a=t||"",r="";return!a&&i&&(a=(0,P.hw)("Check out this clip from {broadcaster}'s broadcast",{broadcaster:i},"ClipShareOverlay")),a||(a=(0,P.hw)("Check out this clip","ClipShareOverlay")),"twitter"===e&&(r=" ".concat("#twitchclips"," "),a=(0,Lt.W)(a,117-r.length)),a+r}var Bt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getInputText=function(e){return(0,Rt.Yk)(e,{tt_medium:"clips_api",tt_content:"url"})},n.handleCopyClick=function(){return n.trackShareClick("copy")},n.trackShareClick=function(e){n.props.track("video_share",{share_platform:Ot.mO[e],location:"embed"})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.clipSlug;if(!e)return null;var n=(0,P.hw)("Sharing is Caring","ClipShareOverlay"),t=this.getInputText(e),i=this.getClipMetaData(this.props);return(0,a.jsxs)(Me.FT,{transparency:Me.xL.Transparency3,type:Me.NL.Fullscreen,children:[(0,a.jsx)(v.P,{position:f.yX.Absolute,attachRight:!0,attachTop:!0,margin:{top:2,left:2,right:2},children:(0,a.jsx)(_e.a2,{"aria-label":(0,P.hw)("Close clip sharing dialog","AdstatsOverlay"),overlay:!0,icon:be.g,size:Nt.f.Large,onClick:this.props.toggleClipSharing})}),(0,a.jsx)(Mn.e,{show:!0,transitionInitialMount:!0,type:Ln.ES.SlideOverBottom,children:(0,a.jsxs)(v.P,{children:[(0,a.jsx)(v.P,{textAlign:f.nO.Center,children:(0,a.jsx)(U.N,{fontSize:f.Z4.Size3,children:n})}),(0,a.jsxs)(v.P,{display:f.nl.Flex,padding:{top:2,bottom:2},justifyContent:f.A9.Center,children:[(0,a.jsx)(Ft.y,{size:"large",type:"twitter",onShareClick:this.trackShareClick,url:(0,Rt.Yk)(e,{tt_content:"url",tt_medium:"twtr"}),text:jt("twitter",i)}),(0,a.jsx)(Ft.y,{size:"large",type:"facebook",onShareClick:this.trackShareClick,url:(0,Rt.Yk)(e,{tt_content:"url",tt_medium:"fb"})}),(0,a.jsx)(Ft.y,{size:"large",type:"reddit",onShareClick:this.trackShareClick,url:(0,Rt.Yk)(e,{tt_content:"url",tt_medium:"redt"}),text:jt("reddit",i)}),(0,a.jsx)(Ft.y,{size:"large",type:"embed",clipSlug:e,embedModalType:"clip"})]}),(0,a.jsx)(v.P,{padding:{top:2},display:f.nl.Flex,flexGrow:1,borderTop:!0,children:(0,a.jsx)(Dt,{initialText:t,onButtonClick:this.handleCopyClick,onInputClick:this.handleCopyClick,overlay:!0,readOnly:!0})})]})})]})},n.prototype.getClipMetaData=function(e){return{title:e.data&&e.data.clip&&e.data.clip.title||"",broadcaster:e.data&&e.data.clip&&e.data.clip.broadcaster&&e.data.clip.broadcaster.login||""}},n}(r.Component),Ut=(0,o.Zz)((0,s.X)({name:"ClipShareOverlay"}),(0,te.c0)((function(e){var n=e.toggleClipSharing;return{toggleClipSharing:n}})),(0,T.cj)((function(e){var n=e.content;return{clipSlug:(0,H.Qc)(n)}})),(0,G._v)(Mt(),{skip:function(e){return!e.clipSlug},options:function(e){var n;return{variables:{slug:null!==(n=e.clipSlug)&&void 0!==n?n:""}}}}),(0,I.o1)())(Bt);var qt=t(818578),Gt=t(627561),zt=t(539896),Ht=t(181791),Wt=t(536250),Kt=t(336853),Zt=function(e){var n=e.colors,t=e.onSelect;return(0,a.jsx)("div",{className:"closed-captions-settings-color-selector",children:(0,a.jsx)(Kt.n,{colors:n,onSelect:t})})},Qt=t(950962),Yt=function(e){return(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(Qt.gE,(0,i.__assign)({},e,{orientation:e.orientation||Qt.aG.Vertical,children:e.children}))})},Xt=function(e){var n=e.leftSide,t=e.rightSide;return(0,a.jsxs)(Yn.x,{gutterSize:Yn.V.Medium,children:[(0,a.jsx)(Xn.VP,{cols:{default:6},children:n}),(0,a.jsx)(Xn.VP,{cols:{default:6},children:t})]})};function $t(e){switch(e){case fn.Pf.WhiteOnBlack:return(0,P.hw)("White on Black","ClosedCaptionsSettingsPresetTab");case fn.Pf.BlackOnWhite:return(0,P.hw)("Black on White","ClosedCaptionsSettingsPresetTab");case fn.Pf.CyanOnBlack:return(0,P.hw)("Cyan on Black","ClosedCaptionsSettingsPresetTab");case fn.Pf.YellowOnBlack:return(0,P.hw)("Yellow on Black","ClosedCaptionsSettingsPresetTab");case fn.Pf.LimeOnBlack:return(0,P.hw)("Lime on Black","ClosedCaptionsSettingsPresetTab");case fn.Pf.MagentaOnBlack:return(0,P.hw)("Magenta on Black","ClosedCaptionsSettingsPresetTab");case fn.Pf.WhiteOnTransBlack:return(0,P.hw)("White on Transparent Black","ClosedCaptionsSettingsPresetTab");case fn.Pf.CyanOnTransBlack:return(0,P.hw)("Cyan on Transparent Black","ClosedCaptionsSettingsPresetTab");case fn.Pf.YellowOnTransBlack:return(0,P.hw)("Yellow on Transparent Black","ClosedCaptionsSettingsPresetTab");case fn.Pf.LimeOnTransBlack:return(0,P.hw)("Lime on Transparent Black","ClosedCaptionsSettingsPresetTab");case fn.Pf.MagentaOnTransBlack:return(0,P.hw)("Magenta on Transparent Black","ClosedCaptionsSettingsPresetTab");default:return""}}function Jt(e){switch(e){case fn.zz.Bold:return(0,P.hw)("Bold","ClosedCaptionsSettingsFontStyleSelector");case fn.zz.Underline:return(0,P.hw)("Underline","ClosedCaptionsSettingsFontStyleSelector");case fn.zz.Italic:return(0,P.hw)("Italic","ClosedCaptionsSettingsFontStyleSelector");default:return""}}function ei(e){switch(e){case fn.wX.Depressed:return(0,P.hw)("Depressed","ClosedCaptionsSettingsFontEdgeEffectSelector");case fn.wX.Uniform:return(0,P.hw)("Uniform","ClosedCaptionsSettingsFontEdgeEffectSelector");case fn.wX.Drop:return(0,P.hw)("Drop","ClosedCaptionsSettingsFontEdgeEffectSelector");case fn.wX.Raised:return(0,P.hw)("Raised","ClosedCaptionsSettingsFontEdgeEffectSelector");case fn.wX.None:return(0,P.hw)("None","ClosedCaptionsSettingsFontEdgeEffectSelector");default:return""}}var ni,ti=[fn.DA.Transparent,fn.DA.White,fn.DA.LightGray,fn.DA.Gray,fn.DA.DarkGray,fn.DA.Black,fn.DA.Green,fn.DA.Blue,fn.DA.Cyan,fn.DA.Magenta,fn.DA.Yellow,fn.DA.Red],ii="ClosedCaptionsSettingsBackgroundAndWindowTabs",ai=function(e){var n=e.currentColor,t=e.currentOpacity,i=e.onSelectColor,r=e.onSelectOpacity,o=(0,a.jsx)(Yt,{label:(0,P.hw)("Opacity","ClosedCaptionsSettingsBackgroundAndWindowTabs"),id:"".concat(ii,"-opacity"),orientation:"vertical",children:(0,a.jsx)(ri,{currentOpacity:t,onChange:r})}),s=(0,a.jsx)(Yt,{label:(0,P.hw)("Color","ClosedCaptionsSettingsBackgroundAndWindowTabs"),orientation:"vertical",children:(0,a.jsx)(oi,{currentColor:n,onSelect:i})});return(0,a.jsx)(Xt,{leftSide:o,rightSide:s})},ri=function(e){var n=e.currentOpacity,t=e.onChange;return(0,a.jsxs)(ze.l,{size:qe.Y.Small,onChange:t,value:n,id:"".concat(ii,"-opacity"),children:[(0,a.jsx)("option",{value:fn.Y4.Solid,children:(0,P.hw)("Solid","ClosedCaptionsSettingsBackgroundAndWindowTabs")}),(0,a.jsx)("option",{value:fn.Y4.Translucent,children:(0,P.hw)("Translucent","ClosedCaptionsSettingsBackgroundAndWindowTabs")})]})},oi=function(e){var n=e.onSelect,t=e.currentColor;return(0,a.jsx)(Zt,{onSelect:n,colors:ti.map((function(e){return{id:e,label:(0,Wt.A)(e),cssValue:(0,fn.Rw)(fn.Yi[e],1),selected:t===e}}))})},si=function(e){var n=e.captions,t=e.setClosedCaptionsStyleProperty,i=r.useCallback((function(e){t("backgroundColorName",e.id||"")}),[t]),o=r.useCallback((function(e){t("backgroundOpacity",e.currentTarget.value)}),[t]);return(0,a.jsx)(ai,{currentColor:n.style.backgroundColorName,currentOpacity:n.style.backgroundOpacity,onSelectColor:i,onSelectOpacity:o})},li=t(736585),di=t(965645),ui=function(e){var n=e.children;return(0,a.jsx)(v.P,{className:"closed-captions-preview",display:f.nl.Flex,children:n})},ci=function(e){var n=e.fontSize,t=e.styles;return(0,a.jsx)(v.P,{display:f.nl.Flex,flexGrow:1,className:"closed-captions-style-preview",children:(0,a.jsx)(N.S,{display:f.nl.Flex,alignItems:f.k2.Center,justifyContent:f.A9.Center,flexGrow:1,children:(0,a.jsx)("div",{style:(0,i.__assign)((0,i.__assign)({},xn(t).textStyles),{fontSize:n}),children:(0,P.hw)("Aa","ClosedCaptionSettingsStylePreview")})})})},pi=function(e){var n=e.captionStyles,t=e.setEdgeEffect,o=r.useCallback((function(e){var n=e.currentTarget.value;t(n)}),[t]);return(0,a.jsx)(Yt,{label:(0,P.hw)("Effect","FontEdgeEffectSelector"),orientation:"vertical",children:(0,a.jsx)(v.P,{display:f.nl.Flex,flexDirection:f.bo.Row,flexWrap:f.I4.Wrap,children:[fn.wX.None,fn.wX.Raised,fn.wX.Drop,fn.wX.Depressed,fn.wX.Uniform].map((function(e){return(0,a.jsx)(v.P,{margin:{right:1,bottom:1},children:(0,a.jsx)(li.cv,{label:ei(e),children:(0,a.jsx)(di.nx,{name:"effects",borderRadius:b.Z.Medium,checked:n.edge===e,type:di.h8.Radio,onChange:o,value:e,children:(0,a.jsxs)(ui,{children:[e===fn.wX.None&&(0,a.jsx)("hr",{className:"font-edge-effect-selector__no-effect-indicator"}),(0,a.jsx)(ci,{styles:(0,i.__assign)((0,i.__assign)({},fn.qS[fn.Pf.WhiteOnBlack]),{backgroundColorName:fn.DA.LightGray,edge:e}),fontSize:16})]})})})},e)}))})})},mi=function(e){var n=e.captions,t=e.setClosedCaptionsStyleProperty,i=n.style,o=r.useCallback((function(){return t(fn.zz.Bold,i.fontBold===fn.dP.Bold?fn.dP.Normal:fn.dP.Bold)}),[i.fontBold,t]),s=r.useCallback((function(){return t(fn.zz.Underline,i.fontUnderline===fn.mK.Underline?fn.mK.None:fn.mK.Underline)}),[i.fontUnderline,t]),l=r.useCallback((function(){return t(fn.zz.Italic,i.fontItalic===fn.Yf.Italic?fn.Yf.Normal:fn.Yf.Italic)}),[i.fontItalic,t]),d=r.useCallback((function(e){return t("edge",e)}),[t]),u=(0,a.jsx)(Yt,{label:(0,P.hw)("Style","ClosedCaptionsSettingsEffectsTab"),orientation:"vertical",children:(0,a.jsxs)(v.P,{display:f.nl.Flex,flexDirection:f.bo.Row,children:[(0,a.jsx)(vi,{name:fn.zz.Bold,checked:i.fontBold===fn.dP.Bold,toggleFontStyle:o,children:(0,a.jsx)(U.N,{fontSize:f.Z4.Size3,bold:!0,children:(0,P.hw)("B","ClosedCaptionsSettingsEffectsTab")})}),(0,a.jsx)(vi,{name:fn.zz.Italic,checked:i.fontItalic===fn.Yf.Italic,toggleFontStyle:l,children:(0,a.jsx)(U.N,{fontSize:f.Z4.Size3,italic:!0,children:(0,P.hw)("I","ClosedCaptionsSettingsEffectsTab")})}),(0,a.jsx)(vi,{name:fn.zz.Underline,checked:i.fontUnderline===fn.mK.Underline,toggleFontStyle:s,children:(0,a.jsx)(U.N,{fontSize:f.Z4.Size3,decoration:q.i8.Underline,children:(0,P.hw)("U","ClosedCaptionsSettingsEffectsTab")})})]})});return(0,a.jsx)(Xt,{leftSide:u,rightSide:(0,a.jsx)(pi,{captionStyles:i,setEdgeEffect:d})})},vi=function(e){var n=e.name,t=e.checked,i=e.children,r=e.toggleFontStyle;return(0,a.jsx)(v.P,{margin:{right:1,bottom:1},children:(0,a.jsx)(li.cv,{label:Jt(n),children:(0,a.jsx)(di.nx,{onChange:r,checked:t,type:di.h8.Checkbox,borderRadius:b.Z.Medium,children:(0,a.jsx)(v.P,{display:f.nl.Flex,alignItems:f.k2.Center,justifyContent:f.A9.Center,className:"font-style-selector",children:i})})})},n)},fi=function(e){var n=e.captions,t=e.setClosedCaptionsStylesPreset,i=r.useCallback((function(e){var n=e.currentTarget.value;t(n)}),[t]);return(0,a.jsx)(v.P,{display:f.nl.Flex,flexWrap:f.I4.Wrap,margin:{top:1},children:Object.entries(fn.qS).map((function(e){var t=e[0],r=e[1];return(0,a.jsx)(v.P,{margin:{right:1,bottom:1},children:(0,a.jsx)(li.cv,{label:$t(t),children:(0,a.jsx)(di.nx,{name:"presets","aria-label":$t(t),borderRadius:b.Z.Medium,checked:n.preset===t,type:di.h8.Radio,onChange:i,value:t,children:(0,a.jsx)(ui,{children:(0,a.jsx)(ci,{styles:r,fontSize:14})})})})},t)}))})},gi=t(25437),hi="ClosedCaptionsSettingsBackgroundAndWindowTabs",yi=function(e){var n=e.captions,t=e.setClosedCaptionsStyleProperty,i=r.useCallback((function(e){t("fontFamily",e.currentTarget.value)}),[t]),o=r.useCallback((function(e){t("fontOpacity",e.currentTarget.value)}),[t]),s=r.useCallback((function(e){t("alignment",e.currentTarget.value)}),[t]),l=r.useCallback((function(e){t("verticalPosition",e.currentTarget.value)}),[t]),d=r.useCallback((function(e){t("fontColorName",e.id||"")}),[t]),u=r.useCallback((function(e){t("fontSize",Number(e.currentTarget.value))}),[t]),c=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Yt,{label:(0,P.hw)("Font","ClosedCaptionsSettingsTextTab"),id:"".concat(hi,"-font"),orientation:"vertical",children:(0,a.jsx)(bi,{currentFontFamily:n.style.fontFamily,onChange:i})}),(0,a.jsx)(Yt,{label:(0,P.hw)("Text Size","ClosedCaptionsSettingsTextTab"),id:"".concat(hi,"-font-size"),orientation:"vertical",children:(0,a.jsx)(Pi,{currentFontSize:n.style.fontSize,onChange:u,previewStyle:n.style})}),(0,a.jsx)(Yt,{label:(0,P.hw)("Color","ClosedCaptionsSettingsTextTab"),orientation:"vertical",children:(0,a.jsx)(Ci,{currentFontColorName:n.style.fontColorName,onSelect:d})})]}),p=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Yt,{label:(0,P.hw)("Alignment","ClosedCaptionsSettingsTextTab"),id:"".concat(hi,"-alignment"),orientation:"vertical",children:(0,a.jsx)(_i,{onChange:s,currentAlignment:n.style.alignment})}),(0,a.jsx)(Yt,{label:(0,P.hw)("Position","ClosedCaptionsSettingsTextTab"),id:"".concat(hi,"-position"),orientation:"vertical",children:(0,a.jsx)(ki,{onChange:l,currentVerticalPosition:n.style.verticalPosition})}),(0,a.jsx)(Yt,{label:(0,P.hw)("Opacity","ClosedCaptionsSettingsTextTab"),id:"".concat(hi,"-opacity"),orientation:"vertical",children:(0,a.jsx)(Si,{onChange:o,currentOpacity:n.style.fontOpacity})})]});return(0,a.jsx)(Xt,{leftSide:c,rightSide:p})},ki=function(e){var n=e.onChange,t=e.currentVerticalPosition;return(0,a.jsxs)(ze.l,{size:qe.Y.Small,onChange:n,value:t,id:"".concat(hi,"-position"),children:[(0,a.jsx)("option",{value:fn.G0.Bottom,children:(0,P.hw)("Bottom","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:fn.G0.Top,children:(0,P.hw)("Top","ClosedCaptionsSettingsTextTab")})]})},Si=function(e){var n=e.onChange,t=e.currentOpacity;return(0,a.jsxs)(ze.l,{size:qe.Y.Small,onChange:n,value:t,id:"".concat(hi,"-opacity"),children:[(0,a.jsx)("option",{value:fn.Y4.Solid,children:(0,P.hw)("Solid","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:fn.Y4.Translucent,children:(0,P.hw)("Translucent","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:fn.Y4.SemiTransparent,children:(0,P.hw)("Semi-Transparent","ClosedCaptionsSettingsTextTab")})]})},_i=function(e){var n=e.onChange,t=e.currentAlignment;return(0,a.jsxs)(ze.l,{size:qe.Y.Small,onChange:n,value:t,id:"".concat(hi,"-alignment"),children:[(0,a.jsx)("option",{value:fn.$3.Left,children:(0,P.hw)("Left","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:fn.$3.Center,children:(0,P.hw)("Center","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:fn.$3.Right,children:(0,P.hw)("Right","ClosedCaptionsSettingsTextTab")})]})},bi=function(e){var n=e.onChange,t=e.currentFontFamily;return(0,a.jsxs)(ze.l,{size:qe.Y.Small,onChange:n,value:t,id:"".concat(hi,"-font"),children:[(0,a.jsx)("option",{value:fn.ay.MonoSerif,children:(0,P.hw)("Mono Serif","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:fn.ay.Serif,children:(0,P.hw)("Serif","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:fn.ay.MonoSansSerif,children:(0,P.hw)("Mono Sans-Serif","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:fn.ay.SansSerif,children:(0,P.hw)("Sans-Serif","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:fn.ay.Casual,children:(0,P.hw)("Casual","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:fn.ay.Cursive,children:(0,P.hw)("Cursive","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:fn.ay.SmallCapitals,children:(0,P.hw)("Small Capitals","ClosedCaptionsSettingsTextTab")})]})},Ci=function(e){var n=e.onSelect,t=e.currentFontColorName;return(0,a.jsx)(Zt,{onSelect:n,colors:[fn.OU.White,fn.OU.Black,fn.OU.Red,fn.OU.Green,fn.OU.Cyan,fn.OU.Magenta,fn.OU.Yellow,fn.OU.Blue].map((function(e){return{id:e,label:(0,Wt.A)(e),cssValue:(0,fn.Rw)(fn.tZ[e],1),selected:t===e}}))})},Pi=function(e){var n=e.currentFontSize,t=e.onChange,i=e.previewStyle;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(v.P,{display:f.nl.Flex,alignItems:f.k2.Center,children:[(0,a.jsx)(gi.Q,{min:fn.z9.min,max:fn.z9.max,step:fn.z9.increment,value:String(n),onChange:t,id:"".concat(hi,"-font-size")}),(0,a.jsx)(v.P,{className:"closed-captions-settings-font-size__preview",display:f.nl.Flex,alignItems:f.k2.Center,justifyContent:f.A9.Center,padding:{left:.5},children:(0,a.jsx)(ci,{styles:i,fontSize:i.fontSize})})]})})},Ei=function(e){var n=e.captions,t=e.setClosedCaptionsStyleProperty,i=n.style,o=r.useCallback((function(e){t("windowColorName",e.id||"")}),[t]),s=r.useCallback((function(e){t("windowOpacity",e.currentTarget.value)}),[t]);return(0,a.jsx)(ai,{currentColor:i.windowColorName,currentOpacity:i.windowOpacity,onSelectColor:o,onSelectOpacity:s})};!function(e){e[e.Presets=0]="Presets",e[e.Text=1]="Text",e[e.Effects=2]="Effects",e[e.Background=3]="Background",e[e.Window=4]="Window"}(ni||(ni={}));var Ni="cc-settings-overlay",xi=(0,o.Zz)((0,s.X)({name:"ClosedCaptionsSettingsOverlay"}),(0,te.c0)((function(e){var n=e.captions,t=e.setClosedCaptionsSettingsShowing,i=e.setClosedCaptionsStyles,a=e.setClosedCaptionsStylesPreset;return{captions:n,setClosedCaptionsSettingsShowing:t,setClosedCaptionsStyles:i,setClosedCaptionsStylesPreset:a}})))((function(e){var n=(0,r.useState)(ni.Presets),t=n[0],i=n[1],o=(0,r.useRef)(null);(0,Ht.N)({id:Ni,focusableElementsQuerySelector:"button, a, input:checked, select",deps:[t]});var s=(0,r.useCallback)((function(){e.setClosedCaptionsSettingsShowing(!1)}),[e]),l=r.useCallback((function(e){"Escape"===e.key&&s()}),[s]),d=function(e,n){i(n)},u=function(n,t){var i;e.setClosedCaptionsStyles(((i={})[n]=t,i))};return(0,r.useEffect)((function(){o.current&&o.current.focus()}),[]),(0,r.useEffect)((function(){return document.addEventListener("keydown",l),function(){document.removeEventListener("keydown",l)}}),[l]),(0,a.jsx)(Me.FT,{type:Me.NL.Fullscreen,transparency:Me.xL.Transparency10,children:(0,a.jsx)(zt.V,{onClickOut:s,children:(0,a.jsxs)(v.P,{id:Ni,role:"dialog",ref:o,background:f.VS.Base,color:f.Q1.Base,className:"cc-settings-overlay__modal",padding:2,tabIndex:-1,children:[(0,a.jsx)(qt.r,{title:(0,P.hw)("Closed Caption Settings","ClosedCaptionsSettingsOverlay"),closeButton:{"aria-label":(0,P.hw)("Close Closed Caption Settings","ClosedCaptionsSettingsOverlay"),onClick:s}}),(0,a.jsx)(Gt.t,{activeTabIndex:t,tabs:[{label:(0,P.hw)("Presets","ClosedCaptionsSettingsOverlay"),onClick:d},{label:(0,P.hw)("Text","ClosedCaptionsSettingsOverlay"),onClick:d},{label:(0,P.hw)("Effects","ClosedCaptionsSettingsOverlay"),onClick:d},{label:(0,P.hw)("Background","ClosedCaptionsSettingsOverlay"),onClick:d},{label:(0,P.hw)("Window","ClosedCaptionsSettingsOverlay"),onClick:d}]}),function(){switch(t){case ni.Presets:return(0,a.jsx)(fi,{setClosedCaptionsStylesPreset:e.setClosedCaptionsStylesPreset,captions:e.captions});case ni.Text:return(0,a.jsx)(yi,{setClosedCaptionsStyleProperty:u,captions:e.captions});case ni.Effects:return(0,a.jsx)(mi,{setClosedCaptionsStyleProperty:u,captions:e.captions});case ni.Background:return(0,a.jsx)(si,{setClosedCaptionsStyleProperty:u,captions:e.captions});case ni.Window:return(0,a.jsx)(Ei,{setClosedCaptionsStyleProperty:u,captions:e.captions});default:return null}}()]})})})}));var Ai,wi=t(779075),Ti=function(){return(0,a.jsx)(wi.t,{name:"CollectionEmptyOverlay",children:(0,a.jsx)(v.P,{position:f.yX.Absolute,display:f.nl.Flex,flexDirection:f.bo.Column,justifyContent:f.A9.Center,alignItems:f.k2.Center,color:f.Q1.Overlay,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,textAlign:f.nO.Center,children:(0,a.jsx)(U.N,{fontSize:f.Z4.Size4,bold:!0,lineHeight:q.aK.Heading,color:f.Q1.Overlay,children:(0,P.hw)("This collection is empty.","VideoPlayerCollectionEmptyOverlay")})})})},Ii=t(70931),Di=t(636367),Fi=t(702671),Oi=t(954147),Ri=t.n(Oi);function Vi(e){return null!==e}function Mi(){clearTimeout(Ai)}var Li=(0,o.Zz)((0,s.X)({name:"CollectionSidebarOverlay"}),(0,T.cj)((function(e){var n=e.content,t=e.behaviors;return{skipQuery:!(0,H.P3)(n)||!n.collectionID,collectionID:(0,H.P3)(n)&&n.collectionID||"",vodID:(0,H.P3)(n)&&n.vodID||void 0,openLinksExternally:null==t?void 0:t.openStreamInfoLinksExternally}})),(0,te.c0)((function(e){var n=e.hideCollectionSidebar,t=e.isCollectionSidebarShowing;return{hideCollectionSidebar:n,isCollectionSidebarShowing:t}})),(0,de.AP)((function(e){var n=e.pause;return{pause:n}})),(0,G._v)(Ri(),{skip:function(e){return e.skipQuery},options:function(e){return{variables:{collectionID:e.collectionID}}}}),(0,ct.e)())((function(e){var n,t=e.data,i=e.hideCollectionSidebar,o=e.vodID,s=e.isCollectionSidebarShowing,l=e.getContentUrl,d=e.openLinksExternally,u=e.pause,c=r.useCallback((function(){d&&u()}),[d,u]),p=t&&t.collection;if(!p)return null;var m=p.items&&p.items.edges.filter(Vi),g=p.owner&&p.owner.displayName||"",h=p.lengthSeconds||0,y=p.title||"";if(!m)return null;var k=null!=o?o:null===(n=m[0])||void 0===n?void 0:n.node.id;return(0,a.jsx)(Se.e,{theme:"dark",children:(0,a.jsx)("aside",{onMouseLeave:function(){return function(e){Ai=setTimeout(e,400)}(i)},onMouseEnter:Mi,children:(0,a.jsx)(N.S,{className:"collections-sidebar",position:f.yX.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,display:f.nl.Flex,flexDirection:f.bo.Column,background:f.VS.Base,children:(0,a.jsxs)(Mn.e,{show:s,type:Ln.ES.TranslateLeft,children:[(0,a.jsx)(v.P,{position:f.yX.Absolute,attachRight:!0,attachTop:!0,padding:{right:1,top:1},children:(0,a.jsx)(_e.a2,{"aria-label":(0,P.hw)("Close collection listing","collections-sidebar"),icon:be.g,overlay:!0,onClick:i})}),(0,a.jsxs)(v.P,{padding:1,background:f.VS.Alt2,children:[(0,a.jsx)(U.N,{color:f.Q1.Overlay,children:y}),(0,a.jsx)(U.N,{color:f.Q1.Alt2,children:(0,P.hw)("by <x:link>{owner}</x:link> • {videos} videos • {timeText}",{owner:g,"x:link":function(e){var n,t,i=null===(n=p.owner)||void 0===n?void 0:n.profileURL;return!d&&(null===(t=p.owner)||void 0===t?void 0:t.login)&&(i="/".concat(p.owner.login)),(0,a.jsx)(Ii.Cb,{linkTo:null!=i?i:"",targetBlank:d,onClick:c,children:e})},videos:p.items.totalCount,timeText:(0,Fi.a3)(h)},"collections-sidebar")})]}),(0,a.jsx)(v.P,{borderRadius:b.Z.Medium,elevation:3,padding:1,border:!0,overflow:f.nE.Auto,children:m.map((function(e,n){var t=e.node;return(0,a.jsx)(Di.tD,{linkTo:l({type:gn.FC.Collection,vodID:t.id,collectionID:p.id}),onClick:i,borderRadius:b.Z.Medium,tabIndex:0,selected:k===t.id,children:(0,a.jsxs)(v.P,{padding:{x:1,y:.5},display:f.nl.Flex,alignItems:f.k2.Center,children:[(0,a.jsx)(v.P,{flexGrow:0,flexShrink:0,children:(0,a.jsx)(U.N,{className:"collections-sidebar-index",color:f.Q1.Overlay,children:n+1})}),(0,a.jsx)(v.P,{flexGrow:0,flexShrink:0,children:(0,a.jsx)("img",{alt:(0,P.hw)("Thumbnail of one of the videos in the collection.","collections-sidebar"),src:t.previewThumbnailURL})}),(0,a.jsxs)(v.P,{flexGrow:1,flexShrink:1,padding:{left:1},children:[(0,a.jsx)(U.N,{color:f.Q1.Overlay,children:t.title}),(0,a.jsx)(U.N,{color:f.Q1.Alt2,ellipsis:!0,children:g})]})]})},t.id)}))})]})})})})}));var ji=l.x.wrap((function(){return t.e(45739).then(t.bind(t,192536))}),"ContentClassificationGateBackgroundPlayerOverlay"),Bi=l.x.wrap((function(){return t.e(8460).then(t.bind(t,365163))}),"ContentClassificationGateMiniPlayerOverlay"),Ui=l.x.wrap((function(){return t.e(57804).then(t.bind(t,665179))}),"ContentClassificationGateVideoOverlay"),qi=(0,o.Zz)((0,T.cj)((function(e){return{behaviors:e.behaviors}})),(0,oe.Z)((function(e){return{overlayType:e.overlayType,channelName:e.channelName,contentLabels:e.contentLabels,storeAcknowledgement:e.storeAcknowledgement,trackClick:e.trackClick}})),(0,w.VX)((function(e){return{videoAdMetadata:e.videoAdMetadata}})))((function(e){var n=e.overlayType,t=e.channelName,i=e.contentLabels,r=e.storeAcknowledgement,o=e.trackClick,s=e.behaviors,l=e.videoAdMetadata,d=(0,k.d4)((function(e){return e.ui.channelHomeLive}));return!(null==s?void 0:s.disableMatureOverlay)&&!(0,j.cz)(l)&&(0,se.cJ)(n)&&t&&i?(null==s?void 0:s.mini)?(0,a.jsx)(je,{restriction:Fe.S.Mature,children:(0,a.jsx)(Bi,{})}):d?(0,a.jsx)(je,{restriction:Fe.S.Mature,children:(0,a.jsx)(ji,{})}):(0,a.jsx)(je,{restriction:Fe.S.Mature,children:(0,a.jsx)(Ui,{channelName:t,contentLabels:i.map(se.Uw),overlayType:n,onAcknowledge:r,trackClick:o,showGoHomeButton:!(null==s?void 0:s.disableCCLGoHomeButton)})}):null})),Gi=t(339672),zi=t(132902),Hi=t(217600),Wi=t(657659),Ki=function(e){var n=e.children,t=e.onClick,i=e.ariaLabel,r=(0,a.jsx)(v.P,{padding:1,borderRadius:b.Z.Medium,margin:{bottom:1},className:"disclosure-card",children:n});return(0,a.jsx)(Ge.h,{overlay:!0,"aria-label":i,children:"function"==typeof t?(0,a.jsx)(jn.M,{onClick:t,children:r}):r})};var Zi=function(e){var n=e.brandedContentTrackingBase,t=e.disableArrowOnDisclosure;return(0,a.jsx)(Ki,{onClick:function(){var e;window.open("https://help.twitch.tv/s/article/branded-content-policy","_blank"),e=n,P.E5.track("branded_content_disclosure_click",{event_id:e.event_id,content_type:e.content_type})},children:(0,a.jsxs)(v.P,{display:"flex",justifyContent:"space-between",children:[(0,a.jsx)(v.P,{margin:{x:.5},children:(0,a.jsx)(U.N,{fontWeight:"semibold",children:(0,P.hw)("Includes Paid Promotion","Branded Content Disclosure Tool")})}),!t&&(0,a.jsx)(v.P,{display:"flex",margin:{left:.5},children:(0,a.jsx)(Wi.d,{})})]})})},Qi=t(973421),Yi=t.n(Qi),Xi=t(611407),$i=t(783321),Ji=t(982821),ea=t(105146),na=t(971900),ta=t.n(na),ia=function(){var e,n,t,a,o,s,l,d,u,c,p,m,v=r.useRef((0,ea.aq)()),f=r.useContext(T.kl).content,g=!!(0,H.DG)(f),h=!!(0,H.wy)(f)||!(!(0,H.P3)(f)||!f.vodID),y=(0,H.hd)(f)||"",k=(0,H.hq)(f)||"",S={login:y||"",vodID:k||"",isLive:g,isVOD:h},_=(0,$i.IT)(ta(),{fetchPolicy:"cache-and-network",variables:S,skip:""===y&&""===k}).data;h&&""===y&&(y=(null===(n=null===(e=null==_?void 0:_.video)||void 0===e?void 0:e.owner)||void 0===n?void 0:n.login)||"");var b=(null===(t=null==_?void 0:_.user)||void 0===t?void 0:t.id)||(null===(o=null===(a=null==_?void 0:_.video)||void 0===a?void 0:a.owner)||void 0===o?void 0:o.id)||"",C=(null===(d=null===(l=null===(s=null==_?void 0:_.user)||void 0===s?void 0:s.stream)||void 0===l?void 0:l.contentPolicyProperties)||void 0===d?void 0:d.hasBrandedContent)&&g||!1,E=(null===(c=null===(u=null==_?void 0:_.video)||void 0===u?void 0:u.contentPolicyProperties)||void 0===c?void 0:c.hasBrandedContent)&&h&&(null===(p=null==_?void 0:_.video)||void 0===p?void 0:p.broadcastType)===me.Suw.ARCHIVE||!1,N=C||E||!1,x=(0,R.Z)(N);(0,Xi.C)({query:ta(),skip:""===y||""===b||!g,variables:S,topic:(0,pe.im)(b),type:Ji.PD.ContentPolicyPropertiesV1,mutator:function(e,n){return n.user&&n.user.stream&&n.user.stream.contentPolicyProperties&&void 0!==e.data.has_branded_content?Yi()(n,(function(e){return e.user.stream.contentPolicyProperties.hasBrandedContent}),(function(){return e.data.has_branded_content})):n}});var A=me.Iem.CONTENT_TYPE_UNSET;g?A=me.Iem.CONTENT_TYPE_CHANNEL:h&&(null===(m=null==_?void 0:_.video)||void 0===m?void 0:m.broadcastType)===me.Suw.ARCHIVE&&(A=me.Iem.CONTENT_TYPE_PAST_BROADCAST);var w={event_id:v.current,content_type:A},I={render_start:!1,render_end:!1,visible:!1},D=function(){var e;N?O?I.render_start=!0:I.render_end=!0:I.render_end=!0===x,I.visible=M,(I.render_start||I.render_end)&&(I.render_end&&(v.current=(0,ea.aq)()),e=(0,i.__assign)((0,i.__assign)({},w),I),P.E5.track("branded_content_disclosure_render",{event_id:e.event_id,content_type:e.content_type,render_start:e.render_start,render_end:e.render_end,visible:e.visible}))},F=r.useState(!0),O=F[0],V=F[1];r.useEffect((function(){x!==N&&V(N);var e=setTimeout((function(){V((function(e){return!e}))}),O?1e4:36e5);return function(){clearTimeout(e)}}),[O,N,y,k]);var M=N&&O;return r.useEffect((function(){D()}),[M]),r.useEffect((function(){V(!0)}),[y,k]),{isBrandedContentVisible:M,brandedContentTrackingBase:w}},aa=t(77451),ra=t(674602),oa=t(630193),sa=t(145463),la=function(){return(0,P.hw)("Intended for certain audiences","ContentClassificationDisclosureOverlay")},da=function(e){return(0,P.hw)("May contain: {labelList}",{labelList:(0,P.ki)(e,{style:"short",type:"unit"})},"ContentClassificationDisclosureOverlay")},ua=function(e){return(0,P.hw)("Manage your content preferences in <x:link>settings</x:link>.",{"x:link":function(n){return(0,a.jsx)(Ii.Cb,{targetBlank:!e||(0,oa.W)(),linkTo:{pathname:e?(0,sa.VV)("/settings/content-preferences"):"https://help.twitch.tv/s/article/how-to-customize-content#ContentDisplayPreferences",state:{medium:"content_warning_card",content:"manage_settings_button"}},children:n})}},"ContentClassificationDisclosureOverlay")},ca=function(){return(0,P.hw)("Failed to determine content classification","ContentClassificationDisclosureOverlay")},pa=function(e){var n,t=e.contentList,i=e.disableArrowOnDisclosure,o=e.trackClick,s=(0,r.useState)(!1),l=s[0],d=s[1],u=(0,r.useCallback)((function(){return d((function(e){var n=t.length>0&&!e;return o(n?"expand_disclosure":"collapse_disclosure"),n}))}),[t,d,o]),c=(0,r.useState)(void 0),p=c[0],m=c[1],g=(0,k.d4)(ve.M3),h=(0,r.useCallback)((function(e){var n,t=null===(n=null==e?void 0:e.getBoundingClientRect())||void 0===n?void 0:n.width;t&&m("".concat(t,"px"))}),[m]);return(0,a.jsx)(Ki,{onClick:u,ariaLabel:t.length>0?(n=t,(0,P.hw)("Intended for certain audiences. May contain: {labelList}",{labelList:(0,P.ki)(n,{style:"short",type:"unit"})},"ContentClassificationDisclosureOverlay")):la(),children:(0,a.jsxs)(v.P,{display:"flex",flexDirection:"column",justifyContent:"space-between",margin:{left:.5},style:{lineHeight:0},ref:h,"data-a-target":"content-classification-warning-disclosure-overlay",children:[(0,a.jsxs)(v.P,{display:"flex",justifyContent:"space-between",children:[(0,a.jsx)(U.N,{fontWeight:"semibold",children:la()}),!i&&t.length>0&&(0,a.jsx)(v.P,{margin:{left:1},children:(0,a.jsx)(ra.K7,{closedDirection:"down",openDirection:"up",open:l})})]}),t.length>0&&(0,a.jsxs)(Mn.e,{type:"slide-over-top",show:l,children:[(0,a.jsx)(v.P,{padding:{top:.5},width:p,children:(0,a.jsx)(U.N,{color:f.Q1.OverlayAlt,children:da(t)})}),(0,a.jsx)(v.P,{padding:{top:1},width:p,children:(0,a.jsx)(U.N,{color:f.Q1.OverlayAlt,children:ua(g)})})]})]})})},ma=t(105922),va=function(e){var n=e.onHideClick;return(0,a.jsx)(Ki,{ariaLabel:ca(),children:(0,a.jsxs)(v.P,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,a.jsx)(v.P,{display:"flex",margin:{x:.5},children:(0,a.jsx)(ma.i,{})}),(0,a.jsx)(v.P,{margin:{x:.5},children:(0,a.jsx)(U.N,{fontWeight:"semibold",children:ca()})}),(0,a.jsx)(_e.a2,{icon:be.g,size:"small",onClick:n,"aria-label":(0,P.hw)("Dismiss content classification notice","ContentClassificationDisclosureOverlay")})]})})},fa=(0,o.Zz)((0,oe.Z)((function(e){return{overlayType:e.overlayType,contentLabels:e.contentLabels,trackClick:e.trackClick}})))((function(e){var n=e.contentLabels,t=e.disableArrowOnDisclosure,i=e.hideContentClassificationDisclosure,r=e.overlayType,o=e.trackClick;return r===aa.P8.ContentWarningDisclosure&&n?(0,a.jsx)(pa,{contentList:n.map(se.Uw),trackClick:o,disableArrowOnDisclosure:t}):r===aa.P8.FetchErrorDisclosure?(0,a.jsx)(va,{onHideClick:function(){i(),o("hide_error")}}):null})),ga=t(727234),ha=(0,o.Zz)((0,k.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled}})),(0,T.cj)((function(e){var n,t=e.behaviors,i=e.content;return{isContentLive:!!(0,H.DG)(i),isContentVod:!!(0,H.wy)(i)||!(!(0,H.P3)(i)||!i.vodID),isEmbedded:!!(null==t?void 0:t.embed),disableMatureOverlay:!!(null==t?void 0:t.disableMatureOverlay),disableBrandedContentDisclosureOverlay:!!(null==t?void 0:t.disableBrandedContentDisclosureOverlay),forceDisclosuresPosition:null!==(n=null==t?void 0:t.forceDisclosuresPosition)&&void 0!==n?n:Gi.G.Default,disableArrowOnDisclosure:!!(null==t?void 0:t.disableArrowOnDisclosure)}})),(0,oe.Z)((function(e){return{overlayType:e.overlayType}})),(0,te.c0)((function(e){return{isFullscreen:e.isFullscreen,recommendationsShowing:e.recommendationsShowing}})),(0,M.dd)((function(e){return{isOffline:!!e.isOffline}})),(0,w.VX)((function(e){var n=e.videoAdMetadata;return{isVideoAdShowing:(0,j.cz)(n)}})))((function(e){var n=e.disableArrowOnDisclosure,t=e.disableBrandedContentDisclosureOverlay,i=e.disableMatureOverlay,o=e.isContentLive,s=e.isContentVod,l=e.isEmbedded,d=e.isFullscreen,u=e.isOffline,c=e.isOnScreenControlsOn,p=e.isVideoAdShowing,m=e.overlayType,g=e.theatreModeEnabled,h=e.forceDisclosuresPosition,y=function(e){var n=e.isOnScreenControlsOn,t=e.isVideoAdShowing,i=(0,r.useRef)(0),a=(0,r.useRef)(!0),o=(0,ga.Z)(t),s=(0,r.useState)(!1),l=s[0],d=s[1],u=(0,r.useState)(!1),c=u[0],p=u[1],m=(0,r.useCallback)((function(){return p(!0)}),[p]);return(0,r.useEffect)((function(){return d(!0),i.current=setTimeout((function(){d(!1)}),5e3),function(){i.current&&clearTimeout(i.current)}}),[]),(0,r.useEffect)((function(){o&&!t&&a.current&&(a.current=!1,d(!0),clearTimeout(i.current),i.current=setTimeout((function(){d(!1)}),5e3))}),[o,t]),{isContentClassificationDisclosureVisible:!c&&(l||n),hideContentClassificationDisclosure:m}}({isOnScreenControlsOn:c,isVideoAdShowing:p}),k=y.isContentClassificationDisclosureVisible,S=y.hideContentClassificationDisclosure,_=ia(),b=_.isBrandedContentVisible,C=_.brandedContentTrackingBase,E=function(e){var n=e.disableMatureOverlay,t=e.isOffline,i=e.isVideoAdShowing,a=e.overlayType;return!n&&!t&&!i&&[aa.P8.ContentWarningDisclosure,aa.P8.FetchErrorDisclosure].includes(a)}({disableMatureOverlay:i,isOffline:u,isVideoAdShowing:p,overlayType:m}),N=function(e){var n=e.disableBrandedContentDisclosureOverlay,t=e.isOffline;return!e.isVideoAdShowing&&!t&&!n}({disableBrandedContentDisclosureOverlay:t,isOffline:u,isVideoAdShowing:p});if(!E&&!N)return null;var x=g||d||s||l||h===Gi.G.TopRight,A=c&&(g||l)&&!d&&o,w=c&&d&&o,T=x||A||w;return(0,a.jsx)(Hi.u,{section:"global",id:"channel-player-disclosures",icon:Un.A,label:(0,P.hw)("Player Controls","SkipToTargetDisclosureContainer"),enabled:!(0,se.cJ)(m)&&(0,se.OI)(m),children:(0,a.jsx)(v.P,{attachTop:!0,attachLeft:!x,attachRight:x,className:pn()("disclosure-tool",{"dt-attach-top-right":x,"dt-attach-top-right-shift-down":A,"dt-attach-top-right-shift-left":w}),position:f.yX.Absolute,display:f.nl.Flex,flexDirection:f.bo.Column,alignItems:T?f.k2.End:f.k2.Start,children:(0,a.jsxs)(zi.F,{transitionType:Ln.ES.SlideOverTop,children:[N&&b&&(0,a.jsx)(Zi,{brandedContentTrackingBase:C,disableArrowOnDisclosure:n},"branded-content-disclosure"),E&&k&&(0,a.jsx)(fa,{hideContentClassificationDisclosure:S,disableArrowOnDisclosure:n},"content-classification-disclosure")]})})})})),ya=t(905686),ka=t(679117),Sa=function(e){return(0,a.jsx)(He.$n,{icon:ka.H,size:He.Mp.Large,variant:He.VQ.Alert,onClick:function(){e.updateContext({manualResetRequested:!0})},children:e.isSmall?(0,P.hw)("Reload Player","ManualResetButton"):(0,P.hw)("Click Here to Reload Player","ManualResetButton")})},_a=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderChildren=function(e){return n.props.error&&(0,ya.G_)(n.props.error)?(0,a.jsx)(Sa,{isSmall:e,updateContext:n.props.updateContext}):null},n}return(0,i.__extends)(n,e),n.prototype.componentWillUnmount=function(){this.props.removeError()},n.prototype.render=function(){var e=function(e){switch(e){case ya.O4.GeoBlocked:return(0,P.hw)("This premium content is not available in your region. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.UnsupportedDevice:return(0,P.hw)("Your device does not support playback of this premium content. Please try a different device. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.AnonymizerBlocked:return(0,P.hw)("A proxy or unblocker has been detected. This premium content will not be available to you while it is in use. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.CellularNetworkProhibited:return(0,P.hw)("Please connect to a Wi-Fi network to watch this premium content. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.LVSCCUCap:case ya.O4.CCUCapReached:return(0,P.hw)("An error occurred. Please try again. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.Aborted:return(0,P.hw)("The video download was cancelled. Please try again. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.Network:return(0,P.hw)("There was a network error. Please try again. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.Decode:return(0,P.hw)("Your browser encountered an error while decoding the video. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.FormatNotSupported:return(0,P.hw)("This video is either unavailable or not supported in this browser. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.ContentNotAvailable:return(0,P.hw)("This video is unavailable. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.RendererNotAvailable:return(0,P.hw)("Your browser does not support playback of this video. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.SafariUnsupportedDevice:return(0,P.hw)("Safari is not currently supported for this stream. Please try Chrome or Firefox. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.CDMNotAuthorized:return(0,P.hw)("Your browser or device does not support playback of this video. Please try upgrading your browser or try a different device. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.DRMLicenseNotAvailable:return(0,P.hw)("DRM License for premium content is not available. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case ya.O4.DRMLicenseServerError:return(0,P.hw)("DRM License Server error. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");default:return null}}(this.props.error);return e?(0,a.jsx)(he.rj,{iconProps:{type:ye.W.Empty},text:e,children:this.renderChildren}):null},n}(r.Component);var ba=(0,o.Zz)((0,s.X)({name:"ErrorOverlay"}),(0,M.dd)((function(e){return{error:e.error,removeError:e.removeError,updateContext:e.updateContext}})))(_a);var Ca=t(98865),Pa=t(987476),Ea=t(734993),Na=t(691177),xa=t(288480),Aa=function(e){function n(n){return e.call(this,n)||this}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this.props,n=e.arePlayerControlsVisible,t=e.game,a=e.theme,r=e.isVideoAdShowing,o=e.videoStats;xa.ZO.postContext((0,i.__assign)({arePlayerControlsVisible:n,game:t,theme:a,isVideoAdShowing:r},o))},n.prototype.componentDidUpdate=function(e){var n=this.props,t=n.arePlayerControlsVisible,i=n.game,a=n.theme,r=n.isVideoAdShowing,o=e.game!==i,s=e.theme!==a,l=e.arePlayerControlsVisible!==t,d=e.isVideoAdShowing!==r,u={};this.didVideoStatsChange(e.videoStats)&&Object.assign(u,this.props.videoStats),o&&(u.game=i),s&&(u.theme=a),l&&(u.arePlayerControlsVisible=t),d&&(u.isVideoAdShowing=r),Object.values(u).length>0&&xa.ZO.postContext(u)},n.prototype.render=function(){return null},n.prototype.didVideoStatsChange=function(e){var n=this.props.videoStats;return e?!n||Object.keys(n).some((function(t){return n[t]!==e[t]})):!!n},n}(r.Component),wa=function(e){function n(n){var t=e.call(this,n)||this;t.getVideoStatsContext=function(){var e=t.props,n=e.channelLogin,i=e.mediaPlayerInstance;return i?{bitrate:i.getVideoBitRate(),bufferSize:i.getBufferDuration(),displayResolution:"".concat(i.getDisplayWidth(),"x").concat(i.getDisplayHeight()),hlsLatencyBroadcaster:i.getLiveLatency(),isFullScreen:t.props.isFullScreen,isPaused:t.isVideoPaused(),isTheatreMode:t.props.isTheatreMode,isMuted:t.props.muted,playerChannel:n,videoResolution:"".concat(i.getVideoWidth(),"x").concat(i.getVideoHeight()),volume:t.props.volume}:null},t.updateVideoStatsContext=function(){var e=t.getVideoStatsContext();e&&t.setState({videoStats:e})},t.isVideoPaused=function(){var e=t.props,n=e.mediaPlayerInstance,i=e.isVideoAdShowing,a=e.isAdPlaying;return i?!a:!!n&&n.isPaused()};var i=t.getVideoStatsContext();return t.state=i?{videoStats:i}:{},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.videoContextUpdateInterval=setInterval(this.updateVideoStatsContext,1e3)},n.prototype.render=function(){var e=this.props,n=e.game,t=e.theme,i=e.isVideoAdShowing,r=e.arePlayerControlsVisible;return(0,a.jsx)(Aa,{game:n,theme:t,arePlayerControlsVisible:r,isVideoAdShowing:i,videoStats:this.state.videoStats})},n.prototype.componentWillUnmount=function(){clearInterval(this.videoContextUpdateInterval)},n}(r.Component);var Ta=(0,o.Zz)((0,k.Ng)((function(e){return{isTheatreMode:e.ui.theatreModeEnabled,theme:(0,Na.iR)(e)}})),(0,M.dd)((function(e){var n=e.mediaPlayerInstance,t=e.volume,i=e.muted;return{mediaPlayerInstance:n,volume:t,muted:i}})),(0,te.c0)((function(e){var n=e.isFullscreen;return{isFullScreen:n}})),(0,T.cj)((function(e){var n=e.content;return{channelLogin:(0,H.hd)(n)||""}})))(wa);var Ia=t(793122),Da=t(79570),Fa=t(808681),Oa=t(324602),Ra=t(86011),Va=t(542685),Ma={"0qr7fa6llzn4txgnfgb8ipeksd5v24":{useWEBM:!1,overriddenViewerSummary:"Mouse over the streamer's cards on the video to see the full card in hi-res!"},"2d2vfk9d8utgo0e9abb4j8p8po70ym":{useWEBM:!1,overriddenViewerSummary:"Mouse over the video to the see the decklist being played, and mouse over cards in the decklist to see their art and details."},"7hoqd16sufw9f9h3swlkdt6lqdn3ud":{useWEBM:!1,overriddenViewerSummary:"Click the purple icon on the video to see this streamer's favorite streaming gear and other products from Amazon."},apwln3g3ia45kk690tzabfp525h9e1:{useWEBM:!0,overriddenViewerSummary:"Mouse over minions, heroes and secrets to view the full card art, see the deck the streamer is currently playing and import it into Hearthstone!"},fozlqfmrrdtastjnfxw3pmnqto9zns:{useWEBM:!0,overriddenViewerSummary:"Click the purple icon on the video to see the streamer’s gear, view details on perks, get class info, and more."},"07kczqwdkjxw6la4j92crc5wyumjxa":{useWEBM:!0,overriddenViewerSummary:"Mouse over the logo on the left side of the stream to inspect the streamer's Vault Hunter profile, gear and skills, earn loot discovered in rare chests, and control the game with badass events!"},fdpp9vcx5bsz8osxvqii4i9cumwswd:{useWEBM:!0,overriddenViewerSummary:"Mouse over the left side of the stream to see the streamer's current gear in real-time."},d0j6f4h633ds71x7mg5pm7uytj2yi8:{useWEBM:!0,overriddenViewerSummary:"Click the deck icon on the left side of the video to see each player's decklist. Mouse over cards in the decklist to see their image and rules text."},d4uvtfdr04uq6raoenvj7m86gdk16v:{useWEBM:!1,overriddenViewerSummary:"Click the blue Prime icon on the video to see what subscriptions & benefits you have available on this channel."},"9coq5ejlddcho3k014joup6mr2lras":{useWEBM:!1,overriddenViewerSummary:"Click the helmet icon on the video to see the live map, drop, skirmish, loot and load-out details."},b761gcvkac6qbwo26ededwf9sluqh0:{useWEBM:!1,overriddenViewerSummary:"Click the red button on the video to view the streamer's current talents, gear and stats."},zfh2irvx2jb4s60f02jq0ajm8vwgka:{useWEBM:!1,overriddenViewerSummary:"Click the streamer's icon on the video to uncover actions they've enabled - like song requests, scratchers and more."},vysfim0ck7k5a65fcr0d0t1x5jllpq:{useWEBM:!0,overriddenViewerSummary:"Click the League of Legends icon on the video to see live game details like the current scoreboard, summoners, build and game history."}},La=t(33381),ja=function(e){function n(n){var t=e.call(this,n)||this;return t.renderMenuOpenStatus=function(e){return(0,a.jsx)(v.P,{alignItems:f.k2.Center,children:(0,a.jsx)(v.P,{className:pn()("extensions-dock-card__menu-status",e&&"extensions-dock-card__menu-status__visible"),margin:{right:.5,left:.5}})})},t.renderCardImage=function(e){var n=t.props.installation,r=t.state.iconUrls,o=n.activationConfig.anchor[0].toUpperCase(),s="".concat(o).concat((0,La.bb)(n)),l=!r.length,d=(0,a.jsx)("div",{onClick:t.handleClick,onMouseEnter:t.handleMouseOver,onMouseLeave:t.handleMouseOut,className:pn()("extensions-dock-card__image",e&&"extensions-dock-card__image__visible",l&&"extensions-dock-card__image__fallback"),children:l?(0,a.jsx)(v.P,{display:f.nl.Flex,alignItems:f.k2.Center,justifyContent:f.A9.Center,children:(0,a.jsx)(Da.M,{size:30,fillColor:"brand"})}):(0,a.jsx)(dt.L,{src:r[r.length-1],alt:s,onError:t.onImageLoadFail,className:pn()("extensions-dock-card__image__img")})}),u={assignments:{fallback:function(){return(0,a.jsx)(li.cv,{direction:li.n5.Left,align:li.HX.Right,label:n.extension.name,offsetX:"19px",children:d})},active:function(){return d}},name:"extension_overlay_improvement",hardcodedAssignment:"control"};return(0,a.jsx)(Va.N,(0,i.__assign)({},u))},t.renderHoverInfo=function(){var e,n=t.props.installation.extension,r=n.viewerSummary,o=n.name,s=n.id,l=(null===(e=Ma[s])||void 0===e?void 0:e.overriddenViewerSummary)||r,d=(0,a.jsx)(Fa.E,{background:f.VS.Overlay,size:Oa.$V.Medium,show:t.props.isHovered&&!t.props.isPopoverOpen,direction:Ra.j.LeftCenter,children:(0,a.jsxs)(v.P,{padding:2,children:[(0,a.jsx)(yn.hE,{size:yn.uM.Title,children:o}),(0,a.jsx)(U.N,{children:l})]})}),u={assignments:{fallback:function(){return null},active:function(){return d}},name:"extension_overlay_improvement",hardcodedAssignment:"control"};return(0,a.jsx)(Va.N,(0,i.__assign)({},u))},t.installationIsVisible=function(){var e=t.props,n=e.installation,i=e.isOverlayVisible,a=e.isPopoverOpen,r=i&&(0,La.l1)(n),o=a&&(0,La.yi)(n);return r||o},t.handleClick=function(){var e,n=t.props,i=n.installation,a=n.togglePopover,r=n.trackEvent,o=n.isPopoverOpen,s="video_overlay"===i.activationConfig.anchor;e=s?o?Pa.iN.HideMenu:Pa.iN.ViewMenu:o?Pa.iN.MinimizeExtension:Pa.iN.MaximizeExtension,r(Pa.X2.ExtensionDockIconClick,e,Pa.si.ExtensionDockIconClick,i),s&&t.isOverlayExperimentActive?t.toggleExtensionInfo():a(i)},t.handleMouseOver=function(){t.props.hoverExtensionCard(t.props.installation)},t.handleMouseOut=function(){t.props.hoverExtensionCard(null)},t.onImageLoadFail=function(){t.setState((function(e){var n=e.iconUrls;return{iconUrls:n.slice(0,n.length-1)}}))},t.getIconUrls=function(e){var n=e.extension.iconUrls.square100,t=[];return n&&t.push(n),t},t.toggleExtensionInfo=function(){var e=t.props,n=e.installation,i=e.isInfoOpen,a=e.setMenuState,r=e.permissionsStates;a((0,La.MA)(n,r)?i?{type:Ia.gu.NONE}:{type:Ia.gu.INFO}:{type:Ia.gu.UNRELEASED},n)},t.state={iconUrls:t.getIconUrls(t.props.installation)},t}return(0,i.__extends)(n,e),Object.defineProperty(n.prototype,"isOverlayExperimentActive",{get:function(){return"active"===P.x2.experiments.__hardcodedStaleExperiment("extension_overlay_improvement","control")},enumerable:!1,configurable:!0}),n.prototype.componentDidUpdate=function(e){(0,La.wv)(e.installation)!==(0,La.wv)(this.props.installation)&&this.setState({iconUrls:this.getIconUrls(this.props.installation)})},n.prototype.render=function(){var e=this.installationIsVisible();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(v.P,{margin:{left:0,bottom:1,top:0,right:1},borderRadius:b.Z.Medium,className:"extensions-dock-card",display:f.nl.Flex,alignItems:f.k2.Center,children:[this.renderMenuOpenStatus(e),this.renderCardImage(e)]}),this.renderHoverInfo()]})},n}(r.Component),Ba=(0,Ca.A3)((function(e,n){var t=e.isOverlayVisible,i=e.isPopoverOpen,a=e.togglePopover,r=e.hoverExtensionCard,o=e.isDockIconHovered,s=e.permissionsStates,l=e.trackEvent,d=e.setMenuState,u=e.getMenuState;return{isOverlayVisible:t,isInfoOpen:u(n.installation).type===Ia.gu.INFO,isPopoverOpen:i(n.installation),isHovered:o(n.installation),permissionsStates:s,togglePopover:a,hoverExtensionCard:r,trackEvent:l,setMenuState:d}}))(ja);var Ua=t(726817),qa=t(48935),Ga=t(693525),za=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(v.P,{role:"presentation",padding:{top:1,left:1,right:1,bottom:0},fullHeight:!0,fullWidth:!0,position:f.yX.Absolute,display:f.nl.Flex,flexDirection:f.bo.Column,alignItems:f.k2.Center,overflow:f.nE.Auto,fontSize:f.Z4.Size6,className:pn()(this.props.className,"extensions-popover-view-layout"),children:(0,a.jsx)(v.P,{className:pn()("extensions-popover-view-layout__body"),children:this.props.children})})},n}(r.Component),Ha=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleClose=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Ia.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsxs)(za,{children:[(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:(0,P.hw)("You must be logged in to use this extension feature.","ExtensionsPopoverViewLoggedOutContainer")})}),(0,a.jsx)(v.P,{fullWidth:!0,display:f.nl.Flex,flexWrap:f.I4.Wrap,justifyContent:f.A9.End,margin:{y:1},children:(0,a.jsx)(v.P,{margin:{bottom:1},children:(0,a.jsx)(He.$n,{variant:He.VQ.Secondary,onClick:this.handleClose,children:(0,P.hw)("Close","ExtensionsPopoverViewLoggedOutContainer")})})})]})},n}(r.Component),Wa=(0,Ca.A3)((function(e){var n=e.setMenuState;return{setMenuState:n}}))(Ha);var Ka=t(897120),Za=t(288566),Qa=t.n(Za),Ya=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){if(this.props.data.loading)return null;if(!this.props.data.currentUser||null===this.props.data.currentUser.bitsBalance||!this.props.data.extension||!this.props.data.extension.challengeCondition)return this.props.cancelCondition(),null;var e,n=this.props.confirmBitsAmount>this.props.data.currentUser.bitsBalance;n&&(e=(0,a.jsx)(v.P,{display:f.nl.Flex,alignItems:f.k2.Start,margin:{bottom:0},children:(0,a.jsx)(U.N,{color:f.Q1.Error,children:(0,P.hw)("Please purchase more Bits to participate.","ConditionConfirmationInsufficientBitsBalance")})}));var t=(0,P.hw)("Bits","ConditionConfirmationDialogBitsBalance"),i=(0,a.jsxs)(v.P,{children:[(0,a.jsx)(v.P,{children:(0,a.jsx)(U.N,{fontSize:f.Z4.Size4,children:(0,P.hw)("You are committing Bits to {conditionName}. These Bits will be deducted immediately.",{conditionName:this.props.data.extension.challengeCondition.name},"ConditionConfirmationDialogCommitBits")})}),(0,a.jsxs)(v.P,{margin:{top:1,bottom:1},display:f.nl.Flex,alignItems:f.k2.Center,children:[(0,a.jsx)(Ka.S,{"aria-label":t}),(0,a.jsx)(U.N,{type:q.M2.Span,fontSize:f.Z4.Size4,bold:!0,children:this.props.confirmBitsAmount})]}),(0,a.jsxs)(v.P,{display:f.nl.Flex,alignItems:f.k2.Center,margin:{bottom:0},children:[(0,a.jsx)(U.N,{type:q.M2.Span,fontSize:f.Z4.Size4,children:(0,P.hw)("Your current Bits balance is:","ConditionConfirmationDialogBitsBalance")}),(0,a.jsx)(Ka.S,{"aria-label":t}),(0,a.jsx)(U.N,{type:q.M2.Span,fontSize:f.Z4.Size4,bold:!0,children:this.props.data.currentUser.bitsBalance||0})]}),e,(0,a.jsxs)(v.P,{display:f.nl.Flex,justifyContent:f.A9.Center,margin:{top:2},children:[(0,a.jsx)(v.P,{display:f.nl.Flex,flexGrow:3,margin:{right:.5},children:(0,a.jsx)(He.$n,{variant:He.VQ.Secondary,fullWidth:!0,onClick:this.props.cancelCondition,children:(0,P.hw)("Cancel","ConditionConfirmationDialogCancel")})}),(0,a.jsx)(v.P,{display:f.nl.Flex,flexGrow:4,margin:{left:.5},children:(0,a.jsx)(He.$n,{variant:He.VQ.Primary,fullWidth:!0,"data-test-selector":"confirmation_message_selector",onClick:this.props.confirmCondition,disabled:n,children:(0,P.hw)("Confirm","ConditionConfirmationDialogConfirm")})})]}),(0,a.jsx)(v.P,{borderTop:!0,margin:{top:2,bottom:2}}),(0,a.jsx)(v.P,{margin:{bottom:2},children:(0,a.jsx)(U.N,{type:q.M2.P,fontSize:f.Z4.Size4,children:(0,P.hw)('By clicking "Confirm", you agree to share your Twitch ID with {extensionName}. You can manage account connections under Settings.',{extensionName:this.props.extensionName},"ConditionConfirmationDialogAgreement")})}),(0,a.jsx)(v.P,{children:(0,a.jsx)(U.N,{type:q.M2.P,fontSize:f.Z4.Size4,children:(0,P.hw)("If the {conditionName} is not completed, then the Bits will be returned to your account.",{conditionName:this.props.data.extension.challengeCondition.name},"ConditionConfirmationDialogBitsRefund")})})]});return(0,a.jsx)(v.P,{padding:2,children:i})},n}(r.Component),Xa=(0,o.Zz)((0,G._v)(Qa(),{options:function(e){return{variables:{conditionID:e.conditionId,conditionOwnerID:e.conditionOwnerId,extensionID:e.extensionId,extensionVersion:e.extensionVersion}}}}))(Ya),$a=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.cancelCondition=function(){var e=n.props,t=e.setMenuState,i=e.menuState,a=e.installation;(0,Ia.XL)(i)&&(i.confirmationRequest.resultCallback({acceptedCondition:!1,conditionParticipantId:null}),t({type:Ia.gu.NONE},a))},n.confirmCondition=function(){var e=n.props,t=e.setMenuState,i=e.menuState,a=e.installation;(0,Ia.XL)(i)&&(i.confirmationRequest.resultCallback({acceptedCondition:!0,conditionParticipantId:null}),t({type:Ia.gu.NONE},a,!0))},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.menuState,t=e.installation;if(!(0,Ia.XL)(n))return null;var i=n.confirmationRequest.options;return(0,a.jsx)(za,{children:(0,a.jsx)(Xa,{cancelCondition:this.cancelCondition,confirmCondition:this.confirmCondition,conditionId:i.conditionId,conditionOwnerId:i.conditionOwnerId,confirmBitsAmount:i.bitsAmount,extensionId:t.extension.id,extensionName:t.extension.name,extensionVersion:t.extension.version})})},n}(r.Component),Ja=(0,Ca.A3)((function(e,n){var t=e.getMenuState,i=e.setMenuState;return{menuState:t(n.installation),setMenuState:i}}))($a);var er=t(14668),nr=t(337051),tr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={notifications:!0},n.cancelLabel=(0,P.hw)("Cancel","ExtensionsPopoverViewFollowContainer"),n.handleCancel=function(){var e=n.props,t=e.installation,i=e.menuState,a=e.setMenuState;(0,Ia.GS)(i)&&a({type:Ia.gu.NONE},t)},n.handleFollow=function(){var e=n.props,t=e.installation,i=e.menuState,a=e.setMenuState;(0,Ia.GS)(i)&&(i.confirmationRequest.resultCallback({didFollow:!0,notifications:n.state.notifications}),a({type:Ia.gu.NONE},t,!0))},n.handleNotificationsToggle=function(){n.setState({notifications:!n.state.notifications})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.menuState;if(!(0,Ia.GS)(e))return null;var n=e.confirmationRequest.options,t=n.channel||"";return(0,a.jsx)(za,{children:n.isFollowing?this.renderAlreadyFollowed(t):this.renderMain(t)})},n.prototype.renderMain=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:(0,P.hw)("You are about to follow {channel}",{channel:e||""},"ExtensionsPopoverViewFollowContainer")})}),(0,a.jsxs)(v.P,{fullWidth:!0,display:f.nl.Flex,flexWrap:f.I4.WrapReverse,justifyContent:f.A9.Center,margin:{y:1},children:[(0,a.jsx)(v.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(He.$n,{fullWidth:!0,size:He.Mp.Small,variant:He.VQ.Secondary,onClick:this.handleCancel,children:this.cancelLabel})}),(0,a.jsx)(v.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(He.$n,{fullWidth:!0,size:He.Mp.Small,variant:He.VQ.Primary,onClick:this.handleFollow,children:(0,P.hw)("Follow","ExtensionsPopoverViewFollowContainer")})})]}),(0,a.jsxs)(v.P,{margin:{y:1},children:[(0,a.jsx)(er.m,{}),(0,a.jsx)(nr.G,{type:nr.M.Toggle,label:(0,P.hw)("Allow Notifications","ExtensionsPopoverViewFollowContainer"),onChange:this.handleNotificationsToggle,checked:this.state.notifications})]}),(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:(0,P.hw)("Receive updates on this channel's activity, including when they go live, upload new videos or clips, on mobile, email, and web.","ExtensionsPopoverViewFollowContainer")})})]})},n.prototype.renderAlreadyFollowed=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:(0,P.hw)("You are already following {channel}",{channel:e||""},"ExtensionsPopoverViewFollowContainer")})}),(0,a.jsx)(v.P,{fullWidth:!0,display:f.nl.Flex,flexDirection:f.bo.Row,justifyContent:f.A9.Center,margin:{y:1},children:(0,a.jsx)(v.P,{flexGrow:1,children:(0,a.jsx)(He.$n,{fullWidth:!0,size:He.Mp.Small,variant:He.VQ.Secondary,onClick:this.handleCancel,children:this.cancelLabel})})})]})},n}(r.Component),ir=(0,Ca.A3)((function(e,n){var t=e.getMenuState,i=e.setMenuState;return{menuState:t(n.installation),setMenuState:i}}))(tr);var ar=t(368972),rr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancel=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Ia.gu.NONE},t)},n.handleToggleAccess=function(){var e=n.props,t=e.installation,i=e.setMenuState,a=e.setPermissionsState,r=e.trackEvent,o=e.permissionsStates,s=(0,La.YU)(t,o),l=s.identityLinkedStatus,d=s.linkIdentity,u=s.unlinkIdentity,c=l===Ia.Gy.UNLINKED?Ia.Gy.LINK_REQUESTED:Ia.Gy.UNLINK_REQUESTED;a(t,{identityLinkedStatus:c}),c===Ia.Gy.LINK_REQUESTED&&d&&d(),c===Ia.Gy.UNLINK_REQUESTED&&u&&u(),r(Pa.X2.MenuOptionClick,c===Ia.Gy.UNLINK_REQUESTED?Pa.iN.Revoke:Pa.iN.Grant,Pa.si.ExtensionDockMenuOptionClick,t),i({type:Ia.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.installation,t=e.permissionsStates,i=(0,La.YU)(n,t);if(!i||!i.identityLinkedStatus)return null;var r=i.identityLinkedStatus===Ia.Gy.LINKED||i.identityLinkedStatus===Ia.Gy.LINK_REQUESTED,o=i.identityLinkedStatus===Ia.Gy.LINK_REQUESTED||i.identityLinkedStatus===Ia.Gy.UNLINK_REQUESTED;return(0,a.jsxs)(za,{children:[(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:(0,P.hw)("You are granting this Developer access to your Twitch user ID.","ExtensionsPopoverViewManageAccessContainer")})}),(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:(0,P.hw)("Allow this extension to know your user ID on Twitch.","ExtensionsPopoverViewManageAccessContainer")})}),(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(ar.i,{label:(0,P.hw)("Manage Permissions","ExtensionsPopoverViewManageAccessContainer"),figure:{icon:ue.t.PermissionsRemove},linkTo:"https://www.twitch.tv/settings/connections",targetBlank:!0})}),(0,a.jsxs)(v.P,{fullWidth:!0,display:f.nl.Flex,flexDirection:f.bo.Row,flexWrap:f.I4.WrapReverse,justifyContent:f.A9.End,margin:{y:1},children:[(0,a.jsx)(v.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(He.$n,{fullWidth:!0,size:He.Mp.Small,variant:He.VQ.Secondary,onClick:this.handleCancel,children:(0,P.hw)("Cancel","ExtensionsPopoverViewManageAccessContainer")})}),(0,a.jsx)(v.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(He.$n,{fullWidth:!0,size:He.Mp.Small,variant:He.VQ.Primary,onClick:this.handleToggleAccess,disabled:o,children:r?(0,P.hw)("Revoke","ExtensionsPopoverViewManageAccessContainer"):(0,P.hw)("Grant","ExtensionsPopoverViewManageAccessContainer")})})]})]})},n}(r.Component),or=(0,Ca.A3)((function(e){var n=e.permissionsStates,t=e.setPermissionsState,i=e.setMenuState,a=e.trackEvent;return{permissionsStates:n,setPermissionsState:t,setMenuState:i,trackEvent:a}}))(rr);var sr=t(717286),lr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancel=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Ia.gu.NONE},t)},n.handleConfirm=function(){var e=n.props,t=e.installation,i=e.menuState,a=e.setMenuState;(0,Ia.UE)(i)&&(i.confirmationRequest.resultCallback({didConfirm:!0,didUseBits:!1}),a({type:Ia.gu.NONE},t,!0))},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.labelPurchaseIntent,t=e.labelCancel,i=e.labelConfirm,r=e.labelProductName,o=e.labelRemainingBalance,s=e.labelDisclaimer;return(0,a.jsxs)(za,{children:[(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:n})}),(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:r})}),(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:o})}),(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{fontSize:f.Z4.Size8,color:f.Q1.Alt2,children:s})}),(0,a.jsxs)(v.P,{fullWidth:!0,display:f.nl.Flex,flexDirection:f.bo.Row,flexWrap:f.I4.WrapReverse,justifyContent:f.A9.Center,margin:{y:1},children:[(0,a.jsx)(v.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(He.$n,{fullWidth:!0,size:He.Mp.Small,variant:He.VQ.Secondary,onClick:this.handleCancel,children:t})}),(0,a.jsx)(v.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(He.$n,{fullWidth:!0,size:He.Mp.Small,variant:He.VQ.Primary,onClick:this.handleConfirm,children:i})})]})]})},n}(r.Component),dr=(0,Ca.A3)((function(e,n){var t=e.getMenuState,i=e.setMenuState;return{menuState:t(n.installation),setMenuState:i}}))(lr);var ur=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancel=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Ia.gu.NONE},t)},n.handleBuyBits=function(){window.open("https://www.twitch.tv/bits")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.labelPurchaseIntent,t=e.labelPurchaseAmount,i=e.labelCancel,r=e.labelProductName,o=e.labelBuyBits;return(0,a.jsxs)(za,{children:[(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:n})}),(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:r})}),(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:t})}),(0,a.jsxs)(v.P,{fullWidth:!0,display:f.nl.Flex,flexDirection:f.bo.Row,flexWrap:f.I4.WrapReverse,justifyContent:f.A9.Center,margin:{y:1},children:[(0,a.jsx)(v.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(He.$n,{fullWidth:!0,size:He.Mp.Small,variant:He.VQ.Secondary,onClick:this.handleCancel,children:i})}),(0,a.jsx)(v.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(He.$n,{fullWidth:!0,size:He.Mp.Small,onClick:this.handleBuyBits,children:o})})]})]})},n}(r.Component),cr=(0,Ca.A3)((function(e){var n=e.setMenuState;return{setMenuState:n}}))(ur);var pr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.installation,t=(0,e.getMenuState)(n);if(!(0,Ia.UE)(t))return null;var r=t.confirmationRequest.options.payload;if(!r)return null;var o=r.bitsRequired||0,s=r.bitsBalance-o,l=(0,a.jsxs)(U.N,{fontSize:f.Z4.Size4,bold:!0,children:[r.extensionItemLabel," ",(0,a.jsx)(sr.k,{withImage:!0,animated:!1,count:o}),o]}),d={labelPurchaseIntent:(0,P.hw)("You are trying to get","ExtensionsPopoverViewPurchaseContainer"),labelCancel:(0,P.hw)("Cancel","ExtensionsPopoverViewPurchaseContainer"),labelProductName:l,installation:n};if(s<0){var u=(0,a.jsxs)(U.N,{type:q.M2.Span,children:[(0,a.jsx)(sr.k,{withImage:!0,animated:!1,count:-s}),-s]}),c=(0,i.__assign)((0,i.__assign)({},d),{labelPurchaseAmount:(0,P.hw)("You need {bitsRequired} to get this item.",{bitsRequired:u},"ExtensionsPopoverViewPurchaseContainer"),labelBuyBits:(0,P.hw)("Buy Bits","ExtensionsPopoverViewPurchaseContainer")});return(0,a.jsx)(cr,(0,i.__assign)({},c))}var p=(0,a.jsxs)(U.N,{type:q.M2.Span,children:[(0,a.jsx)(sr.k,{withImage:!0,animated:!1,count:s}),s]}),m=(0,i.__assign)((0,i.__assign)({},d),{labelConfirm:(0,P.hw)("Confirm","ExtensionsPopoverViewPurchaseContainer"),labelRemainingBalance:(0,P.hw)("Your remaining Bits balance will be {bitsRemaining}",{bitsRemaining:p},"ExtensionsPopoverViewPurchaseUpsellPresentation"),labelDisclaimer:(0,P.hw)('By clicking "Confirm" you agree to share your Twitch ID with {extensionName}. You can manage account connections under {settingsLink}',{extensionName:n.extension.name,settingsLink:(0,a.jsx)(Ii.Cb,{targetBlank:!0,linkTo:"https://twitch.tv/settings/connections",children:(0,P.hw)("Settings","ExtensionsPopoverViewPurchaseContainer")})},"ExtensionsPopoverViewPurchaseContainer")});return(0,a.jsx)(dr,(0,i.__assign)({},m))},n}(r.Component),mr=(0,Ca.A3)((function(e){var n=e.getMenuState;return{getMenuState:n}}))(pr);var vr=t(120605),fr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.trackMenuOptionClick=function(e){return function(){var t=n.props,i=t.installation;(0,t.trackEvent)(Pa.X2.MenuOptionClick,e,Pa.si.ExtensionDockMenuOptionClick,i)}},n.renderManageAccessOption=function(){var e=n.props,t=e.loginID,i=e.installation,r=e.permissionsStates,o=i&&i.extension.requestIdentityLink,s=(0,La.YU)(i,r).identityLinkedStatus===Ia.Gy.LINKED;return!(0,La.p$)(i)&&!!t&&(o||s)?(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(ar.i,{label:(0,P.hw)("Manage Access","ExtensionsPopoverViewSettingsContainer"),figure:{icon:ue.t.PermissionsRemove},onClick:n.handleManageAccess})}):null},n.handleMakeExtensionVisible=function(){var e=n.props,t=e.isOverlayVisible,i=e.setOverlayVisibility,a=e.trackEvent;i(!t),a(Pa.X2.MenuOptionClick,t?Pa.iN.HideOverlay:Pa.iN.ViewOverlay,Pa.si.ExtensionDockMenuOptionClick,n.props.installation)},n.handleReportExtension=function(){var e=n.props,t=e.installation,i=e.setMenuState;(0,e.trackEvent)(Pa.X2.MenuOptionClick,Pa.iN.ReportExtension,Pa.si.ExtensionDockMenuOptionClick,t),i({type:Ia.gu.NONE},t)},n.handleManageAccess=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Ia.gu.MANAGE_ACCESS},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.installation,t=e.isOverlayVisible,i=e.channelID,r=n&&n.extension&&(n.extension.viewerSummary||n.extension.summary)||"";return(0,a.jsxs)(za,{children:[(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:r})}),(0,La.l1)(n)&&(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(nr.G,{type:nr.M.Toggle,label:(0,P.hw)("Visible","ExtensionsPopoverViewSettingsContainer"),onChange:this.handleMakeExtensionVisible,checked:t})}),(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(ar.i,{label:(0,P.hw)("Add to My Channel","ExtensionsPopoverViewSettingsContainer"),onClick:this.trackMenuOptionClick(Pa.iN.ViewDetails),figure:{icon:ue.t.AddReaction},linkTo:(0,La.lK)(n),targetBlank:!0})}),(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(ar.i,{label:(0,P.hw)("Build an Extension","ExtensionsPopoverViewSettingsContainer"),figure:{icon:ue.t.Extensions},onClick:this.trackMenuOptionClick(Pa.iN.BuildExtension),linkTo:"https://dev.twitch.tv/extensions",targetBlank:!0})}),this.renderManageAccessOption(),(0,a.jsx)(v.P,{margin:{y:1},children:i&&(0,a.jsx)(vr.Z,{channelID:i,channelLogin:"",reportContext:{contentType:me.Cah.EXTENSION_REPORT,contentID:(0,La.wv)(this.props.installation),trackingContext:"extension_popover_view_settings"},onClick:this.handleReportExtension})})]})},n}(r.Component),gr=(0,Ca.A3)((function(e){var n=e.loginID,t=e.channelID,i=e.setMenuState,a=e.isOverlayVisible,r=e.setOverlayVisibility,o=e.permissionsStates,s=e.trackEvent;return{loginID:n,channelID:t,setMenuState:i,isOverlayVisible:a,setOverlayVisibility:r,permissionsStates:o,trackEvent:s}}))(fr);var hr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancel=function(){var e=n.props,t=e.installation;(0,e.closePopover)(t)},n.handleAccept=function(){var e=n.props,t=e.installation,i=e.setMenuState;(0,e.setPermissionsState)(t,{unreleasedAccepted:!0}),i({type:Ia.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsxs)(za,{children:[(0,a.jsx)(v.P,{margin:{y:1},children:(0,a.jsx)(U.N,{children:(0,P.hw)("This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime.","ExtensionsPopoverViewUnreleasedContainer")})}),(0,a.jsxs)(v.P,{margin:{y:1},children:[(0,a.jsx)(U.N,{children:(0,P.hw)("Proceed only if you are familiar with the developer, the Extension, or Channel.","ExtensionsPopoverViewUnreleasedContainer")}),(0,a.jsx)(Ii.Cb,{linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions#TestExtViewer",targetBlank:!0,underline:!1,children:(0,P.hw)("Learn More","ExtensionsPopoverViewUnreleasedContainer")})]}),(0,a.jsxs)(v.P,{fullWidth:!0,display:f.nl.Flex,flexDirection:f.bo.Row,flexWrap:f.I4.WrapReverse,justifyContent:f.A9.Center,margin:{y:1},children:[(0,a.jsx)(v.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(He.$n,{fullWidth:!0,size:He.Mp.Small,variant:He.VQ.Secondary,onClick:this.handleCancel,children:(0,P.hw)("Cancel","ExtensionsPopoverViewUnreleasedContainer")})}),(0,a.jsx)(v.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(He.$n,{fullWidth:!0,size:He.Mp.Small,variant:He.VQ.Primary,onClick:this.handleAccept,children:(0,P.hw)("Accept","ExtensionsPopoverViewUnreleasedContainer")})})]})]})},n}(r.Component),yr=(0,Ca.A3)((function(e){var n=e.closePopover,t=e.setPermissionsState,i=e.setMenuState;return{closePopover:n,setPermissionsState:t,setMenuState:i}}))(hr);var kr=t(206592),Sr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.saveExtensionAPI=function(e){n.unsubscribeFrameEvents(),n.extensionFrameAPI=e,n.addAPICallbacks(),n.subscribeFrameEvents(),n.extensionFrameAPI.setHighlighted(n.props.isDockIconHovered)},n.subscribeFrameEvents=function(){n.extensionFrameAPI&&(n.extensionFrameAPI.on(xa.WN.RequestModal,n.onModalRequested),n.extensionFrameAPI.on(xa.WN.ShowBitsBalance,n.onShowBitsBalance),n.extensionFrameAPI.on(xa.WN.ShowUseBitsSuccess,n.onShowUseBitsSuccess),n.extensionFrameAPI.on(xa.WN.IdentityLinked,n.onIdentityLinked),n.extensionFrameAPI.on(xa.WN.Minimize,n.onMinimize))},n.unsubscribeFrameEvents=function(){n.extensionFrameAPI&&(n.extensionFrameAPI.off(xa.WN.RequestModal,n.onModalRequested),n.extensionFrameAPI.off(xa.WN.ShowBitsBalance,n.onShowBitsBalance),n.extensionFrameAPI.off(xa.WN.ShowUseBitsSuccess,n.onShowUseBitsSuccess),n.extensionFrameAPI.off(xa.WN.IdentityLinked,n.onIdentityLinked),n.extensionFrameAPI.off(xa.WN.Minimize,n.onMinimize))},n.onShowBitsBalance=function(){(0,n.props.setNotification)(Ia._n.BITS_BALANCE)},n.onShowUseBitsSuccess=function(){(0,n.props.setNotification)(Ia._n.BITS_BALANCE,{success:!0})},n.addAPICallbacks=function(){var e=n.extensionFrameAPI,t=e.linkIdentity,i=e.unlinkIdentity,a=n.props,r=a.installation;(0,a.setPermissionsState)(r,{linkIdentity:t,unlinkIdentity:i})},n.removeAPICallbacks=function(){var e=n.props,t=e.installation;(0,e.setPermissionsState)(t,{linkIdentity:void 0,unlinkIdentity:void 0})},n.onIdentityLinked=function(e){var t=n.props,i=t.installation;(0,t.setPermissionsState)(i,{identityLinkedStatus:e?Ia.Gy.LINKED:Ia.Gy.UNLINKED})},n.onMinimize=function(){var e=n.props,t=e.installation,i=e.isOverlayVisible,a=e.closePopover,r=e.isPopoverOpen,o=e.setOverlayVisibility,s=e.overlayExtension;i&&s&&s.id===t.id&&o(!1),r&&a(t)},n.onModalRequested=function(e){var t=n.props,i=t.installation,a=t.setMenuState;switch(e.action){case xa.tv.ConditionConfirmationRequest:a({type:Ia.gu.CONDITION_CONFIRMATION,confirmationRequest:e},i);break;case xa.tv.FollowAction:a({type:Ia.gu.FOLLOW,confirmationRequest:e},i);break;case xa.tv.UseBits:a({type:Ia.gu.PURCHASE,confirmationRequest:e},i);break;case xa.tv.IdShareRequest:a({type:Ia.gu.MANAGE_ACCESS},i);break;case xa.tv.LoginRequest:a({type:Ia.gu.LOGIN_REQUIRED,confirmationRequest:e},i)}},n.handleToggleFullscreen=function(){n.props.isFullscreen?n.props.exitFullscreen():n.props.enterFullscreen()},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){var n,t;this.extensionFrameAPI&&e.isDockIconHovered!==this.props.isDockIconHovered&&this.extensionFrameAPI.setHighlighted(this.props.isDockIconHovered),((null===(n=this.extensionFrameAPI)||void 0===n?void 0:n.linkIdentity)&&this.props.linkIdentity!==this.extensionFrameAPI.linkIdentity||(null===(t=this.extensionFrameAPI)||void 0===t?void 0:t.unlinkIdentity)&&this.extensionFrameAPI.unlinkIdentity!==this.props.unlinkIdentity)&&this.addAPICallbacks()},n.prototype.componentWillUnmount=function(){this.removeAPICallbacks(),this.unsubscribeFrameEvents()},n.prototype.render=function(){var e=this.props,n=e.channelID,t=e.channelLogin,i=e.installation,r=e.languageCode,o=e.locale,s=e.login,l=e.loginID,d=e.isHidden;return n&&t&&i?(0,a.jsx)(kr.xF,{channelID:n,channelLogin:t,extensionMode:xa.Fw.Viewer,installation:i,languageCode:r,locale:o,login:s,loginID:l,saveExtensionAPI:this.saveExtensionAPI,className:"extension-view__iframe",isPopout:!1,isHidden:d,onExtensionDoubleClick:this.handleToggleFullscreen},"".concat(i.id,"-").concat(n)):null},n}(r.Component);var _r,br=(0,o.Zz)((0,k.Ng)((function(e){var n=(0,ve.wz)(e);return{languageCode:(0,ve.Ul)(e),locale:(0,ve.JK)(e),login:n&&n.login||null,loginID:n&&n.id||null}})),(0,T.cj)((function(e){return{channelLogin:(0,H.jp)(e.content)}})),(0,Ca.A3)((function(e,n){var t=e.isOverlayVisible,i=e.closePopover,a=e.isPopoverOpen,r=e.setOverlayVisibility,o=e.overlayExtension,s=e.channelID,l=e.permissionsStates,d=e.setPermissionsState,u=e.setMenuState,c=e.setNotification,p=e.isDockIconHovered,m=(0,La.YU)(n.installation,l),v=m.linkIdentity,f=m.unlinkIdentity;return{isOverlayVisible:t,closePopover:i,isPopoverOpen:a(n.installation),setOverlayVisibility:r,overlayExtension:o,channelID:s,setPermissionsState:d,linkIdentity:v,unlinkIdentity:f,setMenuState:u,setNotification:c,isDockIconHovered:p(n.installation)}})),(0,te.c0)((function(e){var n=e.enterFullscreen,t=e.exitFullscreen,i=e.isFullscreen;return{enterFullscreen:n,exitFullscreen:t,isFullscreen:i}})))(Sr);!function(e){e.BackButton="popover-nav__back-button",e.SettingsButton="popover-nav__settings-button",e.CloseButton="popover-nav__close-button"}(_r||(_r={}));var Cr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderInsufficientSpaceTooltip=function(e){return(0,a.jsx)(v.P,{position:f.yX.Absolute,children:(0,a.jsx)(li.cv,{direction:li.n5.Left,align:li.HX.Right,label:(0,P.hw)("Please expand your player size to use this extension.","ExtensionsPopoverContainer"),offsetY:"-12px",show:e})})},n.renderExtension=function(e){var t=n.props,i=t.installation,r=t.permissionsStates;return(0,La.yi)(i)&&(0,La.MA)(i,r)?(0,a.jsx)(br,{isHidden:e,installation:i}):null},n.renderMenu=function(){var e=n.props,t=e.installation,i=e.isMenuOpen,r=e.menuState.type;return!i||n.shouldSkipOverlayPopoverRender()?null:r===Ia.gu.SETTINGS?(0,a.jsx)(gr,{installation:t}):r===Ia.gu.MANAGE_ACCESS?(0,a.jsx)(or,{installation:t}):r===Ia.gu.PURCHASE?(0,a.jsx)(mr,{installation:t}):r===Ia.gu.FOLLOW?(0,a.jsx)(ir,{installation:t}):r===Ia.gu.LOGIN_REQUIRED?(0,a.jsx)(Wa,{installation:t}):r===Ia.gu.CONDITION_CONFIRMATION?(0,a.jsx)(Ja,{installation:t}):r===Ia.gu.UNRELEASED?(0,a.jsx)(yr,{installation:t}):null},n.getHeaderTitle=function(){return n.props.installation.extension.name},n.handleSettingsClick=function(){var e=n.props,t=e.installation,i=e.isMenuOpen,a=e.setMenuState,r=e.menuState,o=e.trackEvent,s=i&&r.type===Ia.gu.SETTINGS;a(s?{type:Ia.gu.NONE}:{type:Ia.gu.SETTINGS},t),o(Pa.X2.ToolbarGearIconClick,s?Pa.iN.HideMenu:Pa.iN.ViewMenu,Pa.si.ExtensionDockToolbarIconClick,t)},n.handleCloseViewClick=function(){var e=n.props,t=e.installation,i=e.setMenuState,a=e.trackEvent;i({type:(0,La.l1)(t)?Ia.gu.SETTINGS:Ia.gu.NONE},t),a(Pa.X2.ToolbarLeftAngleIconClick,Pa.iN.HideMenu,Pa.si.ExtensionDockToolbarIconClick,t)},n.handleClosePopoverClick=function(){var e=n.props,t=e.installation,i=e.closePopover,a=e.menuState;(0,e.trackEvent)(Pa.X2.ToolbarXIconClick,Pa.iN.MinimizeExtension,Pa.si.ExtensionDockToolbarIconClick,t),(0,Ia.XL)(a)&&a.confirmationRequest.resultCallback(a.confirmationRequest.defaultResult),i(t)},n.shouldSkipOverlayPopoverRender=function(){var e=n.props,t=e.installation,i=e.menuState.type;return"active"===P.x2.experiments.__hardcodedStaleExperiment("extension_overlay_improvement","control")&&(0,La.l1)(t)&&(i===Ia.gu.SETTINGS||i===Ia.gu.MANAGE_ACCESS||i===Ia.gu.REPORT)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.getHeaderTitle(),n=this.props,t=n.visible,i=n.installation,r=n.isMenuOpen,o=n.menuState,s=n.isChannelInfoVisible,l=(0,La.nZ)(r,this.props.videoDimensions,i,s),d=l.offset,u=l.shouldShow,c=l.extensionSize,p=l.popoverContentSize,m=l.zoom,g={height:"".concat(c.height/m,"px"),width:"".concat(c.width/m,"px"),position:"absolute"},h=(0,La.l1)(i),y="active"===P.x2.experiments.__hardcodedStaleExperiment("extension_overlay_improvement","control"),k=!h&&!y,S=!h&&r||h&&o.type!==Ia.gu.SETTINGS;return this.shouldSkipOverlayPopoverRender()?null:(0,a.jsxs)(a.Fragment,{children:[this.renderInsufficientSpaceTooltip(t&&!u),(0,a.jsx)(v.P,{border:!0,display:t?f.nl.Block:f.nl.Hide,position:f.yX.Relative,className:pn()("extensions-popover"),children:(0,a.jsx)(Ua.A,{popoverId:"popover-extensions",show:u,size:Oa.$V.Auto,direction:Ra.j.TopRight,offsetY:"".concat(d,"px"),children:(0,a.jsxs)("div",{style:{width:"".concat(p.width,"px")},children:[(0,a.jsx)(v.P,{display:f.nl.Flex,flexDirection:f.bo.Column,padding:0,fullWidth:!0,children:(0,a.jsxs)(v.P,{display:f.nl.Flex,elevation:1,background:f.VS.Base,children:[(0,a.jsx)(v.P,{display:f.nl.Flex,flexDirection:f.bo.Column,justifyContent:f.A9.Center,className:pn()("extensions-popover__icon-slot"),children:S&&(0,a.jsx)(_e.a2,{"aria-label":(0,P.hw)("Close extension view","ExtensionsPopover"),overlay:!0,icon:Ga.fj,onClick:this.handleCloseViewClick,"data-test-selector":_r.BackButton})}),k&&(0,a.jsx)(v.P,{display:f.nl.Flex,flexDirection:f.bo.Column,justifyContent:f.A9.Center,className:pn()("extensions-popover__icon-slot")}),(0,a.jsx)(v.P,{display:f.nl.Flex,flexDirection:f.bo.Column,justifyContent:f.A9.Center,flexGrow:1,flexShrink:1,overflow:f.nE.Hidden,textAlign:f.nO.Center,children:(0,a.jsx)(U.N,{type:q.M2.H6,bold:!0,ellipsis:!0,children:e})}),k&&(0,a.jsx)(v.P,{display:f.nl.Flex,flexDirection:f.bo.Column,justifyContent:f.A9.Center,className:pn()("extensions-popover__icon-slot"),children:(0,a.jsx)(_e.a2,{"aria-label":(0,P.hw)("Extension settings","ExtensionsPopover"),overlay:!0,icon:qa.f,onClick:this.handleSettingsClick,"data-test-selector":_r.SettingsButton})}),(0,a.jsx)(v.P,{display:f.nl.Flex,flexDirection:f.bo.Column,justifyContent:f.A9.Center,className:pn()("extensions-popover__icon-slot"),children:(0,a.jsx)(_e.a2,{"aria-label":(0,P.hw)("Close extension popup","ExtensionsPopover"),overlay:!0,icon:be.g,onClick:this.handleClosePopoverClick,"data-test-selector":_r.CloseButton})})]})}),(0,a.jsxs)("div",{style:{height:"".concat(p.height,"px"),position:"relative"},children:[(0,a.jsx)(Ea.d,{transformValues:{scale:m},transformOrigin:"rtl"===document.dir?"top right":"top left",style:g,children:this.renderExtension(!t||!u)}),this.renderMenu()]})]})})})]})},n}(r.Component),Pr=(0,Ca.A3)((function(e,n){var t=e.isMenuOpen,i=e.getMenuState,a=e.isChannelInfoVisible,r=e.permissionsStates,o=e.trackEvent,s=e.setMenuState,l=e.closePopover;return{isMenuOpen:t(n.installation),menuState:i(n.installation),isChannelInfoVisible:a,permissionsStates:r,trackEvent:o,setMenuState:s,closePopover:l}}))(Cr);var Er=t(305528),Nr=t(30176),xr=t.n(Nr),Ar=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderDemoAsset=function(){var e=n.props,t=e.installation,i=e.extensionsInfoBalloonData,r=Ma[t.extension.id];if(i.loading||i.error||!i.extension||!i.extension.screenshotURLs||!i.extension.screenshotURLs[0])return(0,a.jsx)(Er.Or,{});if(r&&r.useWEBM){var o="https://extension-files.twitch.tv/demos/".concat(t.extension.id,"/demo.webm");return(0,a.jsxs)("video",{style:{position:"inherit"},autoPlay:!0,loop:!0,muted:!0,poster:i.extension.screenshotURLs[0],children:[(0,a.jsx)("source",{type:"video/webm",src:o}),(0,P.hw)("Extension Demo Video","ExtensionsInfoBalloon")]})}return(0,a.jsx)(dt.L,{alt:(0,P.hw)("Extension Screenshot","ExtensionsInfoBalloon"),src:i.extension.screenshotURLs[0]})},n.dismissInfo=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Ia.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isInfoOpen,t=e.installation,i=Ma[t.extension.id],r=(null==i?void 0:i.overriddenViewerSummary)||t.extension.viewerSummary;return(0,a.jsxs)(Fa.E,{show:n,background:f.VS.Overlay,size:Oa.$V.ExtraLarge,direction:Ra.j.LeftCenter,children:[(0,a.jsxs)(v.P,{display:f.nl.Flex,padding:{x:2,top:2,bottom:1},children:[(0,a.jsx)(v.P,{flexGrow:1,children:(0,a.jsx)(yn.hE,{type:q.M2.H4,size:yn.uM.Title,children:"Introducing the ".concat(t.extension.name," Extension!")})}),(0,a.jsx)(v.P,{className:"extensions-info-balloon__close-button",flexGrow:0,children:(0,a.jsx)(_e.a2,{"aria-label":(0,P.hw)("Close extensions information dialog","ExtensionsInfoBalloon"),icon:be.g,onClick:this.dismissInfo})})]}),(0,a.jsx)(v.P,{display:f.nl.Flex,padding:{x:2,bottom:1},children:(0,a.jsx)(U.N,{fontSize:f.Z4.Size6,children:r})}),(0,a.jsx)(v.P,{display:f.nl.Flex,padding:{x:2,bottom:1},children:this.renderDemoAsset()})]})},n}(r.Component);var wr=(0,o.Zz)((0,Ca.A3)((function(e,n){var t=e.getMenuState,i=e.setMenuState;return{isInfoOpen:t(n.installation).type===Ia.gu.INFO,setMenuState:i}})),(0,G._v)(xr(),{name:"extensionsInfoBalloonData",options:function(e){return{variables:{extensionID:e.installation.extension.id,extensionVersion:e.installation.extension.version}}}}))(Ar),Tr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderPopovers=function(e,t){var i=n.props.allVideoExtensions.map((function(e){var i=n.props,r=i.playerDimensions,o=i.videoDimensions,s=i.isPopoverOpen,l=i.getMenuState,d=s(e)&&l(e).type!==Ia.gu.INFO;return(0,a.jsx)(Pr,{visible:d&&t,playerDimensions:r,videoDimensions:o,installation:e},"extensions-dock-popover__".concat((0,La.wv)(e)))}));return(0,a.jsx)("div",{style:{marginInlineEnd:"".concat(e,"px")},children:i})},n.renderExtensionInfoBalloon=function(){var e=n.props.overlayExtension;return e?(0,a.jsx)(wr,{installation:e}):null},n.renderDockAndIcons=function(e){var t=n.props,i=t.shouldShow,r=t.allVideoExtensions;return(0,a.jsx)(Mn.e,{type:Ln.ES.TranslateRight,duration:Ln.Cf.Long,show:i,alwaysRenderChild:!0,children:(0,a.jsx)(v.P,{display:f.nl.Flex,alignItems:f.k2.Center,className:pn()("extensions-dock__dock",["extensions-dock__dock_".concat(i?"visible":"hidden")]),children:(0,a.jsx)(Ea.d,{transformValues:{scale:e},transformOrigin:"100% 50%",children:(0,a.jsx)(v.P,{display:f.nl.Flex,background:f.VS.Base,flexDirection:f.bo.Column,borderRadius:b.Z.Medium,padding:{top:1},justifyContent:f.A9.Center,alignItems:f.k2.Center,children:r.map(n.renderExtensionCard)})})})})},n.renderExtensionCard=function(e){return(0,a.jsx)(Ba,{installation:e},"extensions-dock-card__".concat((0,La.wv)(e)))},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isChannelInfoVisible,t=e.hideExtensions,i=(0,La.pi)(this.props.videoDimensions,n),r=i.shouldShow,o=i.zoom,s=i.xOffset,l=r&&!t;return(0,a.jsx)(Se.e,{theme:this.props.theme,children:(0,a.jsxs)(v.P,{display:l?f.nl.Flex:f.nl.Hide,position:f.yX.Absolute,attachRight:!0,fullHeight:!0,alignItems:f.k2.Center,className:"extensions-dock__layout",children:[this.renderExtensionInfoBalloon(),this.renderPopovers(s,l),this.renderDockAndIcons(o)]})})},n}(r.Component),Ir=(0,Ca.A3)((function(e){var n=e.isPopoverOpen,t=e.isChannelInfoVisible,i=e.hideExtensions,a=e.allVideoExtensions,r=e.getMenuState,o=e.overlayExtension;return{isPopoverOpen:n,isChannelInfoVisible:t,hideExtensions:i,allVideoExtensions:a,getMenuState:r,overlayExtension:o}}))(Tr);var Dr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){var e=n.props,t=e.active,i=e.hideExtensions,a=e.isAnyPopoverOpen;return!i&&(!!t||a)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e={playerDimensions:this.props.playerDimensions,videoDimensions:this.props.videoDimensions,shouldShow:this.shouldShow(),theme:"dark"};return(0,a.jsx)(Ir,(0,i.__assign)({},e))},n}(r.Component),Fr=(0,o.Zz)((0,le.In)((function(e){var n=e.active;return{active:n}})),(0,Ca.A3)((function(e){var n=e.hideExtensions,t=e.isAnyPopoverOpen;return{hideExtensions:n,isAnyPopoverOpen:!!t()}})))(Dr);var Or=t(309759),Rr=t(222115),Vr=t(840347),Mr=t.n(Vr),Lr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isExpiring,t=e.showBitsNotification,i=e.showSuccessMessage,r=e.loginID;return n?(0,a.jsx)(Mn.e,{type:Ln.ES.TranslateRight,duration:Ln.Cf.Long,show:t&&void 0!==r,alwaysRenderChild:!0,transitionInitialMount:!0,children:(0,a.jsxs)(v.P,{borderTop:!0,background:f.VS.Overlay,display:f.nl.Block,position:f.yX.Relative,padding:{y:1,x:2},margin:{y:5,x:3},className:"bits-balance-notification",children:[i&&(0,a.jsx)(v.P,{margin:{right:.5},display:f.nl.Inline,className:"extension-notification__success-text",children:this.props.bitsSuccessMessage}),this.props.bitsBalanceMessage]})}):null},n}(r.Component),jr=(0,Ca.A3)((function(e){var n=e.loginID,t=e.getNotification,i=t(),a=i.type===Ia._n.BITS_BALANCE,r=i.type===Ia._n.BITS_BALANCE&&!0===i.success;return{loginID:n,isExpiring:(0,Ia.dD)(i),showBitsNotification:a,showSuccessMessage:r}}))(Lr);var Br=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.bitsBalanceQuery;if(!e||e.loading||e.error)return null;var n=e.currentUser,t=n&&n.bitsBalance||0,r={bitsBalanceMessage:(0,P.hw)("Bits Balance {bitsCount}",{bitsCount:(0,a.jsx)(sr.k,{count:t,withImage:!0,withText:!0,animated:!1})},"ExtensionsNotificationBitsBalanceContainer"),bitsSuccessMessage:(0,P.hw)("Success!","ExtensionsNotificationBitsBalanceContainer")};return(0,a.jsx)(jr,(0,i.__assign)({},r))},n}(r.Component),Ur=(0,o.Zz)((0,Ca.A3)((function(e){var n=e.channelID,t=e.loginID;return{channelID:n,loginID:t}})),(0,Or.n)((function(e){return(0,Rr.Y)(Mr(),e.channelID||null,e.loginID||null)})),(0,G._v)(Mr(),{name:"bitsBalanceQuery"}))(Br);var qr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(v.P,{position:f.yX.Absolute,attachRight:!0,attachBottom:!0,alignItems:f.k2.Center,className:"extensions-notifications",children:(0,a.jsx)(Ur,{})})},n}(r.Component),Gr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),Object.defineProperty(n.prototype,"videoDimensions",{get:function(){var e=this.props.playerDimensions,n=e.playerHeight,t=e.playerWidth;if(!n||!t)return{videoWidth:0,videoHeight:0};var i=this.aspectRatio,a=t/n>i;return{videoWidth:a?Math.ceil(n*i):t,videoHeight:a?n:Math.ceil(t/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"aspectRatio",{get:function(){var e=this.props.videoDimensions,n=e.videoHeight,t=e.videoWidth;return n&&t?t/n:1.7777777777777777},enumerable:!1,configurable:!0}),n.prototype.render=function(){var e=this.props,n=e.game,t=e.isVideoAdShowing,i=e.hideExtensions,r=e.arePlayerControlsVisible;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ge.h,{children:(0,a.jsxs)(v.P,{className:"video-size passthrough-events",position:f.yX.Absolute,display:i?f.nl.Hide:f.nl.Block,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,children:[this.renderVideoOverlay(this.videoDimensions),(0,a.jsx)(Fr,{playerDimensions:this.props.playerDimensions,videoDimensions:this.videoDimensions}),(0,a.jsx)(qr,{})]})}),(0,a.jsx)(Ta,{game:n,isVideoAdShowing:t,arePlayerControlsVisible:r})]})},n.prototype.renderVideoOverlay=function(e){var n=this.props,t=n.overlayExtension,i=n.shouldShowOverlayExtension,r=n.permissionsStates;if(!t||!(0,La.MA)(t,r))return null;var o=e.videoWidth,s=e.videoHeight,l={width:"".concat(o,"px"),height:"".concat(s,"px"),display:i?"block":"none"};return(0,a.jsx)(Ea.d,{transformValues:{translateX:Math.floor(-.5*o),translateY:Math.floor(-.5*s)},className:"extensions-video-overlay-size-container",style:l,children:(0,a.jsx)(br,{isHidden:!i,installation:t})})},n}(r.Component),zr=(0,Ca.A3)((function(e){var n=e.channelID,t=e.allVideoExtensions,i=e.overlayExtension,a=e.isOverlayVisible,r=e.hideExtensions,o=e.permissionsStates;return{channelID:n,allVideoExtensions:t,overlayExtension:i,hideExtensions:r,shouldShowOverlayExtension:!r&&a,permissionsStates:o}}))(Gr);var Hr=function(e){var n=e.track,t=e.activeExtensions,i=r.useCallback((function(e){if("minute-watched"===e.name&&0!==t.length){var i={active_extensions:JSON.stringify(t.map((function(e){return{extension_id:e.id,extension_anchor:e.activationConfig.anchor,extension_slot:e.activationConfig.slot}})))};n("extensions_active_per_minute_watched",i)}}),[n,t]);return(0,V.p)(L.a.ANALYTICS_EVENT,i),null},Wr=t(209787),Kr=t.n(Wr),Zr=function(e){function n(n){var t=e.call(this,n)||this;return t.state={},t.trackEvent=function(e,n){var a;switch(e){case Pa.si.ExtensionDockIconClick:a="extension_dock_icon_click";break;case Pa.si.ExtensionDockMenuOptionClick:a="extension_dock_menu_option_click";break;case Pa.si.ExtensionDockToolbarIconClick:a="extension_dock_toolbar_icon_click";break;default:return}t.props.track(a,(0,i.__assign)({},n))},t.handleResize=function(){t.setState(t.getPlayerDimensions())},t.getPlayerDimensions=function(){var e=(0,hn.P)(t.props.videoRef);return{playerWidth:e.width,playerHeight:e.height}},t.state=(0,i.__assign)({},t.getPlayerDimensions()),t}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n,t,i,r,o,s,l,d,u,c=this.props.data,p=(0,et.NZ)(this.props.mediaPlayerInstance),m=(null===(t=null===(n=null===(e=null==c?void 0:c.user)||void 0===e?void 0:e.stream)||void 0===n?void 0:n.game)||void 0===t?void 0:t.name)||"";if((null===(o=null===(r=null===(i=null==c?void 0:c.user)||void 0===i?void 0:i.self)||void 0===r?void 0:r.banStatus)||void 0===o?void 0:o.isPermanent)||(null!==(u=null===(d=null===(l=null===(s=null==c?void 0:c.user)||void 0===s?void 0:s.self)||void 0===l?void 0:l.banStatus)||void 0===d?void 0:d.expiresInMs)&&void 0!==u?u:0)>0)return null;if(!this.props.shouldMountExtensionComponents||!this.props.installations.length)return null;var v=this.state,f=v.playerWidth,g=v.playerHeight;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(mn.$,{onResize:this.handleResize}),(0,a.jsx)(Hr,{track:this.props.track,activeExtensions:this.props.installations}),(0,a.jsx)(zr,{isVideoAdShowing:this.props.isVideoAdShowing,playerDimensions:{playerWidth:f,playerHeight:g},videoDimensions:p,arePlayerControlsVisible:this.props.playerControlsActive,game:m})]})},n}(r.Component);var Qr=(0,o.Zz)((0,s.X)({name:"ExtensionsOverlayContainer"}),(0,k.Ng)((function(e){var n=(0,ve.wz)(e);return{loginID:n&&n.id||void 0,isTheatreMode:e.ui.theatreModeEnabled}})),(0,T.cj)((function(e){var n=(0,D.wk)({playerPublicPropsContext:e});return{channelLogin:(0,H.jp)(e.content),parentChannelID:(0,H.b3)(e.content),isMini:!!n.mini,showChannelInfoOnHover:n.showChannelInfoOnHover}})),(0,M.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,I.o1)(),(0,te.c0)((function(e){var n=e.isFullscreen,t=e.videoRef;return{isFullscreen:n,videoRef:t}})),(0,le.In)((function(e){var n=e.active;return{playerControlsActive:!!n}})),(0,de.AP)((function(e){var n=e.isPlaying;return{isPlaying:n}})),(0,w.VX)((function(e){return{isVideoAdShowing:(0,j.cz)(e.videoAdMetadata)}})),(0,re.vM)((function(e){return{isCasting:(0,re.mh)(e)}})),(0,G._v)(Kr(),{skip:function(e){return!e.channelLogin},options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,Ca.A3)((function(e){var n=e.shouldMountExtensionComponents,t=e.allVideoExtensions;return{shouldMountExtensionComponents:n,installations:t}})))(Zr);var Yr,Xr=t(672052),$r=t(681685),Jr=t(369624),eo=t(412670),no=t(508489),to=t(667895),io=t.n(to),ao=function(e){return!!(e.user&&e.user.self&&e.user.self.follower&&null!==e.user.self.follower.disableNotifications)},ro=function(e){return!(e.user&&e.user.self&&e.user.self.follower&&null!==e.user.self.follower.disableNotifications)||e.user.self.follower.disableNotifications};!function(e){e.FollowPanelOverlay="follow-panel-overlay"}(Yr||(Yr={}));var oo=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={userOriginallyFollowedWithNotifications:!1},n.handleFollow=function(){var e=n.props.offlineChannelNotificationPromptLoginAction;return e===eo.vS.Modal?n.showAuthModalIfNotLoggedIn():e===eo.vS.Navigate?n.openAuthPageIfNotLoggedIn():void 0},n.openAuthPageIfNotLoggedIn=function(){if(!n.props.isLoggedIn){if(!(n.props.data&&n.props.data.user&&n.props.data.user.login))return;var e=n.props.data.user.login,t=(0,Xr.SQ)("/".concat(e));window.open("https://www.twitch.tv".concat(t),"_blank")}},n.showAuthModalIfNotLoggedIn=function(){n.props.isLoggedIn||n.props.showAuthModal()},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.data&&!this.props.data.loading&&this.setUserOriginallyFollowed(this.props.data)},n.prototype.componentDidUpdate=function(e){e.data&&!e.data.loading||!this.props.data||this.props.data.loading||this.setUserOriginallyFollowed(this.props.data)},n.prototype.render=function(){var e=this.props.liveChannelLogin,n=pn()("follow-panel-overlay",{"follow-panel-overlay--with-top-offset":this.props.streamInfoShowing});return this.shouldRender()?(0,a.jsx)(Mn.e,{show:!0,type:Ln.ES.SlideOverTop,transitionInitialMount:!0,injectChild:!0,children:(0,a.jsxs)(v.P,{className:n,"data-test-selector":Yr.FollowPanelOverlay,display:f.nl.Flex,flexDirection:f.bo.Column,alignItems:f.k2.Start,position:f.yX.Absolute,elevation:1,background:f.VS.Overlay,borderRadius:b.Z.Small,padding:1,children:[(0,a.jsx)(U.N,{color:f.Q1.Overlay,fontSize:f.Z4.Size4,children:(0,P.hw)("Follow and get notified when {channelLogin} is live",{channelLogin:e},"FollowPanelOverlay")}),(0,a.jsx)(v.P,{margin:{top:1},children:(0,a.jsx)(no.F6,{userID:this.props.data.user.id,isFollowingUser:ao(this.props.data),notificationsDisabled:ro(this.props.data),onFollow:this.handleFollow})})]})}):null},n.prototype.shouldRender=function(){return!this.props.channelIsSelf&&(!!this.props.liveChannelLogin&&(!(!this.props.data||!this.props.data.user)&&(!this.props.data.loading&&!this.props.data.error&&(!this.state.userOriginallyFollowedWithNotifications&&(!this.props.streamInfoShowing||!this.props.socialPanelShowing)))))},n.prototype.setUserOriginallyFollowed=function(e){var n=ao(e)&&!ro(e);this.setState({userOriginallyFollowedWithNotifications:n})},n}(r.Component);var so=(0,o.Zz)((0,s.X)({name:"FollowPanelOverlay"}),(0,T.cj)((function(e){var n;return{socialPanelShowing:void 0!==(null===(n=e.behaviors)||void 0===n?void 0:n.socialPanelType),liveChannelLogin:(0,H.jp)(e.content),offlineChannelNotificationPromptLoginAction:(0,D.wk)({playerPublicPropsContext:e}).offlineChannelNotificationPromptLoginAction}})),(0,te.c0)((function(e){return{streamInfoShowing:e.streamInfoShowing}})),(0,G._v)(io(),{options:function(e){var n;return{variables:{channelLogin:null!==(n=e.liveChannelLogin)&&void 0!==n?n:""},skip:!e.liveChannelLogin}}}),(0,k.Ng)((function(e,n){var t=(0,ve.wz)(e);return{channelIsSelf:!(!t||t.login!==n.liveChannelLogin),isLoggedIn:(0,ve.M3)(e)}}),(function(e,n){return{showAuthModal:function(){if(n.data&&n.data.user){var t=(0,Jr.$5)($r.W.NotificationBell,{showContext:!0,targetChannel:n.liveChannelLogin});e(t)}}}})))(oo),lo=t(699737),uo=t(112736),co=t(371367);function po(e,n){var t=e.value,i=e.valueAlt;return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsxs)(U.N,{type:q.M2.Span,children:[t,i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.N,{color:f.Q1.Alt,type:q.M2.Span,children:" / "}),i]})]}),n&&(0,a.jsx)(U.N,{color:f.Q1.Alt,type:q.M2.Span,children:" , "})]},t)}var mo,vo=(0,s.X)({name:"KeyboardShortcutsOverlay"})((function(){var e=(0,r.useContext)(te._t).hideKeyboardShortcuts,n=(0,r.useContext)(T.kl).content,t=(0,r.useRef)(null),i=(0,r.useMemo)((function(){var e=[{message:(0,P.hw)("Pause/Play","KeyboardShortcutsOverlayComponent"),values:{value:(0,P.hw)("Space/k","KeyboardShortcutsOverlayComponent")}},(0,H.DG)(n)?void 0:{message:(0,P.hw)("Back/Forward {count} seconds",{count:(0,H.Jn)(n)?co.Jn:co.aS},"KeyboardShortcutsOverlayComponent"),values:[{value:"←",valueAlt:"→"},{value:"j",valueAlt:"l"}]},(0,H.DG)(n)?void 0:{message:(0,P.hw)("Slow down/Speed up","KeyboardShortcutsOverlayComponent"),values:{value:",",valueAlt:"."}},{message:(0,P.hw)("Change Volume","KeyboardShortcutsOverlayComponent"),values:{value:(0,P.hw)("shift+↑","KeyboardShortcutsOverlayComponent"),valueAlt:(0,P.hw)("shift+↓","KeyboardShortcutsOverlayComponent")}},(0,H.Jn)(n)?void 0:{message:(0,P.hw)("Mute","KeyboardShortcutsOverlayComponent"),values:{value:"m"}},{message:(0,P.hw)("Toggle Fullscreen","KeyboardShortcutsOverlayComponent"),values:{value:"f"}},{message:(0,P.hw)("Exit Fullscreen","KeyboardShortcutsOverlayComponent"),values:{value:(0,P.hw)("Esc","KeyboardShortcutsOverlayComponent")}},{message:(0,P.hw)("Show this menu","KeyboardShortcutsOverlayComponent"),values:{value:"?"}}];return(0,uo.jP)(e)}),[n]);(0,r.useEffect)((function(){t.current&&t.current.focus()}),[]);var o=(0,P.hw)("Keyboard Shortcuts","KeyboardShortcutsOverlayComponent");return(0,a.jsx)(Se.e,{theme:"dark",children:(0,a.jsx)("div",{style:{width:300,position:"absolute"},children:(0,a.jsx)(v.P,{background:f.VS.Base,elevation:1,color:f.Q1.Base,children:(0,a.jsx)(Hi.u,{section:"global",id:"keyboard-shortcuts-overlay",icon:lo.f,label:o,children:(0,a.jsx)(Ce.X,{ref:t,tabIndex:-1,children:(0,a.jsxs)(xe.B,{children:[(0,a.jsxs)(Ee.H,{children:[(0,a.jsx)(Ae.n,{padding:.5,children:o}),(0,a.jsx)(Ae.n,{textAlign:f.nO.Right,padding:.5,children:(0,a.jsx)(He.$n,{variant:He.VQ.Text,icon:be.g,"aria-label":(0,P.hw)("Close Keyboard Shortcuts","KeyboardShortcutsOverlayComponent"),onClick:e})})]}),i.map((function(e,n){var t=e.message,i=function(e){return Array.isArray(e)?e.map((function(n,t){return po(n,t<e.length-1)})):po(e)}(e.values);return(0,a.jsxs)(Ee.H,{children:[(0,a.jsx)(Ae.n,{padding:.5,children:(0,a.jsx)(U.N,{children:t})}),(0,a.jsx)(Ae.n,{textAlign:f.nO.Right,padding:.5,children:i})]},n)}))]})})})})})})})),fo=t(731667);!function(e){e.PlayButton="player-overlay-play-button"}(mo||(mo={}));var go=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handlePlay=function(){n.props.play()},n.handleToggleFullscreen=function(){n.props.disableDoubleClickFullscreen||(n.props.isFullscreen?n.props.exitFullscreen():n.props.enterFullscreen())},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=(0,P.hw)("Play","PlayButtonOverlay");return(0,a.jsx)(Me.FT,{type:Me.NL.Fullscreen,transparency:Me.xL.Transparency5,children:(0,a.jsxs)(v.P,{position:f.yX.Relative,display:f.nl.Flex,alignItems:f.k2.Center,justifyContent:f.A9.Center,height:"100%",width:"100%",children:[(0,a.jsx)(N.S,{position:f.yX.Absolute,height:"100%",width:"100%",attachTop:!0,attachRight:!0,attachBottom:!0,attachLeft:!0,children:(0,a.jsx)(jn.M,{onClick:this.handlePlay,onDoubleClick:this.handleToggleFullscreen,"aria-label":e})}),(0,a.jsx)(v.P,{position:f.yX.Absolute,children:(0,a.jsx)(Di.tD,{borderRadius:b.Z.Medium,onClick:this.handlePlay,"data-a-target":mo.PlayButton,variant:Di.hJ.Overlay,"aria-label":e,children:(0,a.jsx)(Un.A,{size:120})})})]})})},n}(r.Component),ho=(0,o.Zz)((0,s.X)({name:"PlayButtonOverlay"}),(0,de.AP)((function(e){return{play:e.play}})),(0,I.o1)(),(0,T.cj)((function(e){return{disableDoubleClickFullscreen:(0,D.wk)({playerPublicPropsContext:e}).disableDoubleClickFullscreen}})),(0,te.c0)((function(e){var n=e.enterFullscreen,t=e.exitFullscreen,i=e.isFullscreen;return{enterFullscreen:n,exitFullscreen:t,isFullscreen:i}})))(go);var yo,ko=function(){var e=(0,r.useContext)(de.wL),n=e.play,t=e.isPlaying,i=e.userTriggeredPause,o=e.userTriggeredPlay,s=(0,r.useContext)(M.$g),l=s.autoplay,d=s.hasPlayed,u=s.mediaPlayerInstance,c=(0,r.useContext)(te._t),p=c.isFullscreen,m=c.enterFullscreen,g=c.exitFullscreen,h=(0,r.useContext)(T.kl),y=(0,D.wk)({playerPublicPropsContext:h}).disableDoubleClickFullscreen,k=(0,r.useState)(!1),S=k[0],_=k[1],C=(0,r.useState)(null),E=C[0],x=C[1],A=(0,r.useRef)(),w=(0,r.useRef)(!1),I=(0,r.useCallback)((function(e){w.current&&(_(!0),x(e))}),[]),F=function(){return u?u.getDisplayHeight()<=240?40:u.getDisplayHeight()>=480?80:Math.round(u.getDisplayHeight()*(1/6)):60};if((0,r.useEffect)((function(){if(o&&t)return I(ue.t.Play)}),[t,I,o]),(0,r.useEffect)((function(){if(i&&!t)return I(ue.t.MiniPlayerPause)}),[t,I,i]),(0,$n.S)((function(){w.current=!0})),!l&&!d)return(0,a.jsx)(ho,{});if(!E&&t)return null;var O=(0,P.hw)("Play","LastActionOverlay");return(0,a.jsx)(Me.FT,{type:Me.NL.Fullscreen,transparency:Me.xL.Transparency10,children:(0,a.jsxs)(v.P,{position:f.yX.Relative,display:f.nl.Flex,alignItems:f.k2.Center,justifyContent:f.A9.Center,height:"100%",width:"100%",children:[(0,a.jsx)(N.S,{position:f.yX.Absolute,height:"100%",width:"100%",attachTop:!0,attachRight:!0,attachBottom:!0,attachLeft:!0,children:(0,a.jsx)(jn.M,{onClick:function(){!1===t&&n({userTriggered:!0})},onDoubleClick:function(){y||(p?g():m())},"aria-label":O})}),(0,a.jsx)(Mn.e,{show:S,type:[Ln.ES.ScaleOver,Ln.ES.Fade],duration:[Ln.Cf.Long,Ln.Cf.Short],onEnterComplete:function(){clearTimeout(A.current),A.current=setTimeout((function(){_(!1)}),500)},onExitComplete:function(){x(null),clearTimeout(A.current),A.current=void 0},transitionInitialMount:!0,children:E&&(0,a.jsx)(v.P,{display:f.nl.Flex,alignItems:f.k2.Center,justifyContent:f.A9.Center,background:f.Q1.Overlay,borderRadius:b.Z.Rounded,color:f.Q1.Overlay,padding:1,children:(0,a.jsx)(fo.t,{asset:E,type:fo.H.Inherit,width:F(),height:F()})})})]})})},So=t(348268),_o=t(628458);!function(e){e.PlayPauseButton="mini-overlay-play-pause-button"}(yo||(yo={}));var bo,Co=(0,o.Zz)((0,s.X)({name:"MiniOverlay"}),(0,M.dd)((function(e){return{playbackRestricted:(0,et.k1)(e)}})),(0,T.cj)((function(e){return{mini:(0,D.wk)({playerPublicPropsContext:e}).mini}})),(0,de.AP)((function(e){return{isPlaying:e.isPlaying,pause:e.pause,play:e.play}})),(0,le.In)((function(e){var n=e.active;return{playerControlsActive:!!n}})))((function(e){var n=e.isPlaying,t=e.mini,i=e.pause,r=e.play,o=e.playbackRestricted,s=e.playerControlsActive;if(!t)return null;var l=n?(0,P.hw)("Pause","VideoPlayerMiniOverlay"):(0,P.hw)("Play","VideoPlayerMiniOverlay"),d=n?ue.t.MiniPlayerPause:ue.t.MiniPlayerPlay;return(0,a.jsx)(Mn.e,{type:Ln.ES.Fade,show:s,alwaysRenderChild:!0,children:(0,a.jsxs)(Me.FT,{transparency:Me.xL.Transparency6,type:Me.NL.Fullscreen,children:[(0,a.jsxs)(v.P,{className:"mini-overlay__title",background:f.VS.Overlay,alignItems:f.k2.Center,display:f.nl.Flex,flexDirection:f.bo.Row,flexWrap:f.I4.NoWrap,justifyContent:f.A9.Between,padding:{y:.5,right:.5},fullWidth:!0,children:[(0,a.jsx)(v.P,{ellipsis:!0,margin:{x:1},children:(0,a.jsx)(U.N,{fontSize:f.Z4.Size4,type:q.M2.Span,children:t.title})}),(0,a.jsx)(v.P,{flexShrink:0,children:(0,a.jsx)(_e.a2,{"aria-label":(0,P.hw)("Dismiss Mini Player","VideoPlayerMiniOverlay"),icon:be.g,onClick:t.onClickDismiss,overlay:!0})})]}),(0,a.jsxs)(v.P,{display:f.nl.Flex,alignItems:f.k2.Center,flexDirection:f.bo.Row,justifyContent:f.A9.Center,fullHeight:!0,fullWidth:!0,children:[(0,a.jsx)(_e.a2,{"aria-label":(0,P.hw)("Expand Player","VideoPlayerdMiniOverlay"),icon:_o.i,onClick:t.onClickExpand,overlay:!0,size:Nt.f.Large}),(0,a.jsx)(v.P,{margin:{left:2},children:(0,a.jsx)(_e.a2,{"aria-label":o?(0,P.hw)("Playback restricted","VideoPlayerMiniOverlay"):l,disabled:o,icon:d,onClick:function(){n?i({userTriggered:!0}):r({userTriggered:!0})},overlay:!0,size:Nt.f.Large,"data-a-target":yo.PlayPauseButton})})]})]})})}));!function(e){e.DismissButton="muted-segments-alert-overlay-presentation__dismiss-button",e.PositionWrapper="muted-segments-alert-overlay-presentation__wrapper",e.ScrollWrapper="muted-segments-alert-overlay-presentation__scroll-wrapper"}(bo||(bo={}));var Po=function(e){var n=r.useRef(e.bottomControlsShowing),t=function(e){var n=e.bottomControlsShowing,t=e.bottomControlsShown;return{positionWrapperClasses:pn()({"muted-segments-alert__position-wrapper":!0,"muted-segments-alert__position-wrapper--bottom-controls-offset":n}),scrollWrapperClasses:pn()({"muted-segments-alert__scroll-wrapper":!0,"muted-segments-alert__scroll-wrapper--bottom-controls-in":n,"muted-segments-alert__scroll-wrapper--bottom-controls-out":!n&&t})}}({bottomControlsShowing:e.bottomControlsShowing,bottomControlsShown:n.current}),i=t.positionWrapperClasses,o=t.scrollWrapperClasses;return e.bottomControlsShowing&&(n.current=!0),(0,a.jsx)(v.P,{className:i,position:f.yX.Absolute,display:f.nl.Flex,flexDirection:f.bo.ColumnReverse,alignItems:f.k2.Center,"data-test-selector":bo.PositionWrapper,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,children:(0,a.jsx)(we.Vq,{"data-test-selector":bo.ScrollWrapper,className:o,children:(0,a.jsxs)(v.P,{background:f.VS.Overlay,padding:{x:.5},className:"muted-segments-alert__content",display:f.nl.Flex,border:!0,children:[(0,a.jsx)(N.S,{padding:{y:1,left:1},children:(0,a.jsx)(U.N,{children:(0,P.hw)("Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.","MutedSegmentsAlert")})}),(0,a.jsx)(v.P,{flexShrink:0,padding:{y:.5},children:(0,a.jsx)(_e.a2,{"aria-label":(0,P.hw)("Dismiss muted audio notice","MutedSegmentsAlert"),icon:be.g,onClick:e.onDismissClick,overlay:!0,"data-test-selector":bo.DismissButton})})]})})})},Eo=t(227188),No=t.n(Eo),xo="twilight.mutedSegmentsAlertDismissed",Ao=function(e){function n(n){var t=e.call(this,n)||this;return t.handleDismissClick=function(){t.setState({isDismissed:!0}),P.VS.set(xo,!0)},t.state={isDismissed:P.VS.get(xo,!1)},t}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.data;return!e||e.loading||e.error||!function(e){var n=e.video;return n&&n.muteInfo&&n.muteInfo.mutedSegmentConnection&&n.muteInfo.mutedSegmentConnection.nodes&&n.muteInfo.mutedSegmentConnection.nodes.length>0}(e)||this.state.isDismissed?null:(0,a.jsx)(Po,{bottomControlsShowing:this.props.bottomControlsShowing,onDismissClick:this.handleDismissClick})},n}(r.Component);var wo=(0,o.Zz)((0,s.X)({name:"MutedSegmentsAlertOverlay"}),(0,T.cj)((function(e){var n=(0,D.wk)({playerPublicPropsContext:e}),t=(0,D.Rh)({playerPublicPropsContext:e});return{vodID:(0,H.hq)(t),includePrivateVODs:n.includePrivateVODs}})),(0,G._v)(No(),{options:function(e){return{variables:{vodID:e.vodID,includePrivate:e.includePrivateVODs||!1}}},skip:function(e){return!e.vodID}}))(Ao),To=t(419901),Io=t.n(To),Do=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getBannerUrl=function(){if(n.props.data&&n.props.data.user)return n.props.data.user.offlineImageURL?n.props.data.user.offlineImageURL:void 0},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.getBannerUrl();return e?(0,a.jsx)("div",{style:{backgroundColor:"#19171c",backgroundImage:"url(".concat(e,")"),width:"100%",height:"100%",backgroundPosition:"50%",backgroundRepeat:"no-repeat",backgroundSize:"contain"}}):null},n}(r.Component);var Fo=(0,o.Zz)((0,s.X)({name:"OfflineBannerOverlay"}),(0,T.cj)((function(e){var n=(0,D.Rh)({playerPublicPropsContext:e});return{liveChannelLogin:(0,H.jp)(n)}})),(0,G._v)(Io(),{skip:function(e){return!e.liveChannelLogin},options:function(e){var n;return{variables:{login:null!==(n=e.liveChannelLogin)&&void 0!==n?n:""}}}}))(Do),Oo=t(416290),Ro=t(391186),Vo=t(478889),Mo=t(47149),Lo=t(144269),jo=t(22046),Bo=t(998300),Uo=t(154294),qo=t.n(Uo),Go=l.x.wrap((function(){return t.e(89438).then(t.bind(t,98142))}),"OfflineEmbedChannelInfo"),zo=l.x.wrap((function(){return Promise.all([t.e(76673),t.e(54673),t.e(51289)]).then(t.bind(t,601290))}),"OfflineEmbedScheduleSegment");function Ho(){var e,n,t,i,o,s,l,d,u,c,p,m,g,h,y=(0,r.useContext)(T.kl).content,k=(0,r.useState)(window.innerWidth<=600),S=k[0],_=k[1],b=null!==(e=(0,H.hd)(y))&&void 0!==e?e:"",C=(0,r.useRef)((0,ea.aq)()),E=(0,$i.IT)(qo(),{variables:{login:null!=b?b:""},skip:!b}),N=E.data,x=E.loading,A=(null===(n=null==N?void 0:N.user)||void 0===n?void 0:n.id)||"",w=null===(s=null===(o=null===(i=null===(t=null==N?void 0:N.user)||void 0===t?void 0:t.channel)||void 0===i?void 0:i.schedule)||void 0===o?void 0:o.segmentList)||void 0===s?void 0:s.edges,I=null===(c=null===(u=null===(d=null===(l=null==N?void 0:N.user)||void 0===l?void 0:l.videos)||void 0===d?void 0:d.edges)||void 0===u?void 0:u[0])||void 0===c?void 0:c.node,D=null==w?void 0:w.filter((function(e){var n;return!(null===(n=null==e?void 0:e.node)||void 0===n?void 0:n.isCancelled)})).slice(0,2),F=D&&D.length>0,O=I&&!F&&!S,R=F&&!S,V=(0,jo.g)(null==I?void 0:I.previewThumbnailURL),M=(0,r.useState)(!1),L=M[0],j=M[1];return(0,r.useEffect)((function(){j(!N||!A||!b)}),[N,A,b]),L&&!x?(0,a.jsx)(Lo.PageNotFound,{openInNewTab:!0}):(0,a.jsxs)("div",{className:"offline-embeds",style:{backgroundImage:"url(".concat(null!==(m=null===(p=null==N?void 0:N.user)||void 0===p?void 0:p.bannerImageURL)&&void 0!==m?m:null===(g=null==N?void 0:N.user)||void 0===g?void 0:g.offlineImageURL,")")},children:[(0,a.jsx)(mn.$,{onResize:function(e,n){e&&n&&_(e<=775||n<=300)}}),(0,a.jsxs)(v.P,{alignItems:f.k2.Center,display:f.nl.Flex,fullHeight:!0,children:[(0,a.jsx)(v.P,{display:f.nl.Flex,className:R?"offline-embeds--stream-schedule-exists":void 0,children:(0,a.jsx)(Go,{channelLogin:b,offlineSessionID:C.current,showSmallOverlay:S,customBackground:F&&!S?f.VS.Overlay:void 0})}),R&&(0,a.jsx)("div",{style:{marginTop:Wo(null==D?void 0:D.length),zIndex:0},children:(0,a.jsxs)(v.P,{className:"offline-embeds--schedule",display:f.nl.Flex,flexDirection:f.bo.Column,justifyContent:f.A9.Center,padding:{left:2,right:3,bottom:2},children:[(0,a.jsxs)(v.P,{display:f.nl.Flex,justifyContent:f.A9.Between,children:[(0,a.jsx)(v.P,{className:"offline-embeds--upcoming-streams",padding:{left:1,top:2,bottom:1},display:f.nl.InlineBlock,children:(0,a.jsx)(U.N,{type:q.M2.H4,children:(0,P.hw)("Upcoming Streams:","OfflineEmbedsOverlay")})}),(0,a.jsx)(v.P,{className:"offline-embeds--stylized-link",display:f.nl.Flex,alignItems:f.k2.Center,padding:{top:2,bottom:1},children:(0,a.jsx)(Ii.Cb,{linkTo:(0,Bo.V)({content:"offline_embed_full_schedule",medium:"embed"},(0,sa.VV)("/".concat(b,"/schedule"))),targetBlank:!0,variant:Ii.KD.Inherit,hoverColorInherit:!0,underline:!1,children:(0,a.jsx)(U.N,{type:q.M2.H5,bold:!0,children:(0,P.hw)("Full Schedule","OfflineEmbedsOverlay")})})})]}),D&&D.map((function(e){var n,t,i,r,o,s,l,d;return(0,a.jsx)(v.P,{className:"offline-embeds--schedule-segment",display:f.nl.Flex,flexDirection:f.bo.Column,justifyContent:f.A9.Center,margin:{x:.5,bottom:1},style:(null===(n=null==N?void 0:N.user)||void 0===n?void 0:n.primaryColorHex)?{"border-left":"0.5rem solid ".concat((0,Mo.ZA)(null===(t=null==N?void 0:N.user)||void 0===t?void 0:t.primaryColorHex))}:void 0,fullWidth:!0,children:(0,a.jsx)(zo,{channelID:A,channelLogin:b,displayName:null!==(r=null===(i=null==N?void 0:N.user)||void 0===i?void 0:i.displayName)&&void 0!==r?r:b,endAt:e.node.endAt||void 0,gameName:null===(s=null===(o=e.node.categories)||void 0===o?void 0:o[0])||void 0===s?void 0:s.name,hasReminder:e.node.hasReminder,id:e.node.id,previewImageURL:(null===(d=null===(l=e.node.categories)||void 0===l?void 0:l[0])||void 0===d?void 0:d.boxArtURL)||void 0,startAt:new Date(e.node.startAt),title:e.node.title},e.node.id)},e.node.id)}))]})}),O&&(0,a.jsx)(v.P,{display:f.nl.Flex,fullWidth:!0,margin:{bottom:3,x:1},children:(0,a.jsx)("div",{style:{width:"37rem",marginInlineStart:"-3rem",marginTop:"6rem"},children:(0,a.jsx)(Oo.Z,{image:(0,a.jsx)(Ii.Cb,{linkTo:(0,Bo.V)({content:"embed_vod",medium:"embed"},(0,sa.VV)("/videos/".concat(null==I?void 0:I.id))),targetBlank:!0,underline:!1,children:(0,a.jsx)(Ro.G,{bottomLeft:null!==(h=null==I?void 0:I.title)&&void 0!==h?h:"",cover:(0,a.jsx)(v.P,{background:f.VS.Overlay,fullWidth:!0,fullHeight:!0,display:f.nl.Flex,flexDirection:f.bo.Column,justifyContent:f.A9.Center,alignItems:f.k2.Center,children:(0,a.jsx)(Vo.Z,{size:44})}),image:V?(0,a.jsx)(dt.L,{src:(null==I?void 0:I.previewThumbnailURL)||"",alt:(null==I?void 0:I.title)||""}):(0,a.jsx)(Er.Or,{height:56,width:100})})})})})})]})]})}function Wo(e){switch(e){case 2:return"6%";case 1:return"-9%";default:return"0%"}}var Ko=(0,I.o1)()((function(e){var n=function(e){var n;n=e.width<=580?2:e.width<=760?3:6,e.videos.length<n&&(n=e.videos.length);var t=e.width<=580?6:4;n<12/t&&(t=12/n);var i=e.width<=500||e.width>500&&e.width<970&&1===n;return{visibleVideos:e.videos.slice(0,n),isHorizontalLayout:i,numberOfCards:n,numberOfColumns:t}}(e),t=n.visibleVideos,i=n.numberOfCards,r=n.numberOfColumns,o=n.isHorizontalLayout,s=function(e,n){return(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsx)(U.N,{fontSize:f.Z4.Size6,ellipsis:!0,bold:!0,color:f.Q1.OverlayAlt,children:e}),n&&(0,a.jsx)(U.N,{fontSize:f.Z4.Size6,ellipsis:!0,color:f.Q1.OverlayAlt,children:n})]})};return(0,a.jsx)(Me.FT,{transparency:Me.xL.Transparency1,type:Me.NL.Fullscreen,children:(0,a.jsxs)(v.P,{className:"other-vods__container",margin:{top:2,left:2,right:2},position:f.yX.Absolute,display:f.nl.Flex,flexDirection:f.bo.Column,attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,children:[(0,a.jsxs)(v.P,{display:f.nl.Flex,justifyContent:f.A9.Center,children:[(0,a.jsx)(U.N,{type:e.width>500?q.M2.H4:q.M2.H5,color:f.Q1.Overlay,children:e.title}),(0,a.jsx)(v.P,{attachRight:!0,position:f.yX.Absolute,children:(0,a.jsx)(_e.a2,{"aria-label":(0,P.hw)("Close videos list","OtherVods"),icon:be.g,overlay:!0,onClick:e.onClose})})]}),(0,a.jsx)(v.P,{className:"other-vods__grid-container",margin:{left:"auto",right:"auto",top:o?0:e.width<=970?1:3},flexGrow:1,children:(0,a.jsx)(Yn.x,{fullHeight:!0,alignItems:12/r<i?f.k2.Start:f.k2.Center,children:t.map((function(n){var t,i;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Xn.VP,{cols:o?4:r,children:(0,a.jsx)(mt,{video:n,content:{type:gn.FC.VOD,vodID:n.id},onSelect:function(){return e.onSelect(n)},info:!o&&s(n.title,null===(t=n.game)||void 0===t?void 0:t.name),marginBottom:0})},n.id),o&&(0,a.jsx)(Xn.VP,{cols:8,children:s(n.title,null===(i=n.game)||void 0===i?void 0:i.name)})]})}))})})]})})})),Zo=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.video,t=e.onClose;return(0,a.jsx)(N.S,{fullWidth:!0,fullHeight:!0,position:f.yX.Absolute,attachTop:!0,children:(0,a.jsx)(Mn.e,{alwaysRenderChild:!0,transitionInitialMount:!0,show:!0,type:Ln.ES.SlideOverRight,duration:Ln.Cf.Long,children:(0,a.jsxs)(Me.FT,{type:Me.NL.Sidebar,transparency:Me.xL.Transparency3,children:[(0,a.jsxs)(v.P,{display:f.nl.Flex,margin:{bottom:1},children:[(0,a.jsx)(N.S,{flexGrow:1,children:(0,a.jsx)(U.N,{bold:!0,type:q.M2.H4,color:f.Q1.Overlay,children:(0,P.hw)("Most Recent Video","OfflineRecommendations")})}),(0,a.jsx)(_e.a2,{"aria-label":(0,P.hw)('Close "most recent video" recommendation',"OfflineRecommendations"),icon:be.g,overlay:!0,onClick:t})]}),(0,a.jsx)(mt,{video:n,content:{type:gn.FC.VOD,vodID:n.id},onSelect:function(){},info:(0,a.jsx)(U.N,{fontSize:f.Z4.Size4,ellipsis:!0,children:n.title})})]})})})},n}(r.Component),Qo=(0,I.o1)()(Zo),Yo=t(907567),Xo=t.n(Yo),$o=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={pinnedVod:!0,otherVods:!0,width:0,height:0},n.onResize=function(e,t){n.setState((function(i){return{width:e,height:t,pinnedVod:!n.isValidSize()||i.pinnedVod,otherVods:!n.isValidSize()||i.otherVods}}))},n.handleClosePinnedVod=function(){n.setState({pinnedVod:!1})},n.handleCloseOtherVods=function(){n.setState({otherVods:!1})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsxs)(a.Fragment,{children:[(this.state.pinnedVod||this.state.otherVods)&&(0,a.jsx)(mn.$,{onResize:this.onResize}),this.showPinnedVod()&&(0,a.jsx)(Qo,{video:this.videos()[0],onClose:this.handleClosePinnedVod}),this.showOtherVods()&&(0,a.jsx)(Ko,{videos:this.videos(),onClose:this.handleCloseOtherVods,title:(0,P.hw)("Watch Now","OfflineRecommendations"),width:this.state.width})]})},n.prototype.componentDidUpdate=function(){this.props.setRecommendationsShowing(this.showOtherVods()||this.showPinnedVod())},n.prototype.componentWillUnmount=function(){this.props.setRecommendationsShowing(!1)},n.prototype.showPinnedVod=function(){return this.isValidSize()&&this.hasVods()&&this.state.pinnedVod},n.prototype.showOtherVods=function(){return this.isValidSize()&&this.hasVods()&&!this.showPinnedVod()&&this.state.otherVods},n.prototype.hasVods=function(){return this.videos().length>1},n.prototype.notNull=function(e){return null!==e},n.prototype.videos=function(){var e=this.props.data&&this.props.data.user&&this.props.data.user.videos&&this.props.data.user.videos.edges&&this.props.data.user.videos.edges.map((function(e){return e&&e.node})).filter(this.notNull);return e||[]},n.prototype.isValidSize=function(){return this.state.height>300&&this.state.width>560},n}(r.Component),Jo=(0,G._v)(Xo(),{skip:function(e){return e.contentType!==gn.FC.Live||!e.login},options:function(e){var n;return{variables:{login:null!==(n=e.login)&&void 0!==n?n:""}}}})($o);var es,ns=function(e){function n(n){var t=e.call(this,n)||this;return t.props.hasPlayed?t.state={deferRender:!0}:t.state={deferRender:!1},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this;if(this.props.hasPlayed){var n=Math.floor(5e3*Math.random())+1;setTimeout((function(){e.setState({deferRender:!1})}),n)}},n.prototype.render=function(){return this.state.deferRender?null:(0,a.jsx)(Jo,(0,i.__assign)({},this.props))},n}(r.Component),ts=(0,o.Zz)((0,s.X)({name:"OfflineRecommendationsOverlay"}),(0,T.cj)((function(e){var n=e.content;return{contentType:n.type,login:(0,H.jp)(n)}})),(0,te.c0)((function(e){return{setRecommendationsShowing:e.setRecommendationsShowing}})),(0,M.dd)((function(e){return{hasPlayed:e.hasPlayed}})),(0,I.o1)())(ns),is=t(71670),as=t(178196),rs=t(28602),os=t(503472),ss=t(194257),ls=t.n(ss),ds=t(734594),us=t(195135),cs=t(434848),ps=t(146065),ms=t(315320),vs=t(505851);!function(e){e.Details="preview_content-details",e.ContentTimer="preview-content-content-timer",e.PrimeUpsellButton="preview-content-prime-upsell-button",e.PrimeSubscribeErrorPanel="preview-content-prime-error-panel"}(es||(es={}));var fs=l.x.wrap((function(){return t.e(46880).then(t.bind(t,193536))}),"SubModal"),gs=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={imageLoaded:!1},n.handleImageLoad=function(){return n.setState((function(e){return e.imageLoaded?null:{imageLoaded:!0}}))},n.adFreeViewingText=function(){return(0,P.hw)("Get ad-free viewing on this channel (with limited exceptions), ability to watch and chat during sub-only streams, Subscriber emotes and a Subscriber badge.","PreviewContentOverlay")},n.showSubscriptionModal=function(){if(n.props.channelLogin){var e=n.props.exemptionProductName;e&&n.props.minTier>1?n.props.showSubscriptionCheckout({productName:e,trackingContext:{source:vs.U.SubscriberStreamUpsellClick}}):n.props.showSubscriptionModal({channelLogin:n.props.channelLogin,subLocation:rs.U2.PremiumContentOverlay})}},n.handlePrimeSubscribe=function(){n.props.handlePrimeSubscribe()},n.resetPrimeSubscribe=function(){n.props.resetPrimeSubscribe()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.renderLoggedOutContent();this.props.isLoggedIn&&(e=this.props.secondsRemaining<=0?this.renderExpiredContent():this.renderPreviewContent());var n=this.props.previewUrl;return(0,a.jsx)(Mn.e,{show:this.props.expanded,type:Ln.ES.Fade,duration:Ln.Cf.Long,"data-test-selector":es.Details,className:"preview-overlay__transition-container",children:(0,a.jsxs)(v.P,{padding:{bottom:2,x:2},display:f.nl.Flex,alignItems:f.k2.Start,className:"preview-overlay__info",children:[(0,a.jsx)(N.S,{margin:{right:2},borderRadius:b.Z.Medium,children:(0,a.jsx)("div",{className:"preview-overlay__preview-image",children:(0,a.jsx)(lt.j$,{ratio:16/9,children:(0,a.jsx)(Mn.e,{show:this.state.imageLoaded,type:Ln.ES.Fade,duration:Ln.Cf.Long,alwaysRenderChild:!0,children:n&&(0,a.jsx)(dt.L,{src:n,alt:this.props.channelLogin||"",onLoad:this.handleImageLoad})})})})}),(0,a.jsx)("div",{className:"preview-overlay__content",children:e})]})})},n.prototype.renderExpiredContent=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.P,{margin:{bottom:1},children:(0,a.jsx)(U.N,{type:q.M2.H4,children:(0,P.hw)("Your free preview has expired","PreviewContentOverlay")})}),(0,a.jsx)(U.N,{type:q.M2.H5,bold:!0,children:this.props.description}),(0,a.jsx)(U.N,{type:q.M2.P,fontSize:f.Z4.Size6,children:this.adFreeViewingText()}),this.renderButtonBar()]})},n.prototype.renderPreviewContent=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.N,{type:q.M2.P,fontSize:f.Z4.Size4,"data-test-selector":es.ContentTimer,children:(0,P.hw)("Your free preview ends in {timeRemaining}",{timeRemaining:(0,a.jsx)(U.N,{type:q.M2.Strong,children:this.renderTimer()})},"PreviewContentOverlay")}),this.renderButtonBar(),(0,a.jsx)(U.N,{type:q.M2.H5,bold:!0,children:this.props.description}),(0,a.jsx)(U.N,{type:q.M2.P,fontSize:f.Z4.Size6,children:this.adFreeViewingText()})]})},n.prototype.renderLoggedOutContent=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.N,{type:q.M2.H4,children:this.props.title}),(0,a.jsx)(v.P,{margin:{top:1,bottom:.5},children:(0,a.jsx)(U.N,{type:q.M2.H6,bold:!0,children:(0,P.hw)("Sign up now to join in:","PreviewContentOverlay")})}),(0,a.jsx)(N.S,{display:f.nl.Flex,alignItems:f.k2.Center,children:(0,a.jsxs)(U.N,{type:q.M2.Span,fontSize:f.Z4.Size6,children:[(0,a.jsx)(v.P,{margin:{right:1},children:(0,a.jsx)(ds.i,{size:20})}),(0,P.hw)("Watch free previews of Subscriber Streams","PreviewContentOverlay")]})}),(0,a.jsx)(N.S,{display:f.nl.Flex,alignItems:f.k2.Center,children:(0,a.jsxs)(U.N,{type:q.M2.Span,fontSize:f.Z4.Size6,children:[(0,a.jsx)(v.P,{margin:{right:1},children:(0,a.jsx)(ds.i,{size:20})}),(0,P.hw)("Follow {channelLogin} and never miss a stream",{channelLogin:this.props.channelLogin},"PreviewContentOverlay")]})}),this.renderButtonBar()]})},n.prototype.renderButtonBar=function(){var e=this;return this.props.shouldShowPrimeUpsell?(0,a.jsxs)(v.P,{margin:{y:2,x:0},display:f.nl.Flex,className:"preview-overlay__allow-pointers",children:[this.renderPrimeUpsellButton(),(0,a.jsx)(He.$n,{onClick:this.showSubscriptionModal,variant:He.VQ.Text,overlay:!0,children:(0,P.hw)("More options","PreviewContentOverlay")})]}):(0,a.jsx)(v.P,{margin:{y:2,x:0},className:"preview-overlay__allow-pointers",children:this.props.isLoggedIn?(0,a.jsx)(He.$n,{icon:us.n,onClick:this.showSubscriptionModal,children:this.props.cta}):(0,a.jsx)(He.$n,{onClick:function(){e.props.showLoginModal()},children:(0,P.hw)("Sign up to watch a free preview","PreviewContentOverlay")})})},n.prototype.renderTimer=function(){return(0,Fi.a3)(this.props.secondsRemaining,Fi.wg.ClockAuto)},n.prototype.renderPrimeUpsellButton=function(){return this.props.primeSubscribeFailed?(0,a.jsxs)(v.P,{"data-test-selector":es.PrimeSubscribeErrorPanel,background:f.VS.Overlay,border:!0,borderRadius:b.Z.Medium,padding:{x:.5},display:f.nl.Flex,children:[(0,a.jsx)(cs.m,{height:18,width:18}),(0,a.jsx)(N.S,{display:f.nl.InlineFlex,alignItems:f.k2.Center,margin:{left:1},children:(0,a.jsx)(U.N,{type:q.M2.Span,children:(0,P.hw)("Something went wrong.","PreviewContentOverlay")})}),(0,a.jsx)(He.$n,{variant:He.VQ.Text,onClick:this.resetPrimeSubscribe,overlay:!0,children:(0,P.hw)("Try again","PreviewContentOverlay")})]}):(0,a.jsx)(He.$n,{onClick:this.handlePrimeSubscribe,"data-test-selector":es.PrimeUpsellButton,disabledInteraction:this.props.primeSubscribePending,icon:ps.N,state:this.props.primeSubscribePending?He.w.Loading:He.w.Default,children:(0,P.hw)("Subscribe free with Prime","PreviewContentOverlay")})},n}(r.Component);var hs=(0,o.Zz)((0,I.o1)(),(0,T.cj)((function(e){var n=e.content;return{channelLogin:(0,H.NM)(n)||(0,H.hd)(n)||""}})),(0,k.Ng)((function(e){return{isLoggedIn:(0,ve.M3)(e)}}),(function(e){return(0,o.zH)({showSubscriptionModal:function(e){var n=(0,i.__rest)(e,[]);return(0,as.to)(fs,n)},showSubscriptionCheckout:ms.Z,showLoginModal:function(){return(0,Jr.iD)($r.W.ChannelUpsellLogin)}},e)})))(gs);var ys,ks,Ss=t(552153),_s=t(191132),bs=t(440549),Cs=t(917689),Ps=t.n(Cs);!function(e){e[e.Live=0]="Live",e[e.Rerun=1]="Rerun",e[e.Offline=2]="Offline",e[e.Premiere=3]="Premiere",e[e.DVR=4]="DVR"}(ks||(ks={}));var Es=function(e){switch(e){case ks.Live:return(0,a.jsx)(rt.qd,{label:(0,P.hw)("LIVE","StatusOverlay")});case ks.Rerun:return(0,a.jsx)(ot.L,{children:(0,P.hw)("RERUN","StatusOverlay")});case ks.Offline:return(0,a.jsx)(ot.L,{children:(0,P.hw)("OFFLINE","StatusOverlay")});case ks.Premiere:return(0,a.jsx)(ot.L,{children:(0,P.hw)("PREMIERE","StatusOverlay")});default:return null}},Ns=function(e){var n,t,i;return null===(i=null===(t=null===(n=e.data)||void 0===n?void 0:n.user)||void 0===t?void 0:t.stream)||void 0===i?void 0:i.type},xs=(ys=(0,_s.U)({name:"VideoPlayer_StatusOverlay",category:"broadcast"})).Available,As=ys.Unavailable;var ws,Ts=function(e){var n;return null!==(n=(0,H.jp)(e))&&void 0!==n?n:null},Is=(0,o.Zz)((0,T.cj)((function(e){var n=e.content;return{content:n}})),(0,M.dd)((function(e){return{isOffline:e.isOffline,isPremiumContentRestricted:(0,et.k1)(e,Fe.S.PremiumContent)}})),(0,G._v)(Ps(),{skip:function(e){return!Ts(e.content)},options:function(e){var n;return{variables:{channel:null!==(n=Ts(e.content))&&void 0!==n?n:""}}}}))((function(e){if(!e.data||function(e){return!e.data||e.data.loading}(e)||void 0===e.isOffline)return null;if(!1===e.isOffline&&!Ns(e))return(0,a.jsx)(As,{reason:"Cannot determine stream type",children:Es(ks.Live)});var n=e.isOffline?ks.Offline:ks.Live;return n===ks.Live&&(Ns(e)===bs.P.Rerun?n=ks.Rerun:Ns(e)===bs.P.Premiere&&(n=ks.Premiere)),(0,a.jsx)(xs,{children:Es(n)})}));!function(e){e.BroadcasterStreamingStatus="preview-content-broadcaster-streaming-status",e.FocusHandler="preview-content-top-bar-focus-handler",e.TopRightTimerTextTransition="preview-content-top-right-bar-timer-transition",e.TopRightTimerText="preview-content-top-right-bar-timer-copy",e.TopRightTimerTime="preview-content-top-right-bar-timer-time",e.ToggleStatus="preview-content-top-bar-icon",e.PrimeUpsellButton="preview-content-top-bar-prime-upsell-button"}(ws||(ws={}));var Ds=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handlePrimeSubscribe=function(e){e.stopPropagation(),n.props.handlePrimeSubscribe()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isLoggedIn,t=e.expanded,r=e.secondsRemaining,o=e.toggleCollapse,s=r<=0,l=n&&!s,d=n,u=n&&!s&&!t,c={display:f.nl.Flex,alignItems:f.k2.Center,fullHeight:!0},p=(0,a.jsx)(N.S,(0,i.__assign)({},c,{children:(0,a.jsx)(Mn.e,{show:l,type:Ln.ES.TranslateTop,duration:Ln.Cf.Medium,"data-test-selector":ws.ToggleStatus,children:t?(0,a.jsx)(Ss.N,{}):(0,a.jsx)(Ga.W1,{})})})),m=(0,a.jsx)(U.N,{fontSize:f.Z4.Size4,ellipsis:!0,"data-test-selector":ws.BroadcasterStreamingStatus,children:this.props.title}),g=this.props.shouldShowPrimeUpsell?this.renderPrimeUpsellButton():this.renderPreviewTimeRemainingText(),h=(0,a.jsx)(N.S,(0,i.__assign)({},c,{margin:{x:1},children:(0,a.jsx)(Mn.e,{show:u,type:Ln.ES.Fade,duration:Ln.Cf.Medium,"data-test-selector":ws.TopRightTimerTime,children:(0,a.jsxs)(U.N,{type:q.M2.Strong,fontSize:f.Z4.Size4,children:[" ",(0,Fi.a3)(r,Fi.wg.ClockAuto)]})})})),y=(0,a.jsx)(v.P,{children:(0,a.jsxs)(v.P,(0,i.__assign)({},c,{justifyContent:f.A9.Between,padding:2,fullWidth:!0,children:[p,(0,a.jsx)(v.P,(0,i.__assign)({},c,{flexGrow:1,flexShrink:1,overflow:f.nE.Hidden,margin:{x:1},children:d&&m})),(0,a.jsx)(v.P,(0,i.__assign)({},c,{children:(0,a.jsx)(N.S,(0,i.__assign)({},c,{justifyContent:f.A9.End,children:(0,a.jsx)(Mn.e,{show:u,type:Ln.ES.Fade,duration:Ln.Cf.Short,"data-test-selector":ws.TopRightTimerTextTransition,children:g})}))})),h,(0,a.jsx)(Is,{})]}))});return s||(y=(0,a.jsx)(v.P,{className:"preview-top-bar__allow-pointers","data-test-selector":ws.FocusHandler,children:(0,a.jsx)(Di.tD,{variant:Di.hJ.Alpha,onClick:o,children:y})})),y},n.prototype.renderPreviewTimeRemainingText=function(){return(0,a.jsx)(U.N,{fontSize:f.Z4.Size4,ellipsis:!0,"data-test-selector":ws.TopRightTimerText,children:(0,P.hw)("Your free preview ends in","PreviewContentOverlay")})},n.prototype.renderPrimeUpsellButton=function(){return this.props.primeSubscribeFailed?null:(0,a.jsx)(He.$n,{onClick:this.handlePrimeSubscribe,"data-test-selector":ws.PrimeUpsellButton,disabledInteraction:this.props.primeSubscribePending,icon:ps.N,state:this.props.primeSubscribePending?He.w.Loading:He.w.Default,children:(0,P.hw)("Subscribe free","PreviewContentOverlay")})},n}(r.Component);var Fs,Os=(0,o.Zz)((0,k.Ng)((function(e){return{isLoggedIn:(0,ve.M3)(e)}})))(Ds),Rs=t(731027),Vs=t.n(Rs);!function(e){e.Root="preview_content-root",e.FocusHandler="preview_content-focus_handler"}(Fs||(Fs={}));var Ms,Ls="logged_out",js="preview",Bs="expired_preview",Us="collapsed_prime",qs={Collapsed:"collapsed",Expanded:"expanded",Full:"full"},Gs={Collapsed:Us,Expanded:"expanded_prime",Full:"full_prime"},zs={Collapsed:Us,Expanded:"expanded_prime_error",Full:"full_prime_error"};!function(e){e.Subscribe="subscribe",e.SubscribePrime="subscribe_prime",e.SubscribePrimeTryAgain="subscribe_prime_try_again",e.Login="signup",e.Expand="expand",e.Collapse="collapse"}(Ms||(Ms={}));var Hs=function(e){function n(n){var t=e.call(this,n)||this;t.DEFAULT_PREVIEW_URL="https://static-cdn.jtvnw.net/ttv-static/404_preview-285x160.jpg",t.renderFocusHandler=function(){return t.props.onFocusPlayer&&(0,a.jsx)(N.S,{position:f.yX.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,attachBottom:!0,children:(0,a.jsx)("div",{onClick:t.props.onFocusPlayer,"data-test-selector":Fs.FocusHandler})})},t.tick=function(){var e=t.calculateSecondsRemaining();e<=0?t.endCountdown():(t.setState({secondsRemaining:e}),t.tickRef=setTimeout(t.tick,1e3))},t.endCountdown=function(){t.setState({secondsRemaining:0,expanded:!0}),t.shutdownVideo()},t.shutdownVideo=function(){if(20===t.shutdownStep&&(t.props.pause(),t.props.updateContext({forbidden:!0}),t.props.setShowControls(!1),t.shutdownStartVolume=t.props.volume||1),t.shutdownStep<=0||isNaN(t.shutdownStep))return t.props.setRestrictPlayback(!0),void t.props.setVolume(t.shutdownStartVolume);var e=t.shutdownStartVolume*t.shutdownStep/20;t.props.setVolume(e),--t.shutdownStep,setTimeout(t.shutdownVideo,t.shutdownInterval)},t.toggleCollapse=function(){t.setState((function(e){return{expanded:!e.expanded}}))},t.handlePrimeSubscribe=function(){var e=t.user();e&&e.id&&t.props.currentUser&&t.props.currentUser.id&&(t.setState({primeSubPending:!0}),t.props.spendPrimeCredit((0,os.AR)({broadcasterID:e.id,userID:t.props.currentUser.id})).then((function(e){e.data&&e.data.spendSubscriptionCredit&&e.data.spendSubscriptionCredit.error&&t.failPrimeSubscribe()})).catch((function(){return t.failPrimeSubscribe()})))},t.resetPrimeSubscribe=function(){t.setState({primeSubPending:!1,primeSubFailed:!1})},t.failPrimeSubscribe=function(){t.setState({primeSubPending:!1,primeSubFailed:!0,expanded:!0})},t.spadeEventBaseData=function(e){var n=Ls;t.props.isLoggedIn&&(n=t.state.secondsRemaining>0?js:Bs);var i=qs;t.shouldShowPrimeUpsell()&&(i=t.state.primeSubFailed?zs:Gs);var a=t.state.expanded?i.Expanded:i.Collapsed;return t.state.secondsRemaining<=0&&(a=i.Full),{channel:t.props.channelLogin||null,banner_state:a,viewer_status:n,action:e}},t.user=function(){return t.props.data&&t.props.data.user};var i=t.calculateSecondsRemaining();return i>0&&t.props.setRestrictPlayback(!1),t.state={secondsRemaining:i,neverPreview:i<=0,expanded:!1,primeSubPending:!1,primeSubFailed:!1},t.shutdownStep=20,t.shutdownInterval=Math.floor(100),t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.tick()},n.prototype.componentWillUnmount=function(){clearInterval(this.tickRef)},n.prototype.render=function(){var e=this.state,n=e.expanded,t=e.secondsRemaining,r=this.props,o=r.active,s=r.mini,l=t<=0;if(s&&!l)return null;if(s)return(0,a.jsx)(Me.FT,{type:Me.NL.Fullscreen,transparency:Me.xL.Transparency0,children:(0,a.jsx)(U.N,{fontSize:f.Z4.Size4,bold:!0,lineHeight:q.aK.Heading,color:f.Q1.Overlay,children:(0,P.hw)("Your free preview has expired","ContentOverlayGate")})});var d=this.title(),u=this.description(),c=this.cta(),p=this.restrictionTier();if(!d||!u||!c)return null;var m={secondsRemaining:t,expanded:n,title:d,shouldShowPrimeUpsell:this.shouldShowPrimeUpsell(),primeSubscribePending:this.state.primeSubPending,primeSubscribeFailed:this.state.primeSubFailed,handlePrimeSubscribe:this.handlePrimeSubscribe,resetPrimeSubscribe:this.resetPrimeSubscribe};return(0,a.jsx)(Mn.e,{show:n||!!o,transitionInitialMount:!0,type:Ln.ES.Fade,duration:Ln.Cf.Long,"data-test-selector":Fs.Root,children:(0,a.jsxs)(v.P,{position:f.yX.Absolute,attachTop:!0,attachBottom:l,attachRight:!0,attachLeft:!0,overflow:f.nE.Hidden,display:f.nl.Flex,flexDirection:f.bo.Column,color:f.Q1.Overlay,className:"preview-overlay",children:[this.renderFocusHandler(),(0,a.jsx)(Os,(0,i.__assign)({toggleCollapse:this.toggleCollapse},m)),(0,a.jsx)(v.P,{position:f.yX.Relative,display:f.nl.Flex,flexDirection:f.bo.Column,justifyContent:f.A9.Center,alignItems:l?f.k2.Center:f.k2.Start,flexGrow:1,overflow:l?f.nE.Visible:f.nE.Hidden,children:(0,a.jsx)(hs,(0,i.__assign)({previewUrl:this.getPreviewUrl(),spadeEventBaseData:this.spadeEventBaseData,description:u,cta:c,minTier:p,exemptionProductName:this.restrictionExemptionProductName()},m))})]})})},n.prototype.calculateSecondsRemaining=function(){if(this.props.accessExpiration&&this.props.isLoggedIn){var e=Date.now(),n=Math.trunc((1e3*this.props.accessExpiration-e)/1e3);if(!isNaN(n)&&n>0)return n}return 0},n.prototype.getPreviewUrl=function(){var e=this.user();return e&&e.stream&&e.stream.previewImageURL||""},n.prototype.hasTierRestriction=function(){return this.isRestrictedForTier2()||this.isRestrictedForTier3()},n.prototype.isRestrictedForTier2=function(){return this.props.restrictionOptions.includes(me.y6l.ALLOW_TIER_2_AND_3_ONLY)},n.prototype.isRestrictedForTier3=function(){return this.props.restrictionOptions.includes(me.y6l.ALLOW_TIER_3_ONLY)},n.prototype.restrictionTier=function(){return this.isRestrictedForTier3()?3:this.isRestrictedForTier2()?2:1},n.prototype.restrictionExemptionProductName=function(){var e=this.user();if(e&&e.subscriptionProducts){var n=e.subscriptionProducts,t="".concat(this.restrictionTier(),"000"),i=n.find((function(e){return e&&e.tier===t}));if(i)return i.name}return""},n.prototype.title=function(){var e=(0,a.jsx)(U.N,{type:q.M2.Strong,children:this.props.channelLoginDisplay});return this.hasTierRestriction()?(0,P.hw)("{channelLogin} is streaming for Tier {tier} subscribers.",{channelLogin:e,tier:this.restrictionTier()},"PreviewContentOverlay"):(0,P.hw)("{channelLogin} is streaming for subscribers",{channelLogin:e},"PreviewContentOverlay")},n.prototype.description=function(){var e=this.props.channelLoginDisplay;return e?this.hasTierRestriction()?(0,P.hw)("Subscribe Tier {tier} to watch and support {channelLogin}",{tier:this.restrictionTier(),channelLogin:e},"PreviewContentOverlay"):(0,P.hw)("Subscribe to watch and support {channelLogin}",{channelLogin:e},"PreviewContentOverlay"):null},n.prototype.cta=function(){var e=this.props.channelLoginDisplay;return e?this.hasTierRestriction()&&this.isSubscribed()?(0,P.hw)("Upgrade your Subscription","PreviewContentOverlay"):(0,P.hw)("Subscribe to {channelLogin}",{channelLogin:e},"PreviewContentOverlay"):null},n.prototype.isSubscribed=function(){var e=this.user();return!!(e&&e.self&&e.self.subscriptionBenefit&&e.self.subscriptionBenefit.id)},n.prototype.isPrimeSubscribable=function(){var e=this.user();return!!(e&&e.self&&e.self.canPrimeSubscribe)},n.prototype.shouldShowPrimeUpsell=function(){var e=this.user();return!!(e&&e.id&&this.props.currentUser&&this.props.currentUser.id)&&this.isPrimeSubscribable()&&this.restrictionTier()<2},n}(r.Component);var Ws=(0,o.Zz)((0,I.o1)(),(0,M.dd)((function(e){var n=e.accessExpiration,t=e.volume,i=e.updateContext;return{accessExpiration:n,volume:t,updateContext:i}})),(0,T.cj)((function(e){var n=(0,H.hd)(e.content),t=!!(0,D.wk)({playerPublicPropsContext:e}).mini,i=(0,H.lI)(e.content);return{channelLogin:n,channelLoginDisplay:i&&i.parentChannelLogin||n,mini:t,onFocusPlayer:(0,D.zB)({playerPublicPropsContext:e}).onFocusPlayer}})),(0,de.AP)((function(e){var n=e.pause,t=e.setVolume;return{pause:n,setVolume:t}})),(0,te.c0)((function(e){var n=e.setShowControls;return{setShowControls:n}})),(0,le.In)((function(e){var n=e.active;return{active:n}})),(0,k.Ng)((function(e){return{isLoggedIn:(0,ve.M3)(e),currentUser:(0,ve.wz)(e)}})),(0,G._v)(Vs(),{options:function(e){return{variables:{channel:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),(0,G._v)(ls(),{name:"spendPrimeCredit"}))(Hs);var Ks=t(965506),Zs=t.n(Ks),Qs=l.x.wrap((function(){return t.e(46880).then(t.bind(t,193536))}),"SubModal"),Ys=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={restrictPlayback:!0},n.renderContentRestrictedOverlay=function(){return(0,a.jsx)(he.rj,{iconProps:{type:ye.W.Icon,icon:ue.t.Lock},text:(0,P.hw)("Content Restricted","PremiumContentOverlay")})},n.setRestrictPlayback=function(e){n.setState({restrictPlayback:e})},n.showSubscriptionModal=function(){var e=n.props.parentChannelLogin||n.props.liveChannelLogin||"";n.props.showSubscriptionModal({channelLogin:e,subLocation:rs.U2.PremiumContentOverlay})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.liveChannelLogin;return e?(0,a.jsx)(je,{skip:!this.state.restrictPlayback,restriction:Fe.S.PremiumContent,children:this.renderContent()},e):null},n.prototype.renderContent=function(){var e=this;switch(this.restrictionType(this.props)){case me.B2H.SUB_ONLY_LIVE:return(0,a.jsx)(Ws,{restrictionOptions:this.restrictionOptions(this.props),setRestrictPlayback:this.setRestrictPlayback},this.props.channelLogin);case me.B2H.ORGANIZATION_ACCESS_ONLY:return this.renderContentRestrictedOverlay();case me.B2H.ALL_ACCESS_PASS:case me.B2H.UNKNOWN:return(0,a.jsx)(he.rj,{iconProps:{type:ye.W.Icon,icon:ue.t.Ticket},text:(0,P.hw)("Watch with All-Access Pass","PremiumContentOverlay"),children:function(n){return(0,a.jsx)(He.$n,{onClick:e.showSubscriptionModal,size:n?He.Mp.Small:He.Mp.Default,children:(0,P.hw)("Get the All-Access Pass","PremiumContentOverlay")})}});default:return this.props.data&&this.props.data.loading?null:this.renderContentRestrictedOverlay()}},n.prototype.restrictionType=function(e){return!!e.data&&!!e.data.user&&!!e.data.user.stream&&!!e.data.user.stream.restriction&&e.data.user.stream.restriction.type},n.prototype.restrictionOptions=function(e){return!!e.data&&!!e.data.user&&!!e.data.user.stream&&!!e.data.user.stream.restriction&&e.data.user.stream.restriction.options||[]},n}(r.Component);var Xs=(0,G._v)(Zs(),{options:function(e){return{variables:{channel:e.liveChannelLogin}}},skip:function(e){return!e.liveChannelLogin}}),$s=(0,o.Zz)(Ue("PremiumContentOverlay",Fe.S.PremiumContent),(0,k.Ng)(null,(function(e){return(0,o.zH)({showSubscriptionModal:function(e){var n=(0,i.__rest)(e,[]);return(0,as.to)(Qs,n)}},e)})),(0,T.cj)((function(e){var n=e.content;return{channelLogin:(0,H.hd)(n),liveChannelLogin:(0,H.jp)(n),parentChannelLogin:(0,H.NM)(n)}})),Xs)(Ys);var Js=t(237103),el=t(186396),nl=t(505074),tl=t(471872),il=t(345029),al=t(833246),rl=t(686751),ol=t(703664),sl="AdBlock",ll="Turbo",dl="Support",ul=(0,o.Zz)((0,w.VX)(),(0,ol.A)())((function(e){var n,t=e.trackAdFormatData,i=r.useContext(T.kl),o=(0,H.hd)(i.content),s=(0,il.If)(),l=(0,r.useRef)(!1),d=(0,r.useRef)(null),u=r.useContext(w.jK),c=u.updateLastSDAAdRequestBlocked,p=u.updateSDAHiddenState,m=u.isSDAContainerHidden,g=u.lastSDAAdRequestBlocked,h=r.useCallback((function(){switch(!0){case g&&!m:return"2";case m&&!g:return"3";default:return"0"}}),[m,g]),y=(0,tl.r)("nabe_experiment");switch((0,$n.S)((function(){var e=setTimeout((function(){l.current||t("nab_impression",{nab_value:h(),client_country_code:s})}),100);return function(){return clearTimeout(e)}})),r.useLayoutEffect((function(){var e=d.current,n=!1;if(e){var i=e.offsetHeight,a=e.offsetWidth,r=e.offsetLeft,o=e.offsetTop,u=e.clientHeight,c=e.clientWidth;n=0===i&&0===a&&0===r&&0===o&&0===u&&0===c}e&&!n||(l.current=!0,t("nab_detection",{nab_value:"4",client_country_code:s}))}),[]),y){case"support_1":case"support_2":case"support_4":n=dl;break;case"turbo_1":case"turbo_2":case"turbo_4":n=ll;break;case"help_2":case"help_4":n=sl;break;default:return null}var k,S=(0,P.hw)("this channel","SDANudgeOverlay"),_=(0,P.hw)("Support {channelName} by disabling ad block",{channelName:null!=o?o:S},"SDANudgeOverlay"),b=(0,P.hw)("Streamers make money when viewers watch ads or purchase Twitch Turbo to go ad-free","SDANudgeOverlay"),C=(0,P.hw)("Wait you're running ad block?","SDANudgeOverlay"),E=(0,P.hw)("Support {channelName}'s earnings by turning off ad block.",{channelName:null!=o?o:S},"SDANudgeOverlay"),x=(0,P.hw)("Running ad block? Consider Turbo.","SDANudgeOverlay"),A=(0,P.hw)("Twitch Turbo enables ad-free viewing while still supporting streamers.","SDANudgeOverlay"),I={name:"allow",text:(0,P.hw)("Allow Twitch Ads","SDANudgeOverlay"),link:"https://help.twitch.tv/s/article/how-to-allow-ads-browser"},D={name:"turbo",text:(0,P.hw)("Try Turbo","SDANudgeOverlay"),link:"https://www.twitch.tv/turbo"},F={name:"return",text:(0,P.hw)("Return to stream","SDANudgeOverlay"),link:""};if(n===sl)k={title:C,description:E,leftCta:F,rightCta:I,icon:{id:"58765",token:"notlikethis"}};else if(n===ll)k={title:x,description:A,leftCta:F,rightCta:D};else{if(n!==dl)return null;k={title:_,description:b,leftCta:I,rightCta:D}}var O=function(e){t("nab_click",{nab_value:h(),nab_cta:e,client_country_code:s}),c(!1),p(!1)};return(0,a.jsx)(Me.FT,{type:Me.NL.Fullscreen,transparency:Me.xL.Transparency3,children:(0,a.jsxs)(v.P,{ref:function(e){d.current=e},position:f.yX.Relative,maxWidth:"60rem",children:[n===dl&&(0,a.jsx)(v.P,{display:f.nl.Flex,padding:{left:1},justifyContent:"flex-end",children:(0,a.jsx)(Js.G,{"aria-label":F.text,onClick:function(){O(F.name)},size:"default",variant:"primary"})}),(0,a.jsxs)(v.P,{display:f.nl.Flex,children:[(0,a.jsx)(U.N,{fontSize:f.Z4.Size2,color:f.Q1.Overlay,fontWeight:f.IT.SemiBold,children:k.title}),!!k.icon&&(0,a.jsx)(v.P,{height:"54px",width:"54px",display:"flex",alignItems:"center",justifyContent:"center",padding:{left:1},children:(0,a.jsx)(N.S,{maxHeight:"100%",children:(0,a.jsx)(al.B,{emote:k.icon,size:rl.G.MEDIUM})})})]}),(0,a.jsx)(U.N,{fontSize:f.Z4.Size3,color:f.Q1.Overlay,style:{paddingTop:"0.5rem"},children:k.description}),(0,a.jsxs)(v.P,{display:f.nl.Flex,position:f.yX.Absolute,attachRight:!0,padding:{top:2},children:[(0,a.jsx)(el.M2,{variant:el.sK.Secondary,size:el.dN.Default,"aria-label":k.leftCta.text,linkTo:k.leftCta.link,targetBlank:!0,onClick:function(){O(k.leftCta.name)},overlay:!0,children:(0,a.jsx)(nl._,{children:k.leftCta.text})}),(0,a.jsx)(v.P,{padding:{left:1},children:(0,a.jsx)(el.M2,{variant:el.sK.Primary,size:el.dN.Default,"aria-label":k.rightCta.text,linkTo:k.rightCta.link,targetBlank:!0,onClick:function(){O(k.rightCta.name)},overlay:!0,children:(0,a.jsx)(nl._,{children:k.rightCta.text})})})]})]})})})),cl=t(149361),pl=t.n(cl),ml=l.x.wrap((function(){return t.e(46880).then(t.bind(t,193536))}),"SubModal"),vl=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.refreshPage=function(){window.location.reload()},n.showSubscriptionModal=function(){var e=n.videoOwner(n.props);e&&e.login&&n.props.showSubscriptionModal({channelLogin:e.login,subLocation:rs.U2.SubscriberVODOverlay})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return!this.props.data||this.props.data.loading?(0,a.jsx)(So.p8,{}):(0,a.jsx)(je,{restriction:Fe.S.SubscriberVOD,children:this.renderContent()})},n.prototype.renderContent=function(){var e=this,n=this.videoOwner(this.props);return n&&n.displayName&&n.profileImageURL&&n.login?(0,a.jsx)(he.rj,{iconProps:{type:ye.W.Avatar,src:n.profileImageURL,alt:n.displayName,login:n.login},text:(0,P.hw)("This video is only available to subscribers. Sub now to watch and support {displayName}.",{displayName:n.displayName},"SubscriberVODOverlay"),children:function(n){return(0,a.jsx)(He.$n,{onClick:e.showSubscriptionModal,size:n?He.Mp.Small:He.Mp.Default,children:(0,P.hw)("Subscribe","SubscriberVODOverlay")})}}):(0,a.jsx)(he.rj,{iconProps:{type:ye.W.Empty},text:(0,P.hw)("This exclusive subscriber content didn't load properly. Please refresh and try again.","SubscriberVODOverlay"),children:function(n){return(0,a.jsx)(He.$n,{onClick:e.refreshPage,size:n?He.Mp.Small:He.Mp.Default,children:(0,P.hw)("Refresh","SubscriberVODOverlay")})}})},n.prototype.videoOwner=function(e){return!!e.data&&!!e.data.video&&e.data.video.owner},n}(r.Component);var fl=(0,G._v)(pl(),{options:function(e){var n;return{variables:{videoID:null!==(n=e.vodID)&&void 0!==n?n:""}}},skip:function(e){return!e.vodID}}),gl=(0,o.Zz)(Ue("SubscriberVODOverlay",Fe.S.SubscriberVOD),(0,k.Ng)(null,(function(e){return(0,o.zH)({showSubscriptionModal:function(e){var n=(0,i.__rest)(e,[]);return(0,as.to)(ml,n)}},e)})),(0,T.cj)((function(e){var n=e.content;return{vodID:(0,H.hq)(n)}})),fl)(vl);var hl=function(e){var n=e.playerContext;if((0,et.k1)(n,Fe.S.AccountRestricted))return!1;var t=(0,et.k1)(n,Fe.S.PremiumContent),i=null!=n.accessExpiration;return t||i},yl=function(e){var n=e.playerContext,t=(0,D.wk)(e),i=t.forceControlVisibility;return!(t.mini||n.isPlayerCoreLoading||(0,et.k1)({restrictions:n.restrictions})||i===eo.Ie.Hidden)},kl=t(177123),Sl=t(486451),_l=t.n(Sl),bl=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onMouseOver=function(){n.timeout=setTimeout(n.props.showCollectionSidebar,250)},n.onMouseOut=function(){clearTimeout(n.timeout)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n=this.props,t=n.data,i=n.isCollectionContent,r=n.isCollectionSidebarShowing,o=n.vodID,s=t&&t.collection;if(!i||!s||r)return null;var l=s&&s.title,d=s.items.totalCount,u=s.items&&s.items.edges&&s.items.edges.map((function(e){return e&&e.node})).filter((function(e){return null!==e})),c=null!=o?o:null===(e=u[0])||void 0===e?void 0:e.id,p=1+u.findIndex((function(e){return!!e&&e.id===c}));return(0,a.jsxs)(jn.M,{className:"collection-top-bar",onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseOut,children:[(0,a.jsxs)(U.N,{className:"collection-top-bar-text",fontSize:f.Z4.Size4,type:q.M2.Span,children:[(0,a.jsx)(U.N,{className:"collection-top-bar-icon",type:q.M2.Span,children:(0,a.jsx)(kl.T,{})})," ",l]}),(0,a.jsxs)(U.N,{className:"collection-top-bar-text",fontSize:f.Z4.Size4,type:q.M2.Span,children:[" • ",(0,P.hw)("{totalVideos, plural, one {{currentPosition}/# video} other {{currentPosition}/# videos}}",{currentPosition:p,totalVideos:d},"CollectionTopBar")]})]})},n}(r.Component),Cl=(0,o.Zz)((0,T.cj)((function(e){var n=e.content;return{collectionID:(0,H.Eq)(n),isCollectionContent:(0,H.P3)(n),vodID:(0,H.hq)(n)}})),(0,te.c0)((function(e){var n=e.isCollectionSidebarShowing,t=e.showCollectionSidebar;return{isCollectionSidebarShowing:n,showCollectionSidebar:t}})),(0,G._v)(_l(),{skip:function(e){return!e.isCollectionContent||!e.collectionID},options:function(e){return{variables:{collectionID:e.isCollectionContent&&e.collectionID?e.collectionID:""}}}}))(bl);var Pl,El=function(){return(0,P.hw)("Close this stream","StreamCloseButton")},Nl=function(){var e=(0,r.useContext)(T.kl),n=(0,H.hd)(e.content),t=(0,D.wk)({playerPublicPropsContext:e}).enableRemoveStream,i=(0,D.zB)({playerPublicPropsContext:e}).removeStream,o=(0,r.useCallback)((function(){n&&i&&i(n)}),[n,i]);return(0,r.useMemo)((function(){return i&&t?(0,a.jsx)(_e.a2,{"aria-label":El(),overlay:!0,icon:be.g,onClick:o}):null}),[t,o,i])},xl=t(955413),Al=function(){var e=(0,r.useContext)(T.kl),n=(0,H.hd)(e.content),t=(0,D.wk)({playerPublicPropsContext:e}).showGlyphInOverlay,i=(0,D.zB)({playerPublicPropsContext:e}).removeStream,o=(0,r.useCallback)((function(){n&&i&&i(n)}),[n,i]);return(0,r.useMemo)((function(){if(!t)return null;var e=(0,a.jsx)(xl.f,{fillColor:"brand",height:30,width:28});return i?(0,a.jsx)(jn.M,{"aria-label":El(),onClick:o,children:(0,a.jsxs)(v.P,{display:f.nl.Flex,gap:.5,color:f.Q1.Overlay,children:[(0,a.jsx)(Ss.N,{fillColor:"inherit"}),e]})}):e}),[o,i,t])},wl=t(979205),Tl=t(947322),Il=t(360432),Dl=t(290033),Fl=t(440627),Ol=function(e){return(0,a.jsx)(Se.e,{theme:"dark",children:(0,a.jsx)(v.P,{display:f.nl.Flex,children:e.tags.map((function(n){return(0,a.jsx)(v.P,{padding:{right:.5},children:(0,a.jsx)(Fl.vw,{linkTo:(0,Bo.V)({content:"tag",medium:"embed"},(t=n.id,"https://www.twitch.tv/directory/all/tags/".concat(t))),label:n.localizedName,targetBlank:e.openLinksExternally,onClick:e.onClick})},n.id);var t}))})})};!function(e){e.Description="stream-info-card-component__description",e.StreamAvatar="stream-info-card-component__stream-avatar",e.StreamAvatarLink="stream-info-card-component__stream-avatar-link",e.Subtitle="stream-info-card-component__subtitle",e.Title="stream-info-card-component__title",e.TitleLink="stream-info-card-component__title-link"}(Pl||(Pl={}));var Rl=(0,o.Zz)((0,de.AP)((function(e){var n=e.pause;return{pause:n}})))((function(e){var n=null,t=function(){var n;e.openLinksExternally&&e.pause(),null===(n=e.onLinkClick)||void 0===n||n.call(e)};e.title&&(e.titleTo&&(n=(0,a.jsx)(Ii.Cb,{linkTo:(0,Bo.V)({content:"channel_name",medium:e.isEmbedded?"embed":void 0},e.titleTo),variant:Ii.KD.Overlay,"data-test-selector":Pl.TitleLink,targetBlank:e.openLinksExternally,onClick:t,underline:!1,children:e.title})),n=(0,a.jsx)(U.N,{bold:!0,fontSize:f.Z4.Size4,"data-a-target":"player-info-title","data-test-selector":Pl.Title,color:f.Q1.Overlay,children:n||e.title}));var i=null;return e.imageURL&&(i=(0,a.jsx)(Tl.e,{src:e.imageURL,size:64,alt:(0,P.hw)("Stream Avatar","StreamInfoOverlay"),"data-a-target":"player-info-avatar","data-test-selector":Pl.StreamAvatar,userLogin:e.login||""})),e.imageTo&&(i=(0,a.jsx)(Ii.Cb,{targetBlank:e.openLinksExternally,variant:Ii.KD.Overlay,linkTo:e.imageTo||void 0,onClick:t,"data-test-selector":Pl.StreamAvatarLink,underline:!1,children:i})),(0,a.jsx)(Il.Z,{row:!0,children:(0,a.jsxs)(v.P,{display:f.nl.Flex,alignItems:f.k2.Start,className:"stream-info-card",children:[(0,a.jsx)(v.P,{className:"stream-info-card__image",children:i}),e.title||e.subtitle||e.description||e.tags?(0,a.jsx)(Dl.b,{children:(0,a.jsxs)(v.P,{className:"stream-info-card__body",padding:{left:i?1:0},display:f.nl.Flex,flexDirection:f.bo.Column,alignItems:f.k2.Start,children:[(0,a.jsxs)(v.P,{display:f.nl.Flex,gap:.5,children:[n,e.guestStarContent]}),e.subtitle&&(0,a.jsx)(U.N,{fontSize:f.Z4.Size4,color:f.Q1.Overlay,"data-test-selector":Pl.Subtitle,children:e.subtitle}),e.description&&(0,a.jsx)(U.N,{fontSize:f.Z4.Size4,color:f.Q1.Overlay,"data-test-selector":Pl.Description,children:e.description}),e.tags&&(0,a.jsx)(Ol,{tags:e.tags,openLinksExternally:e.openLinksExternally,onClick:e.onLinkClick})]})}):null]})})}));var Vl=t(665239),Ml=t(134117),Ll=l.x.wrap((function(){return Promise.all([t.e(59147),t.e(55152),t.e(98922),t.e(64498),t.e(57013),t.e(47232)]).then(t.bind(t,505e3))}),"SubscribeButton"),jl=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.openTwitchPage=function(){window.open((0,H.L$)(n.props.content,{tt_content:"embed_social_panel",tt_medium:"embed"},n.props.mediaPlayerInstance),"_blank")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(void 0===this.props.type)return null;var e=this.props.login||null;return(0,a.jsx)(v.P,{className:"stream-info-social-panel","data-a-target":"player-stream-info-social-panel",display:f.nl.InlineBlock,padding:.5,margin:this.props.margin,background:f.VS.Overlay,children:(0,a.jsxs)(v.P,{display:f.nl.Flex,children:[this.props.profileImageUrl&&(0,a.jsx)(Tl.e,{src:this.props.profileImageUrl,alt:this.props.displayName||"",userLogin:this.props.login||"",size:30}),(0,a.jsx)(v.P,{margin:{left:.5},children:e&&this.renderFirstButton(e)}),(0,a.jsx)(v.P,{margin:{left:.5},children:(0,a.jsx)(Ll,{channelLogin:e,subLocation:this.props.subLocation,subscribedButtonType:He.VQ.Primary,unsubscribedButtonType:He.VQ.Primary,hideDropdownArrow:!0,forceIcon:!0,useSubsLandingPage:this.props.isEmbedded})})]})})},n.prototype.renderFirstButton=function(e){var n=(0,P.hw)("Watch on Twitch","VideoPlayerStreamInfoSocalPanel");return this.props.type===eo._w.FollowAndSub||this.props.type===eo._w.FollowAndSubVerbose?(0,a.jsx)(Vl.W,{hideDropdownWhenFollowing:!0,channelLogin:e,followUIType:Ml.y.IconAndText,unfollowUIType:Ml.y.IconOnly,showLoadingPlaceholder:!0,fullWidthButton:!0,showTooltips:!0}):this.props.type===eo._w.WatchAndSub?(0,a.jsx)(He.$n,{onClick:this.openTwitchPage,targetBlank:!0,variant:He.VQ.Primary,children:n}):void 0},n}(r.Component);var Bl=(0,o.Zz)((0,M.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,T.cj)((function(e){return{content:e.content}})))(jl),Ul=t(834653),ql=t.n(Ul),Gl=t(389922),zl=t.n(Gl),Hl=t(955067),Wl=t.n(Hl),Kl=t(520719),Zl=t(329399);function Ql(e){var n=e.gameDisplayName,t=e.gameName,i=e.gameSlug,r=e.viewerCount,o=e.openLinksExternally,s=e.onLinkClick,l=n||t,d=function(e){return(0,a.jsx)(Ii.Cb,{"data-a-target":"player-info-game-name",variant:Ii.KD.Overlay,linkTo:(0,Bo.V)({content:"game_name",medium:"embed"},(n=i,t=!o,"".concat(t?"":"https://www.twitch.tv").concat((0,Xr._4)({slug:n})))),targetBlank:o,onClick:s,underline:!1,children:e});var n,t};return l&&"number"==typeof r?(0,P.hw)("{viewerCount, plural,       one {Playing <x:link>{game}</x:link> for # viewer}       other {Playing <x:link>{game}</x:link> for # viewers}}",{game:l,viewerCount:r,"x:link":d},"StreamInfoOverlay"):l?(0,P.hw)("Playing <x:link>{game}</x:link>",{game:l,"x:link":d},"StreamInfoOverlay"):"number"==typeof r?(0,P.hw)("{viewerCount, plural,       one {Streaming for # viewer}       other {Streaming for # viewers}}",{viewerCount:r},"StreamInfoOverlay"):null}function Yl(e){var n=e.displayName,t=e.game,i=e.login,r=e.openLinksExternally,o=e.isEmbedded,s=e.isPartner;if(!i||!n)return null;var l=s?(0,a.jsxs)(a.Fragment,{children:[n,(0,a.jsx)(v.P,{display:"inline-flex",margin:{left:"0.2rem"},alignItems:"center",children:(0,a.jsx)(Kl.l,{size:12,"aria-label":(0,P.hw)("Verified Partner","ClipInfoOverlay"),fillColor:"brand"})})]}):n;return t?(0,P.hw)("<x:login-link>{displayName}</x:login-link> playing <x:game-link>{game}</x:game-link>",{game:t.displayName||t.name,displayName:l,"x:login-link":function(e){return(0,a.jsx)(Ii.Cb,{variant:Ii.KD.Overlay,linkTo:$l(i,o),targetBlank:r,children:e})},"x:game-link":function(e){return(0,a.jsx)(Ii.Cb,{variant:Ii.KD.Overlay,linkTo:Jl(t,o),targetBlank:r,children:e})}},"StreamInfoOverlay"):(0,a.jsx)(Ii.Cb,{variant:Ii.KD.Overlay,linkTo:$l(i,o),targetBlank:r,underline:!1,children:l})}function Xl(e){return null===e?null:(0,P.hw)("{viewCount} views",{viewCount:(0,P.ZV)(e)},"StreamInfoOverlay")}function $l(e,n){var t=n?"embed":"clips_web",i=x.stringify({tt_content:"player_channel_name",tt_medium:t});return"https://www.twitch.tv/".concat(e,"/clips?").concat(i)}function Jl(e,n){var t=n?"embed":"clips_web",i=x.stringify({tt_content:"player_game",tt_medium:t});return"https://www.twitch.tv".concat((0,Xr._4)(e,{section:"clips"}),"?").concat(i)}function ed(e,n){var t=n?"embed":"clips_web",i=x.stringify({tt_content:"player_title",tt_medium:t});return"https://clips.twitch.tv/".concat(e,"?").concat(i)}var nd,td=l.x.wrap((function(){return Promise.all([t.e(14399),t.e(75373),t.e(89357)]).then(t.bind(t,192090))}),"GuestStarRTJChannelContent",{placeholder:null});!function(e){e.StreamInfoSocialPanelUpper="stream-info-social-panel__upper",e.StreamInfoSocialPanelLower="stream-info-social-panel__lower"}(nd||(nd={}));var id=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.updateUIContext()},n.prototype.componentDidUpdate=function(){this.updateUIContext()},n.prototype.componentWillUnmount=function(){this.updateUIContext(!1)},n.prototype.render=function(){var e,n,t,r,o,s;if(!rd(this.props)||!od(this.props))return null;var l=this.props,d=l.content,u=l.theatreModeEnabled,c=l.disableStreamInfoChannelLinks,p=l.disableStreamInfoDescription,m=l.disableStreamInfoImage,f=l.disableStreamInfoSubtitle,g=l.disableStreamInfoTags,h=l.disableStreamInfoTitle,y=l.openLinksExternally,k=l.isEmbedded,S=l.socialPanelType,_=l.channelData,b=l.clipData,C=l.vodData,E=l.isFullscreen,N=l.exitFullscreen,x=l.onChannelWatch,A=!y&&E?N:void 0,w=(0,H.lI)(d),T=null,I={};_?(I=function(e,n){var t,r,o,s,l,d,u,c,p,m,f,g,h,y,k,S,_,b,C,E;void 0===n&&(n={});var N=n.multiviewProps,x=n.openLinksExternally,A=n.onLinkClick,w=null===(o=null===(r=null===(t=e.user)||void 0===t?void 0:t.broadcastSettings)||void 0===r?void 0:r.game)||void 0===o?void 0:o.displayName,T=null===(d=null===(l=null===(s=e.user)||void 0===s?void 0:s.broadcastSettings)||void 0===l?void 0:l.game)||void 0===d?void 0:d.name,I=null===(p=null===(c=null===(u=e.user)||void 0===u?void 0:u.broadcastSettings)||void 0===c?void 0:c.game)||void 0===p?void 0:p.slug,D=null===(f=null===(m=e.user)||void 0===m?void 0:m.stream)||void 0===f?void 0:f.viewersCount,F=null===(h=null===(g=e.user)||void 0===g?void 0:g.broadcastSettings)||void 0===h?void 0:h.title,O=N&&N.titleOverride||(null===(y=e.user)||void 0===y?void 0:y.displayName),R=null!==(S=null===(k=e.user)||void 0===k?void 0:k.profileURL)&&void 0!==S?S:void 0;!(null===(_=e.user)||void 0===_?void 0:_.login)||R&&x||(R={pathname:(0,sa.VV)("/".concat(e.user.login)),state:(0,i.__assign)((0,i.__assign)({},P.x2.router.state.location.state),{channelView:n.onChannelWatch&&(n.theatreModeEnabled||n.isFullscreen)?Zl.n.Home:Zl.n.None})});var V=N&&N.logoOverride||(null===(b=e.user)||void 0===b?void 0:b.profileImageURL),M=e.user&&e.user.stream&&e.user.stream.tags;return{description:Ql({gameDisplayName:w,gameName:T,gameSlug:I,viewerCount:D,openLinksExternally:x,onLinkClick:A}),subtitle:F,title:(0,a.jsxs)(a.Fragment,{children:[O,!!(null===(E=null===(C=e.user)||void 0===C?void 0:C.roles)||void 0===E?void 0:E.isPartner)&&(0,a.jsx)(v.P,{display:"inline-flex",margin:{left:"0.2rem"},alignItems:"center",children:(0,a.jsx)(Kl.l,{size:16,"aria-label":(0,P.hw)("Verified Partner","StreamInfoOverlay"),fillColor:"brand"})})]}),titleTo:R,imageURL:V,imageTo:R,tags:M}}(_,{multiviewProps:w,openLinksExternally:y,theatreModeEnabled:u,onChannelWatch:x,isFullscreen:E,onLinkClick:A}),T=(null==_?void 0:_.user)||null):b?(I=function(e,n){var t,i,a,r,o,s;void 0===n&&(n={});var l=n.openLinksExternally,d=n.isEmbedded,u=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.displayName,c=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.login,p=e.clip&&e.clip.slug,m=e.clip&&e.clip.title,v=e.clip&&e.clip.viewCount,f=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.profileURL,g=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.profileImageURL;return{subtitle:Yl({displayName:u,game:null!==(i=null===(t=e.clip)||void 0===t?void 0:t.game)&&void 0!==i?i:null,login:c,openLinksExternally:l,isEmbedded:d,isPartner:null!==(s=null===(o=null===(r=null===(a=e.clip)||void 0===a?void 0:a.broadcaster)||void 0===r?void 0:r.roles)||void 0===o?void 0:o.isPartner)&&void 0!==s?s:void 0}),title:m,titleTo:p&&ed(p,d),description:Xl(v),imageURL:g,imageTo:f}}(b,{openLinksExternally:y,isEmbedded:k}),T=(null===(e=null==b?void 0:b.clip)||void 0===e?void 0:e.broadcaster)||null):C&&(I=function(e,n){var t,i,r;void 0===n&&(n={});var o,s,l=e&&e.video&&e.video.owner&&e.video.owner.displayName,d=e&&e.video&&e.video.owner&&e.video.owner.profileImageURL,u=e&&e.video&&e.video.contentTags,c=e&&e.video&&e.video.title,p=e&&e.video&&e.video.id,m=p&&(o=p,s=!n.openLinksExternally,"".concat(s?"":"https://www.twitch.tv","/videos/").concat(o));return{subtitle:c,title:(0,a.jsxs)(a.Fragment,{children:[l,!!(null===(r=null===(i=null===(t=e.video)||void 0===t?void 0:t.owner)||void 0===i?void 0:i.roles)||void 0===r?void 0:r.isPartner)&&(0,a.jsx)(v.P,{display:"inline-flex",margin:{left:"0.2rem"},alignItems:"center",children:(0,a.jsx)(Kl.l,{size:16,"aria-label":(0,P.hw)("Verified Partner","VodInfoOverlay"),fillColor:"brand"})})]}),titleTo:m,imageURL:d,imageTo:m,tags:u}}(C,{openLinksExternally:y}),T=(null===(n=null==C?void 0:C.video)||void 0===n?void 0:n.owner)||null);var D=null==T?void 0:T.displayName,F=null==T?void 0:T.profileImageURL,O=null==T?void 0:T.login,R=!!(0,H.eT)(d),V={type:S,displayName:w&&w.titleOverride||D,profileImageUrl:w&&w.logoOverride||F,login:O,subLocation:R?rs.U2.SquadPage:rs.U2.ChannelPage,isEmbedded:k};return(0,a.jsxs)(a.Fragment,{children:[this.props.socialPanelPosition===eo.vM.AboveStreamInfo&&(0,a.jsx)(Bl,(0,i.__assign)({},V,{"data-test-selector":nd.StreamInfoSocialPanelUpper})),(0,a.jsx)(Rl,{description:p?void 0:I.description,subtitle:f?void 0:I.subtitle,title:h?void 0:I.title,guestStarContent:h?null:(0,a.jsx)(td,{channelLogin:null===(r=null===(t=this.props.channelData)||void 0===t?void 0:t.user)||void 0===r?void 0:r.login,channelID:null===(s=null===(o=this.props.channelData)||void 0===o?void 0:o.user)||void 0===s?void 0:s.id,isLive:(0,H.DG)(this.props.content)||!1}),titleTo:h||c?void 0:I.titleTo,imageURL:m?void 0:I.imageURL,imageTo:m||c?void 0:I.imageTo,isEmbedded:k,tags:g?void 0:I.tags,openLinksExternally:y,onLinkClick:A}),this.props.socialPanelPosition===eo.vM.BelowStreamInfo&&(0,a.jsx)(Bl,(0,i.__assign)({},V,{margin:{top:1},"data-test-selector":nd.StreamInfoSocialPanelLower}))]})},n.prototype.updateUIContext=function(e){if(void 0===e){var n=rd(this.props)&&od(this.props);this.props.streamInfoShowing!==n&&this.props.setStreamInfoShowing(n)}else this.props.setStreamInfoShowing(e)},n}(r.Component),ad=(0,o.Zz)((0,k.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,onChannelWatch:e.ui.onChannelWatch}})),(0,te.c0)((function(e){var n=e.isFullscreen,t=e.exitFullscreen,i=e.isCollectionSidebarShowing,a=e.streamInfoShowing,r=e.setStreamInfoShowing;return{exitFullscreen:t,isFullscreen:n,streamInfoShowing:a,setStreamInfoShowing:r,isCollectionSidebarShowing:i}})),(0,T.cj)((function(e){var n=(0,D.wk)({playerPublicPropsContext:e}),t=n.showChannelInfoOnHover,i=n.disableStreamInfoChannelLinks,a=n.disableStreamInfoDescription,r=n.disableStreamInfoImage,o=n.disableStreamInfoSubtitle,s=n.disableStreamInfoTags,l=n.disableStreamInfoTitle,d=n.includePrivateVODs,u=n.openStreamInfoLinksExternally,c=n.socialPanelType,p=n.socialPanelPosition,m=n.embed;return{content:e.content,showChannelInfoOnHover:t,disableStreamInfoDescription:a,disableStreamInfoImage:r,disableStreamInfoSubtitle:o,disableStreamInfoTags:s,disableStreamInfoTitle:l,disableStreamInfoChannelLinks:i,includePrivateVODs:d,isEmbedded:m,openLinksExternally:u,socialPanelType:c,socialPanelPosition:p}})),(0,G._v)(ql(),{name:"channelData",skip:function(e){return!(0,H.DG)(e.content)||!(0,H.hd)(e.content)||!rd(e)},options:function(e){return{variables:{channel:(0,H.hd)(e.content)}}}}),(0,G._v)(zl(),{name:"clipData",skip:function(e){return!(0,H.Qc)(e.content)||!rd(e)},options:function(e){var n;return{variables:{slug:null!==(n=(0,H.Qc)(e.content))&&void 0!==n?n:""}}}}),(0,G._v)(Wl(),{name:"vodData",skip:function(e){return!(0,H.hq)(e.content)||!rd(e)},options:function(e){return{variables:{videoID:(0,H.hq)(e.content)}}}}),(0,Or.n)((function(e){return{query:ql(),skip:!e.channelData||e.channelData.loading||!e.channelData.user||!e.channelData.user.id,variables:{channel:(0,H.hd)(e.content)},topic:e.channelData&&e.channelData.user&&e.channelData.user.id?(0,pe.RW)(e.channelData.user.id):"",type:Ji.PD.ViewCount,mutator:function(e,n){return n.user&&n.user.stream?Yi()(n,(function(e){return e.user.stream.viewersCount}),(function(){return e.viewers})):n}}})),(0,Or.n)((function(e){return{query:ql(),skip:!e.channelData||e.channelData.loading||!e.channelData.user||!e.channelData.user.id,variables:{channel:(0,H.hd)(e.content)},topic:e.channelData&&e.channelData.user&&e.channelData.user.id?(0,pe.Fz)(e.channelData.user.id):"",type:Ji.PD.BroadcastSettingsUpdate,mutator:function(e,n){var t,a=(0,wl.v)(e),r=a.gameID,o=a.gameName,s=a.missingGameInfo,l=a.updatingToNullGame;return(null===(t=n.user)||void 0===t?void 0:t.broadcastSettings)&&e&&!s?Yi()(n,(function(e){return e.user.broadcastSettings}),(function(n){var t;return(0,i.__assign)((0,i.__assign)({},n),{title:null!==(t=e.status)&&void 0!==t?t:"",game:l||null===r||null===o?null:{__typename:"Game",id:r,name:o,displayName:o}})})):n}}})))(id);function rd(e){return!e.isCollectionSidebarShowing&&(e.showChannelInfoOnHover||e.isFullscreen||e.theatreModeEnabled)}function od(e){return function(e){var n=e.channelData;return!(!n||n.error||n.loading)}(e)||function(e){var n=e.clipData;return!(!n||n.error||n.loading)}(e)||function(e){var n=e.vodData;return!(!n||n.error||n.loading)}(e)}var sd=t(777952),ld=t(532083),dd=l.x.wrap((function(){return Promise.all([t.e(59147),t.e(55152),t.e(98922),t.e(64498),t.e(57013),t.e(47232)]).then(t.bind(t,505e3))}),"SubscribeButton"),ud=function(e){var n=e.channelLogin||null;return e.firstPageLoaded&&e.theatreModeEnabled&&!e.isFullscreen&&!!e.channelLogin&&e.isLiveContent&&!e.hasEnded?(0,a.jsxs)(v.P,{className:"theatre-social-panel",display:f.nl.Flex,flexWrap:f.I4.NoWrap,justifyContent:f.A9.Between,padding:{x:1},children:[(0,a.jsx)(v.P,{margin:{right:1},children:(0,a.jsx)(Vl.W,{channelLogin:n,followUIType:Ml.y.IconAndText,unfollowUIType:Ml.y.IconOnly,hideDropdownWhenFollowing:!0,showTooltips:!0,followContentType:cd(e.contentType,e.isHostingWatchParty)})}),(0,a.jsx)(v.P,{children:(0,a.jsx)(dd,{channelLogin:n,subLocation:rs.U2.TheatreMode,subscribedButtonType:He.VQ.Primary,unsubscribedButtonType:He.VQ.Primary,forceIcon:!0,isLive:e.isLiveContent})})]}):null};function cd(e,n){if(n)return sd.cM.WatchParty;switch(e){case gn.FC.VOD:return sd.cM.VOD;case gn.FC.Clip:return sd.cM.Clip;default:return sd.cM.Live}}var pd=(0,o.Zz)((0,k.Ng)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isLoggedIn:(0,ve.M3)(e),theatreModeEnabled:e.ui.theatreModeEnabled}})),(0,M.dd)((function(e){return{hasEnded:(0,et.pl)(e)}})),(0,T.cj)((function(e){var n=e.content;return{channelLogin:(0,H.hd)(n),isLiveContent:(0,H.DG)(n),contentType:n.type}})),(0,te.c0)((function(e){return{isFullscreen:e.isFullscreen}})))((function(e){var n=(0,ld.E)(e.channelLogin||"").isHostingWatchParty;return(0,a.jsx)(ud,(0,i.__assign)({},e,{isHostingWatchParty:n}))})),md=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e;return!((e=this.props).disableStatusOverlay||e.recommendationsShowing||e.isAdShowing||e.isOffline)&&(0,a.jsx)(Mn.e,{type:Ln.ES.Fade,show:this.props.shouldShow,alwaysRenderChild:!0,children:(0,a.jsxs)(v.P,{attachTop:!0,attachLeft:!0,attachRight:!0,flexGrow:1,className:"top-bar",display:f.nl.Flex,position:f.yX.Absolute,justifyContent:f.A9.Between,children:[(0,a.jsxs)(v.P,{children:[(0,a.jsxs)(v.P,{className:"top-bar--pointer-enabled",children:[(0,a.jsx)(Al,{}),(0,a.jsx)(Cl,{})]}),(0,a.jsx)(ad,{})]}),(0,a.jsx)(v.P,{display:f.nl.Flex,alignItems:f.k2.Start,children:(0,a.jsxs)(v.P,{display:f.nl.Flex,alignItems:f.k2.Center,className:"top-bar--pointer-enabled",children:[(0,a.jsx)(pd,{}),(0,a.jsx)(v.P,{padding:{left:1},children:!this.props.disableStatusIndicator&&(0,a.jsx)(Is,{})}),(0,a.jsx)(v.P,{padding:{left:1},children:(0,a.jsx)(Nl,{})}),(this.props.theatreModeEnabled||!this.props.rightColumnExpanded)&&(0,a.jsx)(v.P,{padding:{right:2}})]})})]})})},n}(r.Component);var vd=(0,o.Zz)((0,s.X)({name:"TopBarOverlay"}),(0,k.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,rightColumnExpanded:e.ui.rightColumnExpanded}})),(0,te.c0)((function(e){return{recommendationsShowing:e.recommendationsShowing}})),(0,T.cj)((function(e){return{disableStatusOverlay:(0,D.wk)({playerPublicPropsContext:e}).disableStatusOverlay,disableStatusIndicator:(0,D.wk)({playerPublicPropsContext:e}).disableStatusIndicator,showGlyphInOverlay:(0,D.wk)({playerPublicPropsContext:e}).showGlyphInOverlay}})),(0,w.VX)((function(e){return{isAdShowing:(0,j.cz)(e.videoAdMetadata)}})))(md),fd=t(873830),gd=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.liveChannelLogin;return e&&this.shouldShow(this.props)?(0,a.jsx)(je,{restriction:Fe.S.TwitchGate,children:(0,a.jsx)(he.rj,{iconProps:{type:ye.W.Icon,icon:ue.t.LogoTwitch},text:(0,P.hw)("You can only watch this stream on the Twitch website.","TwitchGateOverlay"),children:function(n){return(0,a.jsx)(He.$n,{linkTo:"https://www.twitch.tv/".concat(e),targetBlank:!0,size:n?He.Mp.Small:He.Mp.Default,children:(0,P.hw)("Watch on Twitch","TwitchGateOverlay")})}})}):null},n.prototype.shouldShow=function(e){return(0,fd.F$)(e.data)},n}(r.Component),hd=(0,o.Zz)(Ue("TwitchGateOverlay",Fe.S.TwitchGate),(0,T.cj)((function(e){var n=e.content;return{liveChannelLogin:(0,H.jp)(n)}})),(0,fd.yg)())(gd);var yd=t(24401),kd=t.n(yd),Sd=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getBannerUrl=function(){if(n.props.data&&n.props.data.user)return n.props.data.user.stream&&n.props.data.user.stream.id&&n.props.data.user.stream.previewImageURL?n.props.data.user.stream.previewImageURL:void 0},n.shouldShowVideoPreviewOverlay=function(){return!n.props.isVideoAdShowing&&(!n.props.autoplay&&!n.props.isOffline&&!n.props.isPlaying||n.props.forbidden&&n.restrictionType(n.props)===me.B2H.SUB_ONLY_LIVE)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.getBannerUrl();return e&&this.shouldShowVideoPreviewOverlay()?(0,a.jsx)(v.P,{"data-a-target":"player-overlay-preview-background",display:f.nl.Flex,alignItems:f.k2.Center,justifyContent:f.A9.Center,fullHeight:!0,className:"video-preview-overlay",children:(0,a.jsx)(N.S,{fullHeight:!0,className:"video-preview-overlay__background-image",children:(0,a.jsx)(dt.L,{src:e,alt:this.props.liveContentChannelLogin||""})})}):null},n.prototype.restrictionType=function(e){return!!e.data&&!!e.data.user&&!!e.data.user.stream&&e.data.user.stream.restrictionType},n}(r.Component),_d=(0,o.Zz)((0,s.X)({name:"VideoPreviewOverlay"}),(0,M.dd)((function(e){var n=e.isOffline,t=e.forbidden,i=e.autoplay;return{autoplay:i,isPlaying:(0,et.F4)(e),isOffline:n,forbidden:t}})),(0,T.cj)((function(e){var n,t=(0,D.Rh)({playerPublicPropsContext:e});return{isLive:(0,H.DG)(t),liveContentChannelLogin:null!==(n=(0,H.jp)(t))&&void 0!==n?n:null}})),(0,w.VX)((function(e){return{isVideoAdShowing:(0,j.cz)(e.videoAdMetadata)}})),(0,G._v)(kd(),{skip:function(e){return!e.isLive},options:function(e){var n;return{variables:{login:null!==(n=e.liveContentChannelLogin)&&void 0!==n?n:""}}}}))(Sd);var bd;!function(e){e.Codecs="video-stats-overlay__codecs",e.FPS="video-stats-overlay__fps",e.LatencyToBroadcaster="video-stats-overlay__latency-to-broadcaster",e.LatencyMode="video-stats-overlay__latency-mode"}(bd||(bd={}));var Cd=function(e){function n(n){var t=e.call(this,n)||this;return t.updateVideoStats=function(){var e,n,i,a,r,o,s=t.props.mediaPlayerInstance;if(s){var l=null===(e=s.getVideoWidth)||void 0===e?void 0:e.call(s),d=null===(n=s.getVideoHeight)||void 0===n?void 0:n.call(s),u=null===(i=s.getVideoBitRate)||void 0===i?void 0:i.call(s),c=l,p=d,m="video",v=null===(r=null===(a=s.getVideoRenderSurface)||void 0===a?void 0:a.call(s))||void 0===r?void 0:r.querySelector("canvas");v&&"hidden"!==v.style.visibility&&(c=v.width,p=v.height,m="canvas");var f=null===(o=s.getQuality)||void 0===o?void 0:o.call(s);t.setState((function(e){var n,t,i,a,r,o,v,g,h;return{bandwidthEstimate:Nd(null===(n=s.getBandwidthEstimate)||void 0===n?void 0:n.call(s),e.bandwidthEstimate),broadcasterLatency:1e3*Nd(null===(t=s.getLiveLatency)||void 0===t?void 0:t.call(s),e.broadcasterLatency),bufferDuration:Nd(null===(i=s.getBufferDuration)||void 0===i?void 0:i.call(s),e.bufferDuration),codecs:f&&f.codecs||e.codecs,viewportHeight:Nd(null===(a=s.getDisplayHeight)||void 0===a?void 0:a.call(s),e.viewportHeight),viewportWidth:Nd(null===(r=s.getDisplayWidth)||void 0===r?void 0:r.call(s),e.viewportWidth),droppedFrames:Nd(null===(o=s.getDroppedFrames)||void 0===o?void 0:o.call(s),e.droppedFrames),version:(null===(v=s.getVersion)||void 0===v?void 0:v.call(s))||e.version,videoFrameRate:Nd(null===(g=s.getVideoFrameRate)||void 0===g?void 0:g.call(s),e.videoFrameRate),downloadWidth:Nd(l,e.downloadWidth),downloadHeight:Nd(d,e.downloadHeight),renderWidth:Nd(c,e.renderWidth),renderHeight:Nd(p,e.renderHeight),downloadBitrate:Nd(u,e.downloadBitrate),renderSurface:m,protocol:(null===(h=s.getProtocol)||void 0===h?void 0:h.call(s))||e.protocol}}))}},t.getTimeString=function(e){return(0,P.hw)("{time} sec.",{time:e},"VideoStatsOverlay")},t.state={bandwidthEstimate:0,broadcasterLatency:0,bufferDuration:0,codecs:"",viewportHeight:0,viewportWidth:0,downloadBitrate:0,downloadWidth:0,downloadHeight:0,droppedFrames:0,protocol:"",renderSurface:"video",renderWidth:0,renderHeight:0,videoFrameRate:0,version:""},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.updateVideoStats(),this.updateVideoStatsIntervalID=setInterval(this.updateVideoStats,1e3)},n.prototype.componentWillUnmount=function(){clearInterval(this.updateVideoStatsIntervalID)},n.prototype.render=function(){var e=this;return(0,a.jsx)(Se.e,{theme:"dark",children:(0,a.jsx)("div",{children:(0,a.jsx)(N.S,{position:f.yX.Absolute,attachTop:!0,margin:1,children:(0,a.jsx)(we.Vq,{suppressScrollX:!0,children:(0,a.jsxs)(v.P,{"data-a-target":"player-overlay-video-stats",background:f.VS.Base,color:f.Q1.Base,children:[(0,a.jsx)(v.P,{display:f.nl.Flex,justifyContent:f.A9.End,children:(0,a.jsx)(_e.a2,{"aria-label":(0,P.hw)("Close video stats","VideoStatsOverlay"),onClick:function(){return e.props.setStatsOverlay(te.Uz.None)},icon:be.g})}),(0,a.jsxs)(Ce.X,{children:[(0,a.jsx)(Pe.A,{children:(0,a.jsxs)(Ee.H,{children:[(0,a.jsx)(Ne.x,{label:(0,P.hw)("Name","VideoStatsOverlay"),padding:.5}),(0,a.jsx)(Ne.x,{label:(0,P.hw)("Value","VideoStatsOverlay"),padding:.5})]})}),(0,a.jsxs)(xe.B,{children:[this.renderDownloadResolution(),this.renderRenderResolution(),this.renderViewportResolution(),this.renderDownloadBitrate(),this.renderBandwidthEstimate(),this.renderFps(),this.renderSkippedFrames(),this.renderBufferSize(),this.renderLatencyToBroadcaster(),this.renderCodecs(),this.renderProtocol(),this.renderLatencyMode(),this.renderRenderSurface(),this.renderBackendVersion(),this.renderPlaySessionID(),this.renderServingID()]})]})]})})})})})},n.prototype.renderBandwidthEstimate=function(){return(0,a.jsx)(Ed,{name:(0,P.hw)("Bandwidth Estimate","VideoStatsOverlay"),value:this.formatBitsPerSecond(this.state.bandwidthEstimate)})},n.prototype.renderDownloadResolution=function(){return(0,a.jsx)(Ed,{name:(0,P.hw)("Download Resolution","VideoStatsOverlay"),value:"".concat(this.state.downloadWidth,"x").concat(this.state.downloadHeight)})},n.prototype.renderRenderResolution=function(){return(0,a.jsx)(Ed,{name:(0,P.hw)("Render Resolution","VideoStatsOverlay"),value:"".concat(this.state.renderWidth,"x").concat(this.state.renderHeight)})},n.prototype.renderViewportResolution=function(){return(0,a.jsx)(Ed,{name:(0,P.hw)("Viewport Resolution","VideoStatsOverlay"),value:"".concat(this.state.viewportWidth,"x").concat(this.state.viewportHeight)})},n.prototype.renderRenderSurface=function(){return(0,a.jsx)(Ed,{name:(0,P.hw)("Render Surface","VideoStatsOverlay"),value:"".concat(this.state.renderSurface)})},n.prototype.renderFps=function(){var e=Math.round(this.state.videoFrameRate);return e?(0,a.jsx)(Ed,{name:(0,P.hw)("FPS","VideoStatsOverlay"),value:e,"data-test-selector":bd.FPS}):null},n.prototype.renderSkippedFrames=function(){return(0,a.jsx)(Ed,{name:(0,P.hw)("Skipped Frames","VideoStatsOverlay"),value:this.state.droppedFrames})},n.prototype.renderBufferSize=function(){var e=this.getTimeString(this.state.bufferDuration.toFixed(2));return(0,a.jsx)(Ed,{name:(0,P.hw)("Buffer Size","VideoStatsOverlay"),value:e})},n.prototype.renderLatencyToBroadcaster=function(){if(!this.props.isLive)return null;var e=this.getTimeString((this.state.broadcasterLatency/1e3).toFixed(2));return(0,a.jsx)(Ed,{name:(0,P.hw)("Latency To Broadcaster","VideoStatsOverlay"),value:e,"data-test-selector":bd.LatencyToBroadcaster})},n.prototype.renderLatencyMode=function(){return this.props.isLive?(e=this.props.isLowLatencyCapable&&this.props.isLowLatencyEnabled?(0,P.hw)("Low Latency","VideoStatsOverlay"):(0,P.hw)("Normal Latency","VideoStatsOverlay"),(0,a.jsx)(Ed,{name:(0,P.hw)("Latency Mode","VideoStatsOverlay"),value:e,"data-test-selector":bd.LatencyMode})):null;var e},n.prototype.renderDownloadBitrate=function(){var e="".concat(Math.round(this.state.downloadBitrate/1e3)," Kbps");return(0,a.jsx)(Ed,{name:(0,P.hw)("Download Bitrate","VideoStatsOverlay"),value:e})},n.prototype.renderBackendVersion=function(){return(0,a.jsx)(Ed,{name:(0,P.hw)("Backend Version","VideoStatsOverlay"),value:this.state.version})},n.prototype.renderServingID=function(){return(0,a.jsx)(Ed,{name:(0,P.hw)("Serving ID","VideoStatsOverlay"),value:this.props.servingID||""})},n.prototype.renderCodecs=function(){return this.state.codecs?(0,a.jsx)(Ed,{name:(0,P.hw)("Codecs","VideoStatsOverlay"),value:this.state.codecs,"data-test-selector":bd.Codecs}):null},n.prototype.renderPlaySessionID=function(){return(0,a.jsx)(Ed,{name:(0,P.hw)("Play Session ID","VideoStatsOverlay"),value:this.props.playSessionID})},n.prototype.renderProtocol=function(){return 0===this.state.protocol.length?null:(0,a.jsx)(Ed,{name:(0,P.hw)("Protocol","VideoStatsOverlay"),value:this.state.protocol})},n.prototype.formatBitsPerSecond=function(e){return e>=1e7?"".concat(Math.round(e/1e6)," Mbps"):"".concat(Math.round(e/1e3)," Kbps")},n}(r.Component),Pd=(0,o.Zz)((0,s.X)({name:"VideoStatsOverlay",content:(0,a.jsx)((function(){return(0,a.jsx)(v.P,{position:f.yX.Absolute,attachTop:!0,margin:1,className:"video-stats-overlay__error-container",children:(0,a.jsx)(U.N,{color:f.Q1.Overlay,children:(0,P.hw)("The video stats overlay has crashed. Please disable it in the player settings menu.","VideoStatsOverlay")})})}),{})}),(0,M.dd)((function(e){return{isLowLatencyCapable:(0,et.RO)(e),isLowLatencyEnabled:e.isLiveLowLatencyEnabled,mediaPlayerInstance:e.mediaPlayerInstance,playSessionID:e.playSessionId,servingID:(0,et.YN)(e)}})),(0,T.cj)((function(e){var n=e.content;return{isLive:(0,H.DG)(n)}})),(0,te.c0)((function(e){var n=e.setStatsOverlay;return{setStatsOverlay:n}})))(Cd);var Ed=function(e){var n=e.name,t=e.value;return(0,a.jsxs)(Ee.H,{"data-a-target":"player-overlay-video-stats-row",children:[(0,a.jsx)(Ae.n,{padding:.5,children:(0,a.jsx)(U.N,{children:n})}),(0,a.jsx)(Ae.n,{padding:.5,children:(0,a.jsx)(U.N,{"aria-label":n,"aria-roledescription":"video player stat","aria-live":"polite",role:"status",children:t})})]},n)};function Nd(e,n){return"number"!=typeof e||isNaN(e)?n:e}var xd=t(300780),Ad=300;function wd(e){return e.self&&e.self.viewingHistory&&e.self.viewingHistory.position||void 0}function Td(e){if(!e.self||!e.self.viewingHistory||null===e.self.viewingHistory.position)return!1;var n=e.self.viewingHistory.position;if(0===n)return!0;var t=e.lengthSeconds||0,i=Math.max(Ad,.1*t);return t>Ad&&n>i}function Id(e,n){var t=Td(e);return t!==Td(n)?t?1:-1:e.createdAt&&n.createdAt?new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime():n.createdAt?1:e.createdAt?-1:0}var Dd=580,Fd=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={timeRemaining:2e4},n.autoplayInterval=-1,n.renderVideoTitle=function(e){return(0,a.jsx)(v.P,{fullWidth:!0,margin:{bottom:e?.5:0},children:(0,a.jsx)(U.N,{fontSize:e?f.Z4.Size6:f.Z4.Size4,ellipsis:!0,children:n.props.video.title})})},n.renderTimeRemaining=function(){var e=Math.round(n.state.timeRemaining/1e3);return(0,a.jsx)(v.P,{margin:{bottom:.5},display:f.nl.Flex,alignItems:f.k2.Center,justifyContent:f.A9.Between,children:(0,a.jsx)(U.N,{bold:!0,type:n.props.width>780?q.M2.H4:q.M2.H5,color:f.Q1.Overlay,children:(0,P.hw)("Up Next in {timeRemaining} seconds...",{timeRemaining:e},"VODPostplayRecommendations")})})},n.startCountdown=function(){clearInterval(n.autoplayInterval),n.autoplayInterval=setInterval((function(){n.state.timeRemaining>0?n.setState((function(e){return{timeRemaining:e.timeRemaining-1e3}})):(n.stopCountdown(),n.props.onSelect())}),1e3)},n.stopCountdown=function(){clearInterval(n.autoplayInterval)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.startCountdown()},n.prototype.componentWillUnmount=function(){this.stopCountdown()},n.prototype.render=function(){var e=this.props,n=e.onSelect,t=e.video;return(0,a.jsx)(Me.FT,{type:Me.NL.Fullscreen,transparency:Me.xL.Transparency1,children:(0,a.jsx)(N.S,{fullWidth:!0,children:(0,a.jsx)(Mn.e,{alwaysRenderChild:!0,transitionInitialMount:!0,show:!0,type:Ln.ES.TranslateTop,duration:Ln.Cf.Long,children:(0,a.jsx)("div",{style:{marginTop:this.props.width<1e3?"-10%":0},children:(0,a.jsx)(v.P,{display:f.nl.Flex,flexDirection:f.bo.Column,alignItems:f.k2.Center,justifyContent:f.A9.Center,children:(0,a.jsxs)(v.P,{className:pn()("autoplay-vod__content-container",{"autoplay-vod__content-container--mini":this.props.width<=Dd}),display:f.nl.Flex,flexDirection:this.props.width>Dd?f.bo.Column:f.bo.Row,children:[this.props.width>Dd&&this.renderTimeRemaining(),(0,a.jsx)(v.P,{className:"autoplay-vod__video-card-container",children:(0,a.jsx)(mt,{video:t,content:{type:gn.FC.VOD,vodID:t.id,videoOffset:wd(t)},onSelect:n,info:this.props.width>Dd?this.renderVideoTitle():null,marginBottom:0})}),(0,a.jsxs)(v.P,{className:pn()({"autoplay-vod__mini-text-container":this.props.width<=Dd}),children:[this.props.width<=Dd&&this.renderTimeRemaining(),this.props.width<=Dd&&this.renderVideoTitle(!0),(0,a.jsx)(v.P,{display:f.nl.Flex,justifyContent:f.A9.End,children:(0,a.jsx)(He.$n,{onClick:this.props.onClose,children:(0,P.hw)("More Suggestions","VODPostplayRecommendations")})})]})]})})})})})})},n}(r.Component),Od=(0,o.Zz)((0,I.o1)())(Fd),Rd=t(423166),Vd=t.n(Rd),Md=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={autoplayVOD:!0,height:0,otherVODs:!0,wasEverMini:n.props.mini,width:0},n.resizeDebounceTimer=new xd.n(250),n.showAutoplayVOD=function(){return n.hasVODs()&&n.state.autoplayVOD},n.showOtherVODs=function(){return n.hasVODs()&&!n.showAutoplayVOD()&&n.state.otherVODs},n.hasVODs=function(){return n.getVideos().length>1},n.onResize=function(e,t){n.resizeDebounceTimer.invoke((function(){n.setState({width:e,height:t})}))},n.getVideos=function(){return n.props.data&&n.props.data.video&&n.props.data.video.owner&&n.props.data.video.owner.videos&&n.props.data.video.owner.videos.edges&&(0,uo.jP)(n.props.data.video.owner.videos.edges.map((function(e){return e&&e.node}))).filter((function(e){return e.id!==n.props.vodID})).sort(Id)||[]},n.getChannelDisplayName=function(){return n.props.data&&n.props.data.video&&n.props.data.video.owner&&n.props.data.video.owner.displayName||""},n.handleCloseAutoplayVOD=function(){n.setState({autoplayVOD:!1})},n.handleCloseOtherVODs=function(){n.setState({otherVODs:!1})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.state.wasEverMini&&this.props.setRecommendationsShowing(!1)},n.prototype.componentDidUpdate=function(){var e=this.props,n=e.recommendationsShowing,t=e.setRecommendationsShowing;if(this.props.mini&&!this.state.wasEverMini)this.setState({wasEverMini:!0}),n&&t(!1);else if(!this.state.wasEverMini){var i=this.showAutoplayVOD()||this.showOtherVODs();n!==i&&t(i)}},n.prototype.componentWillUnmount=function(){this.props.setRecommendationsShowing(!1),this.resizeDebounceTimer.clear()},n.prototype.render=function(){var e=this;if(this.state.wasEverMini)return null;var n=this.getVideos();return(0,a.jsxs)(a.Fragment,{children:[(this.state.autoplayVOD||this.state.otherVODs)&&(0,a.jsx)(mn.$,{onResize:this.onResize}),this.showAutoplayVOD()&&(0,a.jsx)(Od,{video:n[0],onClose:this.handleCloseAutoplayVOD,onSelect:function(){var t=n[0].id,i=e.props.getContentUrl({type:gn.FC.VOD,vodID:t,videoOffset:wd(n[0])});i&&(0,Rt.cW)(i,e.props.navigate)},width:this.state.width}),this.showOtherVODs()&&(0,a.jsx)(Ko,{videos:n,onClose:this.handleCloseOtherVODs,onSelect:function(){},title:(0,P.hw)("More from {channelLogin}",{channelLogin:this.getChannelDisplayName()},"VODPostplayRecommendations"),width:this.state.width})]})},n}(r.Component);var Ld=(0,o.Zz)((0,s.X)({name:"VODPostplayRecommendationsOverlay"}),(0,T.cj)((function(e){return{mini:!!(0,D.wk)({playerPublicPropsContext:e}).mini,vodID:(0,H.hq)(e.content)||null}})),(0,I.o1)(),(0,te.c0)((function(e){return{recommendationsShowing:e.recommendationsShowing,setRecommendationsShowing:e.setRecommendationsShowing}})),(0,G._v)(Vd(),{options:function(e){var n;return{variables:{videoID:null!==(n=e.vodID)&&void 0!==n?n:""}}},skip:function(e){return!e.vodID}}),Dn.y,(0,ct.e)())(Md),jd=t(114195),Bd=t.n(jd),Ud=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getImageUrl=function(){if(n.props.data&&n.props.data.video)return n.props.data.video.previewThumbnailURL?n.props.data.video.previewThumbnailURL:void 0},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.getImageUrl();return e?(0,a.jsx)(dt.L,{src:e,alt:this.props.data&&this.props.data.video&&this.props.data.video.title||""}):null},n}(r.Component),qd=(0,o.Zz)((0,s.X)({name:"VODPreviewOverlay"}),(0,T.cj)((function(e){var n=e.content;return{vodID:(0,H.hq)(n)||null}})),(0,G._v)(Bd(),{skip:function(e){return null===e.vodID},options:function(e){return{variables:{vodID:e.vodID}}}}))(Ud);var Gd,zd=t(491798),Hd=t(441613),Wd=function(e){var n=e.chromecastContext,t=e.playerContext,i=e.videoPlaybackContext;return!!(t.isPlayerCoreLoading||(0,et.TN)(t)||(0,et.i_)(t)||!t.hasPlayed&&t.sourceStatus!==Jn.O.None)&&i.isPlaying&&!(0,j.cz)(e.adContext.videoAdMetadata)&&!(0,re.mh)(n)},Kd=t(196288),Zd=t(268675),Qd=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=t.playerState===Kd.p.ENDED,a=!t.hasPlayed,r=(0,D.wk)(e).embed;return!((0,j.cz)(e.adContext.videoAdMetadata)||!(0,Zd.bz)(n.content,t.isOffline)||!a&&!i||!r)};!function(e){e.AccountRestrictedOverlay="account-restricted-overlay",e.AdStatsOverlay="ad-stats-overlay",e.BottomControlsOverlay="bottom-controls-overlay",e.CelebrationsOverlay="celebrations-overlay",e.ChannelSkinsOverlay="channel-skins-overlay",e.ChatHappeningNowOverlay="chat-happening-now-overlay",e.ClickHandlerOverlay="click-handler-overlay",e.ClickToPlayPauseOverlay="click-to-play-pause-overlay",e.ClickToUnmuteOverlay="click-to-unmute-overlay",e.ClipEmbedErrorOverlay="clip-embed-error-overlay",e.ClipPostplayRecommendationsOverlay="clip-postplay-recommendations-overlay",e.ClipShareOverlay="clip-share-overlay",e.ClosedCaptionSettingsOverlay="closed-caption-settings-overlay",e.CollectionEmptyOverlay="collection-empty",e.CollectionSidebarOverlay="collection-sidebar-overlay",e.ErrorOverlay="error-overlay",e.ExtensionsOverlay="extensions-overlay",e.FollowPanelOverlay="follow-panel-overlay",e.KeyboardShortcutsOverlay="keyboard-shortcuts-overlay",e.LastActionOverlay="last-action-overlay",e.LoadingOverlay="loading-overlay",e.MiniOverlay="mini-overlay",e.MutedSegmentsAlertOverlay="muted-segments-alert-overlay",e.OfflineBannerOverlay="offline-banner-overlay",e.OfflineEmbedsOverlay="offline-embeds-overlay",e.OfflineRecommendationsOverlay="offline-recommendations-overlay",e.PremiumContentOverlay="premium-content-overlay",e.SDANudgeOverlay="sda-nudge-overlay",e.SubscriberVODOverlay="subscriber-vod-overlay",e.TopBarOverlay="top-bar-overlay",e.TwitchGateOverlay="twitch-gate-overlay",e.VideoStatsOverlay="video-stats-overlay",e.VODPostplayRecommendationsOverlay="vod-postplay-recommendations-overlay",e.VODPreviewOverlay="vod-preview-overlay",e.OneTapOverlay="one-tap-overlay",e.OneTapStoreOverlay="one-tap-store-overlay"}(Gd||(Gd={}));function Yd(e){var n;return(n={})[Gd.ClickToPlayPauseOverlay]=function(e){var n=e.active,t=e.videoPlaybackContext,i=e.uiContext,a=(0,D.wk)(e),r=a.displayPlayPauseAsOverlay,o=a.forceControlVisibility;return!(!i.showControls||!r||!n&&t.isPlaying&&o!==eo.Ie.Showing)}(e),n[Gd.ClickToUnmuteOverlay]=function(e){var n=e.playerContext,t=e.videoPlaybackContext,i=(0,D.wk)(e),a=i.showInitialMutedOnVolumeButton,r=i.displayPlayPauseAsOverlay;return!Wd(e)&&t.isPlaying&&!(0,et.xB)(n)&&!a&&!r}(e),n[Gd.AdStatsOverlay]=function(e){return e.uiContext.statsOverlay===te.Uz.Ad}(e),n[Gd.BottomControlsOverlay]=(0,Zd.vg)(e),n[Gd.CelebrationsOverlay]=function(e){return!e.playerContext.isPlayerCoreLoading}(e),n[Gd.ChannelSkinsOverlay]=function(e){return!!(0,D.wk)(e).enableChannelSkinsVideoOverlay&&(0,H.DG)(e.playerPublicPropsContext.content)}(e),n[Gd.ChatHappeningNowOverlay]=function(e){var n=e.adContext,t=e.playerContext,i=e.playerPublicPropsContext,a=e.uiContext,r=P.x2.store.getState(),o=(0,D.Rh)({playerPublicPropsContext:i});return(!r.ui.rightColumnExpanded||a.isFullscreen)&&!(0,j.cz)(n.videoAdMetadata)&&!t.isOffline&&(0,H.DG)(o)&&(0,Hd.O)(i)===zd.C.Site}(e),n[Gd.ClickHandlerOverlay]=function(e){return!((0,D.wk)(e).disableDoubleClickFullscreen&&void 0===(0,D.zB)(e).onPlayerClick||(0,j.cz)(e.adContext.videoAdMetadata))}(e),n[Gd.ClipEmbedErrorOverlay]=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=(0,D.Rh)({playerPublicPropsContext:n}),a=(0,D.wk)(e).embed;return!(!(0,H.Jn)(i)||!a||t.sourceStatus!==Jn.O.None)}(e),n[Gd.ClipPostplayRecommendationsOverlay]=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=(0,D.Rh)({playerPublicPropsContext:n});return!((0,j.cz)(e.adContext.videoAdMetadata)||!(0,H.Jn)(i)||!i.clipSlug||!(0,et.pl)(t)||(0,D.wk)(e).disableRecommendations)}(e),n[Gd.ClosedCaptionSettingsOverlay]=function(e){return e.uiContext.showClosedCaptionsSettings}(e),n[Gd.CollectionEmptyOverlay]=function(e){var n=e.playerContext,t=e.playerPublicPropsContext;return n.sourceStatus===Jn.O.None&&t.content.type===gn.FC.Collection}(e),n[Gd.CollectionSidebarOverlay]=function(e){return e.uiContext.isCollectionSidebarShowing}(e),n[Gd.ErrorOverlay]=function(e){return!!e.playerContext.error}(e),n[Gd.ExtensionsOverlay]=function(e){var n=e.playerPublicPropsContext,t=n.behaviors,i=n.content,a=e.playerContext.isOffline,r=t&&t.enableExtensions,o=(0,H.DG)(i),s=(0,H.hd)(i);return!(!(r&&o&&s)||a)}(e),n[Gd.FollowPanelOverlay]=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=e.adContext;return!(!(0,D.wk)(e).showOfflineChannelNotificationPrompt||!(0,Zd.bz)(n.content,t.isOffline)||(0,j.cz)(i.videoAdMetadata)||Qd(e))}(e),n[Gd.KeyboardShortcutsOverlay]=function(e){return e.uiContext.isKeyboardShortcutsVisible}(e),n[Gd.LastActionOverlay]=function(e){var n=e.chromecastContext,t=e.playerContext,i=e.uiContext,a=(0,D.wk)(e).disableLastActionOverlay;return!((0,re.mh)(n)||t.isOffline||(0,et.k1)(t)||i.isCollectionSidebarShowing||i.recommendationsShowing||a||t.sourceStatus===Jn.O.None)}(e),n[Gd.LoadingOverlay]=Wd(e),n[Gd.MiniOverlay]=function(e){return!!(0,D.wk)(e).mini}(e),n[Gd.MutedSegmentsAlertOverlay]=function(e){var n=e.videoPlaybackContext;return(0,H.wy)((0,D.Rh)(e))&&n.isPlaying}(e),n[Gd.OfflineBannerOverlay]=function(e){if((0,j.cz)(e.adContext.videoAdMetadata))return!1;var n=e.playerContext,t=e.playerPublicPropsContext,i=(0,D.Rh)({playerPublicPropsContext:t}).type===gn.FC.Live,a=(0,D.wk)(e).embed;return!(!i||!n.isOffline||a)}(e),n[Gd.OfflineEmbedsOverlay]=Qd(e),n[Gd.OfflineRecommendationsOverlay]=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=!t.hasPlayed,a=t.playerState===Kd.p.ENDED,r=(0,D.wk)(e).embed;return!((0,j.cz)(e.adContext.videoAdMetadata)||!(0,Zd.bz)(n.content,t.isOffline)||!i&&!a||(0,D.wk)(e).disableRecommendations||r)}(e),n[Gd.PremiumContentOverlay]=hl(e),n[Gd.SDANudgeOverlay]=function(e){var n=e.adContext,t=e.playerPublicPropsContext,i=e.adContext.isSDAContainerHidden,a=!1,r=P.x2.experiments.getAndTrackAssignment("nabe_experiment"),o=n.sdaRequestCount;if("turbo_1"!==r&&"support_1"!==r||(a=o%15==0),"turbo_2"!==r&&"help_2"!==r&&"support_2"!==r||(a=o%4==0),"turbo_4"!==r&&"help_4"!==r&&"support_4"!==r||(a=o%8==0),!n.lastSDAAdRequestBlocked&&!i)return!1;var s=(0,D.Rh)({playerPublicPropsContext:t}),l=(0,il.If)();return(0,j.cz)(n.videoAdMetadata)||(0,j.Eg)(n.adFormatMetadata)&&!i||(0,j.g)(n.adFormatMetadata)||!(0,H.DG)(s)||(0,Hd.O)(t)!==zd.C.Site||void 0===l||il.l$.has(l)||(0,et.pl)(e.playerContext)?(n.updateLastSDAAdRequestBlocked(!1),n.updateSDAHiddenState(!1),!1):a}(e),n[Gd.SubscriberVODOverlay]=function(e){return(0,et.k1)(e.playerContext,Fe.S.SubscriberVOD)}(e),n[Gd.TopBarOverlay]=function(e){if(hl(e))return!1;var n=e.active,t=e.videoPlaybackContext,i=e.uiContext,a=(0,D.wk)(e).forceControlVisibility;return!(!i.showControls||!n&&t.isPlaying&&a!==eo.Ie.Showing)}(e),n[Gd.TwitchGateOverlay]=function(e){return!!(0,D.wk)(e).blockTwitchExclusiveContent}(e),n[Gd.ClipShareOverlay]=function(e){return e.uiContext.isClipSharing}(e),n[Gd.VideoStatsOverlay]=function(e){return e.uiContext.statsOverlay===te.Uz.Video}(e),n[Gd.VODPostplayRecommendationsOverlay]=function(e){var n=(0,D.Rh)(e);return!(0,j.cz)(e.adContext.videoAdMetadata)&&((0,H.wy)(n)||(0,H.P3)(n))&&(0,et.pl)(e.playerContext)&&!(0,D.wk)(e).disableRecommendations}(e),n[Gd.VODPreviewOverlay]=function(e){var n,t=e.playerContext,i=e.videoPlaybackContext;return!((null===(n=e.playerPublicPropsContext.behaviors)||void 0===n?void 0:n.disableVODPreviewOverlay)||t.autoplay||t.hasPlayed||i.isPlaying)}(e),n[Gd.AccountRestrictedOverlay]=function(e){var n=e.playerContext;return(0,et.k1)(n,Fe.S.AccountRestricted)}(e),n[Gd.OneTapOverlay]=function(e){var n=e.playerContext,t=e.playerPublicPropsContext,i=(0,D.Rh)({playerPublicPropsContext:t}),a=(0,D.wk)(e).enableOneTap;return!n.isPlayerCoreLoading&&(0,H.DG)(i)&&!!a&&!(0,j.cz)(e.adContext.videoAdMetadata)}(e),n[Gd.OneTapStoreOverlay]=function(e){var n=e.playerContext,t=e.playerPublicPropsContext,i=(0,D.Rh)({playerPublicPropsContext:t}),a=(0,D.wk)(e).enableOneTap;return!n.isPlayerCoreLoading&&(0,H.DG)(i)&&!!a}(e),n}var Xd=l.x.wrap((function(){return t.e(57796).then(t.bind(t,108595))}),"ChannelSkinsOverlay",{failSilently:!0,placeholder:null}),$d=l.x.wrap((function(){return Promise.all([t.e(72398),t.e(23709),t.e(72723)]).then(t.bind(t,363887))}),"OneTapStore"),Jd=l.x.wrap((function(){return Promise.all([t.e(72398),t.e(23709),t.e(72723)]).then(t.bind(t,363887))}),"OneTapBreakpointAnimation"),eu=l.x.wrap((function(){return Promise.all([t.e(72398),t.e(23709),t.e(72723)]).then(t.bind(t,363887))}),"OneTapStreakPills"),nu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderMiniOverlay=function(e){return(0,a.jsx)(a.Fragment,{children:e[Gd.MiniOverlay]&&(0,a.jsx)(Co,{})})},n.renderContentGatingOverlays=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ke,{show:e[Gd.AccountRestrictedOverlay]}),e[Gd.PremiumContentOverlay]&&(0,a.jsx)($s,{}),(0,a.jsx)(qi,{}),e[Gd.TwitchGateOverlay]&&(0,a.jsx)(hd,{}),(0,a.jsx)(un,{}),e[Gd.SubscriberVODOverlay]&&(0,a.jsx)(gl,{}),e[Gd.CelebrationsOverlay]&&(0,a.jsx)(c.l,{ref:p.e})]})},n.renderContentClickOverlays=function(e){return(0,a.jsxs)(a.Fragment,{children:[!(0,D.wk)(n.props).mini&&e[Gd.ClickHandlerOverlay]&&(0,a.jsx)(Vn,{}),e[Gd.ClickToPlayPauseOverlay]&&(0,D.wk)(n.props).displayPlayPauseAsOverlay&&(0,a.jsx)(qn,{}),e[Gd.ExtensionsOverlay]&&(0,a.jsx)(Qr,{}),!(0,D.wk)(n.props).mini&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Hn,{canShow:e[Gd.ClickToUnmuteOverlay]}),e[Gd.LastActionOverlay]&&(0,a.jsx)(ko,{})]})]})},n.renderContentCoveringOverlays=function(e){return!(0,D.wk)(n.props).mini&&(0,a.jsxs)(a.Fragment,{children:[e[Gd.OneTapOverlay]&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Jd,{}),(0,a.jsx)(eu,{})]}),e[Gd.ChannelSkinsOverlay]&&(0,a.jsx)(Xd,{}),yl(n.props)&&(0,a.jsx)(vd,{shouldShow:e[Gd.TopBarOverlay],isOffline:e[Gd.OfflineEmbedsOverlay]}),(0,a.jsx)(ha,{isOnScreenControlsOn:(0,Zd.A$)(n.props)&&e[Gd.BottomControlsOverlay]}),(0,a.jsx)(wn,{}),e[Gd.FollowPanelOverlay]&&(0,a.jsx)(so,{}),e[Gd.KeyboardShortcutsOverlay]&&(0,a.jsx)(vo,{}),e[Gd.VideoStatsOverlay]&&(0,a.jsx)(Pd,{}),e[Gd.AdStatsOverlay]&&(0,a.jsx)(De,{}),(0,a.jsx)(In,{}),e[Gd.ChatHappeningNowOverlay]&&(0,a.jsx)(Tn.X,{})]})},n.renderTemporaryInteractionOverlays=function(e){return!(0,D.wk)(n.props).mini&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Li,{}),e[Gd.ClipShareOverlay]&&(0,a.jsx)(Ut,{}),e[Gd.MutedSegmentsAlertOverlay]&&(0,a.jsx)(wo,{bottomControlsShowing:e[Gd.BottomControlsOverlay]}),e[Gd.ClosedCaptionSettingsOverlay]&&(0,a.jsx)(xi,{}),e[Gd.VODPreviewOverlay]&&(0,a.jsx)(qd,{}),e[Gd.SDANudgeOverlay]&&(0,a.jsx)(ul,{}),e[Gd.OneTapStoreOverlay]&&(0,a.jsx)($d,{isVideoAdShowing:(0,j.cz)(n.props.adContext.videoAdMetadata)})]})},n.renderContentRecommendations=function(e){return(0,a.jsxs)(a.Fragment,{children:[!(0,D.wk)(n.props).mini&&e[Gd.ClipPostplayRecommendationsOverlay]&&(0,a.jsx)(Et,{}),!(0,D.wk)(n.props).mini&&e[Gd.OfflineEmbedsOverlay]&&(0,a.jsx)(Ho,{}),!(0,D.wk)(n.props).mini&&e[Gd.OfflineRecommendationsOverlay]&&(0,a.jsx)(ts,{}),e[Gd.VODPostplayRecommendationsOverlay]&&(0,a.jsx)(Ld,{})]})},n.renderContentReplacedOverlays=function(e){var t=!(0,D.wk)(n.props).mini&&(0,a.jsxs)(a.Fragment,{children:[e[Gd.OfflineBannerOverlay]&&(0,a.jsx)(Fo,{}),(0,a.jsx)(_d,{}),e[Gd.CollectionEmptyOverlay]&&(0,a.jsx)(Ti,{}),e[Gd.ClipEmbedErrorOverlay]&&(0,a.jsx)(Wn,{})]});return(0,a.jsxs)(a.Fragment,{children:[t,(0,a.jsx)(ae,{})]})},n.renderContentLoadingOverlays=function(e){return(0,a.jsx)(a.Fragment,{children:e[Gd.LoadingOverlay]&&(0,a.jsx)(So.p8,{})})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n=Yd(this.props);return(0,a.jsxs)(a.Fragment,{children:[this.renderContentReplacedOverlays(n),this.renderContentLoadingOverlays(n),this.renderContentClickOverlays(n),this.renderContentRecommendations(n),n[Gd.ErrorOverlay]&&(0,a.jsx)(ba,{}),this.renderContentCoveringOverlays(n),this.renderTemporaryInteractionOverlays(n),(0,Zd.A$)(this.props)&&(0,a.jsx)(is.q,{shouldShow:n[Gd.BottomControlsOverlay],isOffline:(0,Zd.Tm)(this.props),isAccessibilityLandmark:!(0,se.OI)(this.props.contentClassificationContext.overlayType),shouldPushVolumeToRight:(0,D.wk)(this.props).shiftVolumeToRightCorner,shouldDisplayPlayPauseAsOverlay:(0,D.wk)(this.props).displayPlayPauseAsOverlay}),this.renderContentGatingOverlays(n),this.renderMiniOverlay(n),(0,a.jsx)(d.c,{managerId:"player",shouldMount:(e=this.props,!(0,D.wk)(e).mini)})]})},n}(r.Component),tu=(0,o.Zz)((0,s.X)({name:"OverlayManager"}),(0,le.In)((function(e){var n=e.active;return{active:n}})),(0,re.vM)(),(0,w.VX)(),(0,u.IU)(),m.zX,(0,oe.Z)(),(0,M.dd)(),(0,T.cj)(),(0,te.c0)(),(0,de.AP)())(nu)},268675:function(e,n,t){"use strict";t.d(n,{A$:function(){return u},SU:function(){return m},Tm:function(){return p},bz:function(){return f},oZ:function(){return c},vg:function(){return v}});var i=t(485272),a=t(412670),r=t(196288),o=t(378328),s=t(347953),l=t(105774),d=t(583167),u=function(e){var n=e.adContext,t=e.playerContext,r=e.brandLiftContext,o=e.isSDAUpsellShowing,s=(0,d.wk)(e),u=s.forceControlVisibility;return!(s.mini||t.isPlayerCoreLoading||(0,l.k1)({restrictions:t.restrictions})||u===a.Ie.Hidden||n.adFormatMetadata&&(0,i.rW)(n.adFormatMetadata.adFormat)||r.isSurveyShowing||o)},c=function(e){var n=e.playerContext,t=(0,d.wk)(e),i=t.forceControlVisibility;return!(t.mini||n.isPlayerCoreLoading||(0,l.k1)({restrictions:n.restrictions})||i===a.Ie.Hidden)},p=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=t.playerState===r.p.ENDED,a=!t.hasPlayed;return!((0,o.cz)(e.adContext.videoAdMetadata)||!f(n.content,t.isOffline)||!a&&!i)},m=function(e){var n=e.active,t=e.videoPlaybackContext,i=e.uiContext,r=(0,d.wk)(e).forceControlVisibility;return!(!i.showControls||!n&&t.isPlaying&&r!==a.Ie.Showing)},v=function(e){return!e.uiContext.isCollectionSidebarShowing&&m(e)};function f(e,n){return(0,s.DG)(e)&&n}},168703:function(e,n,t){"use strict";t.d(n,{X:function(){return l},b:function(){return s}});var i=t(474848),a=t(959340),r=t(914421),o=(t(296540),(0,t(105146).k3)()),s=function(){return document.getElementById(o)},l=function(){return(0,i.jsx)(a.P,{position:r.yX.Absolute,attachTop:!0,attachRight:!0,margin:{top:"6rem",right:1},id:o,width:"37rem",style:{transform:"scale(1)"},"aria-label":"Chat Happening Now Overlay"})}},894814:function(e,n,t){"use strict";t.d(n,{rj:function(){return w}});var i=t(331635),a=t(474848),r=t(434848),o=t(371439),s=t(959340),l=t(312663),d=t(914421),u=t(588702),c=t(246942),p=t.n(c),m=t(296540),v=t(868238),f=t(478260),g=t(86043),h=t(890675),y=t(933781),k=t(947945),S=t(583167),_=t(759369),b=t(731667),C=t(947322),P=t(305528),E=t(744893),N=function(e){var n=null,t=e.isSmall?64:80,i=e.type===E.W.Icon&&e.icon===_.t.LogoTwitch;switch(e.type){case E.W.Icon:n=(0,a.jsx)(b.t,{asset:e.icon,type:b.H.Inherit,fill:!0});break;case E.W.Avatar:n=(0,a.jsx)(C.e,{src:e.src,alt:e.alt,size:t,userLogin:e.login});break;case E.W.Placeholder:n=(0,a.jsx)(P.Or,{height:t,width:t,overlay:!0});case E.W.Empty:}var r=80;return e.isSmall&&(r=i?40:64),(0,a.jsx)(s.P,{height:"".concat(r,"px"),children:n})},x=t(763696),A=t(938185);var w=(0,v.Zz)((0,y.cj)((function(e){return{mini:(0,S.wk)({playerPublicPropsContext:e}).mini}})),(0,k.c0)((function(e){return{videoContainer:e.videoContainer}})),(0,h.dd)((function(e){return{error:e.error}})))((function(e){var n=function(e){var n=(0,m.useState)(((0,A.P)(e.videoContainer).width||0)<580),t=n[0],i=n[1];return{isSmall:t,onResize:function(e){i(e<580)}}}({videoContainer:e.videoContainer}),t=n.onResize,c=n.isSmall,v=function(){var n=e.text;return(0,a.jsx)(s.P,{margin:{top:2},textAlign:d.nO.Center,children:"string"==typeof n?h(n,0):n.map(h)})},h=function(e,n){return(0,a.jsx)(l.N,{fontSize:c?d.Z4.Size6:d.Z4.Size4,bold:!0,lineHeight:u.aK.Heading,color:d.Q1.Overlay,className:"content-overlay-gate__allow-pointers",children:e},"".concat(e,"-").concat(n))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.$,{onResize:t}),(0,a.jsx)(x.FT,{className:"content-overlay-gate",type:x.NL.Fullscreen,transparency:x.xL.Transparency0,children:e.mini?(0,a.jsxs)(a.Fragment,{children:[e.error?(0,a.jsx)(r.m,{height:60,width:60}):(0,a.jsx)(o.X,{size:80}),(0,a.jsx)(s.P,{padding:{top:1},children:(0,a.jsx)(l.N,{fontSize:d.Z4.Size4,bold:!0,lineHeight:u.aK.Heading,color:d.Q1.Overlay,children:e.error?(0,f.hw)("Error #{error}",{error:e.error.toString()},"ContentOverlayGate"):(0,f.hw)("Content Restricted","ContentOverlayGate")})})]}):(0,a.jsxs)(s.P,{className:p()("content-overlay-gate__content",{"content-overlay-gate__content--full":c}),display:d.nl.Flex,flexDirection:d.bo.Column,alignItems:d.k2.Center,"data-a-target":"player-overlay-content-gate",padding:c?{x:1}:void 0,position:d.yX.Relative,role:"dialog","aria-labelledby":"content-overlay-gate-text",children:[(0,a.jsx)(N,(0,i.__assign)({},e.iconProps,{isSmall:c})),v(),e.children&&(0,a.jsx)(s.P,{margin:{top:c?2:3},className:"content-overlay-gate__allow-pointers",children:e.children(c)})]})})]})}))},744893:function(e,n,t){"use strict";var i;t.d(n,{W:function(){return i}}),function(e){e.Empty="Empty",e.Icon="Icon",e.Avatar="Avatar",e.Placeholder="Placeholder"}(i||(i={}))},763696:function(e,n,t){"use strict";t.d(n,{FT:function(){return c},NL:function(){return a},xL:function(){return i}});var i,a,r=t(331635),o=t(474848),s=t(914421),l=t(959340),d=t(246942),u=t.n(d);t(296540);!function(e){e[e.Transparency0=0]="Transparency0",e[e.Transparency1=1]="Transparency1",e[e.Transparency3=3]="Transparency3",e[e.Transparency5=5]="Transparency5",e[e.Transparency6=6]="Transparency6",e[e.Transparency10=10]="Transparency10"}(i||(i={})),function(e){e.Center="center",e.Fullscreen="fullscreen",e.Sidebar="sidebar"}(a||(a={}));var c=function(e){var n,t,d=u()("player-overlay-background",(0,r.__assign)({},[i.Transparency0,i.Transparency1,i.Transparency3,i.Transparency5,i.Transparency6].reduce((function(n,t){var i;return(0,r.__assign)((0,r.__assign)({},n),((i={})["player-overlay-background--darkness-".concat(t)]=e.transparency===t,i))}),{})),e.className),c={};switch(e.type){case a.Fullscreen:c={flexDirection:s.bo.Column,justifyContent:s.A9.Center,alignItems:s.k2.Center,color:s.Q1.Overlay,attachLeft:!0,display:s.nl.Flex};break;case a.Center:c={padding:2,width:null!==(n=e.customWidth)&&void 0!==n?n:"37rem"};break;case a.Sidebar:c={padding:2,width:null!==(t=e.customWidth)&&void 0!==t?t:"32rem"}}return(0,o.jsx)(l.P,(0,r.__assign)({className:d,position:s.yX.Absolute,attachTop:!0,attachRight:!0,attachBottom:!0},c,{children:e.children}))}},33381:function(e,n,t){"use strict";t.d(n,{MA:function(){return F},QH:function(){return r},YU:function(){return D},aX:function(){return w},bb:function(){return o},gw:function(){return s},l1:function(){return l},lK:function(){return O},nZ:function(){return b},p$:function(){return T},pi:function(){return A},wv:function(){return I},yi:function(){return d}});var i=t(288480),a=t(793122),r=3e3;function o(e){var n=e.activationConfig.slot.match(/\d+/)||[];return parseInt(n[0],10)}function s(e){var n,t=((n={})[i.Z1.Overlay]=[],n[i.Z1.Component]=[],n[i.Z1.Panel]=[],n[i.Z1.Hidden]=[],n);return e.length?(e.slice().sort((function(e,n){return o(e)-o(n)})).forEach((function(e){var n=e.activationConfig.anchor;Object.keys(i.Z1).some((function(e){return i.Z1[e]===n}))&&t[n].push(e)})),t):t}function l(e){return e.activationConfig.anchor===i.Z1.Overlay}function d(e){return e.activationConfig.anchor===i.Z1.Component}var u=150,c=175,p=75,m=75,v=1,f=30,g=70,h=100,y=75+v+v,k=1e4;function S(e,n,t,i,a){var r={height:n,width:t},o={height:Math.max(n,u),width:Math.max(t,c)},s={height:e?o.height:r.height,width:e?o.width:r.width},l=s.height+f;return{offset:Math.floor(0-l/2),canRender:o.height<=i&&o.height>p&&(o.width<=a&&o.width>=m),extensionSize:r,popoverContentSize:s}}var _={offset:0,shouldShow:!1,extensionSize:{height:0,width:0},popoverContentSize:{height:0,width:0},zoom:1};function b(e,n,t,a){if(void 0===n.videoHeight||void 0===n.videoWidth||null===t)return _;var r=2*(a?h:g)+2*v+f,o=n.videoHeight-r,s=n.videoWidth-y;if(t.activationConfig.anchor===i.Z1.Overlay){var l=S(e,u=Math.min(270,o),c=Math.min(260,s),o,s);return{offset:l.offset,shouldShow:l.canRender,extensionSize:N=l.extensionSize,popoverContentSize:l.popoverContentSize,zoom:1}}if(d(t)&&void 0!==t.extension.views.component){var u,c,p=t.extension.views.component,m=p.aspectRatioX,b=p.aspectRatioY,C=p.targetHeight,P=p.autoScale,E=p.scalePixels;(c=(u=o*(C/k))*m/b)>s&&(u=(c=s)*b/m);var N,x=S(e,u,c,o,s);return{offset:x.offset,shouldShow:x.canRender,extensionSize:N=x.extensionSize,popoverContentSize:x.popoverContentSize,zoom:P&&E>0?N.width/E:1}}return _}var C=142,P=80,E=59,N=.25,x={shouldShow:!1,height:0,xOffset:0,zoom:1};function A(e,n){if(!e.videoHeight)return x;var t=n?h:g,i=e.videoHeight-2*t,a=e.videoHeight*N,r=Math.min(a,C);return r<P||r>i?x:{shouldShow:!0,height:r,xOffset:r*E/C-E,zoom:r/C}}function w(e){var n={identityLinkedStatus:a.Gy.UNLINKED,role:a.Xh.VIEWER};try{var t=JSON.parse(atob(e.split(".")[1]));return{identityLinkedStatus:t&&t.user_id?a.Gy.LINKED:a.Gy.UNLINKED,role:t&&t.role===a.Xh.BROADCASTER?a.Xh.BROADCASTER:a.Xh.VIEWER}}catch(e){return n}}function T(e){return w(e.extension.token).role===a.Xh.BROADCASTER}var I=function(e){return"".concat(e.id,"-").concat(e.extension.version)},D=function(e,n){return n[I(e)]||{}},F=function(e,n){var t=n[I(e)],a=e.extension.state===i.HY.Released,r=t&&t.unreleasedAccepted;return!(!a&&!r)},O=function(e){var n=e.extension,t=n.id,i=n.version;return"https://twitch.tv/ext/".concat(t,"-").concat(i)}},348268:function(e,n,t){"use strict";t.d(n,{p8:function(){return m}});var i=t(474848),a=t(486489),r=t(959340),o=t(914421),s=t(312663),l=(t(296540),t(868238)),d=t(478260),u=t(805450),c=t(890675),p=t(763696),m=(0,l.Zz)((0,u.X)({name:"LoadingOverlay"}),(0,c.dd)((function(e){return{isNetworkOffline:e.isNetworkOffline}})))((function(e){var n=e.isNetworkOffline;return(0,i.jsxs)(p.FT,{transparency:p.xL.Transparency10,type:p.NL.Fullscreen,children:[(0,i.jsx)(a.k,{inheritColor:!0,size:a.H.Large}),n&&(0,i.jsx)(r.P,{className:"loading-overlay__user-offline",margin:{top:2},textAlign:o.nO.Center,children:(0,i.jsx)(s.N,{bold:!0,color:o.Q1.Overlay,type:"h4",children:(0,d.hw)("You seem to be offline. Please wait while we try to reconnect.","VideoPlayerLoadingOverlay")})})]})}))},71670:function(e,n,t){"use strict";t.d(n,{q:function(){return Ya}});var i=t(331635),a=t(474848),r=t(67813),o=t(723319),s=t(959340),l=t(914421),d=t(298830),u=t(296540),c=t(868238),p=t(478260),m=t(542685),v=t(779075),f=t(805450),g=t(217600),h=t(759369),y=t(882197),k=t(726817),S=t(86011),_=t(324602),b=t(973373),C=t(656910),P=t(246942),E=t.n(P),N=t(539896),x=t(51285),A=t(86043),w=t(959385),T=t(928778),I=t(161480),D=t(890675),F=t(933781),O=t(420613),R=t(947945),V=t(359630),M=t(347953),L=t(583167),j=t(938185),B=t(169999),U=t(64164),q=t.n(U),G=t(702671),z=t(267924),H="https://static-cdn.jtvnw.net/ttv-static/404_boxart-285x380.jpg";function W(e){var n=e.node;return n&&n.moments&&n.moments.edges&&n.moments.edges}function K(e){return e.description||""}function Z(e){var n=W(e);return n&&n.length||0}function Q(e,n,t){if(e.type===z.cD1.GAME_CHANGE){var i=e.durationMilliseconds/1e3,a=e.positionMilliseconds/1e3;if(0===i)return"";if(n){var r=Math.round(a+i-t),o=(0,G.a3)(r);return(0,p.hw)("{time} left",{time:o},"ChapterSelectButton")}return(0,G.a3)(i)}return e.subDescription||""}function Y(e){return e.thumbnailURL?e.thumbnailURL:e.details.game&&e.details.game&&e.details.game.boxArtURL?e.details.game.boxArtURL:H}var X="chapter-select-popover",$=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={currentTime:0,open:!1,submenu:null,submenuTitle:null,playerHeight:(0,j.P)(n.props.videoContainer).height},n.toggleMenu=function(){n.setState((function(e){return{open:!e.open}}))},n.closeMenu=function(){n.setState({open:!1,submenu:null,submenuTitle:null})},n.closeSubmenu=function(){n.setState({submenu:null,submenuTitle:null})},n.selectChapter=function(e){var t=n.edges();if(t){var i=t[e],a=W(i);a&&a.length?n.setState({submenu:a,submenuTitle:K(i.node)}):(n.props.seek(i.node.positionMilliseconds/1e3),n.closeMenu())}},n.setCurrentTime=function(e){n.setState({currentTime:e})},n.recalculatePlayerHeight=function(){n.setState({playerHeight:(0,j.P)(n.props.videoContainer).height})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.edges();return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.$,{onResize:this.recalculatePlayerHeight}),(0,a.jsxs)(N.V,{onClickOut:this.closeMenu,children:[this.renderBalloon(e),(0,a.jsx)(B.g,{buttonIcon:h.t.ViewerList,label:(0,p.hw)("Chapter Select","VideoPlayerChapterSelectButton>"),onClick:this.toggleMenu,tooltipPlacement:"top-end",disabled:this.props.error})]})]}):null},n.prototype.edges=function(){var e,n=this.state.submenu||(e=this.props.data)&&e.video&&e.video.moments&&e.video.moments.edges;return n&&n.length?n:null},n.prototype.renderBalloon=function(e){var n=this,t=E()("chapter-select-button__chapters"),r=e.map((function(t,a){return(0,u.createElement)(x.$,(0,i.__assign)({},function(e,n,t){var i=function(e,n,t){return e.node&&n&&n.node?t>=e.node.positionMilliseconds/1e3&&t<n.node.positionMilliseconds/1e3:!!e.node&&t>=e.node.positionMilliseconds/1e3}(e,n,t);return{active:i,count:Z(e),description:Q(e.node,i,t),imageURL:Y(e.node),text:K(e.node)}}(t,e[a+1],n.state.currentTime),{index:a,key:(r=t.node,r.positionMilliseconds/1e3),onClick:n.selectChapter}));var r}));return(0,a.jsx)(y.e,{theme:"dark",children:(0,a.jsx)(s.P,{className:t,position:l.yX.Absolute,children:(0,a.jsxs)(k.A,{direction:S.j.TopLeft,maxHeight:"calc(".concat(this.state.playerHeight,"px - 10rem)"),offsetY:"5rem",popoverId:X,size:_.$V.Medium,show:this.state.open,children:[this.renderBalloonHeader(),(0,a.jsx)(w.Vq,{children:(0,a.jsxs)(b.e,{popoverId:X,children:[(0,a.jsx)(I.j,{onTimeChanged:this.setCurrentTime}),r]})})]})})})},n.prototype.renderBalloonHeader=function(){if(!this.state.submenu||!this.state.submenuTitle)return null;var e=(0,p.hw)("Back","ChapterSelectButton");return(0,a.jsx)(C.D,{popoverId:X,title:this.state.submenuTitle,buttonLeftPrimary:{"aria-label":e,icon:h.t.GlyphArrLeft,onClick:this.closeSubmenu,title:e},buttonRightPrimary:{onClick:this.closeMenu,"aria-label":(0,p.hw)("Close","ChapterSelectButton")}})},n}(u.Component);var J=(0,c.Zz)((0,R.c0)((function(e){return{videoContainer:e.videoContainer}})),(0,D.dd)((function(e){return{error:!!e.error}})),(0,F.cj)((function(e){return{vodID:(0,M.hq)(e.content),content:e.content,includePrivateVODs:(0,L.wk)({playerPublicPropsContext:e}).includePrivateVODs||!1}})),(0,O.o1)(),(0,T._v)(q(),{skip:function(e){return!e.vodID},options:function(e){return{variables:{videoID:e.vodID,includePrivate:e.includePrivateVODs||!1}}}}),(0,V.AP)((function(e){return{seek:e.seek}})))($);var ee=t(106462),ne=t(552400),te=t(953970),ie=function(e){switch(e){case"connected":return ee.W.Connected;case"connecting":return ee.W.Connecting;default:return ee.W.Available}},ae=Object.freeze(["unavailable","available","connecting","connected"]);var re=(0,c.Zz)((0,te.vM)((function(e){return{castingState:e.castingState,startCast:e.startCast,stopCast:e.stopCast}})),(0,F.cj)((function(e){return{disableCasting:!!(0,L.wk)({playerPublicPropsContext:e}).disableCasting}})))((function(e){var n,t=e.castingState,i=e.disableCasting,r=e.startCast,o=e.stopCast;if(i||"unavailable"===t||!ae.includes(t))return null;var s="";return"available"===t?(n=r,s=(0,p.hw)("Start Casting","ChromeCastButton")):"connected"===t||"connecting"===t?(n=o,s=(0,p.hw)("Stop Casting","ChromeCastButton")):n=function(){},(0,a.jsx)(ne.m,{label:s,options:{placement:"top-end"},children:(0,a.jsx)(ee.G,{"aria-label":s,onClick:n,status:ie(t),overlay:!0})})})),oe=t(719774),se=t(724422),le=t(358073),de=t(281976),ue=t(815759),ce=t(372512),pe=function(e){var n=e.playerEvents,t=(0,u.useContext)(V.wL).isPlaying,i=(0,u.useContext)(D.$g).mediaPlayerInstance,a=(0,u.useState)(0),r=a[0],o=a[1];(0,u.useEffect)((function(){var e;t&&r<=0&&o(null!==(e=null==i?void 0:i.getDuration())&&void 0!==e?e:0)}),[t,r,i]);var s=(0,u.useCallback)((function(e){e>0&&o(e)}),[]);return(0,u.useEffect)((function(){return n.addEventListener(ce.a.DURATION_CHANGED,s),function(){n.removeEventListener(ce.a.DURATION_CHANGED,s)}}),[s,n]),r},me=t(393942),ve=t(696830),fe=(0,c.Zz)((0,D.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,oe.X)())((function(e){var n=function(e){var n=pe(e),t=(0,u.useState)(0),i=t[0],a=t[1],r=(0,u.useState)(!1),o=r[0],s=r[1],l=(0,u.useCallback)((function(e){a(e)}),[]),d=(0,u.useCallback)((function(e){a(e)}),[]),c=(0,u.useCallback)((function(e){s(e)}),[]),p=(0,u.useCallback)((function(n){var t;null===(t=e.mediaPlayerInstance)||void 0===t||t.seekTo(n)}),[e.mediaPlayerInstance]);return{clipLength:n,thumbLocation:Math.min(Math.max(i,e.startOffset),e.endOffset),handleThumbLocationChanged:p,isHovering:o,handleMouseOverChange:c,handleSeekComplete:l,handleTimeChanged:d}}(e),t=n.clipLength,i=n.thumbLocation,r=n.handleThumbLocationChanged,o=n.isHovering,l=n.handleMouseOverChange,d=n.handleSeekComplete,c=n.handleTimeChanged,p=[{type:ve.b.Fixed,id:"selected-segment",start:e.startOffset,end:e.endOffset,color:se.K["color-yellow"]}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.j,{onTimeChanged:c}),(0,a.jsx)(le.Nb,{onSeekComplete:d}),(0,a.jsxs)(s.P,{display:"flex",flexDirection:"column",alignItems:"stretch",children:[(0,a.jsx)(ue.l,{currentTimeInSeconds:i,durationInSeconds:t,show:o}),(0,a.jsx)(de.e,{currentTimeInSeconds:i,durationInSeconds:t}),(0,a.jsx)(me.y,{seekbarMin:0,seekbarMax:t,thumbLocation:i,segments:p,onThumbLocationChange:r,minAllowedThumbLocation:e.startOffset,maxAllowedThumbLocation:e.endOffset,alwaysShowThumb:!0,onMouseOverChange:l})]})]})}));var ge=t(446416),he=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={thumbLocation:0},n.handleTimeChanged=function(e){n.setState({thumbLocation:e})},n.handleSeekComplete=function(e){n.setState({thumbLocation:e})},n.handleThumbLocationChanged=function(e){var t=n.props.mediaPlayerInstance;t&&t.seekTo(e+n.props.startOffset)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.startOffset,t=e.endOffset,i=Math.min(Math.max(this.state.thumbLocation,n),t);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.j,{onTimeChanged:this.handleTimeChanged}),(0,a.jsx)(le.Nb,{onSeekComplete:this.handleSeekComplete}),(0,a.jsx)(ge.P,{onThumbLocationChanged:this.handleThumbLocationChanged,thumbLocation:i-n,clipLength:t-n})]})},n}(u.Component),ye=(0,c.Zz)((0,D.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,oe.X)())(he);var ke=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={thumbLocation:0},n.handleTimeChanged=function(e){n.setState({thumbLocation:e})},n.handleThumbLocationChanged=function(e){var t=n.props.mediaPlayerInstance;t&&t.seekTo(e),n.setState({thumbLocation:e})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.clipLength,n=this.state.thumbLocation;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.j,{onTimeChanged:this.handleTimeChanged}),(0,a.jsx)(ge.P,{onThumbLocationChanged:this.handleThumbLocationChanged,thumbLocation:n,clipLength:e})]})},n}(u.Component),Se=(0,D.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}}))(ke);var _e=(0,c.Zz)((0,F.cj)((function(e){var n=(0,L.Rh)({playerPublicPropsContext:e});return{clipContent:(0,M.Jn)(n)?n:null}})),(0,oe.X)())((function(e){var n=function(e){var n=pe(e),t=e.clipContent&&(0,M.N1)(e.clipContent);return{editingSegment:null==t?void 0:t[0],isPostEdit:!(!e.clipContent||!(0,M.J8)(e.clipContent)),clipLength:n}}(e),t=n.editingSegment,r=n.isPostEdit,o=n.clipLength;return e.clipContent?t?r?(0,a.jsx)(ye,(0,i.__assign)({},t)):(0,a.jsx)(fe,(0,i.__assign)({},t)):o?(0,a.jsx)(Se,{clipLength:o}):null:null}));var be=t(491798),Ce=t(441613),Pe=(0,c.Zz)((0,R.c0)((function(e){return{toggleClipSharing:e.toggleClipSharing}})),(0,F.cj)((function(e){return{isClipEmbed:(0,Ce.O)(e)===be.C.ClipsEmbed}})))((function(e){var n=e.isClipEmbed,t=e.toggleClipSharing;return n?(0,a.jsx)(B.g,{onClick:t,buttonIcon:h.t.Share,tooltipPlacement:"top-end",label:(0,p.hw)("Share","ClipShareButton")}):null}));var Ee=t(65538),Ne=t(706411),xe=t.n(Ne),Ae=t(415044),we=t(312524),Te=t(471872),Ie=t(337930),De=t(131883),Fe=t(838483),Oe=t(893375),Re=t(235366),Ve=t(158508),Me=t(551283),Le=t(954351),je=t(860203),Be=t(378328),Ue=t(49667),qe=t.n(Ue),Ge=t(122982),ze=t.n(Ge),He=t(911456);function We(e){var n=e.content;return(0,M.DG)(n)?n.channelLogin:null}function Ke(e){return!e||!p.Zn.get("highwind_no_clips_channels",[]).includes(e)}function Ze(e){return e.isLoggedIn&&!e.disableClipping&&(function(e){var n=e.channel_data;if(void 0===n||n.loading||!n.userByAttribute||!n.userByAttribute.stream)return!1;var t=n.userByAttribute.stream,i=t.id,a=t.isEncrypted,r=Boolean(i),o=We(e);return r&&Ke(o)&&!a}(e)||function(e){return!(!(0,M.hq)(e.content)&&!(0,M.dB)(e.content))&&Ke(We(e))}(e))&&(t=(n=e).content,i=n.isPlaying,a=n.hasPlayed,r=(0,M.DG)(t)&&!i,a&&!r)&&function(e){var n=e.isOffline,t=e.content,i=We(e),a=(0,M.hq)(t)||(0,M.dB)(e.content),r=!!i;return!(r&&n||!a&&!r)}(e)&&function(e){return!e.isVideoAdShowing}(e);var n,t,i,a,r}var Qe="alt+x";var Ye=(0,T._v)(ze(),{options:function(e){return{variables:{input:{login:We(e),ownsVideoID:(0,M.hq)(e.content)||(0,M.dB)(e.content)}}}},skip:function(e){return!e.isLoggedIn||!We(e)&&!((0,M.hq)(e.content)||(0,M.dB)(e.content))},name:"channel_data"}),Xe=(0,T._v)(qe(),{options:function(e){var n,t;return{variables:{broadcasterID:(0,M.hq)(e.content)||(0,M.dB)(e.content)?null:null===(t=null===(n=e.channel_data)||void 0===n?void 0:n.userByAttribute)||void 0===t?void 0:t.id,vodID:(0,M.hq)(e.content)||(0,M.dB)(e.content)}}},skip:function(e){var n,t;return!e.isLoggedIn||!(null===(t=null===(n=e.channel_data)||void 0===n?void 0:n.userByAttribute)||void 0===t?void 0:t.id)&&!((0,M.hq)(e.content)||(0,M.dB)(e.content))||!(0,Ie.fX)("can_create_clip_darklaunch")||!Ze(e)},name:"clip_creation_perms"}),$e=(0,c.Zz)((0,Ae.Ng)((function(e){return{isLoggedIn:(0,De.M3)(e)}})),(0,D.dd)((function(e){var n=e.mediaPlayerInstance,t=e.hasPlayed,i=e.isOffline;return{mediaPlayerInstance:n,hasPlayed:t,isOffline:i}})),(0,F.cj)((function(e){return{content:e.content,disableClipping:(0,L.wk)({playerPublicPropsContext:e}).disableClipping}})),(0,V.AP)((function(e){var n=e.isPlaying,t=e.muted,i=e.volume,a=e.setMuted;return{isPlaying:n,muted:t,volume:i,setMuted:a}})),(0,Le.VX)((function(e){return{isVideoAdShowing:(0,Be.cz)(e.videoAdMetadata)}})),Ye,Xe,(0,O.o1)())((function(e){var n,t,i,r,o,l,d,c,m,v,f,g,h,y,k=null===(n=e.clip_creation_perms)||void 0===n?void 0:n.canCreateClip,S=u.useState(0),_=S[0],b=S[1],C="variant"===(0,Te.r)("lychee_durian_cherry"),P=(0,Ve.Q)().track,E=(0,Ae.d4)(De.wz),N=u.useContext(Fe.$c),x=N.openPopup,A=N.isOpened,w=u.useRef(e.muted),T=(null==E?void 0:E.id)===(null===(i=null===(t=e.channel_data)||void 0===t?void 0:t.userByAttribute)||void 0===i?void 0:i.id),I=function(e){var n=e.streamOffset;b(n)},D=function(){if(!k||k.isAllowed)return!0;return T?(0,Re.L$)(k.errorCode):(0,Re.p6)(k.errorCode)}(),F=(0,we.d)(null)===we.E.XS,O=!(null==k?void 0:k.isAllowed)||A,R=(0,Re.Cv)(null==k?void 0:k.errorCode,null==k?void 0:k.requiredFollowingLengthMinutes);(0,He.W)(null==E?void 0:E.id,null===(o=null===(r=e.channel_data)||void 0===r?void 0:r.userByAttribute)||void 0===o?void 0:o.id,(function(){var n;null===(n=e.clip_creation_perms)||void 0===n||n.refetch()}));var V=(null===(c=null===(d=null===(l=e.channel_data)||void 0===l?void 0:l.userByAttribute)||void 0===d?void 0:d.stream)||void 0===c?void 0:c.id)||null,L=(null===(v=null===(m=e.channel_data)||void 0===m?void 0:m.userByAttribute)||void 0===v?void 0:v.id)||null,j=null!==(h=null===(g=null===(f=e.channel_data)||void 0===f?void 0:f.userByAttribute)||void 0===g?void 0:g.login)&&void 0!==h?h:"",U=e.content.type===je.FC.DVRVOD?(0,M.dB)(e.content)||void 0:(0,M.hq)(e.content)||void 0,q=e.mediaPlayerInstance,G=(0,M.DG)(e.content)?_:null!==(y=null==q?void 0:q.getPosition())&&void 0!==y?y:0,z=function(){if(w.current=e.muted,(0,Oe.n)(window.location,j,U)&&C&&x)return P({action:Me.U.CreateClip,broadcastID:V,channelID:L,vodID:U,rawMediaID:"",pip:!0}),void x({broadcastID:V,broadcasterLogin:j,offsetSeconds:Math.floor(G),vodID:null!=U?U:null,initialVolume:w.current?0:e.volume,onMediaLoad:function(){return e.setMuted(!0)},onClose:function(){var n;x(null),e.setMuted(null!==(n=w.current)&&void 0!==n&&n)}});void 0!==q&&L&&((0,Re.NC)({broadcastID:null!=V?V:void 0,broadcasterLogin:j,offsetSeconds:Math.floor(G),vodID:U}),P({action:Me.U.CreateClip,broadcastID:V,channelID:L,vodID:U,rawMediaID:""}),e.track("player_click_clip"))};return u.useEffect((function(){var n;if(!k||k.isAllowed)return xe().bind(Qe,z),null===(n=e.mediaPlayerInstance)||void 0===n||n.addEventListener(ce.a.SEGMENT_METADATA,I),function(){var n;xe().unbind(Qe),null===(n=e.mediaPlayerInstance)||void 0===n||n.removeEventListener(ce.a.SEGMENT_METADATA,I)}})),(0,a.jsx)(a.Fragment,{children:Ze(e)&&D&&(0,a.jsx)(s.P,{margin:{x:.5},style:{opacity:O?.5:1},children:(0,a.jsx)(B.g,{tooltipPlacement:"top",label:R,buttonIcon:Ee.y,onClick:z,disabledInteraction:O,children:!F&&(0,p.hw)("Clip","ClipsButtonComponent")})})})}));var Je=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(){var e=n.props,t=e.captionsEnabled;(0,e.setClosedCaptionsEnabled)(!t)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){xe().bind("c",this.onClick)},n.prototype.componentWillUnmount=function(){xe().unbind("c")},n.prototype.render=function(){return this.props.captionsAvailable?(0,a.jsx)(B.g,{tooltipPlacement:"top-end",label:(0,p.hw)("Captions (c)","ClosedCaptionsButtonComponent"),buttonIcon:this.props.captionsEnabled?h.t.CC:h.t.CCOff,onClick:this.onClick}):null},n}(u.Component),en=(0,c.Zz)((0,R.c0)((function(e){var n=e.captions,t=e.setClosedCaptionsEnabled;return{captionsAvailable:n.available,captionsEnabled:n.enabled,setClosedCaptionsEnabled:t}})),(0,O.o1)())(Je);var nn=t(783321),tn=t(290942),an=t(183175),rn=t(125206),on=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onBufferUpdate=function(){var e=n.props.mediaPlayerInstance;if(e){var t=e.getBufferDuration();n.props.onBufferUpdate(t)}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(ce.a.BUFFER_UPDATE,this.onBufferUpdate)},n.prototype.render=function(){return null},n}(u.Component),sn=(0,c.Zz)((0,D.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,oe.X)())(on);var ln=t(853452),dn=t.n(ln),un=t(599534),cn=t(663953),pn=t(97774),mn=t(312663),vn=t(705980);var fn=t(88609);function gn(){return(0,p.hw)("LIVE","DVRSeekbarTimeLabels")}var hn=function(e){var n=e.currentTimeInSeconds,t=e.durationInSeconds,r=(0,rn.sL)(),o=r.playbackID,d=r.content,u=r.setPlayerContent,c=(0,fn.X)(n);if(!d||!(0,M.lp)(d))return null;var m=function(){var e;e={playbackID:o,currOffset:n,uptime:t},p.E5.track("dvr_skip_to_live",{dvr_current_seconds_offset:e.currOffset,playback_id:e.playbackID,stream_runtime_in_seconds:e.uptime}),u((0,i.__assign)((0,i.__assign)({},d),{type:je.FC.DVRLive}))},v=(0,a.jsx)(cn.qd,{label:gn()});return d.type===je.FC.DVRVOD&&(v=(0,a.jsx)(ne.m,{label:(0,p.hw)("Skip to Live","DVRSeekbarTimeLabels"),options:{placement:"top"},children:(0,a.jsxs)(s.P,{padding:{x:.5},display:"flex",background:"float",alignItems:"center",borderRadius:pn.Z.Medium,tabIndex:0,cursor:"pointer",onKeyUp:function(e){"Enter"===e.key&&m()},onClick:m,children:[(0,a.jsx)(mn.N,{bold:!0,children:gn()})," ",(0,a.jsx)(vn.E,{size:18})]})})),(0,a.jsxs)(s.P,{display:l.nl.Flex,justifyContent:l.A9.Between,style:{userSelect:"none"},children:[(0,a.jsx)(mn.N,{color:l.Q1.Overlay,children:c}),v]})},yn=t(116549),kn=function(e){var n=(0,u.useState)(0),t=n[0],l=n[1],d=(0,u.useState)(!1),c=d[0],p=d[1],m=(0,u.useRef)();(0,u.useEffect)((function(){return clearTimeout(m.current)}));var v,f=(0,i.__spreadArray)([(v=e.bufferDuration,{type:ve.b.AfterThumb,id:"buffer-segment",color:"hsla(0, 0%, 100%, 0.85)",length:v}),{type:ve.b.FillToThumb,id:"watched-segment",color:se.K["color-twitch-purple-10"]}],e.mutedSegments.map((function(e,n){var t=e.duration,i=e.offset;return{type:ve.b.Fixed,id:"muted-segment-".concat(n),start:i,end:i+t,color:"rgba(212, 73, 73, 0.5)"}})),!0),g=e.vodLength;return(0,a.jsxs)(s.P,{display:"flex",flexDirection:"column",alignItems:"stretch",children:[(0,a.jsx)(r.e,{type:o.ES.Fade,duration:o.Cf.Short,show:c,children:(0,a.jsx)(yn.$c,{currentTimeInSeconds:t,durationInSeconds:g})}),(0,a.jsx)(hn,{currentTimeInSeconds:e.thumbLocation,durationInSeconds:g}),(0,a.jsx)(me.y,{seekbarMin:0,seekbarMax:g,thumbLocation:e.thumbLocation,onThumbLocationChange:e.onThumbLocationChanged,onThumbDragStart:e.onThumbDragStart,onMouseOverLocationChange:function(e){m.current&&clearTimeout(m.current),m.current=setTimeout((function(){t!==e&&l(e)}),5)},onMouseOverChange:function(e){c!==e&&p(e)},segments:f})]})};var Sn=function(){var e,n=(0,u.useContext)(D.$g).mediaPlayerInstance,t=(0,u.useContext)(F.kl).content,i=(0,u.useContext)(V.wL).dvrSeek,r=(0,u.useContext)(Le.jK).videoAdMetadata,o=(0,rn.sL)().playbackID,s=(0,an.M)(null!==(e=(0,M.hd)(t))&&void 0!==e?e:null).liveSince,l=(0,Be.cz)(r),d=(0,M.dB)(t),c=(0,u.useRef)(!1),m=(0,M.lp)(t),v=(0,u.useRef)();if((0,tn.Z)((0,M.hd)(t))!==(0,M.hd)(t)&&(v.current=void 0),!v.current){var f=n&&n.getSessionData();f&&f["BROADCAST-ID"]&&(v.current=f["BROADCAST-ID"])}var g=(0,nn.IT)(dn(),{variables:{vodID:d},skip:!d||!m}),h=g.data,y=g.loading,k=(0,u.useState)(0),S=k[0],_=k[1],b=(0,un.h)(null!=s?s:new Date,1e3),C=(0,u.useState)(b),P=C[0],E=C[1],N=(0,u.useRef)(null),x=(0,u.useRef)(!1);return m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(le.Nb,{onSeekComplete:function(e){(null==n?void 0:n.isPaused())&&E(e),x.current=!1}}),(0,a.jsx)(I.j,{onTimeChanged:function(e){var a=Math.floor(e);a!==N.current&&(N.current=a,n&&t.type===je.FC.DVRVOD&&n.getDuration()-e<1&&i(b,b),n&&!c.current&&_(n.getBufferDuration()),t.type===je.FC.DVRLive&&(a=b),x.current||E(a))}}),(0,a.jsx)(sn,{onBufferUpdate:function(e){c.current||_(e)}}),m&&h&&!y&&h.video&&!l&&(0,a.jsx)(kn,{thumbLocation:t.type===je.FC.DVRLive?b:P,bufferDuration:S,vodLength:b,mutedSegments:_n(h),onThumbDragStart:function(){c.current=!0,_(0)},onThumbLocationChanged:function(e){var n,a;t.type===je.FC.DVRLive&&b-e<V.UM||Math.abs(e-P)<1||(i(e,b),x.current=!0,a={broadcastID:null!==(n=v.current)&&void 0!==n?n:null,currOffset:P,playbackID:o,uptime:b,targetOffset:e,vodID:d},p.E5.track("dvr_seek",{broadcast_id:a.broadcastID,dvr_current_seconds_offset:a.currOffset,playback_id:a.playbackID,stream_runtime_in_seconds:a.uptime,target_offset:a.targetOffset,vod_id:a.vodID}),E(e))}})]}):null};function _n(e){var n,t,i;return(null===(i=null===(t=null===(n=e.video)||void 0===n?void 0:n.muteInfo)||void 0===t?void 0:t.mutedSegmentConnection)||void 0===i?void 0:i.nodes)||[]}var bn=t(735665),Cn=t(961183),Pn=t(98865),En=t(987476),Nn=t(793122),xn=t(33381),An=t(588702),wn=t(973474),Tn=t(368972),In=t(337051),Dn=t(14668),Fn=t(288480),On=t(120605),Rn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderExtensionMenuSections=function(){var e=n.props,t=e.installations,i=e.isOverlayVisible,r=e.toggleOverlayVisibility;return t.map((function(e,o){return(0,a.jsxs)("div",{children:[(0,a.jsxs)(s.P,{display:l.nl.Flex,padding:{x:.5},margin:{y:.5},children:[(0,a.jsx)(s.P,{display:l.nl.Flex,flexGrow:1,children:(0,a.jsx)(mn.N,{color:l.Q1.Overlay,fontSize:l.Z4.Size6,transform:An.Ms.Uppercase,bold:!0,children:e.extension.name})}),(0,a.jsx)(s.P,{display:l.nl.Flex,alignItems:l.k2.Center,margin:{left:2},flexShrink:0,attachRight:!0,children:(0,a.jsx)(wn.L,{className:"extensions-settings-menu__icon",src:e.extension.iconUrls.square24||e.extension.iconUrls.square100,alt:e.extension.name})})]}),(0,a.jsx)(Tn.i,{label:(0,p.hw)("Learn More","ExtensionSettingsMenuMainComponent"),linkTo:(0,xn.lK)(e),targetBlank:!0}),e.activationConfig.anchor===Fn.Z1.Overlay&&(0,a.jsx)(In.G,{type:In.M.Toggle,label:(0,p.hw)("Visible","ExtensionSettingsMenuMainComponent"),checked:i,onChange:r}),n.renderManageAccessOption(e),n.props.channelID&&(0,a.jsx)(On.Z,{hideIcon:!0,channelID:n.props.channelID,channelLogin:"",reportContext:{contentType:z.Cah.EXTENSION_REPORT,contentID:(0,xn.wv)(e),trackingContext:"extension_settings"},onClick:function(){return n.props.setMenuState({type:Nn.gu.NONE},e)},onModalClose:function(){n.props.setMenuState({type:Nn.gu.NONE},e)}}),o!==t.length-1&&(0,a.jsx)(Dn.m,{})]},e.extension.id)}))},n.renderManageAccessOption=function(e){var t=n.props,i=t.loginID,r=t.permissionsStates,o=e&&e.extension.requestIdentityLink,s=(0,xn.YU)(e,r).identityLinkedStatus===Nn.Gy.LINKED;return!(0,xn.p$)(e)&&!!i&&(o||s)?(0,a.jsx)(Tn.i,{label:(0,p.hw)("Manage Access","ExtensionSettingsMenuMainComponent"),onClick:n.openInstallationManageAccessMenu(e)}):null},n.openInstallationManageAccessMenu=function(e){return function(){n.props.setMenuState({type:Nn.gu.MANAGE_ACCESS},e)}},n.closeMenu=function(){(0,n.props.setMenuState)({type:Nn.gu.NONE})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsxs)(s.P,{children:[(0,a.jsx)(Tn.i,{label:(0,p.hw)("Close","ExtensionSettingsMenuMainComponent"),figure:{icon:h.t.Close},onClick:this.closeMenu}),(0,a.jsx)(Dn.m,{}),this.renderExtensionMenuSections()]})},n}(u.Component),Vn=t(564368),Mn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleToggleAccess=function(){var e=n.props,t=e.toggleAccess,i=e.installation;i&&t(i)},n.handleCancel=function(){var e=n.props,t=e.installation,i=e.setMenuState;t&&i({type:Nn.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.installation,t=e.permissionsStates;if(!n)return null;var i=(0,xn.YU)(n,t),r=i.identityLinkedStatus===Nn.Gy.LINKED||i.identityLinkedStatus===Nn.Gy.LINK_REQUESTED,o=i.identityLinkedStatus===Nn.Gy.LINK_REQUESTED||i.identityLinkedStatus===Nn.Gy.UNLINK_REQUESTED;return(0,a.jsxs)(s.P,{padding:{x:.5},margin:{y:.5},children:[(0,a.jsx)(s.P,{margin:{y:1},children:(0,a.jsx)(mn.N,{children:(0,p.hw)("You are granting this Developer access to your Twitch user ID.","ExtensionsMenuManageAccess")})}),(0,a.jsx)(s.P,{margin:{bottom:1},children:(0,a.jsx)(mn.N,{children:(0,p.hw)("Allow this extension to know your user ID on Twitch.","ExtensionsMenuManageAccess")})}),(0,a.jsx)(s.P,{margin:{y:1},children:(0,a.jsx)(Tn.i,{label:(0,p.hw)("Manage Permissions","ExtensionsMenuManageAccess"),figure:{icon:h.t.PermissionsRemove},linkTo:"https://www.twitch.tv/settings/connections",targetBlank:!0})}),(0,a.jsxs)(s.P,{fullWidth:!0,display:l.nl.Flex,flexDirection:l.bo.Row,flexWrap:l.I4.WrapReverse,justifyContent:l.A9.End,margin:{top:1},children:[(0,a.jsx)(s.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Vn.$n,{fullWidth:!0,size:Vn.Mp.Small,variant:Vn.VQ.Secondary,onClick:this.handleCancel,children:(0,p.hw)("Cancel","ExtensionsMenuManageAccess")})}),(0,a.jsx)(s.P,{flexGrow:1,children:(0,a.jsx)(Vn.$n,{fullWidth:!0,size:Vn.Mp.Small,variant:Vn.VQ.Primary,onClick:this.handleToggleAccess,disabled:o,children:r?(0,p.hw)("Revoke","ExtensionsMenuManageAccess"):(0,p.hw)("Grant","ExtensionsMenuManageAccess")})})]})]})},n}(u.Component),Ln=function(e){function n(n){var t=e.call(this,n)||this;return t.renderActiveMenu=function(){var e=t.props,n=e.channelID,i=e.loginID,r=e.allVideoExtensions,o=e.isOverlayVisible,s=e.permissionsStates,l=t.selectedInstallation;switch(t.props.playerMenuState.type){case Nn.gu.SETTINGS:return(0,a.jsx)(Rn,{channelID:n,loginID:i,installations:r,isOverlayVisible:o,toggleOverlayVisibility:t.toggleOverlayVisibility,permissionsStates:s,setMenuState:t.setMenuState});case Nn.gu.MANAGE_ACCESS:return l?(0,a.jsx)(Mn,{permissionsStates:s,installation:l,maxMenuHeight:t.state.maxMenuHeight,toggleAccess:t.toggleAccess,setMenuState:t.setMenuState}):null;case Nn.gu.NONE:default:return null}},t.handleClick=function(){t.isMenuOpen?t.closeSettingsMenu():t.openSettingsMenu()},t.openSettingsMenu=function(){t.props.setPlayerMenuState(Nn.gu.SETTINGS)},t.closeSettingsMenu=function(){t.props.setPlayerMenuState(Nn.gu.NONE)},t.getMaxMenuHeight=function(){var e=(0,j.P)(t.props.videoContainer).height;return e?.8*e:void 0},t.handleResize=function(){var e=t.getMaxMenuHeight();e&&t.setState({maxMenuHeight:e})},t.toggleOverlayVisibility=function(){t.props.setOverlayVisibility(!t.props.isOverlayVisible)},t.setMenuState=function(e,n){t.props.setPlayerMenuState(e.type,n)},t.toggleAccess=function(e){var n=t.props,i=n.setPermissionsState,a=n.trackExtensionEvent,r=n.permissionsStates,o=(0,xn.YU)(e,r),s=o.identityLinkedStatus,l=o.linkIdentity,d=o.unlinkIdentity,u=s===Nn.Gy.UNLINKED?Nn.Gy.LINK_REQUESTED:Nn.Gy.UNLINK_REQUESTED;i(e,{identityLinkedStatus:u}),u===Nn.Gy.LINK_REQUESTED&&l&&l(),u===Nn.Gy.UNLINK_REQUESTED&&d&&d(),a(En.X2.MenuOptionClick,u===Nn.Gy.UNLINK_REQUESTED?En.iN.Revoke:En.iN.Grant,En.si.ExtensionDockMenuOptionClick,e),t.setMenuState({type:Nn.gu.NONE},e)},t.state={maxMenuHeight:t.getMaxMenuHeight()},t}return(0,i.__extends)(n,e),Object.defineProperty(n.prototype,"isMenuOpen",{get:function(){return this.props.playerMenuState.type!==Nn.gu.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selectedInstallation",{get:function(){var e=this;return this.props.allVideoExtensions.find((function(n){return(0,xn.wv)(n)===e.props.playerMenuState.selectedInstallationID}))},enumerable:!1,configurable:!0}),n.prototype.render=function(){if(!this.props.enableExtensions||!this.props.allVideoExtensions.length)return null;var e=(0,bn.Ty)(),n=E()("settings-menu-button-component",{"settings-menu-button-component--forced-dark-theme":e}),t=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(N.V,{onClickOut:this.closeSettingsMenu,children:[(0,a.jsx)(s.P,{className:n,children:(0,a.jsx)(Cn.x,{direction:S.j.TopRight,show:this.isMenuOpen,offsetX:"50px",size:_.$V.Medium,maxHeight:this.state.maxMenuHeight?"".concat(this.state.maxMenuHeight,"px"):void 0,children:this.renderActiveMenu()})}),(0,a.jsx)(B.g,{"data-a-target":"extensions-settings-button",tooltipPlacement:"top-end",buttonIcon:h.t.Extensions,label:(0,p.hw)("Extension Settings","ExtensionsSettingsMenuButtonComponent"),onClick:this.handleClick})]}),this.isMenuOpen&&(0,a.jsx)(A.$,{onResize:this.handleResize})]});return e?(0,a.jsx)(y.e,{theme:"dark",children:t}):t},n}(u.Component),jn=(0,c.Zz)((0,Pn.A3)((function(e){var n=e.loginID,t=e.channelID,i=e.overlayExtension,a=e.allVideoExtensions,r=e.setOverlayVisibility,o=e.permissionsStates,s=e.isOverlayVisible,l=e.setPermissionsState,d=e.trackEvent,u=e.setPlayerMenuState,c=e.getPlayerMenuState;return{loginID:n,channelID:t,overlayExtension:i,allVideoExtensions:a,setOverlayVisibility:r,permissionsStates:o,isOverlayVisible:s,setPermissionsState:l,playerMenuState:c(),setPlayerMenuState:u,trackExtensionEvent:d}})),(0,R.c0)((function(e){return{videoContainer:e.videoContainer}})),(0,O.o1)(),(0,F.cj)((function(e){return{enableExtensions:(0,L.wk)({playerPublicPropsContext:e}).enableExtensions}})))(Ln);var Bn=t(586122),Un=t(171833),qn=t(658593),Gn=function(e){var n=e.isFullscreen?Un.R:qn.L,t=e.isFullscreen?e.onExitFullscreen:e.onEnterFullscreen,i=e.isFullscreen?(0,p.hw)("Exit Fullscreen (f)","FullscreenButtonPresentation"):(0,p.hw)("Fullscreen (f)","FullscreenButtonPresentation");return(0,a.jsx)(B.g,{"data-a-target":"player-fullscreen-button",buttonIcon:n,label:i,onClick:t,disabled:!e.canFullscreen,tooltipPlacement:"top-end"})},zn=function(e){function n(n){var t=e.call(this,n)||this;return t.canFullscreen=function(){var e;if(t.props.fullscreen.supported())return!0;var n=null===(e=t.props.videoContainer)||void 0===e?void 0:e.getElementsByTagName("video"),i=n&&n[0]?n[0]:null;return t.props.fullscreen.videoSupported(i)},t.onEnterFullscreen=function(){t.props.enterFullscreen()},t.onExitFullscreen=function(){t.props.exitFullscreen()},t.onInitialized=function(){t.state.canFullscreen||t.setState({canFullscreen:t.canFullscreen()})},t.state={canFullscreen:t.canFullscreen()},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(ce.a.INITIALIZED,this.onInitialized)},n.prototype.render=function(){return this.props.fullscreenDisabled?null:(0,a.jsx)(Gn,{canFullscreen:this.state.canFullscreen,isFullscreen:this.props.isFullscreen,onEnterFullscreen:this.onEnterFullscreen,onExitFullscreen:this.onExitFullscreen})},n}(u.Component);var Hn=(0,c.Zz)((0,R.c0)((function(e){return{enterFullscreen:e.enterFullscreen,exitFullscreen:e.exitFullscreen,isFullscreen:e.isFullscreen,videoContainer:e.videoContainer}})),(0,F.cj)((function(e){return{fullscreenDisabled:(0,L.wk)({playerPublicPropsContext:e}).disableFullscreen}})),(0,oe.X)(),(0,Bn.W)(),(0,O.o1)())(zn),Wn=t(445373),Kn=t(447135),Zn=t.n(Kn);var Qn=(0,c.Zz)((0,F.cj)((function(e){return{content:(0,L.Rh)({playerPublicPropsContext:e}),shouldEnableLiveTime:(0,L.wk)({playerPublicPropsContext:e}).enableLiveTime}})))((function(e){var n,t,i,r,o,l=e.content,d=e.shouldEnableLiveTime,u=(0,M.DG)(l)?null==l?void 0:l.channelLogin:"",c=(0,nn.IT)(Zn(),{variables:{login:u||""},skip:!u||!d}).data,m=(0,un.h)(new Date(null!==(i=null===(t=null===(n=null==c?void 0:c.user)||void 0===n?void 0:n.stream)||void 0===t?void 0:t.createdAt)&&void 0!==i?i:0));return d&&(null===(o=null===(r=null==c?void 0:c.user)||void 0===r?void 0:r.stream)||void 0===o?void 0:o.createdAt)?(0,a.jsxs)(s.P,{display:"flex",alignItems:"center",gap:"0.5rem",color:"overlay",children:[(0,a.jsx)(Wn.T,{}),(0,a.jsx)("span",{"aria-label":(0,p.hw)("Time Spent Live Streaming","VideoPlayerOverlayLiveTime"),children:(0,G.a3)(m,G.wg.ClockHMS)})]}):null})),Yn=t(79004),Xn=t(953838),$n=t(902418),Jn=t(917705),et=t(105774),nt="lowLatencyMaxSeenCount",tt="lowLatencySeenThisWeekTimestamp";function it(){return p.IG.get(nt,0)}var at=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.bufferEvents=[],n.lastBufferDate=null,n.state={shouldShow:!1},n.handleClose=function(){n.setState({shouldShow:!1})},n.handleBuffering=function(){n.recordBufferEvent(),n.shouldShowNotification()&&n.setState({shouldShow:!0},(function(){return p.IG.set(tt,(new Date).getTime()),void p.IG.set(nt,it()+1)}))},n.recordBufferEvent=function(){var e=new Date;n.bufferEvents.push(e),n.bufferEvents=n.bufferEvents.filter((function(n){return n>(0,Jn.subMinutes)(e,10)})),n.bufferEvents=n.bufferEvents.slice(-3)},n.shouldShowNotification=function(){return n.props.isLive&&n.props.isLowLatencyCapable&&n.props.isLowLatencyEnabled&&!n.props.disableSettingsMenuButton&&n.bufferEvents.length>=3&&it()<=3&&(!(e=p.IG.getOptional(tt))||(0,Jn.subDays)(new Date,7)>=new Date(e));var e},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){e.isPlaying&&this.props.isBuffering&&this.handleBuffering()},n.prototype.render=function(){return this.state.shouldShow?(0,a.jsxs)(s.P,{padding:1,display:l.nl.Flex,alignItems:l.k2.Start,background:l.VS.Overlay,className:"low-latency-notification",children:[(0,a.jsx)(mn.N,{children:(0,p.hw)("Is video buffering? Use the Low Latency toggle under the Advanced menu in Settings to disable low latency mode","LowLatencyNotification")}),(0,a.jsx)(s.P,{flexShrink:0,children:(0,a.jsx)(Yn.a2,{"aria-label":(0,p.hw)("Close low latency reminder","LowLatencyNotification"),overlay:!0,icon:Xn.g,onClick:this.handleClose,size:$n.f.Small})})]}):null},n}(u.Component);var rt,ot=(0,c.Zz)((0,F.cj)((function(e){return{isLive:(0,M.DG)(e.content),disableSettingsMenuButton:(0,L.wk)({playerPublicPropsContext:e}).disableSettingsMenuButton}})),(0,D.dd)((function(e){return{isBuffering:(0,et.TN)(e),isLowLatencyCapable:(0,et.RO)(e),isLowLatencyEnabled:e.isLiveLowLatencyEnabled,isPlaying:(0,et.F4)(e)}})))(at),st=t(305528),lt=t(191132);!function(e){e[e.AwaitingReplay=0]="AwaitingReplay",e[e.Paused=1]="Paused",e[e.Playing=2]="Playing"}(rt||(rt={}));var dt=(0,lt.U)({name:"VideoPlayer_PlayPauseButton",category:"broadcast"}).Available,ut=function(e){if(e.showPlaceholder)return(0,a.jsx)(st.Or,{width:30,height:30});var n=function(e){switch(e){case rt.AwaitingReplay:return h.t.VideoRerun;case rt.Playing:return h.t.MiniPlayerPause;case rt.Paused:default:return h.t.MiniPlayerPlay}}(e.buttonState),t=function(e){switch(e){case rt.Playing:return(0,p.hw)("Pause (space/k)","PlayPauseButtonPresentation");case rt.Paused:return(0,p.hw)("Play (space/k)","PlayPauseButtonPresentation");case rt.AwaitingReplay:return(0,p.hw)("Replay (space/k)","PlayPauseButtonPresentation");default:return}}(e.buttonState)||"",i=e.buttonState===rt.Playing,r=i?e.onPause:e.onPlay;return(0,a.jsx)(dt,{children:(0,a.jsx)(B.g,{"data-a-target":"player-play-pause-button","data-a-player-state":i?"playing":"paused",buttonIcon:n,label:t,onClick:r,tooltipPlacement:"top-start",disabled:e.disabled})})};var ct=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getButtonState=function(e){return e.isPlaying?rt.Playing:n.shouldShowReplayButton(e)?rt.AwaitingReplay:rt.Paused},n.shouldShowReplayButton=function(e){return e.isClip&&!e.isPlaying&&e.isEnded&&!e.isVideoAdShowing},n.play=function(){n.props.play({userTriggered:!0})},n.pause=function(){n.props.pause({userTriggered:!0})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(ut,{showPlaceholder:this.props.isPlayerCoreLoading,buttonState:this.getButtonState(this.props),onPlay:this.play,onPause:this.pause,disabled:this.props.error})},n}(u.Component),pt=(0,c.Zz)((0,Le.VX)((function(e){return{isVideoAdShowing:(0,Be.cz)(e.videoAdMetadata)}})),(0,V.AP)((function(e){var n=e.isPlaying,t=e.play,i=e.pause;return{isPlaying:n,play:t,pause:i}})),(0,D.dd)((function(e){return{isEnded:(0,et.pl)(e),isPlayerCoreLoading:e.isPlayerCoreLoading,error:!!e.error}})),(0,F.cj)((function(e){var n=e.content;return{isClip:(0,M.Jn)(n)}})),(0,O.o1)())(ct);var mt=t(26538),vt=t(15763),ft=t(823583);function gt(e){return e.split("(source)")[0].trim()}var ht=function(){return(0,p.hw)("Auto","SettingsMenuSubmenuQuality")},yt=function(e){var n=e.quality,t=(0,vt.ei)(n),i=(0,vt.IW)(n.codecs,t)&&vt.dD.includes(t)?t:null,r=function(e){return e.group===ft.s9?ht():e.name.toLowerCase().includes("source")?(0,p.hw)("{resolution} (Source)",{resolution:gt(e.name)},"SettingsMenuSubmenuQuality"):e.name}(n);return i&&(r="".concat(r," ").concat(i)),(0,a.jsx)(mt.a,{type:mt.y.Subtle,label:r})},kt=function(e){function n(n){var t=e.call(this,n)||this;return t.handleQualityChanged=function(){var e=t.props.mediaPlayerInstance,n="treatment"===p.x2.experiments.__hardcodedStaleExperiment("settings_overlay_indicator","control");if(e&&!n){var i=e.getQuality();clearTimeout(t.timeout),t.setState({shouldRenderQuality:!0,quality:i}),t.timeout=setTimeout((function(){t.setState({shouldRenderQuality:!1})}),5e3)}},t.state={shouldRenderQuality:!1,quality:null},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(ce.a.QUALITY_CHANGED,this.handleQualityChanged)},n.prototype.render=function(){var e=this.state,n=e.shouldRenderQuality,t=e.quality,i=this.props,s=i.speed,l=i.isLiveContent,d=n&&!!t||1!==s&&!l,u=null;return i.disableSettingsBanner?null:(n&&t?u=(0,a.jsx)(yt,{quality:t}):1===s||l||(u=(0,a.jsx)(mt.a,{type:mt.y.Subtle,label:"".concat(s,"x")})),(0,a.jsx)(r.e,{type:o.ES.SlideOverRight,show:d,children:u}))},n.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},n}(u.Component),St=(0,c.Zz)((0,D.dd)((function(e){var n=e.mediaPlayerInstance,t=e.speed;return{mediaPlayerInstance:n,speed:t}})),(0,F.cj)((function(e){var n=e.content,t=e.behaviors;return{isLiveContent:(0,M.DG)(n),disableSettingsBanner:null==t?void 0:t.disableSettingsBanner}})),(0,oe.X)())(kt);var _t,bt=t(472571),Ct=t(424131),Pt=t(843004),Et=t(561551),Nt=t(420845);!function(e){e.MiniPlayerToggle="mini-player-toggle",e.VideoStatsToggle="video-stats-toggle",e.AdStatsToggle="ad-stats-toggle"}(_t||(_t={}));var xt=function(e){function n(n){var t,i=e.call(this,n)||this;i.toggleLowLatencyMode=function(){var e=i.props,n=e.disableUserPreferencePersistence,t=e.isLiveLowLatencyEnabled,a=e.mediaPlayerInstance,r=e.updatePlayerContext,o=!t;n||p.IG.set(Nt.U.LOW_LATENCY_MODE,o),(0,et.GY)({isLiveLowLatencyEnabled:t,mediaPlayerInstance:a,updateContext:r},o)},i.toggleMiniPlayer=function(){var e=!i.state.isMiniPlayerEnabled;i.props.disableUserPreferencePersistence||p.IG.set(Nt.U.PERSISTENCE_ENABLED,e),i.props.togglePersistentPlayer(),i.setState({isMiniPlayerEnabled:e})},i.isVideoStatsEnabled=function(){return i.props.statsOverlay===R.Uz.Video},i.toggleVideoStats=function(){var e=i.isVideoStatsEnabled()?R.Uz.None:R.Uz.Video;i.props.setStatsOverlay(e),i.props.hideKeyboardShortcuts()},i.isAdStatsEnabled=function(){return i.props.statsOverlay===R.Uz.Ad},i.toggleAdStats=function(){var e=i.isAdStatsEnabled()?R.Uz.None:R.Uz.Ad;i.props.setStatsOverlay(e),i.props.hideKeyboardShortcuts()};var a=null!==(t=p.IG.getOptional(Nt.U.PERSISTENCE_ENABLED))&&void 0!==t?t:void 0;return i.state={isMiniPlayerEnabled:void 0===a||!!a},i}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.renderLowLatencyToggle(),n=(0,p.hw)("Mini Player","SettingsMenuSubmenuAdvanced"),t=(0,p.hw)("Video Stats","SettingsMenuSubmenuAdvanced"),i=(0,p.hw)("Ad Stats","SettingsMenuSubmenuAdvanced");return(0,a.jsxs)(a.Fragment,{children:[e,this.props.showMiniToggleSettings&&(0,a.jsx)(In.G,{addRole:!0,autoFocus:!0,label:n,type:In.M.Toggle,onChange:this.toggleMiniPlayer,checked:this.state.isMiniPlayerEnabled,"data-test-selector":_t.MiniPlayerToggle,"data-a-target":"player-settings-submenu-advanced-toggle-mini"}),(0,a.jsx)(In.G,{addRole:!0,autoFocus:!0,"data-a-target":"player-settings-submenu-advanced-video-stats",label:t,type:In.M.Toggle,onChange:this.toggleVideoStats,checked:this.isVideoStatsEnabled(),"data-test-selector":_t.VideoStatsToggle}),(0,a.jsx)(In.G,{addRole:!0,"data-a-target":"player-settings-submenu-advanced-ad-stats",label:i,type:In.M.Toggle,onChange:this.toggleAdStats,checked:this.isAdStatsEnabled(),"data-test-selector":_t.AdStatsToggle})]})},n.prototype.renderLowLatencyToggle=function(){var e=this.props,n=e.isLowLatencyCapable,t=e.isLiveLowLatencyEnabled;if(!n)return null;var i=(0,p.hw)("Low Latency","SettingsMenuSubmenuAdvanced");return(0,a.jsx)(In.G,{addRole:!0,label:i,type:In.M.Toggle,onChange:this.toggleLowLatencyMode,checked:t})},n}(u.Component);var At=(0,c.Zz)((0,O.o1)(),(0,D.dd)((function(e){return{isLowLatencyCapable:(0,et.RO)(e),isLiveLowLatencyEnabled:e.isLiveLowLatencyEnabled,mediaPlayerInstance:e.mediaPlayerInstance,updatePlayerContext:e.updateContext}})),(0,F.cj)((function(e){var n=(0,L.wk)({playerPublicPropsContext:e}),t=n.disableUserPreferencePersistence,i=n.showMiniToggleSettings;return{disableUserPreferencePersistence:t,showMiniToggleSettings:i}})),(0,R.c0)((function(e){var n=e.hideKeyboardShortcuts,t=e.setStatsOverlay,i=e.statsOverlay;return{hideKeyboardShortcuts:n,setStatsOverlay:t,statsOverlay:i}})),(0,Ae.Ng)(null,(function(e){return(0,c.zH)({togglePersistentPlayer:Et.he},e)})))(xt);var wt=t(407827),Tt=t(178196);function It(e){return Ot(e)||e.isStaff||Dt(e)}function Dt(e){return e.sessionUser&&e.sessionUser.id&&e.sessionUser.id===Rt(e)}function Ft(e){return e.sessionUser&&e.sessionUser.id&&e.sessionUser.id===function(e){return e.data&&e.data.clip&&e.data.clip.curator&&e.data.clip.curator.id}(e)}function Ot(e){return!!(e.data&&e.data.currentUser&&e.data.currentUser.roles&&e.data.currentUser.roles.isSiteAdmin)}function Rt(e){return e.data&&e.data.clip&&e.data.clip.broadcaster&&e.data.clip.broadcaster.id}var Vt,Mt=t(633097),Lt=t(118805),jt=t.n(Lt),Bt=(0,T._v)(jt(),{options:function(e){var n;return{variables:{slug:null!==(n=e.clipSlug)&&void 0!==n?n:"",isCommunityMomentsFeatureEnabled:(0,Ie.fX)(Mt.g)}}},skip:function(e){return!e.clipSlug}});function Ut(e){return{sessionUser:(0,De.wz)(e),isLoggedIn:(0,De.M3)(e),isStaff:(0,De.Xl)(e)}}function qt(){return function(e){return(0,c.Zz)((0,F.cj)(Gt),(0,Ae.Ng)(Ut),Bt)(e)}}function Gt(e){var n=e.content;return{clipSlug:(0,M.Qc)(n),isEditing:(0,M.JN)(n)}}!function(e){e.DeleteButton="delete-button",e.DeleteAllButton="delete-all-button"}(Vt||(Vt={}));var zt=wt.x.wrap((function(){return Promise.all([t.e(48062),t.e(65690),t.e(83985)]).then(t.bind(t,976581))}),"ClipsModalDelete"),Ht=wt.x.wrap((function(){return Promise.all([t.e(48062),t.e(65690),t.e(83985)]).then(t.bind(t,976581))}),"ClipsModalDeleteAll"),Wt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.delete=function(){n.openModerationModal(zt)},n.deleteAll=function(){n.openModerationModal(Ht)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n=(0,p.hw)("Delete","SettingsMenuSubmenuClipsModeration"),t=(0,p.hw)("Delete all clips from video","SettingsMenuSubmenuClipsModeration");return It(this.props)&&(e=(0,a.jsx)(Tn.i,{addRole:!0,"data-test-selector":Vt.DeleteAllButton,label:t,onClick:this.deleteAll})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Tn.i,{addRole:!0,autoFocus:!0,"data-test-selector":Vt.DeleteButton,label:n,onClick:this.delete}),e]})},n.prototype.openModerationModal=function(e){this.props.showModal(e,{slug:this.props.clipSlug,onClose:this.props.closeModal})},n}(u.Component);var Kt=(0,c.Zz)(qt(),(0,Ae.Ng)(null,(function(e){return(0,c.zH)({showModal:Tt.to,closeModal:Tt.Oo},e)})))(Wt),Zt=t(693525),Qt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.showSubMenu=function(){n.props.setActiveMenu("settings-menu__advanced")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=(0,p.hw)("Advanced","SettingsMenuItemAdvanced");return(0,a.jsx)(Tn.i,{addRole:!0,"data-a-target":"player-settings-menu-item-advanced",label:e,actionIcon:Zt.W1,onClick:this.showSubMenu})},n}(u.Component),Yt=(0,O.o1)()(Qt),Xt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleClick=function(){n.props.setClosedCaptionsSettingsShowing(!0),n.props.setActiveMenu("settings-menu__none")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.props.captionsAvailable?(0,a.jsx)(Tn.i,{addRole:!0,label:(0,p.hw)("Closed Captions Options","SettingsMenuItemCCOptions"),onClick:this.handleClick}):null},n}(u.Component);var $t,Jt=(0,c.Zz)((0,R.c0)((function(e){var n=e.captions,t=e.setClosedCaptionsSettingsShowing;return{captionsAvailable:n.available,setClosedCaptionsSettingsShowing:t}})))(Xt),ei=t(392395),ni=t(407590),ti=t(646822),ii=t(681685),ai=t(369624),ri=t(691177),oi=t(762436),si=t(804352),li=t(837576),di=t(455987),ui=t(873830);!function(e){e.On="on",e.Off="off"}($t||($t={}));var ci=(0,ui.yg)()((function(e){var n,t=e.closeSettingsMenu,i=e.data,r=null===(n=null==i?void 0:i.user)||void 0===n?void 0:n.id,o=(0,si.$)().setHappeningNowSettings,d=(0,li.L)(),c=(0,Ae.wA)(),m=(0,Ae.d4)(De.M3),v=(0,Ae.d4)(ri.GQ),f=u.useContext(R._t).isFullscreen,g=(0,ti.H)(),h=(0,oi.r)(di.FI,!1),y=h[0],k=h[1],S=(0,p.hw)("Events will still appear when chat is hidden, including polls, predictions, pinned chats, and Hype Trains.","SettingsMenuChatHappeningNow"),_=(0,p.hw)("Always Show Events","SettingsMenuChatHappeningNow");u.useEffect((function(){return function(){y||p.IG.set(di.FI,!0)}}),[y,k]);var b=!m||d,C=u.useCallback((function(){if(!m)return f&&g.disable(),t(),void c((0,ai.iD)(ii.W.HappeningNowSettings));var e=!d;o(e);var n=e?$t.On:$t.Off,i=f?"full_screen":v?"theater_mode":"default";p.E5.track("client_happening_now_status_toggle",{channel_id:r||null,player_size_mode:i,status:n})}),[r,t,c,g,d,f,v,m,o]);return(0,a.jsxs)(s.P,{display:l.nl.Flex,alignItems:l.k2.Center,padding:.5,cursor:l.bs.Pointer,children:[(0,a.jsxs)(s.P,{onClick:C,display:l.nl.Flex,alignItems:l.k2.Center,margin:{right:.5},width:"100%",role:"menuitemcheckbox",tabIndex:0,children:[(0,a.jsx)(s.P,{margin:{right:.5},children:(0,a.jsx)(mn.N,{children:_})}),(0,a.jsx)(s.P,{height:"2rem",margin:{right:.5},role:"tooltip","aria-label":S,tabIndex:0,children:(0,a.jsx)(ne.m,{label:S,maxWidth:"190px",options:{placement:"top"},children:(0,a.jsx)(ei.h,{fillColor:"alt-2"})})}),!y&&(0,a.jsx)(mt.a,{label:(0,p.hw)("NEW","SettingsMenuChatHappeningNow"),type:"new"})]}),(0,a.jsx)(ni.l,{label:_,checked:b,onChange:C})]})})),pi=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__clips-moderation")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,p.hw)("Moderation","SettingsMenuItemClipsModeration");return(0,a.jsx)(Tn.i,{addRole:!0,label:e,actionIcon:Zt.W1,onClick:this.showSubMenu})},n.prototype.shouldShow=function(){return!this.props.isEditing&&!!this.props.clipSlug&&(It(e=this.props)||Ft(e));var e},n}(u.Component),mi=qt()(pi),vi=t(576828),fi=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.openModal=function(){var e,t,i,a=n.props.clipSlug,r=Rt(n.props);a&&r&&n.props.showModal(vi.Z,{onClose:n.props.closeModal,reportContext:{contentType:z.Cah.CLIP_REPORT,contentID:a,targetUserID:r,contentMetadata:{momentID:null===(i=null===(t=null===(e=n.props.data)||void 0===e?void 0:e.clip)||void 0===t?void 0:t.communityMoment)||void 0===i?void 0:i.id},trackingContext:"settings_menu_clips_report"}})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,p.hw)("Report Clip","SettingsMenuItemClipsReport");return(0,a.jsx)(Tn.i,{label:e,onClick:this.openModal})},n.prototype.shouldShow=function(){return!!(!this.props.isEditing&&this.props.clipSlug&&Rt(this.props)&&(e=this.props,e.isStaff||Ot(e)||e.isLoggedIn&&!Ft(e)&&!Dt(e)));var e},n}(u.Component);var gi=(0,c.Zz)(qt(),(0,Ae.Ng)(null,(function(e){return(0,c.zH)({showModal:Tt.to,closeModal:Tt.Oo},e)})))(fi),hi=function(e){var n=e.closeSettingsMenu;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Tn.i,{addRole:!0,autoFocus:!0,label:(0,p.hw)("Close","SettingsMenuCloseButton"),figure:{icon:h.t.Close},onClick:n}),(0,a.jsx)(Dn.m,{})]})},yi=t(360869),ki=t(288520),Si=t(472717),_i=function(e){function n(n){var t=e.call(this,n)||this;return t.shouldShow=function(){var e=t.props.content,n=t.props.getFullyFormedUrl(e);return((0,M.wy)(e)||(0,M.P3)(e))&&n!==Si.Kk},t.getCurrentTime=function(){var e=t.props.mediaPlayerInstance;return e?Math.floor(e.getPosition()):0},t.updateCurrentTime=function(){var e=t.getCurrentTime();t.state.currentTime!==e&&t.setState({currentTime:e})},t.copyURLDisabled=function(){return t.setState({copyURLDisabled:!1})},t.handleClick=function(){var e=t.props.mediaPlayerInstance,n=t.props.content;e&&((0,M.wy)(n)||(0,M.P3)(n))&&(n=(0,i.__assign)((0,i.__assign)({},n),{videoOffset:Math.floor(e.getPosition())}));var a=t.props.getFullyFormedUrl(n);(0,yi.e)(a),t.setState({copyURLDisabled:!0}),t.timeout=setTimeout(t.copyURLDisabled,2e3)},t.state={copyURLDisabled:!1,currentTime:t.getCurrentTime()},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(ce.a.TIME_UPDATE,this.updateCurrentTime)},n.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,p.hw)("Copy Video URL at {timestamp}",{timestamp:(0,G.a3)(this.state.currentTime,G.wg.ClockHMS)},"SettingsMenuItemCopyVideoURLComponent"),n=(0,p.hw)("Copied!","SettingsMenuItemCopyVideoURLComponent");return(0,a.jsx)(Tn.i,{addRole:!0,disabled:this.state.copyURLDisabled,label:this.state.copyURLDisabled?n:e,onClick:this.handleClick})},n}(u.Component);var bi=(0,c.Zz)((0,F.cj)((function(e){return{content:e.content}})),(0,D.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,oe.X)(),(0,ki.e)())(_i),Ci=function(){var e=(0,u.useContext)(R._t),n=e.setStatsOverlay,t=e.showKeyboardShortcuts,i=(0,u.useCallback)((function(){n(R.Uz.None),t()}),[n,t]);return(0,u.useMemo)((function(){return(0,a.jsx)(Tn.i,{addRole:!0,label:(0,p.hw)("View Keyboard Shortcuts","SettingsMenuItemKeyboardShortcuts"),onClick:i})}),[i])},Pi=t(612567),Ei=480,Ni=853,xi=[be.C.Imdb],Ai=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){var e=n.props,t=e.playerType,i=e.isClipContent;return!(t===be.C.AmazonVse||i)},n.handleClick=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.pause,a=e.playerType,r=e.volume,o=e.muted,s=e.content,l=e.quality;i(),n.props.setActiveMenu("settings-menu__none");var d={player:xi.includes(a)?a:be.C.Popout,volume:r,muted:o,enableExtensions:!0,parent:"twitch.tv",quality:l};((0,M.wy)(s)||(0,M.P3)(s))&&(d.t=(0,Pi.W)(Math.floor(t&&t.getPosition()||0)));var u=(0,Si.kG)(s,d);window.open(u,"_blank","width=".concat(Ni,",height=").concat(Ei,",toolbar=no,menubar=no,scrollbars=no,location=no,status=no"))},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.shouldShow()?(0,a.jsx)(Tn.i,{addRole:!0,label:(0,p.hw)("Popout Player","SettingsMenuItemPopoutPlayer"),onClick:this.handleClick}):null},n}(u.Component);var wi=(0,c.Zz)((0,F.cj)((function(e){return{content:e.content,playerType:(0,Ce.O)(e),isClipContent:(0,M.Jn)(e.content)}})),(0,D.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,quality:e.quality}})),(0,V.AP)((function(e){return{muted:e.muted,pause:e.pause,volume:e.volume}})))(Ai),Ti="badgeText--4a1dA",Ii="disabled--euZY9",Di=function(e){var n,t=e.quality,i=e.disabled,r=(0,vt.ei)(t);return(0,vt.IW)(t.codecs,r)&&vt.dD.includes(r)?(0,a.jsx)("sup",{className:E()(Ti,(n={},n[Ii]=i,n)),children:r}):null},Fi=function(e){var n=e.quality;return n.group===ft.s9?ht():(0,a.jsxs)(s.P,{display:"flex",gap:.5,children:[gt(n.name),(0,a.jsx)(Di,{quality:n,disabled:(0,vt.MC)(n)}),(0,a.jsx)("span",{children:(0,vt.L)(n)&&(0,p.hw)("(Source)","SettingsMenuSubmenuQuality")})]})},Oi=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){return n.props.availableQualitiesLength>0&&!n.props.forceQuality},n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__quality")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,p.hw)("Quality","SettingsMenuItemQuality");return(0,a.jsx)(Tn.i,{addRole:!0,autoFocus:!0,"data-a-target":"player-settings-menu-item-quality",actionIcon:Zt.W1,onClick:this.showSubMenu,children:(0,a.jsxs)(s.P,{display:"flex",children:[e,(0,a.jsx)(s.P,{margin:{left:"auto"},children:(0,a.jsx)(Fi,{quality:this.props.selectedQuality})})]})})},n}(u.Component),Ri=(0,c.Zz)((0,D.dd)((function(e){return{availableQualitiesLength:e.availableQualities.length,selectedQuality:(0,vt.uU)(e)}})),(0,F.cj)((function(e){return{forceQuality:(0,L.wk)({playerPublicPropsContext:e}).forceQuality}})))(Oi);var Vi=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){return!n.props.isClipContent},n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__report")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,p.hw)("Report Playback Issue","SettingsMenuItemReportPlaybackIssue");return(0,a.jsx)(Tn.i,{addRole:!0,"data-a-target":"player-settings-menu-item-report",label:e,actionIcon:Zt.W1,onClick:this.showSubMenu})},n}(u.Component),Mi=(0,F.cj)((function(e){var n=e.content;return{isClipContent:(0,M.Jn)(n)}}))(Vi);var Li=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__speed")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.props.shouldShow)return null;var e=(0,p.hw)("Speed","SettingsMenuItemSpeed");return(0,a.jsx)(Tn.i,{addRole:!0,autoFocus:!0,"data-a-target":"player-settings-menu-item-speed",label:e,actionIcon:Zt.W1,value:"".concat(this.props.speed,"x"),onClick:this.showSubMenu})},n}(u.Component),ji=(0,c.Zz)((0,F.cj)((function(e){var n=(0,L.Rh)({playerPublicPropsContext:e});return{shouldShow:(0,M.pk)(n)}})),(0,D.dd)((function(e){return{speed:e.speed}})))(Li);var Bi=t(337455),Ui=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){return n.props.isStaff||p.x2.config.buildType===Bi.n.Dev},n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__staff")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,p.hw)("Staff","SettingsMenuItemStaff");return(0,a.jsx)(Tn.i,{addRole:!0,label:e,actionIcon:Zt.W1,onClick:this.showSubMenu})},n}(u.Component);var qi=(0,Ae.Ng)((function(e){return{isStaff:(0,De.Xl)(e)}}))(Ui),Gi=function(e){var n=e.closeSettingsMenu,t=e.isOffline,i=e.setActiveMenu;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(hi,{closeSettingsMenu:n}),(0,a.jsx)(Ri,{setActiveMenu:i}),(0,a.jsx)(ji,{setActiveMenu:i}),(0,a.jsx)(gi,{}),(0,a.jsx)(mi,{setActiveMenu:i}),(0,a.jsx)(Jt,{setActiveMenu:i}),(0,a.jsx)(Yt,{setActiveMenu:i}),(0,a.jsx)(Mi,{setActiveMenu:i}),(0,a.jsx)(qi,{setActiveMenu:i}),(0,a.jsx)(wi,{setActiveMenu:i}),(0,a.jsx)(ci,{closeSettingsMenu:n}),(0,a.jsx)(bi,{}),!t&&(0,a.jsx)(Ci,{})]})},zi=t(579038),Hi=t(906719),Wi=t(605375);var Ki=function(){var e=(0,u.useContext)(F.kl),n=e.content,t=e.type,i=e.behaviors,a=null==i?void 0:i.disableUserPreferencePersistence;return{isClipContent:(0,M.Jn)(n),playerType:t,disableUserPreferencePersistence:a}},Zi=function(){var e=(0,u.useContext)(D.$g);return{availableQualities:e.availableQualities,unavailableQualities:e.unavailableQualities,mediaPlayerInstance:e.mediaPlayerInstance,selectedQuality:e.quality,updateContext:e.updateContext}},Qi=function(){return{setRequestedQuality:(0,u.useContext)(R._t).setRequestedQuality}},Yi=t(476795);function Xi(e){return function(e){if(0===e.length)return null;var n=e.sort((function(e,n){var t=Yi.vb.indexOf(Yi.oq[e]),i=Yi.vb.indexOf(Yi.oq[n]);return(-1===t?999:t)-(-1===i?999:i)}))[0];return(Yi.oq[n]||Yi.DZ.generic)()}(e.unavailableQualities.flatMap((function(e){return(0,i.__spreadArray)((0,i.__spreadArray)([],e.filterReasons,!0),e.authReasons,!0)})))}var $i=function(e){var n=u.useState(!1),t=n[0],i=n[1],r=function(n){e.disabled||("Enter"===n.key?e.onClose():"mouseup"===n.type?i(!0):"click"===n.type&&(e.selected||e.onChange(),t&&(i(!1),e.onClose())))};return(0,a.jsx)("div",{onKeyDown:r,onMouseUp:r,onClick:r,children:e.children})},Ji=function(e){var n=e.setActiveMenu,t=function(){var e=Ki(),n=e.isClipContent,t=e.playerType,i=e.disableUserPreferencePersistence,a=Zi(),r=a.availableQualities,o=a.unavailableQualities,s=a.mediaPlayerInstance,l=a.selectedQuality,d=a.updateContext,c=Qi().setRequestedQuality;return{allQualities:(0,vt.Ql)({availableQualities:r,unavailableQualities:o}),selectedQuality:l,unavailableQualities:o,setQuality:(0,u.useCallback)((function(e){s&&(d({quality:e.group,qualityBitrate:e.bitrate}),n&&(0,vt.Gi)(e)&&!(0,Wi.vO)()?(0,vt.Qf)(e,s):(0,vt.WF)(e,s,c),i||(0,vt.XF)(e,t)),e.group===ft.w_&&(0,vt.di)()}),[i,n,s,c,t,d])}}(),i=t.selectedQuality,r=t.allQualities,o=t.unavailableQualities,l=t.setQuality,d=ea(),c=Xi({unavailableQualities:o});return(0,a.jsxs)(a.Fragment,{children:[!!c&&(0,a.jsx)(s.P,{margin:{bottom:1},children:(0,a.jsx)(zi.D,{type:Hi._.Info,message:{title:c.title,description:c.message,link:"LOGGED_OUT"===c.id?{children:(0,p.hw)("Log In","SettingsMenuSubmenuQuality"),onClick:d}:{children:c.linkText,linkTo:c.linkTo,targetBlank:!0}}})}),r.map((function(e,t){return(0,a.jsx)($i,{onClose:function(){return n("settings-menu__none")},onChange:function(){return!(0,vt.MC)(e)&&l(e)},selected:e.group===i,disabled:(0,vt.MC)(e),children:(0,a.jsx)("div",{style:{display:"flex"},children:(0,a.jsx)(In.G,{disabled:(0,vt.MC)(e),addRole:!0,autoFocus:0===t,"data-a-target":"player-settings-submenu-quality-option",type:In.M.Radio,label:(0,a.jsx)(Fi,{quality:e}),checked:e.group===i,readOnly:!0,name:"player-settings-submenu-quality-option"})})},e.group)}))]})},ea=function(){var e=(0,Ae.wA)();return(0,u.useCallback)((function(){e((0,ai.iD)(ii.W.SettingsMenuSubmenuQuality))}),[e])},na=t(160526),ta=t(891975),ia=t(105146),aa=t(196288),ra={bandwidth:0,broadcast_id:0,cluster:"",current_bitrate:0,current_fps_exact:0,current_fps:0,decoded_frames:0,dropped_frames:0,hls_latency_broadcaster:0,hls_target_duration:0,manifest_cluster:"",manifest_node_type:"",manifest_node:"",node:"",paused:!1,playing:!1,segment_protocol:"",serving_id:0,stream_time_offset:0,stream_time:0,totalMemoryNumber:0,user_ip:"",vid_display_height:0,vid_display_width:0,vid_height:0,vid_width:0,video_buffer_size:0,vod_cdn_origin:"",vod_cdn_region:"",volume:0};function oa(){var e=(0,u.useContext)(D.$g).mediaPlayerInstance,n=(0,u.useContext)(Le.jK).adPodStats,t=(0,u.useContext)(O.g7).track,a=(0,u.useState)(!1),r=a[0],o=a[1],s=(0,u.useState)(null),l=s[0],d=s[1],c=(0,u.useCallback)((function(){var e=(0,ia.yr)(16);n.forEach((function(n){var a=(0,i.__assign)({adPodId:e},function(e){var n=e.adPosition,t=e.adWrapperIds,i=e.contentType,a=e.creativeId,r=e.duration,o=e.impressionTime,s=e.mediaUrl,l=e.system,d=e.title,u=e.totalAds,c=e.vastMediaBitrate,p=e.vastMediaHeight,m=e.vastMediaWidth;return{adPosition:n,adWrapperId:t?t[0]:void 0,contentType:i,creativeId:a,duration:r,impressionTime:o,mediaUrl:s,system:l,title:d,totalAds:u,vastMediaBitrate:c,vastMediaHeight:p,vastMediaWidth:m}}(n));t("ad_issue_report",(0,i.__assign)({issuetype:l},a))}))}),[n,l,t]),p=(0,u.useCallback)((function(){e&&t("vid_issue_report",(0,i.__assign)({issue:l},function(e){var n=e.getSessionData(),t={broadcast_id:n["BROADCAST-ID"],cluster:n.CLUSTER,manifest_cluster:n["MANIFEST-CLUSTER"],manifest_node_type:n["MANIFEST-NODE_TYPE"],manifest_node:n["MANIFEST-NODE"],node:n.NODE,segment_protocol:"https:"===window.location.protocol?"https":"http",serving_id:n["SERVING-ID"],stream_time_offset:parseFloat(n["STREAM-TIME"]||"0"),user_ip:n.USER_IP,vod_cdn_origin:n.ORIGIN,vod_cdn_region:n.REGION},a={};if(e){var r=e.getState(),o=e.getVideoBitRate()/1e3,s=e.getVideoFrameRate();a={bandwidth:o,current_bitrate:o,current_fps_exact:s,current_fps:Math.round(s),decoded_frames:e.getDecodedFrames(),dropped_frames:e.getDroppedFrames(),hls_latency_broadcaster:Math.round(1e3*e.getLiveLatency()),hls_target_duration:5,paused:r===aa.p.IDLE,playing:r===aa.p.PLAYING,stream_time:e.getPosition(),totalMemoryNumber:64,vid_display_height:e.getDisplayHeight(),vid_display_width:e.getDisplayWidth(),vid_height:e.getVideoHeight(),vid_width:e.getVideoWidth(),video_buffer_size:e.getBufferDuration(),volume:e.getVolume()}}return(0,i.__assign)((0,i.__assign)((0,i.__assign)({},ra),t),a)}(e)))}),[l,e,t]),m=(0,u.useCallback)((function(){e&&l&&((null==l?void 0:l.startsWith("ad-"))?c():p(),o(!0))}),[l,e,c,p]);return{currentlySelectedIssue:l,setCurrentlySelectedIssue:d,submitReport:m,recentlySubmitted:r}}var sa="SettingsMenuSubmenuReportPlaybackIssue",la=[{value:"stutter-both",text:function(){return(0,p.hw)("Audio and video stutter",sa)}},{value:"stutter-video",text:function(){return(0,p.hw)("Video stutters, but audio is fine",sa)}},{value:"black-screen",text:function(){return(0,p.hw)("Video is completely black or doesn't load",sa)}},{value:"av-desync",text:function(){return(0,p.hw)("Audio and video aren't synced",sa)}},{value:"fullscreen-broken",text:function(){return(0,p.hw)("Fullscreen playback doesn't work",sa)}},{value:"ad-broken",text:function(){return(0,p.hw)("Advertisement playback doesn't work.",sa)}},{value:"ad-repeat",text:function(){return(0,p.hw)("Advertisement has played too many times.",sa)}},{value:"ad-offensive-inappropriate",text:function(){return(0,p.hw)("Advertisement is offensive or inappropriate.",sa)}},{value:"ad-too-loud",text:function(){return(0,p.hw)("Advertisement is too loud.",sa)}},{value:"ad-not-relevant",text:function(){return(0,p.hw)("Advertisement is not relevant to my interests.",sa)}}],da=function(e){var n=e.setActiveMenu,t=(0,u.useRef)(null),i=(0,u.useRef)(),r=oa(),o=r.recentlySubmitted,d=r.currentlySelectedIssue,c=r.setCurrentlySelectedIssue,m=r.submitReport;return(0,ta.S)((function(){var e;null===(e=t.current)||void 0===e||e.focus()})),(0,u.useEffect)((function(){return function(){clearTimeout(i.current)}}),[]),(0,a.jsxs)(a.Fragment,{children:[!o&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.P,{margin:1,children:(0,p.hw)("Noticed a video playback issue? Let us know!",sa)}),(0,a.jsx)(s.P,{margin:1,children:(0,a.jsxs)(na.l,{onChange:function(e){return c(e.currentTarget.value)},defaultValue:"",ref:t,children:[(0,a.jsx)("option",{value:"",disabled:!0,children:(0,p.hw)("Select",sa)}),la.map((function(e){return(0,a.jsx)("option",{value:e.value,children:e.text()},e.value)}))]})}),(0,a.jsx)(s.P,{display:l.nl.Flex,justifyContent:l.A9.End,margin:1,children:(0,a.jsx)(Vn.$n,{variant:Vn.VQ.Primary,onClick:function(){m(),i.current=setTimeout((function(){return n("settings-menu__none")}),2e3)},disabled:!d,children:(0,p.hw)("Submit",sa)})})]}),o&&(0,p.hw)("Thanks for your report",sa)]})},ua=t(701356),ca=[.25,.5,.75,1,1.25,1.5,2],pa=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.logger=p.x2.logger.withCategory("SettingsMenuSubmenuSpeedComponent"),n.closeMenu=function(){return n.props.setActiveMenu("settings-menu__none")},n.setSpeed=function(e){n.props.mediaPlayerInstance?(0,ua.qr)(e,n.props):n.logger.warn("no media player loaded")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this,n=this.props.speed,t=(0,p.hw)("1x (Normal)","SettingsMenuSubmenuSpeed");return(0,a.jsx)(a.Fragment,{children:ca.map((function(i,r){var o=n===i,s=1===i?t:"".concat(i,"x");return(0,a.jsx)($i,{onClose:e.closeMenu,onChange:function(){return e.setSpeed(i)},selected:o,children:(0,a.jsx)(In.G,{addRole:!0,autoFocus:0===r,"data-a-target":"player-settings-submenu-speed-option",type:In.M.Radio,name:"playback-speed",label:s,checked:o})},i)}))})},n}(u.Component),ma=(0,c.Zz)((0,F.cj)((function(e){return{disableUserPreferencePersistence:(0,L.wk)({playerPublicPropsContext:e}).disableUserPreferencePersistence}})),(0,D.dd)((function(e){var n=e.mediaPlayerInstance,t=e.speed;return{mediaPlayerInstance:n,speed:t}})),(0,O.o1)())(pa);var va=wt.x.wrap((function(){return t.e(62421).then(t.bind(t,654034))}),"SettingsMenuSubmenuStaffContainer",{failSilently:!0,placeholder:null});var fa,ga=(0,c.Zz)((0,f.X)({name:"SettingsMenuSubmenuStaff"}),(0,Ae.Ng)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}})))((function(e){return e.firstPageLoaded?(0,a.jsx)(va,(0,i.__assign)({},e)):null})),ha=function(e){var n=e.activeMenu,t=e.closeSettingsMenu,i=e.isOffline,r=e.setActiveMenu,o=null;switch(n){case"settings-menu__main":o=(0,a.jsx)(Gi,{closeSettingsMenu:t,isOffline:i,setActiveMenu:r});break;case"settings-menu__advanced":o=(0,a.jsx)(At,{setActiveMenu:r});break;case"settings-menu__clips-moderation":o=(0,a.jsx)(Kt,{setActiveMenu:r});break;case"settings-menu__quality":o=(0,a.jsx)(Ji,{setActiveMenu:r});break;case"settings-menu__report":o=(0,a.jsx)(da,{setActiveMenu:r});break;case"settings-menu__speed":o=(0,a.jsx)(ma,{setActiveMenu:r});break;case"settings-menu__staff":o=(0,a.jsx)(ga,{setActiveMenu:r});break;default:o=null}return o?(0,a.jsx)("div",{"data-a-target":"player-settings-menu",children:o}):null},ya=t(903689);function ka(e){switch(e){case"settings-menu__advanced":return(0,p.hw)("Advanced","SettingsMenuSubmenuAdvanced");case"settings-menu__clips-moderation":return(0,p.hw)("Moderation","SettingsMenuSubmenuClipsModeration");case"settings-menu__quality":return(0,p.hw)("Video Quality","SettingsMenuSubmenuQuality");case"settings-menu__report":return(0,p.hw)("Report Playback Issue","SettingsMenuSubmenuReportPlaybackIssue");case"settings-menu__speed":return(0,p.hw)("Speed","SettingsMenuSubmenuSpeed");case"settings-menu__staff":return(0,p.hw)("Staff","SettingsMenuSubmenuStaff");default:return(0,p.hw)("Video Player Settings","SettingsMenuButtonComponent")}}!function(e){e.MainMenuButton="main-menu"}(fa||(fa={}));var Sa=function(e){var n=e.activeMenu,t=(0,p.hw)("Back to Video Player Settings","SettingsMenuSubmenuAdvanced");return(0,a.jsxs)(s.P,{display:"settings-menu__main"===n||"settings-menu__none"===n?l.nl.Hide:void 0,children:[(0,a.jsx)(Tn.i,{addRole:!0,children:t,figure:{icon:Zt.fj},onClick:function(){return e.setActiveMenu("settings-menu__main")},"data-test-selector":fa.MainMenuButton,role:"button"}),(0,a.jsx)(s.P,{id:"active-settings-menu-header",role:"heading",children:(0,a.jsx)(ya.x,{children:ka(n)})}),(0,a.jsx)(Dn.m,{})]})},_a=(0,lt.U)({name:"VideoPlayer_SettingsMenuButton",category:"broadcast"}).Available,ba=(0,c.Zz)((0,F.cj)((function(e){return{forceQuality:(0,L.wk)({playerPublicPropsContext:e}).forceQuality,content:e.content,disableSettingsMenuButton:(0,L.wk)({playerPublicPropsContext:e}).disableSettingsMenuButton}})),(0,V.AP)((function(e){return{isPlaying:e.isPlaying}})),(0,R.c0)((function(e){var n=e.videoContainer,t=e.requestedQuality,i=e.setIsMenuShowing;return{videoContainer:n,qualityIsChanging:t,setIsMenuShowing:i}})),(0,O.o1)())((function(e){var n=e.content,t=e.disableSettingsMenuButton,r=e.forceQuality,o=e.isOffline,d=e.isPlaying,c=e.qualityIsChanging,m=e.setIsMenuShowing,v=e.videoContainer,f=(0,u.useRef)(!0),g=(0,u.useState)({activeMenu:"settings-menu__none"}),k=g[0],S=k.activeMenu,b=k.maxMenuHeight,C=g[1],P=(0,bt.p)(),N=P.dialogProps,x=P.setAnchorRef,w=P.close,T=P.toggle,I=(0,u.useCallback)((function(e){C((function(n){return(0,i.__assign)((0,i.__assign)({},n),{activeMenu:e})}))}),[]),D=(0,u.useCallback)((function(){w(),C((function(e){return(0,i.__assign)((0,i.__assign)({},e),{activeMenu:"settings-menu__none"})}))}),[w]),F=(0,u.useCallback)((function(){var e=Ca(v);e&&C((function(n){return(0,i.__assign)((0,i.__assign)({},n),{maxMenuHeight:e})}))}),[v]),O=(0,u.useCallback)((function(){T(),C((function(e){var n="settings-menu__none"===e.activeMenu?"settings-menu__main":"settings-menu__none";return"settings-menu__none"===n?(0,i.__assign)((0,i.__assign)({},e),{activeMenu:n}):(0,i.__assign)((0,i.__assign)({},e),{activeMenu:n,maxMenuHeight:Ca(v)})}))}),[T,v]),R=(0,u.useCallback)((function(){if("settings-menu__none"===S)return null;var e=ka(S);return"settings-menu__main"===S?e:(0,p.hw)("{submenuLabel} submenu",{submenuLabel:e},"SettingsMenuButtonComponent")}),[S]);if((0,u.useEffect)((function(){f.current?f.current=!1:m("settings-menu__none"!==S)}),[S,m]),t)return null;var V=c&&d&&!r&&!(0,M.Jn)(n);return(0,a.jsxs)(_a,{children:[(0,a.jsxs)(s.P,{children:[(0,a.jsx)(y.e,{theme:"dark",children:(0,a.jsxs)(Ct.n,(0,i.__assign)({},N,{"aria-labelledby":"active-settings-menu-header",role:"menu",onRequestClose:D,show:"settings-menu__none"!==S,size:_.$V.Medium,maxHeight:b?"".concat(b,"px"):void 0,options:{placement:"top-end",modifiers:[{name:"offset",options:{offset:[40,5]}},{name:"flip",enabled:!1}]},children:[(0,a.jsx)(s.P,{display:l.nl.HideAccessible,"aria-live":"polite",children:(0,a.jsx)(Pt.L,{type:An.M2.Span,children:R()})}),(0,a.jsx)(Sa,{activeMenu:S,setActiveMenu:I}),(0,a.jsx)(ha,{activeMenu:S,closeSettingsMenu:D,isOffline:o,setActiveMenu:I})]}))}),(0,a.jsx)(s.P,{className:E()(V&&"settings-menu-button-component__animate"),children:(0,a.jsx)(B.g,{"data-a-target":"player-settings-button",tooltipPlacement:"top-end",label:(0,p.hw)("Settings","SettingsMenuButtonComponent"),buttonIcon:h.t.Gear,anchorRef:x,onClick:O})})]}),"settings-menu__none"!==S&&(0,a.jsx)(A.$,{onResize:F})]})}));function Ca(e){var n=(0,j.P)(e).height;return n?.8*n:void 0}var Pa=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.toggleTheatreMode=function(){n.props.theatreModeEnabled?n.props.disableTheatreMode():n.props.enableTheatreMode()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isFullscreen,t=e.shouldDisableTheatreMode,i=e.theatreModeEnabled;if(t||n)return null;var r=(0,p.hw)("Exit Theatre Mode (alt+t)","TheatreModeButtonComponent"),o=(0,p.hw)("Theatre Mode (alt+t)","TheatreModeButtonComponent");return(0,a.jsx)(B.g,{tooltipPlacement:"top-end",label:i?r:o,buttonIcon:i?h.t.Theater:h.t.TheaterExit,onClick:this.toggleTheatreMode})},n}(u.Component);var Ea=(0,c.Zz)((0,Ae.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled}}),(function(e){return(0,i.__assign)({enableTheatreMode:function(){e((0,Et._H)())}},(0,c.zH)({disableTheatreMode:Et.lq},e))})),(0,F.cj)((function(e){return{shouldDisableTheatreMode:(0,L.wk)({playerPublicPropsContext:e}).disableTheatreMode}})),(0,R.c0)((function(e){return{isFullscreen:e.isFullscreen}})),(0,O.o1)())(Pa),Na=t(631139),xa=t(945005),Aa=t(973421),wa=t.n(Aa),Ta=t(611407),Ia=t(982821),Da=t(456450),Fa=t(786001),Oa=t.n(Fa);var Ra=(0,c.Zz)((0,F.cj)((function(e){return{content:(0,L.Rh)({playerPublicPropsContext:e}),shouldEnableViewCount:(0,L.wk)({playerPublicPropsContext:e}).enableViewCount}})))((function(e){var n,t,i,r,o,l,d,u,c=e.content,m=e.shouldEnableViewCount,v=(0,M.DG)(c)?null==c?void 0:c.channelLogin:"",f=(0,nn.IT)(Oa(),{variables:{login:v||""},skip:!v||!m}).data,g=null!==(t=null===(n=null==f?void 0:f.user)||void 0===n?void 0:n.id)&&void 0!==t?t:null;return(0,Ta.C)({query:Oa(),variables:{login:v||""},topic:g?(0,Da.RW)(g):"",skip:!g||!m,type:Ia.PD.ViewCount,mutator:function(e,n){return n.user&&n.user.stream?wa()(n,(function(e){return e.user.stream.viewersCount}),(function(){return e.viewers})):n}}),m&&null!==(null===(r=null===(i=null==f?void 0:f.user)||void 0===i?void 0:i.stream)||void 0===r?void 0:r.viewersCount)&&void 0!==(null===(l=null===(o=null==f?void 0:f.user)||void 0===o?void 0:o.stream)||void 0===l?void 0:l.viewersCount)?(0,a.jsx)(s.P,{color:"overlay",background:"overlay",display:"flex",borderRadius:pn.Z.Large,padding:.5,margin:{x:.5},children:(0,a.jsx)(Na.r,{label:(0,p.hw)("Viewers","VideoPlayerOverlayViewCount"),value:(0,p.ZV)(null===(u=null===(d=null==f?void 0:f.user)||void 0===d?void 0:d.stream)||void 0===u?void 0:u.viewersCount),icon:xa.H,tooltipProps:{options:{placement:"top"}}})}):null})),Va=t(509856),Ma=t(637121),La=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onDurationChange=function(){var e=n.props.mediaPlayerInstance;e&&n.props.onDurationChange(e.getDuration())},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(ce.a.DURATION_CHANGED,this.onDurationChange)},n.prototype.render=function(){return null},n}(u.Component),ja=(0,c.Zz)((0,D.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,oe.X)())(La);var Ba=function(e){function n(n){var t=e.call(this,n)||this;return t.isDragging=!1,t.previousDurationVodID=t.props.vodID,t.handleThumbDragStart=function(){t.isDragging=!0,t.setState({bufferDuration:0})},t.handleThumbLocationChange=function(e){var n=t.props.mediaPlayerInstance;t.isDragging=!1,n&&(0===e&&(e=.01),n.seekTo(e),t.setState({thumbLocation:e}))},t.handleSeekComplete=function(e){var n,i=t.props.mediaPlayerInstance;(null==i?void 0:i.isPaused())&&t.setState({thumbLocation:e}),t.state.ended&&e<=t.state.vodLength&&(t.setState({ended:!1}),null===(n=t.props.mediaPlayerInstance)||void 0===n||n.play())},t.handleTimeChanged=function(e){var n=t.props,i=n.mediaPlayerInstance,a=n.pause,r=n.updateContext;if(e>t.state.vodLength&&t.state.vodLength!==(null==i?void 0:i.getDuration())&&(a(),r({playerState:aa.p.ENDED}),t.setState({ended:!0})),!i||t.isDragging)t.setState({thumbLocation:e});else{var o=i.getBufferDuration();t.setState({bufferDuration:o,thumbLocation:e})}},t.handleBufferUpdate=function(e){t.isDragging||t.setState({bufferDuration:e})},t.handleDurationChange=function(e){0!==t.state.vodLength&&t.props.vodID===t.previousDurationVodID||(t.setState({vodLength:e}),t.previousDurationVodID=t.props.vodID)},t.state={bufferDuration:0,thumbLocation:0,vodLength:n.mediaPlayerInstance&&n.mediaPlayerInstance.getDuration()||0,ended:!1},t}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.data,t=e.editingSegments,i=e.isAdShowing,r=this.state,o=r.thumbLocation,s=r.bufferDuration,l=r.vodLength;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(le.Nb,{onSeekComplete:this.handleSeekComplete}),(0,a.jsx)(I.j,{onTimeChanged:this.handleTimeChanged}),(0,a.jsx)(sn,{onBufferUpdate:this.handleBufferUpdate}),(0,a.jsx)(ja,{onDurationChange:this.handleDurationChange}),n&&!n.loading&&!n.error&&n.video&&!i&&(0,a.jsx)(Ma.H,{thumbLocation:o,bufferDuration:s,vodLength:l,mutedSegments:Ua(n),onThumbDragStart:this.handleThumbDragStart,onThumbLocationChanged:this.handleThumbLocationChange,editingSegments:t})]})},n}(u.Component);function Ua(e){return e.video&&e.video.muteInfo&&e.video.muteInfo.mutedSegmentConnection&&e.video.muteInfo.mutedSegmentConnection.nodes||[]}var qa=(0,c.Zz)((0,D.dd)((function(e){var n=e.mediaPlayerInstance,t=e.updateContext;return{mediaPlayerInstance:n,updateContext:t}})),(0,V.AP)((function(e){var n=e.pause,t=e.isPlaying;return{pause:n,isPlaying:t}})),(0,F.cj)((function(e){return{vodID:(0,M.hq)(e.content)||null,editingSegments:(0,M.N1)(e.content),includePrivateVODs:(0,L.wk)({playerPublicPropsContext:e}).includePrivateVODs||!1}})),(0,Le.VX)((function(e){return{isAdShowing:(0,Be.cz)(e.videoAdMetadata)}})),(0,Va.h)(),(0,T._v)(dn(),{options:function(e){var n=e.vodID,t=e.collectionVodID;return{variables:{vodID:null!=n?n:t,includePrivate:e.includePrivateVODs}}},skip:function(e){var n=e.vodID,t=e.collectionVodID;return!(n||t)}}))(Ba);var Ga=t(235967),za=t(736585),Ha=t(186396),Wa=t(732574),Ka=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleClick=function(){var e=(0,M.L$)(n.props.content,{tt_content:"twitch_logo",tt_medium:"embed"},n.props.mediaPlayerInstance);window.open(e),n.props.pause()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.props.showExternalBranding?(0,a.jsx)(za.cv,{label:this.getTooltipLabel(this.props.content),align:za.HX.Right,direction:za.n5.Top,children:(0,a.jsx)(Ha.M2,{"aria-label":this.getTooltipLabel(this.props.content),onClick:this.handleClick,variant:Ha.sK.Text,overlay:!0,children:(0,a.jsx)(s.P,{display:l.nl.Flex,margin:{x:.5},children:(0,a.jsx)(Wa.g,{width:60,height:18})})})}):null},n.prototype.getTooltipLabel=function(e){return e.type===je.FC.Clip?(0,p.hw)("View clip page","WatchOnTwitchButton"):(0,p.hw)("Watch on Twitch","WatchOnTwitchButton")},n}(u.Component);var Za=(0,c.Zz)((0,F.cj)((function(e){return{content:(0,L.Rh)({playerPublicPropsContext:e}),showExternalBranding:(0,L.wk)({playerPublicPropsContext:e}).showExternalBranding}})),(0,D.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,V.AP)((function(e){return{pause:e.pause}})))(Ka),Qa=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.tooltipPlacementRef=u.createRef(),n.chromecastButtonRef=u.createRef(),n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.shouldShow,t=e.isOffline,u=e.isAccessibilityLandmark,c=void 0===u||u,f=e.shouldDisplayPlayPauseAsOverlay,h=void 0!==f&&f,y=e.shouldPushVolumeToRight,k=void 0!==y&&y,S={assignments:{fallback:function(){return null},active:function(){return(0,a.jsx)(jn,{})}},name:"extension_overlay_improvement",hardcodedAssignment:"control"};return(0,a.jsx)(r.e,{type:o.ES.Fade,show:n,alwaysRenderChild:!0,preventChildAriaHidden:!0,children:(0,a.jsxs)(s.P,{"data-a-target":"player-controls",className:"player-controls","data-a-visible":n,position:l.yX.Absolute,display:l.nl.Flex,flexDirection:l.bo.Column,alignItems:l.k2.Stretch,overflow:n?l.nE.Visible:l.nE.Hidden,attachBottom:!0,fullWidth:!0,dir:"ltr",children:[(0,a.jsx)(s.P,{padding:{x:2},children:(0,a.jsxs)(v.t,{name:"PlayerControlsOverlay-SeekBar",children:[(0,a.jsx)(_e,{}),(0,a.jsx)(qa,{}),(0,a.jsx)(Sn,{})]})}),(0,a.jsx)(g.u,{section:"global",id:"channel-player",icon:d.A,label:(0,p.hw)("Player Controls","SkipToTargetVideoPlayer"),enabled:!!c,children:(0,a.jsx)(s.P,{display:l.nl.Flex,margin:{left:1,bottom:1,right:1},children:(0,a.jsxs)(v.t,{name:"PlayerControlsOverlay-Controls",children:[!t&&(0,a.jsxs)(s.P,{flexGrow:1,display:l.nl.Flex,alignItems:l.k2.Center,justifyContent:l.A9.Start,className:"player-controls__left-control-group",children:[(0,a.jsx)(Ra,{}),(0,a.jsx)(Qn,{}),(0,a.jsx)(J,{}),!h&&(0,a.jsx)(pt,{}),!k&&(0,a.jsx)(Ga.Sb,{playerControlsShowing:n})]}),(0,a.jsxs)(s.P,{flexGrow:1,display:l.nl.Flex,alignItems:l.k2.Center,justifyContent:l.A9.End,className:"player-controls__right-control-group",children:[(0,a.jsx)(St,{}),(0,a.jsx)($e,{}),k&&(0,a.jsx)(Ga.Sb,{playerControlsShowing:n,ref:this.tooltipPlacementRef,chromecastButtonRef:this.chromecastButtonRef}),(0,a.jsx)(ba,{isOffline:t}),(0,a.jsx)(m.N,(0,i.__assign)({},S)),(0,a.jsx)(en,{}),(0,a.jsx)(Pe,{}),(0,a.jsx)("div",{ref:this.chromecastButtonRef,children:(0,a.jsx)(re,{})}),(0,a.jsx)(s.P,{position:l.yX.Absolute,attachBottom:!0,attachRight:!0,margin:{bottom:5,right:5},children:(0,a.jsx)(ot,{})}),(0,a.jsx)(Ea,{}),!t&&(0,a.jsx)(Hn,{}),(0,a.jsx)(Za,{})]})]})})})]})})},n}(u.Component),Ya=(0,c.Zz)((0,f.X)({name:"PlayerControlsOverlay"}))(Qa)},911456:function(e,n,t){"use strict";t.d(n,{W:function(){return r}});var i=t(640598),a=t(456450);function r(e,n,t){(0,i.s)({topic:(0,a.dl)(null!=e?e:""),onMessage:function(e){e.target_user_id===n&&t&&t()},skip:!e||!n}),(0,i.s)({topic:(0,a.CH)(null!=e?e:""),onMessage:function(e){e.channel_id===n&&t&&t()},skip:!e||!n})}},169999:function(e,n,t){"use strict";t.d(n,{d:function(){return f},g:function(){return g}});var i=t(331635),a=t(474848),r=t(564368),o=t(79004),s=t(552400),l=t(296540),d=t(877338),u=t(886384),c=t(933781),p=t(947945),m=t(359630),v=t(268675),f=function(e){var n,t=e.children?(0,a.jsx)(r.$n,(0,i.__assign)({variant:r.VQ.Secondary,icon:e.buttonIcon,linkTo:e.linkTo,onClick:e.onClick,"aria-disabled":e.disabled||e.disabledInteraction,disabledInteraction:e.disabledInteraction,disabled:e.disabled,"aria-label":e.label,"aria-haspopup":"menu",overlay:!0,ref:e.anchorRef},(0,d.F)(e),{children:e.children})):(0,a.jsx)(o.a2,(0,i.__assign)({icon:e.buttonIcon,linkTo:e.linkTo,onClick:e.onClick,disabled:e.disabled,"aria-label":e.label,"aria-haspopup":"menu",overlay:!0,ref:e.anchorRef},(0,d.F)(e)));return e.suppressTooltip||e.disabled?t:(0,a.jsx)(s.m,{id:"player-controls-button-tooltip",label:e.label,options:{placement:null!==(n=e.tooltipPlacement)&&void 0!==n?n:"top",modifiers:e.tooltipModifiers},disabled:!e.arePlayerControlsShowing,show:e.showTooltip,children:t})},g=function(e){var n=(0,l.useContext)(u.MP).active,t=(0,l.useContext)(p._t),r=(0,l.useContext)(m.wL),o=(0,l.useContext)(c.kl),s=(0,v.SU)({active:n,uiContext:t,videoPlaybackContext:r,playerPublicPropsContext:o});return(0,l.useMemo)((function(){return(0,a.jsx)(f,(0,i.__assign)({arePlayerControlsShowing:s},e))}),[s,e])}},235967:function(e,n,t){"use strict";t.d(n,{R6:function(){return D},Sb:function(){return R}});var i,a=t(331635),r=t(474848),o=t(163347),s=t(59542),l=t(267178),d=t(305528),u=t(959340),c=t(914421),p=t(97774),m=t(67813),v=t(723319),f=t(552400),g=t(216042),h=t(25437),y=t(296540),k=t(868238),S=t(478260),_=t(191132),b=t(192453),C=t(105146),P=t(407310),E=t(886384),N=t(890675),x=t(933781),A=t(420613),w=t(359630),T=t(583167),I=t(169999),D=.5;!function(e){e[e.SETTLED=0]="SETTLED",e[e.REQUESTED=1]="REQUESTED"}(i||(i={}));var F=(0,_.U)({name:"VideoPlayer_VolumeSlider",category:"broadcast"}).Available,O=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.popperRef=y.createRef(),n.state={volumeFocused:!1,requestedVolume:null,volumeState:i.SETTLED,showVolumeTooltip:!1,hasVolumeButtonBeenActivated:!1},n.rangeID="player-volume-slider-".concat((0,C.aq)()),n.throttledVolumeChange=(0,b.n)((function(e){var t=n.props,i=t.setVolume,a=t.setMuted,r=t.muted,o={persist:!0,userTriggered:!0};i(e,o),r&&0!==e&&a(!1,o),0===e&&a(!0,o)}),30,{leading:!0,trailing:!0}),n.calcDom=function(){if(n.rangeRef){n.remInPx=parseFloat(getComputedStyle(document.documentElement).fontSize);var e=n.rangeRef.getBoundingClientRect();n.rangeWidth=e.width}},n.setVolumeTooltipDisplayTimer=function(){clearTimeout(n.tooltipTimeoutRef),n.tooltipTimeoutRef=setTimeout((function(){n.setState((function(e){return e.showVolumeTooltip?{showVolumeTooltip:!1}:null}))}),2e3)},n.setVolumeFocused=function(){n.setState((function(e){return e.volumeFocused?null:{volumeFocused:!0}}))},n.setVolumeUnfocused=function(){n.setState((function(e){return e.volumeFocused?{volumeFocused:!1}:null}))},n.setRangeInputFocused=function(){n.setState((function(e){return e.showVolumeTooltip?null:{showVolumeTooltip:!0}}))},n.setRangeInputUnfocused=function(){n.setState((function(e){return e.showVolumeTooltip?{showVolumeTooltip:!1}:null}))},n.getButtonIcon=function(e){var n=e.muted,t=e.volume;return n||0===t?o.N:t&&t>.5?s.c:l.g},n.getButtonLabel=function(e){var n=e.muted,t=e.volume;return n||0===t?(0,S.hw)("Unmute (m)","VolumeSliderComponent"):(0,S.hw)("Mute (m)","VolumeSliderComponent")},n.getTooltipValues=function(e){var t=e.volume,i=e.muted?0:t||0,a=1.6*n.remInPx;return{tooltipValue:i,tooltipLeftOffset:a/2+i*(n.rangeWidth-a)}},n.getRangeValue=function(e){var t=e.muted,a=e.volume;if(t)return"0";var r=null!=a?a:D,o=n.state.volumeState===i.REQUESTED?n.state.requestedVolume:r;return"".concat(o)},n.handleRangeInputChange=function(e){var t=+e.currentTarget.value;n.setState((function(e){return e.requestedVolume===t?null:{requestedVolume:t,volumeState:i.REQUESTED,showVolumeTooltip:!0}}),(function(){n.throttledVolumeChange(t)})),n.setVolumeTooltipDisplayTimer(),n.props.enablePlayerActiveTimeout()},n.handleMuteButtonClick=function(){var e=n.props,t=e.muted,i=e.volume,a=e.setVolume,r=e.setMuted,o={persist:!0,userTriggered:!0};n.setState((function(){return{hasVolumeButtonBeenActivated:!0}})),t&&0===i&&a(.1,o),t&&void 0===i&&a(D,o),r(!t,o)},n.setRangeRef=function(e){return n.rangeRef=e},n}return(0,a.__extends)(n,e),n.prototype.componentWillUnmount=function(){clearTimeout(this.tooltipTimeoutRef),this.throttledVolumeChange.flush()},n.prototype.componentDidUpdate=function(){var e,n,t;null===(t=null===(n=null===(e=this.popperRef)||void 0===e?void 0:e.current)||void 0===n?void 0:n.update)||void 0===t||t.call(n),this.props.volume===this.state.requestedVolume&&this.state.volumeState!==i.SETTLED&&this.setState((function(e){return e.volumeState===i.SETTLED?null:{volumeState:i.SETTLED}}))},n.prototype.render=function(){var e,n,t=this.props,i=t.audioBlocked,a=t.isPlayerCoreLoading,o=t.disableControls,s=t.muted,l=t.playerControlsShowing,y=t.showInitialMutedOnVolumeButton,k=t.userEverUnmuted,_=this.getButtonIcon(this.props),b=this.getButtonLabel(this.props),C=this.getRangeValue(this.props),E=this.getTooltipValues(this.props),N=!!s&&y&&!k&&!this.state.hasVolumeButtonBeenActivated,x=(N||i)&&l&&y;if(a)return(0,r.jsx)(d.Or,{height:30,width:14.5});var A=this.state.volumeFocused,w=!P.j.os.isIOS()&&!this.props.disableVolumeSlider,T=Math.floor(100*Number(C)),D=this.state.showVolumeTooltip&&A&&l;return(0,r.jsx)(F,{children:(0,r.jsx)("div",{onMouseEnter:this.setVolumeFocused,onMouseLeave:this.setVolumeUnfocused,onFocus:this.setVolumeFocused,children:(0,r.jsxs)(u.P,{display:c.nl.Flex,alignItems:c.k2.Center,children:[(0,r.jsx)(u.P,{borderRadius:p.Z.Large,className:x?"volume-slider__button-container":void 0,children:(0,r.jsx)(I.g,{"data-a-target":"player-mute-unmute-button",label:x?(0,S.hw)("Tap to unmute","VolumeSlider"):b,buttonIcon:_,onClick:this.handleMuteButtonClick,disabled:o||this.props.error,suppressTooltip:!x&&N,showTooltip:N&&y&&l,tooltipModifiers:x?[{name:"flip",options:{allowedAutoPlacements:["top"],rootBoundary:null===(e=this.props.chromecastButtonRef)||void 0===e?void 0:e.current,boundary:null===(n=this.props.ref)||void 0===n?void 0:n.current}}]:void 0})}),w&&(0,r.jsx)(m.e,{alwaysRenderChild:!0,show:A,type:v.ES.Fade,duration:v.Cf.Short,className:"volume-slider__slider-container",onEnterComplete:this.calcDom,children:(0,r.jsx)(u.P,{display:c.nl.Flex,alignItems:c.k2.Center,fullHeight:!0,onMouseLeave:this.setRangeInputUnfocused,children:(0,r.jsxs)(u.P,{display:c.nl.Flex,flexDirection:c.bo.Column,alignItems:c.k2.Stretch,height:"100%",children:[(0,r.jsx)(u.P,{position:c.yX.Relative,display:c.nl.Flex,style:{insetInlineStart:"".concat(E.tooltipLeftOffset,"px")},children:(0,r.jsx)(f.m,{show:D,label:(0,S.ZV)(E.tooltipValue,"percent"),popperRef:this.popperRef,options:{placement:"top",modifiers:[{name:"flip",options:{allowedAutoPlacements:["top"]}}]},display:c.nl.Inline})}),(0,r.jsxs)(u.P,{display:c.nl.Flex,flexDirection:c.bo.Column,justifyContent:c.A9.Center,height:"100%",children:[(0,r.jsx)(g.S,{display:c.nl.HideAccessible,children:(0,r.jsx)("label",{htmlFor:this.rangeID,children:(0,S.hw)("Volume","VolumeSliderComponent")})}),(0,r.jsx)(h.Q,{ref:this.setRangeRef,"data-a-target":"player-volume-slider","data-a-visible":A,fill:!0,min:0,max:1,step:.01,onChange:this.handleRangeInputChange,value:C,disabled:o||this.props.error,id:this.rangeID,overlay:!0,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":T,"aria-valuetext":"".concat(T,"%"),onFocus:this.setRangeInputFocused,onBlur:this.setRangeInputUnfocused})]})]})})})]})})})},n}(y.Component),R=(0,k.Zz)((0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e}),t=n.disableAudio,i=n.disableVolumeSlider,a=n.showInitialMutedOnVolumeButton;return{disableControls:!!t,disableVolumeSlider:!!i,showInitialMutedOnVolumeButton:null!=a&&a}})),(0,w.AP)((function(e){var n=e.muted,t=e.volume,i=e.setMuted,a=e.setVolume;return{muted:n,volume:t,setMuted:i,setVolume:a}})),(0,N.dd)((function(e){var n=e.audioBlocked,t=e.isPlayerCoreLoading,i=e.error,a=e.userEverUnmuted;return{audioBlocked:n,isPlayerCoreLoading:t,error:!!i,userEverUnmuted:a}})),(0,E.In)((function(e){return{enablePlayerActiveTimeout:e.enablePlayerActiveTimeout}})),(0,A.o1)())(O)},508489:function(e,n,t){"use strict";t.d(n,{F6:function(){return C}});var i,a=t(331635),r=t(474848),o=t(564368),s=t(296540),l=t(415044),d=t(868238),u=t(928778),c=t(503472),p=t(131883),m=t(933781),v=t(420613),f=t(959340),g=t(914421),h=t(734594),y=t(478260),k=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(n,e),n.prototype.render=function(){return(0,r.jsx)(f.P,{display:g.nl.Flex,flexDirection:g.bo.Column,alignItems:g.k2.Center,children:this.renderButton(this.props)})},n.prototype.renderButton=function(e){var n=e.notificationsDisabled,t=e.working,i=e.onDisableNotificationsClick,a=e.onEnableNotificationsClick,s=e.buttonSize,l=t?o.w.Loading:o.w.Default;return n?(0,r.jsx)(o.$n,{onClick:a,state:l,size:s,children:(0,y.hw)("Turn on Notifications","PlayerFollowButton")}):(0,r.jsx)(o.$n,{onClick:i,variant:o.VQ.Success,state:l,icon:h.i,size:s,children:(0,y.hw)("Notifications","PlayerFollowButton")})},n}(s.Component),S=t(205007),_=t.n(S);!function(e){e.NotificationsOff="notif_off",e.NotificationsOn="notif_on",e.FollowAndNotificationsOn="follow_on_notif_on"}(i||(i={}));var b=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={working:!1},n.trackNotificationButtonClick=function(e){n.props.track("player_notifbutton_clicks",{followState:e.wasFollowing,notif_state:e.wereNotificationsEnabled,src:n.props.playerType,action:e.action})},n.handleEnableNotifications=function(){var e=n.props.isFollowingUser;n.trackNotificationButtonClick({action:e?i.NotificationsOn:i.FollowAndNotificationsOn,wasFollowing:e,wereNotificationsEnabled:!1}),n.changeNotificationSettings({disableNotifications:!1})},n.handleDisableNotifications=function(){var e=n.props.isFollowingUser;n.trackNotificationButtonClick({action:i.NotificationsOff,wasFollowing:e,wereNotificationsEnabled:!0}),n.changeNotificationSettings({disableNotifications:!0})},n.changeNotificationSettings=function(e){return(0,a.__awaiter)(n,void 0,void 0,(function(){var n,t,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:n=e.disableNotifications,t=this.props.userID,i=(0,c.AR)({targetID:t,disableNotifications:n}),a.label=1;case 1:return a.trys.push([1,,4,5]),this.props.isLoggedIn?(this.setState({working:!0}),[4,this.props.followUser(i)]):[3,3];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:return this.setState({working:!1}),this.props.onFollow&&this.props.onFollow(),[7];case 5:return[2]}}))}))},n}return(0,a.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isSmall,t=e.notificationsDisabled;return(0,r.jsx)(k,{notificationsDisabled:t,working:this.state.working,onDisableNotificationsClick:this.handleDisableNotifications,onEnableNotificationsClick:this.handleEnableNotifications,buttonSize:n?o.Mp.Small:o.Mp.Default})},n}(s.Component);var C=(0,d.Zz)((0,u._v)(_(),{name:"followUser"}),(0,v.o1)(),(0,m.cj)((function(e){return{playerType:e.type}})),(0,l.Ng)((function(e){return{isLoggedIn:(0,p.M3)(e)}})))(b)},221191:function(e,n,t){"use strict";t.d(n,{P:function(){return re}});var i,a=t(331635),r=t(474848),o=t(959340),s=t(914421),l=t(246942),d=t.n(l),u=t(296540),c=t(415044),p=t(718059),m=t(407827),v=t(838483),f=t(424182),g=t(86043),h=t(485272),y=t(194569),k=t(945137),S=t(954351),_=t(886384),b=t(890675),C=t(933781),P=t(947945),E=t(359630),N=t(491798),x=t(583167),A=t(268675),w=t(71670),T=t(727234),I=t(868238),D=t(805450),F=t(59470),O=t(458083),R=t(128633),V=t(703664),M=t(357515),L=t(378328),j=t(325640),B=t(743338),U=(t(383361),(0,I.Zz)((0,V.A)(),(0,D.X)({name:"StreamDisplayAd"}))((function(e){var n,t,a=u.useContext(j.OK),s=a.hasActiveBid,l=a.curFrame,c=a.iframeEl1,p=a.iframeEl2,m=a.sdaFormat,v=a.sdaMode,f=a.reportMount,g=a.reportUnmount,y=e.format,k=u.useContext(S.jK).adFormatMetadata,_=(0,L.I9)(k)?k:void 0,b=s&&e.format===m&&(m!==M.Z$.LOWER_THIRD||v!==j.bi.Pushdown);u.useEffect((function(){var n={format:y,mode:j.bi.InVideo,isSkyscraper:e.isSkyscraper};b?f(n):g(n)}),[y,e.isSkyscraper,f,g,b]);var C=(null==k?void 0:k.adFormat)===M.Z$.SQUEEZEBACK&&(160!==e.adDimensions.width||600!==e.adDimensions.height),P=u.useState({}),E=P[0],N=P[1],x=u.useState({}),A=x[0],w=x[1];if(u.useEffect((function(){C&&(1===l?N({width:e.containerDimensions.width||e.adDimensions.width,height:e.containerDimensions.height||e.adDimensions.height}):2===l&&w({width:e.containerDimensions.width||e.adDimensions.width,height:e.containerDimensions.height||e.adDimensions.height}))}),[l,e.adDimensions.height,e.adDimensions.width,e.containerDimensions.height,e.containerDimensions.width,C]),!b)return null;var T=(null==k?void 0:k.adFormat)===M.Z$.LOWER_THIRD?"lower-third":"squeezeback",I=d()(((n={})["stream-display-ad__iframe_".concat(T)]=!0,n["stream-display-ad__iframe_".concat(T,"--visible")]=1===l,n["stream-display-ad__iframe_".concat(T,"--hidden")]=2===l,n)),D=d()(((t={})["stream-display-ad__iframe_".concat(T)]=!0,t["stream-display-ad__iframe_".concat(T,"--visible")]=2===l,t["stream-display-ad__iframe_".concat(T,"--hidden")]=1===l,t)),F=(0,B.c0)(),O=C?"mirrorc":(null==k?void 0:k.adFormat)===M.Z$.LOWER_THIRD?h.iN.stream.lowerthird:(null==k?void 0:k.adFormat)===M.Z$.SQUEEZEBACK?h.iN.stream.squeezeback:"",V=C?e.containerDimensions.width:e.adDimensions.width,U=C?"1 1.1":"1",q=(0,L.DU)(null==_?void 0:_.bid)?null==_?void 0:_.bid:void 0,G=void 0!==q?(0,h.A9)(q,O,null==_?void 0:_.adSessionId):{adInput:{advertiserIDNS:"",campaignIDNS:""},clientInput:{},countryInfo:{geoCode:null,isFromEU:!1}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("iframe",{"aria-hidden":2===l,"data-test-selector":i.IFrame1,className:I,style:1===l?E:void 0,title:F,ref:c,scrolling:"no",marginHeight:0,marginWidth:0}),(0,r.jsx)("iframe",{"aria-hidden":1===l,"data-test-selector":i.IFrame2,className:D,style:2===l?A:void 0,title:F,ref:p,scrolling:"no",marginHeight:0,marginWidth:0}),(0,r.jsx)(o.P,{position:"relative",margin:"auto",style:{width:V,scale:U},children:(0,r.jsx)(R.V,{dsaContext:G,format:O,rendersInVideoPlayer:!0})})]})}))),q=t(347953),G=t(319224),z=m.x.wrap((function(){return Promise.all([t.e(72180),t.e(70390)]).then(t.bind(t,989472))}),"BrandLiftSurveyManager",{placeholder:null,failSilently:!0}),H=m.x.wrap((function(){return Promise.all([t.e(18051),t.e(55152),t.e(98922),t.e(64498),t.e(57013),t.e(5244)]).then(t.bind(t,299971))}),"SDAUpsellContainer",{placeholder:null,failSilently:!0});!function(e){e.Wrapper="sda-wrapper",e.Container="sda-container",e.Transform="sda-transform",e.Frame="sda-frame",e.IFrame="sda-iframe",e.IFrame1="sda-iframe-1",e.IFrame2="sda-iframe-2"}(i||(i={}));var W,K=(0,I.Zz)((0,D.X)({name:"LowerThirdContainer"}))((function(e){var n,t,o,s=e.injectStyles,l=(0,O.zB)(M.Z$.LOWER_THIRD).slotId,c=(0,M.Zj)(M.Z$.LOWER_THIRD),p=e.sdaVerticalOffset,m=e.scaledAdDimensions,v=e.sdaScale,f=u.useContext(P._t),g=u.useContext(E.wL),h=u.useContext(_.MP),N=u.useContext(C.kl),x=u.useContext(S.jK),w=u.useContext(b.$g),I=u.useContext(F.DV),D=u.useContext(y.m9),R=null===(n=N.behaviors)||void 0===n?void 0:n.mini,V=null===(t=N.behaviors)||void 0===t?void 0:t.disableSDAUpsell,B=(0,G.f)(),W=(0,k.U0)(),K=W.isSDAUpsellShowing,Z=W.closeSDAUpsell,Q=K&&B&&!R,Y=(0,a.__assign)((0,a.__assign)({uiContext:f,videoPlaybackContext:g,playerPublicPropsContext:N},h),{adContext:x,playerContext:w,channelSkinsContext:I,brandLiftContext:D,isSDAUpsellShowing:Q}),X=u.useContext(y.m9),$=X.startVideoSession,J=X.isSurveyOpportunity,ee=X.isSurveyShowing,ne=X.setRefetchEnabled,te=X.retriggerTimer,ie=J||ee,ae=(0,q.hd)(N.content)||null,re=(0,T.Z)(ae),oe=(0,A.SU)(Y)&&!ee?Math.max(44,p):p,se={height:"".concat(m.height+oe,"px")},le=(0,a.__assign)((0,a.__assign)((0,a.__assign)({},c),s),se),de=x.adFormatMetadata,ue=x.isDisplayingSDASequence,ce=u.useState(!1),pe=ce[0],me=ce[1],ve=(0,L.I9)(de)?(null===(o=de.trackingParams)||void 0===o?void 0:o.sda_sequence_number)||0:void 0;u.useEffect((function(){if(ve){me(!0);var e=setTimeout((function(){me(!1)}),500);return function(){clearTimeout(e)}}me(!1)}),[ve]),u.useEffect((function(){re&&re!==ae&&(clearTimeout(te.current),$(),ne(!0))}),[ae,re,te,ne,$]),u.useEffect((function(){!B&&K&&Z(),re&&re!==ae&&Z(),V&&Z()}),[Z,ae,re,B,K,V]);var fe={transform:"translateX(".concat("rtl"===document.dir?"":"-","50%) scale(").concat(v,")"),transition:pe?"scale ".concat(500,"ms ease-in-out"):void 0},ge={height:"".concat(m.height,"px"),width:"".concat(m.width,"px"),transition:pe?"height ".concat(500,"ms ease-in-out width ").concat(500,"ms ease-in-out"):void 0},he=u.useContext(j.OK),ye=he.sdaFormat,ke=he.isSDASequenceVisible,Se=he.sdaMode,_e=!!((0,L.I9)(de)&&ue&&ke||ie||Q),be=d()("stream-display-ad__wrapper","stream-display-ad__wrapper_lower-third","stream-display-ad__wrapper-".concat(_e?"visible":"hidden")),Ce=d()({"stream-display-ad__container_lower-third":!0,"stream-display-ad__container_lower-third-hidden":!_e});return ye===M.Z$.LOWER_THIRD||ie||Q?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{"data-test-selector":i.Wrapper,className:be,children:(0,r.jsx)("div",{"data-test-selector":i.Container,className:Ce,style:le,children:(0,r.jsx)("div",{"data-test-selector":i.Transform,className:"stream-display-ad__transform-container_lower-third",style:ge,tabIndex:Se===j.bi.Pushdown?-1:0,children:(0,r.jsx)("div",{"data-test-selector":i.Frame,id:l,className:"stream-display-ad__frame_lower-third",style:fe,children:ie?(0,r.jsx)(z,{}):Q?(0,r.jsx)(H,{channelLogin:ae||""}):(0,r.jsx)(U,(0,a.__assign)({format:M.Z$.LOWER_THIRD,isSkyscraper:!1},e))})})})})}):null}));!function(e){e.Wrapper="sda-wrapper",e.Container="sda-container",e.Transform="sda-transform",e.Frame="sda-frame",e.IFrame="sda-iframe",e.IFrame1="sda-iframe-1",e.IFrame2="sda-iframe-2"}(W||(W={}));var Z,Q=(0,I.Zz)((0,D.X)({name:"SkyscraperContainer"}))((function(e){var n,t,i,o=e.injectStyles,s=(0,O.zB)(M.Z$.SQUEEZEBACK).slotId,l=(0,M.Zj)(M.Z$.SQUEEZEBACK),c=e.adDimensions,p=e.scaledAdDimensions,m=e.sdaHorizontalOffset,v=e.sdaScale,f={left:"".concat(m,"px"),right:"0"},g={height:"".concat(p.height,"px"),width:"".concat(4*p.height/15,"px")},h=(0,a.__assign)((0,a.__assign)((0,a.__assign)((0,a.__assign)({},l),o),g),{background:"black"}),y=u.useContext(S.jK),k=y.adFormatMetadata,_=y.isDisplayingSDASequence,b={transform:"translateX(-50%) scale(".concat(v,")")},C=u.useContext(j.OK),P=C.sdaFormat,E=C.isSDASequenceVisible,N=!!((0,L.I9)(k)&&_&&E),x=d()("stream-display-ad__wrapper","stream-display-ad__wrapper_skyscraper","stream-display-ad__wrapper-".concat(N?"visible":"hidden")),A="skyscraper",w=d()(((n={})["stream-display-ad__container_".concat(A)]=!0,n)),T=d()(((t={})["stream-display-ad__transform-container_".concat(A)]=!0,t)),I=d()(((i={})["stream-display-ad__frame_".concat(A)]=!0,i));return P===M.Z$.SQUEEZEBACK&&(0,B.Ny)(c)?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{"data-test-selector":W.Wrapper,className:x,style:f,children:(0,r.jsx)("div",{"data-test-selector":W.Container,className:w,style:h,tabIndex:0,children:(0,r.jsx)("div",{"data-test-selector":W.Transform,className:T,style:{},children:(0,r.jsx)("div",{"data-test-selector":W.Frame,id:s,className:I,style:b,children:(0,r.jsx)(U,(0,a.__assign)({format:M.Z$.SQUEEZEBACK,isSkyscraper:!0},e))})})})})}):null}));!function(e){e.Wrapper="sda-wrapper",e.Container="sda-container",e.Transform="sda-transform",e.Frame="sda-frame",e.IFrame="sda-iframe",e.IFrame1="sda-iframe-1",e.IFrame2="sda-iframe-2"}(Z||(Z={}));var Y=(0,I.Zz)((0,D.X)({name:"SqueezebackContainer"}))((function(e){var n,t,i,o,s=e.injectStyles,l=(0,O.zB)(M.Z$.LOWER_THIRD).slotId,c=(0,M.Zj)(M.Z$.LOWER_THIRD),p=e.adDimensions,m=e.scaledAdDimensions,v=e.sdaScale,f=e.sdaHorizontalOffset,g={height:"".concat(m.height,"px"),width:"".concat(16*m.height/9,"px")},h=(0,a.__assign)((0,a.__assign)((0,a.__assign)((0,a.__assign)({},c),s),g),{background:"black"}),y=u.useContext(S.jK),k=y.adFormatMetadata,_=y.isDisplayingSDASequence,b="rtl"===document.dir,C={transform:"translateX(".concat(b?"":"-","50%) scale(").concat(v,")")},P=u.useContext(j.OK),E=P.sdaFormat,N=P.isSDASequenceVisible,x=!!((0,L.I9)(k)&&_&&N),A=u.useState({}),w=A[0],T=A[1];u.useEffect((function(){T({width:e.containerDimensions.width||300,height:e.containerDimensions.height||1050,background:"black"})}),[e.containerDimensions.height,e.containerDimensions.width]);var I=d()("stream-display-ad__wrapper","stream-display-ad__wrapper_squeezeback","stream-display-ad__wrapper-".concat(x?"visible":"hidden")),D="squeezeback",F=d()(((n={})["stream-display-ad__container_".concat(D)]=!0,n)),R=d()(((t={})["stream-display-ad__transform-container_".concat(D)]=!0,t)),V=d()(((i={})["stream-display-ad__frame_".concat(D)]=!0,i)),q=d()(((o={})["stream-display-ad__iframe_".concat(D)]=!0,o["stream-display-ad__iframe_".concat(D,"--visible")]=!0,o)),G={position:"absolute",width:"".concat(f,"px"),right:"0",height:"100%",zIndex:"-1"};if(E!==M.Z$.SQUEEZEBACK)return null;var z=(0,r.jsx)(U,(0,a.__assign)({format:M.Z$.SQUEEZEBACK,isSkyscraper:!1},e));return(0,B.Ny)(p)&&(z=(0,r.jsx)("div",{"data-test-selector":Z.IFrame,className:q,style:w})),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{"data-test-selector":Z.Wrapper,className:I,children:(0,r.jsxs)("div",{"data-test-selector":Z.Container,className:F,style:h,children:[(0,r.jsx)("div",{className:"squeezeback-accessibility-frame",style:G,tabIndex:0}),(0,r.jsx)("div",{"data-test-selector":Z.Transform,className:R,style:{},children:(0,r.jsx)("div",{"data-test-selector":Z.Frame,id:l,className:V,style:C,children:z})})]})})})})),X=t(369382),$=t(883079),J=t(49772),ee=m.x.wrap((function(){return t.e(24175).then(t.bind(t,317876))}),"VerticalVideoControls",{failSilently:!0,placeholder:null}),ne=(0,I.Zz)((0,V.A)(),(0,D.X)({name:"VerticalVideoContainer"}))((function(e){var n=e.scaledAdDimensions,t=e.sdaHorizontalOffset,i=e.trackAdFormatData,s=u.useContext(S.jK),l=s.adFormatMetadata,d=s.thirdPartyOutstreamVideoAdElement,c=s.updateOutstreamAdElement,p=s.videoAdMetadata,m=s.resetOutstreamAd,v=u.useContext(j.OK).checkAndUpdateSDAHiddenState,f=u.useContext(C.kl).behaviors,g=(0,L.hr)(l),h=g&&"hiding"===(null==l?void 0:l.status),y=g&&!h,k=u.useRef(null),_=(0,J.M)(k).isHovering,b=(0,X.gD)(void 0,void 0,l),P=b.minutes,E=b.seconds,N=void 0;l&&(0,L.pt)(l)&&(N=l.numberOfAds>1?(0,X.ZV)(l.adPosition,l.numberOfAds,P,E):(0,X.KV)(P,E));var x={position:"absolute",transition:"visibility 0.25s, opacity 0.25s ease-in-out",width:"100%",height:"100%",right:"0",visibility:y?"visible":"hidden"},A={position:"absolute",top:"50%",transform:"translateY(-50%)",height:"".concat(n.height,"px"),width:"".concat(n.width,"px"),opacity:y?1:0,background:"black",right:"".concat(t,"px")};u.useEffect((function(){if(y&&!(null==l?void 0:l.started)){var e=setTimeout((function(){var e;null===(e=l.videoAd)||void 0===e||e.start(),v(d)}),1e3);return function(){return clearTimeout(e)}}}),[y,l,v,d]),u.useEffect((function(){y&&(null==p?void 0:p.stitched)&&(i("ad_opportunity_abort",{abort_reason:"SureStream"}),m())}),[y,m,null==p?void 0:p.stitched,i]),u.useEffect((function(){y&&(null==f?void 0:f.mini)&&(i("ad_opportunity_abort",{abort_reason:"MINI"}),m())}),[y,m,null==f?void 0:f.mini,i]);var w=(0,L.RO)(l),T={onClick:function(){return null==w?void 0:w.pause()},onClose:function(){return null==w?void 0:w.play()},right:2,adInfoTextOverride:N};return(0,r.jsx)(o.P,{style:x,children:(0,r.jsxs)(o.P,{style:A,ref:k,children:[(0,r.jsx)(o.P,{width:"100%",height:"100%","data-a-target":"outstream-ax-overlay",ref:c}),y&&(0,r.jsx)(o.P,{position:"absolute",width:"100%",style:{bottom:0,width:"100%"},children:(0,r.jsx)(ee,{showControls:_})}),y&&(0,r.jsx)($.Cq,(0,a.__assign)({},T))]})})})),te=function(e){var n=e.children,t=e.handleResize,i=u.useContext(C.kl),s=i.behaviors,l=u.useContext(P._t),d=u.useContext(E.wL),c=u.useContext(_.MP),p=u.useContext(S.jK),m=u.useContext(b.$g),v=u.useContext(y.m9),f=(0,k.U0)().isSDAUpsellShowing,T=(0,a.__assign)((0,a.__assign)({uiContext:l,videoPlaybackContext:d,playerPublicPropsContext:i},c),{adContext:p,playerContext:m,brandLiftContext:v,isSDAUpsellShowing:f}),I=p.adFormatMetadata,D=v.isSurveyShowing,F=v.isMouseHovering,O=I&&(0,h.rW)(I.adFormat)||D&&!F||f,R=!(0,x.N8)(s,"enableStreamDisplayAds")||e.playerType===N.C.WatchPartyHost;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.$,{onResize:t}),!R&&(0,r.jsx)(Y,(0,a.__assign)({},e)),!R&&(0,r.jsx)(Q,(0,a.__assign)({},e)),!R&&(0,r.jsx)(ne,(0,a.__assign)({},e)),n,!R&&(0,r.jsx)(K,(0,a.__assign)({},e)),!R&&(0,A.oZ)(T)&&(0,r.jsx)(o.P,{hidden:!O,children:(0,r.jsx)(w.q,{shouldShow:(0,A.SU)(T),isOffline:!1,isAccessibilityLandmark:!1})})]})};te.displayName="StreamDisplayAdWrapper";var ie=t(455817),ae=m.x.wrap((function(){return Promise.all([t.e(97316),t.e(14030),t.e(57792),t.e(70614)]).then(t.bind(t,794130))}),"CelebrationDisplayContainer",{failSilently:!0,placeholder:null}),re=function(e){var n,t=(0,c.d4)(ie.G,c.bN),i=t.firstPageLoaded,l={};t.theatreModeEnabled?l.maxHeight="100%":(null===(n=e.behaviors)||void 0===n?void 0:n.playerContainerMaxHeightStyleValue)&&(l.maxHeight=e.behaviors.playerContainerMaxHeightStyleValue);var u=(0,f.J)(),m=u.sdaVideoRefClasses,g=u.sdaVideoRefStyles,h=d().apply(void 0,(0,a.__spreadArray)(["video-ref"],m,!1));return(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)(p.K,{name:"project_celebration_alerts",children:(0,r.jsx)(ae,{enabled:(0,x.N8)(e.behaviors,"enableCelebrations")})}),(0,r.jsx)(o.P,{className:"video-player","data-a-target":"video-player","data-a-player-type":e.type,"data-test-selector":"video-player__video-layout",children:(0,r.jsx)(o.P,{className:"video-player__container","data-test-selector":"video-player__video-container",ref:e.onContainerRefDelegate,overflow:s.nE.Hidden,position:s.yX.Absolute,attachBottom:!0,attachLeft:!0,attachRight:!0,attachTop:!0,style:l,children:(0,r.jsx)(v.PY,{children:(0,r.jsx)(te,(0,a.__assign)({playerType:e.type,logger:e.logger},u,{children:(0,r.jsx)(o.P,{ref:e.onVideoRefDelegate,className:h,style:g,"data-a-target":"video-ref",children:e.children})}))})})})]})}},471090:function(e,n,t){"use strict";t.d(n,{BZ:function(){return l},CD:function(){return m},Gd:function(){return r},Qf:function(){return u},Qq:function(){return g},Tz:function(){return o},WZ:function(){return c},a8:function(){return v},cc:function(){return s},g:function(){return h},mB:function(){return p},wh:function(){return i},wv:function(){return d},zd:function(){return f}});var i,a=t(567329),r=100,o=20,s=50,l="https://help.twitch.tv/s/article/watch-parties",d=3,u="515467",c="watch-parties",p="https://www.amazon.com/gp/video/storefront?filterId=OFFER_FILTER%3DPRIME",m="dvm_tch_wtp_us_cd_s_signup",v="https://primevideo.com",f={disableDoubleClickFullscreen:!0,disableFullscreen:!0,disableKeyboardShortcuts:!0,disablePopoutPlayer:!0,disableStatusIndicator:!0,disableStatusOverlay:!0,disableSettingsMenuButton:!0,disableTheatreMode:!0,disableUserPreferencePersistence:!1,disableWhispersCompatability:!0,enableExtensions:!1,forceQuality:a._6.Low,initialMuted:{enabled:!0,showOverlay:!0,overlayDuration:1/0}},g=5,h="https://www.primevideo.com/help?nodeId=202095490&view-type=content-only";!function(e){e.USER_NOT_PRIME="USER_NOT_PRIME",e.GEO_RESTRICTED="GEO_RESTRICTED"}(i||(i={}))},957139:function(e,n,t){"use strict";t.d(n,{Lw:function(){return g},Ng:function(){return x},Op:function(){return h},PU:function(){return A},SN:function(){return N},Sv:function(){return w},TM:function(){return y},Y0:function(){return E},_b:function(){return k},mu:function(){return _},rN:function(){return v},rs:function(){return f},y2:function(){return T},yo:function(){return P},zY:function(){return C},zn:function(){return S}});var i=t(331635),a=t(973421),r=t.n(a),o=t(478260),s=t(503472),l=t(214120),d=t(267924),u=t(957573),c=t(471090),p=t(604499),m=t.n(p),v=function(){return o.Zn.get("cf_jim_faxes_from_the_future",0)},f=function(){return o.Zn.get("cf_wp_retry_count",0)},g=function(e){return h(null==e?void 0:e.state)},h=function(e){return!(!e||e===d.DbI.OFFLINE||e===d.DbI.UNKNOWN)},y=function(e){return e&&e.isValid},k=function(e,n){return n===d.H2J.GEO_RESTRICTED||!!(null==e?void 0:e.self)&&(!e.self.eligibility.canView&&e.self.eligibility.reason===c.wh.GEO_RESTRICTED)},S=function(e){return e===d.LTh.BROAD_AVAILABILITY};function _(e,n){return null===e||e<0?0:n&&e>n?n:e}var b=function(e){return r()(e,(function(e){return(0,i.__assign)((0,i.__assign)({},e),{state:d.DbI.OFFLINE})}))},C=function(e){void 0===e&&(e=window.navigator.userAgent);return/(android[\w\.\s\-]{0,9});.+build/i.test(e)||/version\/([\w\.]+).+?(mobile\s?safari|safari)/i.test(e)},P=function(e){return e===c.Qf};function E(e,n){if(e===d.DbI.IN_PROGRESS&&n&&n.durationSeconds>0&&n.positionSeconds>0){var t=n.positionSeconds/n.durationSeconds;return Math.min(t,1)}return 0}var N=function(e){return"/".concat(e)},x=function(e){var n=(0,s.G5)(e);n&&(0,s.WY)({id:n,fragment:m(),fragmentName:"watchPartySession",mutator:b})},A=function(e){var n=window.location.pathname.substring(1);return(0,u.r3)(c.CD,n,e)},w=function(e){return e?{linkTo:"".concat(e,"#customer-review-section"),targetBlank:!0}:null},T=function(e){return(0,l.yT)((null!=e?e:1e4)/2e3*1e3)}},599534:function(e,n,t){"use strict";t.d(n,{h:function(){return a}});var i=t(296540);function a(e,n){void 0===n&&(n=1e3);var t=(0,i.useState)(r(o(e))),a=t[0],s=t[1];return(0,i.useEffect)((function(){s(r(o(e)));var t=setInterval((function(){s(r(o(e)))}),n);return function(){return clearInterval(t)}}),[e,n]),Math.round(a/1e3)}function r(e){return o(new Date)-e}function o(e){return new Date(e.toUTCString()).getTime()}},532083:function(e,n,t){"use strict";t.d(n,{E:function(){return u}});var i=t(145748),a=t(783321),r=t(982821),o=t(456450),s=t(681234),l=t.n(s),d=t(957139);function u(e,n){var t,s,u,c,p,m,v=(0,a.IT)(l(),{variables:{channelLogin:e||""},skip:!e||n,fetchPolicy:"network-only"}),f=v.data,g=v.loading,h=null!==(s=null===(t=null==f?void 0:f.user)||void 0===t?void 0:t.id)&&void 0!==s?s:null,y=(0,i.D)(h?(0,o.Tv)(h):"",{skip:!h||n,skipMessage:function(e){return e.type!==r.PD.PrimeVideoWatchPartyStateUpdate}})[0],k=null===(p=null===(c=null===(u=null==f?void 0:f.user)||void 0===u?void 0:u.watchParty)||void 0===c?void 0:c.session)||void 0===p?void 0:p.state;y&&(m=y.data.state);var S=!1;return m?S=(0,d.Op)(m):k&&(S=(0,d.Op)(k)),g&&(S=!1,m=void 0,k=void 0),{isHostingWatchParty:S,watchPartyStateFromPubsub:m,watchPartyStateFromGQL:k}}},265430:function(e,n,t){"use strict";function i(){return Promise.all([t.e(5647),t.e(78025)]).then(t.bind(t,705647))}function a(e,n){var t=function(e){return Array.from(e.normalize?e.normalize("NFC"):e)}(e);return t.length<=n?e:"".concat(t.slice(0,n-3).join("").trim(),"...")}t.d(n,{W:function(){return a},f:function(){return i}})},319224:function(e,n,t){"use strict";t.d(n,{f:function(){return a}});var i=t(415044),a=function(){return(0,i.d4)((function(e){var n;return null===(n=e.session.user)||void 0===n?void 0:n.id}))}}}]);