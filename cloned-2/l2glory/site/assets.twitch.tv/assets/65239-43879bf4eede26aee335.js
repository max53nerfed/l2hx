!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1173a2b1-5538-4077-a251-c2679ad81ace",e._sentryDebugIdIdentifier="sentry-dbid-1173a2b1-5538-4077-a251-c2679ad81ace")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[65239],{532574:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowButton_FollowEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var o=e.type;"NamedType"===o.kind&&n.add(o.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var o={};n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),o[e.name.value]=n}})),e.exports=n},682286:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}]};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var o=e.type;"NamedType"===o.kind&&n.add(o.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var o={};n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),o[e.name.value]=n}})),e.exports=n},527758:function(e,n,i){var o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FollowButton_FollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"followButtonFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}]},t={};function l(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){l(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){l(e,n)})),e.definitions&&e.definitions.forEach((function(e){l(e,n)}))}o.definitions=o.definitions.concat(i(939465).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!t[n]&&(t[n]=!0,!0)})));var a={};o.definitions.forEach((function(e){if(e.name){var n=new Set;l(e,n),a[e.name.value]=n}})),e.exports=o},309749:function(e,n,i){var o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FollowButton_UnfollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnfollowUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unfollowUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"followButtonFragment"},directives:[]}]}}]}}]}}]}}]},t={};function l(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){l(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){l(e,n)})),e.definitions&&e.definitions.forEach((function(e){l(e,n)}))}o.definitions=o.definitions.concat(i(939465).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!t[n]&&(t[n]=!0,!0)})));var a={};o.definitions.forEach((function(e){if(e.name){var n=new Set;l(e,n),a[e.name.value]=n}})),e.exports=o},389112:function(e,n,i){var o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FollowButton_UserQueryFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"followButtonFragment"},directives:[]}]}}]}}]},t={};o.definitions=o.definitions.concat(i(939465).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!t[n]&&(t[n]=!0,!0)}))),e.exports=o},224192:function(e,n,i){var o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowButton_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FollowButton_UserQueryFragment"},directives:[]}]}}]},t={};function l(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){l(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){l(e,n)})),e.definitions&&e.definitions.forEach((function(e){l(e,n)}))}o.definitions=o.definitions.concat(i(389112).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!t[n]&&(t[n]=!0,!0)})));var a={};o.definitions.forEach((function(e){if(e.name){var n=new Set;l(e,n),a[e.name.value]=n}})),e.exports=o},98152:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LiveNotificationsToggle_ToggleNotifications"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var o=e.type;"NamedType"===o.kind&&n.add(o.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var o={};n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),o[e.name.value]=n}})),e.exports=n},382566:function(e,n,i){var o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LiveNotificationsToggle_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"followButtonFragment"},directives:[]}]}}]}}]},t={};function l(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){l(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){l(e,n)})),e.definitions&&e.definitions.forEach((function(e){l(e,n)}))}o.definitions=o.definitions.concat(i(939465).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!t[n]&&(t[n]=!0,!0)})));var a={};o.definitions.forEach((function(e){if(e.name){var n=new Set;l(e,n),a[e.name.value]=n}})),e.exports=o},777952:function(e,n,i){"use strict";i.d(n,{cM:function(){return l},hM:function(){return h},iv:function(){return t},jH:function(){return o}});var o,t,l,a,r=i(331635),s=i(478260),d=i(412914),u=i(929477),c=i(881554),f=i(532574),v=i.n(f),m=i(682286),w=i.n(m);!function(e){e.Channel="channel",e.TheatreMode="theatre_mode",e.Search="search",e.EmotePicker="emote_picker",e.EmoteCard="emote_card",e.ExpressFollow="express_follow",e.ChannelSwitcher="channel_switcher",e.ChatViewerCard="chat_viewer_card",e.Shoutout="shoutout",e.GuestStarProfileCard="guest_profile_card",e.StreamerCard="streamer_card",e.Story="story",e.Stories="stories"}(o||(o={})),function(e){e.Regular="regular",e.Theater="theater"}(t||(t={})),function(e){e.Live="live",e.VOD="vod",e.Clip="clip",e.WatchParty="watch_party"}(l||(l={})),function(e){e.Offline="offline",e.Live="live"}(a||(a={}));var g=function(e){if(e.playSessionID&&e.hasPlayed)return e.playSessionID};function h(e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,t,l,f,m,h,p,k,y,N,b,F,S,D,x,_,T,I,E,B,U,j;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(i=null,t=null,l=null,f=null,m=null,h="",k=void 0,y=void 0,N=void 0,!n.channelID)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,s.x2.apollo.client.query({query:v(),variables:{id:n.channelID}})];case 2:return f=r.sent(),[3,4];case 3:return b=r.sent(),s.vF.warn("Failed to make query for channel info in FollowEvent reporting.",{err:b,channelID:n.channelID}),[3,4];case 4:(l=f&&f.data&&f.data.user)?(m=l.stream&&l.stream.game&&l.stream.game.name,h=null!==(E=l.primaryColorHex)&&void 0!==E?E:""):s.vF.warn("Query for channel info in FollowEvent reporting returned no data.",{channelID:n.channelID}),r.label=5;case 5:if(!(F=s.E5.getVideoPlayerTrackingData().vodID))return[3,10];r.label=6;case 6:return r.trys.push([6,8,,9]),[4,s.x2.apollo.client.query({query:w(),variables:{id:F}})];case 7:return i=r.sent(),[3,9];case 8:return S=r.sent(),s.vF.warn("Failed to make query for VOD info in FollowEvent reporting.",{err:S,currentVODID:F}),[3,9];case 9:(null==(t=i&&i.data&&i.data.video)?void 0:t.broadcastType)?p=(0,d.E)(t.broadcastType):(p=null,s.vF.warn("Query for video info in FollowEvent reporting return no data.",{currentVODID:F})),r.label=10;case 10:return n.src!==o.TheatreMode&&(D=!!(null===(B=null==l?void 0:l.stream)||void 0===B?void 0:B.id),k=n.content_type,y=function(e){return e?a.Live:a.Offline}(D)),n.src===o.Channel&&(N=n.screen_state),x=s.E5.getVideoPlayerTrackingData(),_=(0,u.Bj)(),(I={location:null!==(j=null===(U=s.E5.getLastPageview())||void 0===U?void 0:U.location)&&void 0!==j?j:"",channel:n.channelLogin,channel_id:n.channelID,channel_game:m,cta_visible:x.followCTAVisible,game:n.game,partner:l?l.isPartner:null,primary_color_hex:h,src:n.src,vod_id:F,vod_type:p,screen_state:N,content_type:k,channel_state:y,page_session_id:s.x2.session.pageviewID,play_session_id:g(x)})[c.oK]=_[c.oK],T=I,s.E5.track(e,T),[2]}}))}))}},665239:function(e,n,i){"use strict";i.d(n,{W:function(){return Fe}});var o,t=i(331635),l=i(474848),a=i(296540),r=i(415044),s=i(868238),d=i(191132),u=i(783321),c=i(777952),f=i(131883),v=i(82984),m=i(959340),w=i(914421),g=i(97774),h=i(216042),p=i(564368),k=i(478260),y=i(308129),N=i(128043),b=i(973421),F=i.n(b),S=i(503472),D=i(309749),x=i.n(D),_=i(224192),T=i.n(_),I=function(e){var n,i,o,a=(0,u.n_)(x())[0],r=null!==(o=null===(i=null===(n=e.followData)||void 0===n?void 0:n.user)||void 0===i?void 0:i.displayName)&&void 0!==o?o:e.channelLogin;return(0,l.jsx)(N.K,{title:r?(0,k.hw)("Unfollow {displayName}?",{displayName:r},"UnfollowModal"):(0,k.hw)("Are you sure you want to unfollow?","UnfollowModal"),show:e.showUnfollowDialog,onRequestClose:function(){e.setShowUnfollowDialog(!1)},actionButtonProps:{children:(0,k.hw)("Yes, unfollow","UnfollowModal"),onClick:function(){(0,t.__awaiter)(void 0,void 0,void 0,(function(){var n,i,o,l,r,s,d,u,c,f;return(0,t.__generator)(this,(function(v){switch(v.label){case 0:return a&&(null===(r=null===(l=e.followData)||void 0===l?void 0:l.user)||void 0===r?void 0:r.id)&&e.followData.user.self?(n={unfollowUser:{__typename:"UnfollowUserPayload",follow:{__typename:"Follow",disableNotifications:null!==(u=null===(d=null===(s=e.followData.user.self)||void 0===s?void 0:s.follower)||void 0===d?void 0:d.disableNotifications)&&void 0!==u&&u,user:(0,t.__assign)((0,t.__assign)({},e.followData.user),{self:(0,t.__assign)((0,t.__assign)({},e.followData.user.self),{follower:null})})}}},i=(0,S.De)({targetID:e.followData.user.id},n),[4,a(i)]):[2];case 1:return o=v.sent(),e.onSubmit&&!o.errors&&e.onSubmit(),k.E5.trackAvailability({name:"UnFollowButtonPress",is_available:!(null==o?void 0:o.errors),category:"community",reason:null===(c=null==o?void 0:o.errors)||void 0===c?void 0:c.map((function(e){return e.message})).join(" other_error: ")}),(null===(f=null==o?void 0:o.data)||void 0===f?void 0:f.unfollowUser)&&!o.errors&&(e.trackFollowEvent("unfollow"),(0,S.oR)(T(),{login:e.channelLogin},(function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.self)&&(e=F()(e,(function(e){return e.user.self.follower}),(function(){return null}))),e})),e.onUnfollow&&e.onUnfollow(e.channelLogin)),[2]}}))})),e.setShowUnfollowDialog(!1)},"data-a-target":"modal-unfollow-button"},cancelButtonProps:{children:(0,k.hw)("No, cancel","UnfollowModal")},children:(0,k.hw)("You will no longer receive notifications or see them in your followed channels list.","UnfollowModal")})},E=i(70931),B=i(681685),U=i(369624),j=i(267924),C=i(527758),V=i.n(C),O=i(929789),L=i(706439),P=i(606127),A=i(101966),H=function(e){var n,i,o,s=(0,O.x)(null!==(o=null===(i=null===(n=e.followData)||void 0===n?void 0:n.user)||void 0===i?void 0:i.id)&&void 0!==o?o:""),d=a.useContext(P.xG).addSnackbarToQueue,c=(0,r.wA)(),f=(0,u.n_)(V())[0],v=function(){return(0,t.__awaiter)(void 0,void 0,void 0,(function(){var n,i,o,l,a,r,s,d,u,c,v,w,g,h,p,k,y,N;return(0,t.__generator)(this,(function(t){switch(t.label){case 0:return(null===(s=null===(r=e.followData)||void 0===r?void 0:r.user)||void 0===s?void 0:s.id)&&(null===(u=null===(d=e.followData)||void 0===d?void 0:d.user)||void 0===u?void 0:u.displayName)&&(null===(v=null===(c=e.followData)||void 0===c?void 0:c.user)||void 0===v?void 0:v.login)?(n={followUser:{__typename:"FollowUserPayload",follow:{__typename:"Follow",disableNotifications:!1,user:{__typename:"User",id:e.followData.user.id,displayName:e.followData.user.displayName,login:e.followData.user.login,self:{canFollow:!0,__typename:"UserSelfConnection",follower:{__typename:"FollowerEdge",disableNotifications:!1,followedAt:(null===(g=null===(w=e.followData.user.self)||void 0===w?void 0:w.follower)||void 0===g?void 0:g.followedAt)||null}}}},error:null}},i=(0,S.De)({disableNotifications:!1,targetID:e.followData.user.id},n),[4,f(i)]):[2];case 1:return o=t.sent(),(l=null===(k=null===(p=null===(h=null==o?void 0:o.data)||void 0===h?void 0:h.followUser)||void 0===p?void 0:p.error)||void 0===k?void 0:k.code)&&(m(l),l===j.aHg.FORBIDDEN)?(e.setIsBlocked(!0),[2]):(e.onSubmit&&!o.errors&&e.onSubmit(),e.isBlocked&&e.setIsBlocked(!1),(null===(N=null===(y=null==o?void 0:o.data)||void 0===y?void 0:y.followUser)||void 0===N?void 0:N.follow)&&(e.trackFollowEvent("follow"),a=o.data.followUser.follow,(0,S.oR)(T(),{login:e.channelLogin},(function(e){var n=e.user;return n&&n.self?n.self.follower?F()(e,(function(e){return e.user.self.follower.disableNotifications}),(function(){return a.disableNotifications})):F()(e,(function(e){return e.user.self.follower}),(function(){var e,n,i;return{__typename:"FollowerEdge",disableNotifications:a.disableNotifications,followedAt:null===(i=null===(n=null===(e=a.user)||void 0===e?void 0:e.self)||void 0===n?void 0:n.follower)||void 0===i?void 0:i.followedAt}})):e})),e.onFollow&&e.onFollow(e.channelLogin)),[2])}}))}))},m=function(n){var i,o,t;switch(n){case j.aHg.UNVERIFIED_EMAIL:case j.aHg.UNVERIFIED_PHONE:case j.aHg.UNVERIFIED_PHONE_AND_EMAIL:s&&d((0,l.jsx)(L.D,{message:(0,A.Qw)(null!==(i=e.channelName)&&void 0!==i?i:"",n),type:"error",buttonProps:{children:(0,l.jsx)(E.Cb,{linkTo:"https://www.twitch.tv/settings/security",targetBlank:!0,variant:"overlay",underline:!1,children:(0,k.hw)("Verify","UseOnFollow")})}}));break;case j.aHg.TOO_MANY_FOLLOWS:d((0,l.jsx)(L.D,{message:(0,A.OP)(null!==(o=e.channelName)&&void 0!==o?o:""),type:"error"}));break;case j.aHg.FORBIDDEN:d((0,l.jsx)(L.D,{message:(0,A.Hm)(null!==(t=e.channelName)&&void 0!==t?t:""),type:"error"}));break;default:return}},w=e.currentUserLogin?v:function(){var n={};e.followData&&(n.postLoginAction=v,n.targetChannel=e.channelName||e.channelLogin),n.showContext=!0,c((0,U.$5)(B.W.FollowButton,n))};return{onFollow:function(){w(),e.trackFollowEvent("follow_attempt")}}},R=i(134117),M=i(963423),W=i(691177),z=i(759369),Q=i(312663),q=i(407590),Z=i(588702),Y=i(246942),$=i.n(Y),G=i(928778),K=i(98152),X=i.n(K);function J(e){return e?(0,k.hw)("Turn notifications on","LiveNotificationsToggle"):(0,k.hw)("Turn notifications off","LiveNotificationsToggle")}!function(e){e.Toggle="type_toggle",e.Button="type_button"}(o||(o={}));var ee=i(382566),ne=i.n(ee),ie=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isFollowing:!1,disableNotifications:!0},n.toggleNotificationsEnabled=function(){var e,i,o=n.getFollowData();if(o){var t=o&&o.id||"",l={disableNotifications:!n.state.disableNotifications,targetID:t},a={followUser:{__typename:"FollowUserPayload",follow:{__typename:"Follow",user:{__typename:"User",id:t,self:{__typename:"UserSelfConnection",follower:{__typename:"FollowerEdge",disableNotifications:!n.state.disableNotifications}}}}}};n.props.followUser((0,S.De)(l,a)),null===(i=(e=n.props).onToggle)||void 0===i||i.call(e,n.state.disableNotifications),n.setState((function(e){return{disableNotifications:!e.disableNotifications}}))}},n}return(0,t.__extends)(n,e),n.getDerivedStateFromProps=function(e){var n=null;return e.followData&&e.followData?n=e.followData:!e.data||e.data.loading||e.data.error||(n=e.data.user),n?{isFollowing:n&&n.self&&n.self.follower&&null!==n.self.follower.disableNotifications||!1,disableNotifications:!(n&&n.self&&n.self.follower&&null!==n.self.follower.disableNotifications)||n.self.follower.disableNotifications}:null},n.prototype.componentDidMount=function(){var e=this.getFollowData();if(e){var n=e.self&&e.self.follower&&e.self.follower.disableNotifications;this.setState({isFollowing:null!==n||!1,disableNotifications:n})}},n.prototype.render=function(){return this.props.toggleType&&this.props.toggleType===o.Button?this.renderTypeButton(this.props.size):this.renderTypeToggle()},n.prototype.renderTypeButton=function(e){var n=this.state.disableNotifications,i=n?z.t.NotificationBell:z.t.NotificationBellFilled,o=n?z.t.NotificationBellFilled:z.t.NotificationBellOff,t=$()({"live-notifications-wrapper--off":n,"live-notifications-wrapper--on":!n}),a=J(this.state.disableNotifications);return(0,l.jsx)(m.P,{className:"live-notifications__btn","data-a-target":t,children:(0,l.jsx)(y.DT,{ariaLabel:a,tabIndex:this.props.tabIndex||0,icon:i,iconOnHover:o,type:p.VQ.Secondary,onClick:this.toggleNotificationsEnabled,disabled:!this.state.isFollowing||!!this.props.disabled,background:w.VS.Base,tooltipText:this.props.showTooltips?J(this.state.disableNotifications):void 0,"data-a-target":"notifications-toggle",size:e})})},n.prototype.renderTypeToggle=function(){var e,n;return this.state.isFollowing?this.state.disableNotifications?(n="live-notifications-toggle__status-text--disabled",e=(0,k.hw)("Opt in to notifications to receive updates on this channel's activity, including when they go live.","LiveNotificationsToggle")):(n="live-notifications-toggle__status-text--enabled",e=(0,k.hw)("You will be notified on this channel's activity, including when they go live.","LiveNotificationsToggle")):(e=(0,k.hw)("Follow this channel to receive notifications when they go live.","LiveNotificationsToggle"),n="live-notifications-toggle__status-text--not-following"),(0,l.jsxs)(m.P,{color:w.Q1.Base,display:w.nl.Flex,flexWrap:w.I4.Wrap,children:[(0,l.jsxs)(m.P,{display:w.nl.Flex,flexWrap:w.I4.NoWrap,fullWidth:!0,justifyContent:w.A9.Between,children:[(0,l.jsx)(m.P,{display:w.nl.Flex,padding:{right:2},children:(0,l.jsx)("span",{children:(0,l.jsx)(Q.N,{fontSize:w.Z4.Size4,bold:!0,children:(0,k.hw)("Notifications","LiveNotificationsToggle")})})}),(0,l.jsx)(m.P,{display:w.nl.Flex,flexShrink:0,children:(0,l.jsx)(q.l,{onChange:this.toggleNotificationsEnabled,checked:!this.state.disableNotifications,"data-test-selector":"live-notifications-toggle__toggle","data-a-target":"notifications-toggle",disabled:!this.state.isFollowing||!!this.props.disabled})})]}),(0,l.jsx)(m.P,{display:w.nl.InlineFlex,padding:{bottom:1},children:(0,l.jsx)(Q.N,{type:Z.M2.Span,color:w.Q1.Alt2,"data-test-selector":n,children:e})})]})},n.prototype.getFollowData=function(){return this.props.followData||this.props.data&&this.props.data.user},n}(a.Component),oe=(0,s.Zz)((0,G._v)(ne(),{options:function(e){var n;return{variables:{login:null!==(n=e.channelLogin)&&void 0!==n?n:""}}},skip:function(e){return!(e.firstPageLoaded&&e.isLoggedIn&&e.channelLogin&&!e.followData)}}),(0,G._v)(X(),{name:"followUser"}))(ie);var te=(0,r.Ng)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isLoggedIn:(0,f.M3)(e),darkModeEnabled:(0,W.iR)(e)===M.S.Dark}}))(oe),le=i(734993),ae=function(e){var n,i=(0,a.useState)(!0),r=i[0],s=i[1],d=(0,a.useRef)(null),u=(0,a.useRef)(null),c=(0,a.useRef)(null),f=e.followUIType!==R.y.IconOnly,v=re(e),p=v.icon,N=v.iconOnHover,b=v.text,F=v.type,S=v.typeOnHover,D=v.onClick,x=v.selector,_=v.tooltipText,T=v.notifsTabIndex,E=v.showDialog,B=v.setShowDialog,U=(0,a.useState)(0),j=U[0],C=U[1],V=(0,a.useState)(0),O=V[0],L=V[1];(0,a.useLayoutEffect)((function(){var e,n,i;if((null===(e=d.current)||void 0===e?void 0:e.offsetWidth)&&(null===(n=u.current)||void 0===n?void 0:n.offsetWidth)&&(null===(i=c.current)||void 0===i?void 0:i.offsetWidth)){var o=d.current.offsetWidth,t=u.current.offsetWidth-o;C(o+8),L(t)}}),[]);var P=r?void 0:{durationMs:y.xt,delayMs:y.xt,easing:"ease-in"};return(0,l.jsx)(le.d,{"data-test-selector":R.T.FollowToggleTransformContainer,transformIf:!e.isFollowing,transformValues:{translateX:j},transition:P,children:(0,l.jsxs)(m.P,{display:w.nl.Flex,overflow:w.nE.Hidden,alignItems:w.k2.Center,fullHeight:!0,ref:c,children:[(0,l.jsx)(m.P,{borderRadius:g.Z.Rounded,display:w.nl.Flex,justifyContent:w.A9.Center,flexDirection:w.bo.Column,overflow:w.nE.Hidden,children:(0,l.jsx)(m.P,{display:w.nl.Flex,justifyContent:w.A9.Center,flexDirection:w.bo.Column,children:(0,l.jsx)(le.d,{"data-test-selector":R.T.FollowToggleTransformShift,transformIf:e.isFollowing,transformValues:{translateX:O},transition:P,children:(0,l.jsxs)(m.P,{display:w.nl.Flex,alignContent:w.Jx.Center,onMouseEnter:function(){return s(!1)},ref:u,children:[(0,l.jsx)(y.DT,{ariaLabel:e.isFollowing?(0,k.hw)("Unfollow {displayName}",{displayName:e.channelName||""},"AnimatedFollowToggleButtons"):(0,k.hw)("Follow {displayName}",{displayName:e.channelName||""},"AnimatedFollowToggleButtons"),disabled:!e.canFollow&&!e.isFollowing||e.isOwnPage,delayText:e.isFollowing?void 0:750,text:f?b:void 0,overlayButton:e.overlayButton,icon:p,iconOnHover:N,type:F,typeOnHover:S,onClick:D,isFollowing:e.isFollowing,isBlocked:e.isBlocked,preventTransition:r,"data-a-target":x,"data-test-selector":x,background:se(!!e.isFollowing,e.followButtonType),tooltipText:_}),e.isFollowing&&(0,l.jsx)(I,(0,t.__assign)({},e,{showUnfollowDialog:E,setShowUnfollowDialog:B}))]})})})}),!e.isOwnPage&&!e.hideNotificationButton&&(0,l.jsx)(h.S,{margin:{left:1},children:(0,l.jsx)(le.d,{transformIf:e.isFollowing,transformValues:{},fade:le.z.In,transition:{durationMs:y.xt,easing:"ease-in-out"},children:(0,l.jsx)("div",{ref:d,children:(0,l.jsx)(te,{onToggle:e.onToggleNotifications,channelLogin:e.channelLogin,toggleType:o.Button,tabIndex:T,tooltipDirection:e.tooltipDirection,followData:(null===(n=e.followData)||void 0===n?void 0:n.user)||void 0,showTooltips:e.showTooltips})})})})]})})},re=function(e){var n=H(e).onFollow,i=(0,a.useState)(!1),o=i[0],t=i[1],l={icon:A.Vg,iconOnHover:A.G$,text:(0,A.Nf)(),type:e.followButtonType||p.VQ.Primary,typeOnHover:void 0,onClick:n,selector:R.T.FollowButton,tooltipText:e.isBlocked?(0,A.CD)():(0,A.Nf)(),notifsTabIndex:-1,showDialog:!1,setShowDialog:function(){}},r={icon:A.cW,iconOnHover:A.vC,text:(0,A.Nf)(),type:p.VQ.Secondary,typeOnHover:p.VQ.Alert,onClick:function(){return t(!0)},selector:R.T.UnfollowButton,tooltipText:(0,A.Qz)(),notifsTabIndex:0,showDialog:o,setShowDialog:t};return e.isFollowing?r:l},se=function(e,n){var i=!!n&&n!==p.VQ.Primary;return e||i?w.VS.Base:w.VS.AccentAlt2},de=i(305528),ue=a.memo((function(e){switch(e.size){case p.Mp.Large:return(0,l.jsx)(de.Or,{width:e.fullWidthButton?void 0:95.8,height:36,borderRadius:g.Z.Rounded});case p.Mp.Small:return(0,l.jsx)(de.Or,{width:e.fullWidthButton?void 0:73.17,height:24,borderRadius:g.Z.Rounded});default:return(0,l.jsx)(de.Or,{width:e.fullWidthButton?void 0:80.09,height:30,borderRadius:g.Z.Rounded})}})),ce=i(27346),fe=a.forwardRef((function(e,n){var i,o,r,s=(0,A.Nf)(),d=H(e).onFollow,u=!1!==(null===(r=null===(o=null===(i=e.followData)||void 0===i?void 0:i.user)||void 0===o?void 0:o.self)||void 0===r?void 0:r.canFollow),c=e.followUIType!==R.y.IconOnly,f=e.followUIType!==R.y.TextOnly,v=(0,a.useState)(A.Vg),m=v[0],w=v[1];return(0,l.jsx)(p.$n,(0,t.__assign)({ref:n,disabled:!u,"aria-label":(0,k.hw)("Follow {displayName}",{displayName:e.channelName||""},"StandardFollowButton"),overlay:e.overlayButton,"data-a-target":R.T.FollowButton,icon:f?m:void 0,onClick:function(){var n;null===(n=e.onClick)||void 0===n||n.call(e),d()},size:e.size,tabIndex:e.tabIndex,variant:e.followButtonType||p.VQ.Primary,fullWidth:e.fullWidthButton,onMouseEnter:function(){!e.staticHollowIcons&&f&&w(A.G$)},onMouseLeave:function(){!e.staticHollowIcons&&f&&w(A.Vg)}},(0,ce.Fh)(e),{children:c?s:null}))})),ve=i(990998),me=i(885139),we=i(666311),ge=i(67813),he=i(723319),pe=i(324602),ke=a.forwardRef((function(e,n){var i,o=(0,A.Qz)(),r=e.unfollowUIType!==R.y.IconOnly,s=e.unfollowUIType!==R.y.TextOnly,d=(0,a.useState)((function(){return ve.g})),u=d[0],c=d[1],f=(0,a.useState)(null!==(i=e.unfollowButtonType)&&void 0!==i?i:p.VQ.Secondary),v=f[0],y=f[1],N=(0,a.useState)(!1),b=N[0],F=N[1],S=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.$n,{ref:n,icon:s?u:void 0,onMouseEnter:function(){!e.staticHollowIcons&&s&&c((function(){return me.L})),y(p.VQ.Alert)},onMouseLeave:function(){var n;!e.staticHollowIcons&&s&&c((function(){return ve.g})),y(null!==(n=e.unfollowButtonType)&&void 0!==n?n:p.VQ.Secondary)},onClick:function(){var n;null===(n=e.onClick)||void 0===n||n.call(e),F(!0)},tabIndex:e.tabIndex,"aria-label":(0,k.hw)("Unfollow {displayName}",{displayName:e.channelName||""},"StandardUnFollowButton"),size:e.size,"data-a-target":R.T.UnfollowButton,"data-test-selector":R.T.UnfollowButton,fullWidth:e.fullWidthButton,variant:v,children:r?o:null}),(0,l.jsx)(I,(0,t.__assign)({},e,{showUnfollowDialog:b,setShowUnfollowDialog:F}))]});return e.hideDropdownWhenFollowing?S:(0,l.jsxs)(m.P,{"data-test-selector":R.T.UnfollowButtonWithDropdown,onMouseLeave:function(){return e.setShowDropdown(!1)},fullWidth:!0,children:[(0,l.jsxs)(m.P,{display:w.nl.Flex,children:[(0,l.jsx)(h.S,{borderRadius:{bottomRight:g.Z.None,topRight:g.Z.None},children:S}),(0,l.jsx)(h.S,{position:w.yX.Absolute,children:(0,l.jsx)(we.f,{disabled:!0,dropdown:{onClick:function(){return e.setShowDropdown(!e.showDropdown)},"data-test-selector":R.T.UnfollowButtonDropdownToggleElement,tabIndex:e.tabIndex,"aria-label":(0,A.uu)(),"aria-expanded":e.showDropdown}})})]}),(0,l.jsx)(m.P,{position:w.yX.Absolute,zIndex:w.Py.Default,"data-test-selector":R.T.UnfollowButtonDropdown,children:(0,l.jsx)(ge.e,{show:e.showDropdown,type:he.ES.SlideOverTop,duration:he.Cf.Short,children:(0,l.jsx)(pe.fK,{size:pe.$V.Small,"data-a-target":"follow-notifications-balloon",children:(0,l.jsx)(m.P,{padding:1,children:(0,l.jsx)(te,{channelLogin:e.channelLogin})})})})})]})})),ye=(0,d.U)({name:"FollowButton",category:"discover"}),Ne=ye.Available,be=ye.Unavailable,Fe=(0,s.Zz)((0,v.W)("FollowButton"))((function(e){var n,i,o,s,d,c,v,m=null===(n=(0,r.d4)((function(e){return(0,f.wz)(e)})))||void 0===n?void 0:n.login,w=e.channelLogin===m,g=(0,a.useState)(!1),h=g[0],p=g[1],k=!(e.channelLogin&&!e.followData&&!w),y=(0,u.IT)(T(),{variables:{login:null!==(i=e.channelLogin)&&void 0!==i?i:""},skip:k}),N=y.data,b=y.error,F=y.loading,S=(0,a.useState)(null!==(o=e.followData)&&void 0!==o?o:N),D=S[0],x=S[1],_=Se((0,t.__assign)((0,t.__assign)({},e),{followData:D})).trackFollowEvent,I=(0,a.useState)(!!(null===(d=null===(s=null==D?void 0:D.user)||void 0===s?void 0:s.self)||void 0===d?void 0:d.follower)),E=I[0],B=I[1],U=(0,a.useState)(!1),j=U[0],C=U[1],V=(0,a.useState)(!1),O=V[0],L=V[1],P=(0,a.useRef)(null),A=(0,a.useRef)(null);if((0,a.useEffect)((function(){var e,n;if(j&&document.activeElement===document.body){C(!1);var i=null!==(n=null!==(e=P.current)&&void 0!==e?e:A.current)&&void 0!==n?n:null;null==i||i.focus()}}),[E,j]),(0,a.useEffect)((function(){var e,n;N&&(x(N),B(!!(null===(n=null===(e=N.user)||void 0===e?void 0:e.self)||void 0===n?void 0:n.follower)))}),[N]),(0,a.useEffect)((function(){(k||D&&!F)&&e.latencyTracking.reportInteractive()})),w||E&&e.hideWhenFollowing)return null;if(!D&&(b||N&&!N.user)&&!k&&!F)return(0,l.jsx)(be,{reason:b?(null==b?void 0:b.message)||"error from GQL":"no user"});if(e.showLoadingPlaceholder&&(!D||F))return(0,l.jsx)(ue,{size:e.size,fullWidthButton:e.fullWidthButton});var H=!1!==(null===(v=null===(c=null==D?void 0:D.user)||void 0===c?void 0:c.self)||void 0===v?void 0:v.canFollow),R=(0,t.__assign)((0,t.__assign)({},e),{followData:D,isOwnPage:w,isFollowing:E,canFollow:H,currentUserLogin:m,trackFollowEvent:_,onFollow:function(n){var i;null===(i=e.onFollow)||void 0===i||i.call(e,n),p(!0)},showDropdown:h,setShowDropdown:p,isBlocked:O,setIsBlocked:L});return e.animatedButton?(0,l.jsx)(Ne,{children:(0,l.jsx)(ae,(0,t.__assign)({},R))}):E?(0,l.jsx)(Ne,{children:(0,l.jsx)(ke,(0,t.__assign)({},R,{ref:A,onClick:function(){C(!0)},onSubmit:function(){B(!1)}}))}):(0,l.jsx)(Ne,{children:(0,l.jsx)(fe,(0,t.__assign)({},R,{ref:P,onClick:function(){C(!0)},onSubmit:function(){B(!0)}}))})})),Se=function(e){var n=(0,r.d4)((function(e){return e.ui.theatreModeEnabled}));return{trackFollowEvent:function(i){var o;(null===(o=e.followData)||void 0===o?void 0:o.user)&&(0,c.hM)(i,{channelLogin:e.followData.user.login,channelID:e.followData.user.id,src:e.followSource||c.jH.Channel,screen_state:n?c.iv.Theater:c.iv.Regular,content_type:e.followContentType})}}}},308129:function(e,n,i){"use strict";i.d(n,{DT:function(){return k},xt:function(){return p}});var o,t=i(331635),l=i(474848),a=i(959340),r=i(914421),s=i(97774),d=i(564368),u=i(27346),c=i(216042),f=i(411547),v=i(552400),m=i(731667),w=i(10982),g=i(296540),h=i(734993),p=200;!function(e){e.IconTransform="icon-transform",e.TextTransform="text-transform"}(o||(o={}));var k=function(e){var n=(0,g.useRef)(),i=y(e,n),w=i.icon,k=i.iconOnHover,N=i.isFocused,b=i.isIconAnimationEnabled,F=i.offsetPixels,S=i.text,D=i.transitionOn,x=i.fadeText,_=i.onClick,T=i.onFocus,I=i.onBlur,E=i.onIconAnimationComplete,B=i.textRef,U=void 0===e.fullWidthButton||e.fullWidthButton,j=N&&e.typeOnHover?e.typeOnHover:e.type,C=!e.isBlocked&&(!1===e.isFollowing||!e.tooltipText||e.disabled)&&void 0!==S,V=e.text?.5:0,O=Math.abs(F)>15,L=D?p:0;return(0,l.jsx)(a.P,{overflow:r.nE.Hidden,background:e.background,borderRadius:s.Z.Rounded,display:r.nl.InlineFlex,children:(0,l.jsx)(d.$n,(0,t.__assign)({ref:function(e){return n.current=null!=e?e:void 0},fullWidth:U,overlay:e.overlayButton,onClick:_,variant:j,tabIndex:e.tabIndex,"aria-label":e.ariaLabel,disabledInteraction:e.disabled,size:e.size||d.Mp.Default,onMouseEnter:function(){return T("mouse")},onMouseLeave:I,onFocus:function(){return T("other")},onBlur:I},(0,u.Fh)(e),{children:(0,l.jsxs)(a.P,{display:r.nl.Flex,justifyContent:r.A9.Center,alignItems:r.k2.Center,children:[(0,l.jsx)(c.S,{display:r.nl.Flex,justifyContent:r.A9.Center,alignItems:r.k2.Center,margin:{right:V},fullHeight:!0,children:(0,l.jsx)(h.d,{"data-test-selector":o.IconTransform,transformIf:N||O,transformValues:{scale:N?1.2:void 0,translateX:O?F/2:void 0},transition:{durationMs:L,easing:"ease"},children:(0,l.jsx)(f.X5,{enabled:b,onAnimationEnd:E,duration:f.J6.Long,type:f.as.BounceIn,children:(0,l.jsx)(a.P,{display:r.nl.Flex,justifyContent:r.A9.Center,alignItems:r.k2.Center,children:(0,l.jsx)(v.m,{label:e.tooltipText,enterDelay:0,disabled:C,show:e.isBlocked&&!e.isFollowing||N&&!C,options:{placement:"top"},children:(0,l.jsx)(m.t,{type:m.H.Inherit,asset:N&&k?k:w})})})})})}),S&&(0,l.jsx)("span",{ref:B,children:(0,l.jsx)(h.d,{"data-test-selector":o.TextTransform,transformIf:x,fade:h.z.Out,transformValues:{},transition:{durationMs:e.disableTextAnimation?0:L,easing:"ease"},children:S})})]})}))})},y=function(e,n){var i=(0,g.useState)(e.text),o=i[0],t=i[1],l=(0,g.useState)(e.text),a=l[0],r=l[1],s=(0,g.useState)(!1),d=s[0],u=s[1],c=(0,g.useState)(!e.preventTransition),f=c[0],v=c[1],m=(0,g.useState)(0),h=m[0],p=m[1],k=(0,g.useState)(e.icon),y=k[0],N=k[1],b=(0,g.useState)(e.iconOnHover),F=b[0],S=b[1],D=(0,g.useState)(!1),x=D[0],_=D[1],T=(0,g.useState)(!(!h&&!e.isFollowing)),I=T[0],E=T[1],B=(0,g.useRef)("other"),U=(0,g.useRef)(null),j=(0,g.useRef)(),C=e.onAnimationEnd,V=function(){t(e.text||""),u(!1)};!function(e,n,i,o){var t=e&&"mouse"===n.current;(0,w.$)((function(){var e;(null===(e=null==o?void 0:o.current)||void 0===e?void 0:e.matches(":hover"))||i()}),t?200:0)}(d,B,V,n);return(0,g.useEffect)((function(){N(e.icon),_(!0)}),[e.icon]),(0,g.useEffect)((function(){S(e.iconOnHover),_(!0)}),[e.iconOnHover]),(0,g.useEffect)((function(){var n,i,o;r(e.text),U.current&&(j.current=(null===(o=null===(i=(n=U.current).getBoundingClientRect)||void 0===i?void 0:i.call(n))||void 0===o?void 0:o.width)||U.current.offsetWidth)}),[e.text]),(0,g.useEffect)((function(){e.text&&setTimeout((function(){E(!!e.isFollowing)}),150)}),[e.isFollowing,e.text]),(0,g.useEffect)((function(){if(o){var n=e.delayText||0;if(!(n<=0)){var i=setTimeout((function(){r(o),t("")}),n);return function(){return clearTimeout(i)}}r(o),t("")}}),[e.delayText,d,o]),(0,g.useEffect)((function(){var e=setTimeout((function(){null==C||C(),u(!1)}),0);return function(){return clearTimeout(e)}}),[x,C]),(0,g.useEffect)((function(){var e,n,i;if(U.current){var o=null!==(i=null===(n=(e=U.current).getBoundingClientRect)||void 0===n?void 0:n.call(e).width)&&void 0!==i?i:U.current.offsetWidth;j.current&&p(o-j.current),j.current=o,requestAnimationFrame((function(){requestAnimationFrame((function(){p(0)}))}))}}),[j,p,U]),{icon:y,iconOnHover:F,isFocused:d,isIconAnimationEnabled:x,offsetPixels:h,text:a,textBuffer:o,transitionOn:f,fadeText:I,onClick:function(n){var i;x||(u(!0),null===(i=e.onClick)||void 0===i||i.call(e,n))},onFocus:function(n){var i;B.current=n;var o=e.text||"";t(null!==(i=e.textOnHover)&&void 0!==i?i:o),u(!0),v(!0)},onBlur:V,onIconAnimationComplete:function(){return _(!1)},textRef:U}}},101966:function(e,n,i){"use strict";i.d(n,{CD:function(){return f},G$:function(){return s},Hm:function(){return m},Nf:function(){return a},OP:function(){return v},Qw:function(){return w},Qz:function(){return d},Vg:function(){return r},cW:function(){return u},uu:function(){return g},vC:function(){return c}});var o=i(759369),t=i(267924),l=i(478260),a=function(){return(0,l.hw)("Follow","FollowButton")},r=o.t.FollowHollow,s=o.t.Heart,d=function(){return(0,l.hw)("Unfollow","FollowButton")},u=o.t.Heart,c=o.t.Unheart,f=function(){return(0,l.hw)("Slow down! Try following more channels later.","FollowButton")},v=function(e){return(0,l.hw)("You're at the channel follow limit. Unfollow another channel to follow {channelName}.",{channelName:e},"FollowButton")},m=function(e){return(0,l.hw)("You cannot follow {channelName} right now.",{channelName:e},"FollowButton")},w=function(e,n){switch(n){case t.aHg.UNVERIFIED_EMAIL:return(0,l.hw)("You cannot follow {channelName} because you have not verified an email address.",{channelName:e},"FollowButton");case t.aHg.UNVERIFIED_PHONE:return(0,l.hw)("You cannot follow {channelName} because you have not verified a phone number.",{channelName:e},"FollowButton");case t.aHg.UNVERIFIED_PHONE_AND_EMAIL:return(0,l.hw)("You cannot follow {channelName} because you have not verified an email address and phone number.",{channelName:e},"FollowButton");default:return""}},g=function(){return(0,l.hw)("Notification Settings","FollowButton")}},134117:function(e,n,i){"use strict";var o,t;i.d(n,{T:function(){return t},y:function(){return o}}),function(e){e[e.IconOnly=0]="IconOnly",e[e.TextOnly=1]="TextOnly",e[e.IconAndText=2]="IconAndText"}(o||(o={})),function(e){e.UnfollowButton="unfollow-button",e.UnfollowButtonWithDropdown="unfollow-button--with-dropdown",e.UnfollowButtonDropdown="unfollow-button__dropdown",e.UnfollowButtonDropdownToggleElement="unfollow-button__dropdown-toggle",e.FollowButton="follow-button",e.FollowToggleTransformContainer="follow-toggle-transform-container",e.FollowToggleTransformShift="follow-toggle-transform-shift"}(t||(t={}))},929789:function(e,n,i){"use strict";i.d(n,{x:function(){return t}});var o=i(478260),t=function(e){return!!e&&"treatment"===o.x2.experiments.__hardcodedStaleExperiment("chmod-vf","treatment")}},929477:function(e,n,i){"use strict";i.d(n,{Bj:function(){return s},aI:function(){return r},eh:function(){return a}});var o=i(331635),t=i(478260),l=i(881554);function a(e){var n=r();return null===n?e:(0,o.__assign)((0,o.__assign)({},e),n)}function r(){var e=t.x2.router.state.location.state;return e&&"search"===e.medium?(0,o.__assign)((0,o.__assign)({},s()),{medium:e.medium,content:e.content}):null}function s(){var e,n=t.x2.router.state.location.state;return(e={})[l.I6]=n&&n[l.I6],e[l.oK]=n&&n[l.oK],e[l.f7]=n&&n[l.f7],e.previous_search_query_id=n&&n.previous_search_query_id,e}}}]);