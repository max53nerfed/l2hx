!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="47596295-4512-456e-9237-56d01556db4c",e._sentryDebugIdIdentifier="sentry-dbid-47596295-4512-456e-9237-56d01556db4c")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[25470],{520309:function(e,t,n){"use strict";n.d(t,{F:function(){return w}});var i=n(331635),r=n(190135),o=n(282284),s=n(820150),a=new Map,c=new Map,u=!0,l=!1;function h(e){return e.replace(/[\s,]+/g," ").trim()}function p(e){var t=new Set,n=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var i=e.name.value,r=h((s=e.loc).source.body.substring(s.start,s.end)),o=c.get(i);o&&!o.has(r)?u&&console.warn("Warning: fragment with name "+i+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||c.set(i,o=new Set),o.add(r),t.has(r)||(t.add(r),n.push(e))}else n.push(e);var s})),(0,i.__assign)((0,i.__assign)({},e),{definitions:n})}function f(e){var t=h(e);if(!a.has(t)){var n=(0,s.qg)(e,{experimentalFragmentVariables:l,allowLegacyFragmentVariables:l});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");a.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var i=e[n];i&&"object"===(0,o.A)(i)&&t.add(i)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}(p(n)))}return a.get(t)}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var i=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?i+=t.loc.source.body:i+=t,i+=e[n+1]})),f(i)}var v,y=d,m=function(){a.clear(),c.clear()},b=function(){u=!1},_=function(){l=!0},x=function(){l=!1};(v=d||(d={})).gql=y,v.resetCaches=m,v.disableFragmentWarnings=b,v.enableExperimentalFragmentVariables=_,v.disableExperimentalFragmentVariables=x,d.default=d;var E=d,w=new(function(){function e(){var e=this;this.apiUrl="https://api.twitch.tv",this.gqlUrl="https://gql.twitch.tv",this.clientId="b31o4btkqth5bzbvr9ub2ovr79umhh",this.defaultHeaders={"Content-Type":"application/json","Client-ID":this.clientId},this.setApiOptions=function(t){e.apiUrl=t.apiUrl?t.apiUrl:e.apiUrl,e.authToken=t.authToken?t.authToken:void 0,e.graphQLRequestOverride=t.graphQLRequestOverride?t.graphQLRequestOverride:e.graphQLRequestOverride}}return e.prototype.authRequest=function(e){return this.authToken&&!(e.headers.get("Authorization")||"").includes("OAuth")&&e.headers.append("Authorization","OAuth ".concat(this.authToken)),this.doRequest(e)},e.prototype.doRequest=function(e){return fetch(e).then(this.checkError).then((function(e){return e.json()}))},e.prototype.newRequest=function(e,t){t.headers=new Headers((0,i.__assign)((0,i.__assign)({},this.defaultHeaders),t.headers));var n=t.apiUrl?t.apiUrl:this.apiUrl,r="".concat(n).concat(e);return new Request(r,t)},e.prototype.graphQLRequest=function(e,t){if(this.graphQLRequestOverride){var n;try{n=E(e)}catch(e){throw new Error("Unable to parse extension-coordinator query: ".concat(e))}return this.graphQLRequestOverride(n,t)}var o=(0,i.__assign)({},this.defaultHeaders);return this.authToken&&(o.Authorization="OAuth ".concat(this.authToken)),new r.GraphQLClient("".concat(this.gqlUrl,"/gql"),{headers:o}).request(e,t)},e.prototype.checkError=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t},e}())},458326:function(e,t,n){"use strict";n.d(t,{Be:function(){return s},SP:function(){return o},dK:function(){return a}});var i=n(331635),r=n(520309),o=function(e,t,n,o){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var s,a,c,u,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,r.F.graphQLRequest("\nmutation LinkUserMutation(\n  $channelID: ID!\n  $extensionID: ID!\n  $token: String!\n  $showUser: Boolean!\n) {\n  extensionLinkUser(input: {\n    channelID: $channelID,\n    extensionID: $extensionID,\n    jwt: $token,\n    showUser: $showUser,\n  }) {\n    token {\n      extensionID\n      jwt\n    }\n    helixToken {\n      jwt\n    }\n  }\n}\n",{channelID:e,extensionID:t,token:n,showUser:o})];case 1:if(s=i.sent(),!(null===(c=null===(a=null==s?void 0:s.extensionLinkUser)||void 0===a?void 0:a.token)||void 0===c?void 0:c.jwt))throw new Error("JWT missing from GQL link payload");if(!(null===(l=null===(u=null==s?void 0:s.extensionLinkUser)||void 0===u?void 0:u.helixToken)||void 0===l?void 0:l.jwt))throw new Error("Helix JWT missing from GQL link payload");return[2,{token:s.extensionLinkUser.token.jwt,helix_token:s.extensionLinkUser.helixToken.jwt}]}}))}))},s=function(e,t){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n,o,s,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=t.payload.channel_id,[4,r.F.graphQLRequest("\nmutation RefreshExtensionTokenMutation(\n  $extensionID: ID!\n  $channelID: ID!\n  $jwt: String!\n) {\n  refreshExtensionToken(input: {\n    extensionID: $extensionID,\n    channelID: $channelID,\n    jwt: $jwt\n  }) {\n    token {\n      jwt\n    }\n  }\n}\n",{extensionID:e,channelID:n,jwt:t.token})];case 1:if(o=i.sent(),!(null===(a=null===(s=null==o?void 0:o.refreshExtensionToken)||void 0===s?void 0:s.token)||void 0===a?void 0:a.jwt))throw new Error("error refreshing Extension JWT");return[2,{token:o.refreshExtensionToken.token.jwt}]}}))}))},a=function(e,t){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n,o,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,r.F.graphQLRequest("\nmutation RefreshExtensionHelixTokenMutation(\n  $extensionID: ID!\n  $jwt: String!\n) {\n  refreshExtensionHelixToken(input: {\n    extensionID: $extensionID,\n    jwt: $jwt\n  }) {\n    token {\n      jwt\n    }\n  }\n}\n",{extensionID:e,jwt:t})];case 1:if(n=i.sent(),!(null===(s=null===(o=null==n?void 0:n.refreshExtensionHelixToken)||void 0===o?void 0:o.token)||void 0===s?void 0:s.jwt))throw new Error("error refreshing Helix JWT");return[2,n.refreshExtensionHelixToken.token.jwt]}}))}))}},569886:function(e,t,n){"use strict";n.d(t,{gz:function(){return s},lV:function(){return i}});n(571369);var i,r=n(536455),o=n(520309);!function(e){e.Square100="100x100",e.Square24="24x24",e.DiscoverySplash="300x200"}(i||(i={}));var s=function(e,t,n){var i=new r.I;i.append("vendor_code",e),i.append("sku",t),i.append("language",n);var s="/".concat("v5","/extensions/products?").concat(i),a=o.F.newRequest(s,{method:"GET"});return o.F.authRequest(a)}},116404:function(e,t,n){"use strict";n.d(t,{a:function(){return u}});var i=n(331635),r=n(520309),o=n(569886),s=n(124051),a=n(352564),c=n(665265),u=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,n,u,l,h;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,r.F.graphQLRequest("\nquery CoordinatorExtensionsForChannel($channelID: ID!) {\n  user(id: $channelID) {\n    id\n    channel {\n      id\n      selfInstalledExtensions {\n        ...extensionInstallationSelfEdge\n      }\n    }\n  }\n}\n\nfragment extensionInstallationSelfEdge on ExtensionInstallationSelfEdge {\n  installation {\n    id\n    extension {\n      ...extension\n    }\n    abilities {\n      isChatEnabled\n      isBitsEnabled\n      isSubscriptionStatusAvailable\n    }\n    activationConfig {\n      anchor\n      slot\n      state\n      x\n      y\n    }\n    self {\n      canActivate\n    }\n  }\n  token {\n    extensionID\n    jwt\n  }\n  helixToken {\n    extensionID\n    jwt\n  }\n  configuration {\n    extensionID\n    broadcaster {\n      version\n      content\n    }\n    developer {\n      version\n      content\n    }\n    global {\n      version\n      content\n    }\n  }\n  issuedAt\n}\n\nfragment extension on Extension {\n  authorName\n  clientID\n  description\n  hasIdentityLinking\n  iconURLs {\n    ...extensionIconURLs\n  }\n  id\n  isBitsEnabled\n  name\n  sku\n  summary\n  # viewerSummary isn't returned from gql. fix this\n  vendorCode\n  version\n  views {\n    ...extensionViews\n  }\n  state\n  whitelistedConfigURLs\n  whitelistedPanelURLs\n}\n\nfragment extensionIconURLs on ExtensionIcons {\n  square100\n  square24\n  discoverySplash\n}\n\nfragment extensionViews on ExtensionViews {\n  component {\n    viewerURL\n    canLinkExternalContent\n    aspectRatioX\n    aspectRatioY\n    targetHeight\n    hasAutoscale\n    scalePixels\n  }\n  config {\n    canLinkExternalContent\n    viewerURL\n  }\n  hidden {\n    canLinkExternalContent\n    viewerURL\n  }\n  liveConfig {\n    canLinkExternalContent\n    viewerURL\n  }\n  mobile {\n    viewerURL\n  }\n  panel {\n    canLinkExternalContent\n    height\n    viewerURL\n  }\n  videoOverlay {\n    canLinkExternalContent\n    viewerURL\n  }\n}\n",{channelID:e})];case 1:return t=i.sent(),n=null===(h=null===(l=null==t?void 0:t.user)||void 0===l?void 0:l.channel)||void 0===h?void 0:h.selfInstalledExtensions,u={installed_extensions:[],tokens:[],configurations:{},issued_at:""},n?[2,n.reduce((function(e,t){var n,i,r,u,l,h,p,f,d,v,y,m,b,_=t.installation,x=t.token,E=t.helixToken,w=t.configuration,g=t.issuedAt;if(e.issued_at=null!=g?g:e.issued_at,_){var T=_.extension,k=_.abilities,S=_.activationConfig;e.installed_extensions.push({extension:{author_name:T.authorName,bits_enabled:T.isBitsEnabled,description:T.description,icon_urls:(n={},n[o.lV.Square24]=T.iconURLs.square24,n[o.lV.Square100]=T.iconURLs.square100,n[o.lV.DiscoverySplash]=T.iconURLs.discoverySplash,n),id:T.clientID,name:T.name,request_identity_link:T.hasIdentityLinking,sku:T.sku,summary:T.summary,vendor_code:T.vendorCode,version:T.version,viewer_summary:T.summary,views:{component:T.views.component?{viewer_url:T.views.component.viewerURL,aspect_height:0,aspect_width:0,size:0,zoom:!1,zoom_pixels:0,can_link_external_content:T.views.component.canLinkExternalContent,aspect_ratio_x:T.views.component.aspectRatioX,aspect_ratio_y:T.views.component.aspectRatioY,target_height:T.views.component.targetHeight,autoscale:T.views.component.hasAutoscale,scale_pixels:null!==(i=T.views.component.scalePixels)&&void 0!==i?i:0}:void 0,config:T.views.config?{can_link_external_content:T.views.config.canLinkExternalContent,viewer_url:T.views.config.viewerURL}:void 0,hidden:T.views.hidden?{can_link_external_content:T.views.hidden.canLinkExternalContent,viewer_url:T.views.hidden.viewerURL}:void 0,live_config:T.views.liveConfig?{can_link_external_content:T.views.liveConfig.canLinkExternalContent,viewer_url:T.views.liveConfig.viewerURL}:void 0,mobile:T.views.mobile?{viewer_url:T.views.mobile.viewerURL}:void 0,panel:T.views.panel?{can_link_external_content:T.views.panel.canLinkExternalContent,height:T.views.panel.height,viewer_url:T.views.panel.viewerURL}:void 0,video_overlay:T.views.videoOverlay?{can_link_external_content:T.views.videoOverlay.canLinkExternalContent,viewer_url:T.views.videoOverlay.viewerURL}:void 0},state:null!==(r=(0,c.U_)(T.state))&&void 0!==r?r:s.HY.Uploading,whitelisted_config_urls:T.whitelistedConfigURLs,whitelisted_panel_urls:T.whitelistedPanelURLs},installation_status:{abilities:{is_bits_enabled:k.isBitsEnabled,is_chat_enabled:k.isChatEnabled,is_subscription_status_available:k.isSubscriptionStatusAvailable},activation_config:{anchor:(0,c.XB)(null!==(u=S.anchor)&&void 0!==u?u:a.RQ.HIDDEN),slot:null!==(l=S.slot)&&void 0!==l?l:"",x:null!==(h=S.x)&&void 0!==h?h:void 0,y:null!==(p=S.y)&&void 0!==p?p:void 0},activation_state:(0,c.Vu)(S.state),can_activate:null!==(d=null===(f=_.self)||void 0===f?void 0:f.canActivate)&&void 0!==d&&d,extension_id:T.clientID}})}return x?e.tokens.push({extension_id:x.extensionID,token:x.jwt,helix_token:null!==(v=null==E?void 0:E.jwt)&&void 0!==v?v:""}):E&&e.tokens.push({extension_id:E.extensionID,token:"",helix_token:null==E?void 0:E.jwt}),w&&(e.configurations[w.extensionID]={broadcaster:(null===(y=w.broadcaster)||void 0===y?void 0:y.content)?w.broadcaster:void 0,developer:(null===(m=w.developer)||void 0===m?void 0:m.content)?w.developer:void 0,global:(null===(b=w.global)||void 0===b?void 0:b.content)?w.global:void 0}),e}),u)]:[2,u]}}))}))}},237698:function(e,t,n){"use strict";var i,r,o,s,a,c,u;n.d(t,{Fw:function(){return s},HY:function(){return c},IX:function(){return l},Z1:function(){return o},d$:function(){return h},sh:function(){return r},z$:function(){return a}}),function(e){e.Active="active",e.Inactive="inactive"}(r||(r={})),function(e){e.Hidden="hidden",e.Panel="panel",e.Overlay="video_overlay",e.Component="component"}(o||(o={})),function(e){e.Config="config",e.Dashboard="dashboard",e.Viewer="viewer"}(s||(s={})),function(e){e.Mobile="mobile",e.Web="web"}(a||(a={})),function(e){e.Testing="Testing",e.HostedTest="Assets Uploaded",e.Approved="Approved",e.Released="Released",e.ReadyForReview="Ready For Review",e.InReview="In Review",e.PendingAction="Pending Action",e.Uploading="Uploading"}(c||(c={})),function(e){e.Testing="testing",e.HostedTest="hosted_test",e.Approved="approved",e.Released="released",e.ReadyForReview="ready_for_review",e.InReview="in_review",e.PendingAction="pending_action",e.Uploading="uploading"}(u||(u={}));var l,h=((i={})[c.Testing]=u.Testing,i[c.HostedTest]=u.HostedTest,i[c.Approved]=u.Approved,i[c.Released]=u.Released,i[c.ReadyForReview]=u.ReadyForReview,i[c.InReview]=u.InReview,i[c.PendingAction]=u.PendingAction,i[c.Uploading]=u.Uploading,i);!function(e){e.TwitchExtAuth="twitch-ext-auth",e.TwitchExtBootstrap="twitch-ext-bootstrap",e.TwitchExtContext="twitch-ext-context",e.TwitchExtError="twitch-ext-error",e.TwitchExtLoaded="twitch-ext-loaded",e.TwitchExtLongtask="twitch-ext-longtask",e.TwitchExtNetworkTiming="twitch-ext-network-timing",e.TwitchExtReload="twitch-ext-reload",e.TwitchExtUserAction="twitch-ext-user-action",e.TwitchExtConfirmationRequest="twitch-ext-confirmation-request",e.TwitchExtBeginPurchase="twitch-ext-begin-purchase",e.TwitchExtReloadEntitlements="twitch-ext-reload-entitlements",e.TwitchExtProductPrices="twitch-ext-product-prices",e.TwitchExtVisibilityChanged="twitch-ext-visibility-changed",e.TwitchExtHighlightChanged="twitch-ext-highlight-changed",e.TwitchExtBitsProducts="twitch-ext-bits-products",e.TwitchExtUseBits="twitch-ext-use-bits",e.TwitchExtBitsTransactionComplete="twitch-ext-bits-transaction-complete",e.TwitchExtBitsOnHover="twitch-ext-bits-on-hover",e.TwitchExtPubSubReceived="twitch-ext-pubsub-received",e.TwitchExtPositionChanged="twitch-ext-position-changed",e.TwitchExtPubsubMessage="twitch-ext-pubsub-message",e.TwitchExtPubsubBindFailure="twitch-ext-pubsub-bind-failure",e.TwitchExtPubsubListen="twitch-ext-pubsub-listen",e.TwitchExtPubsubUnlisten="twitch-ext-pubsub-unlisten",e.TwitchExtViewerUpdate="twitch-ext-viewer-update",e.TwitchExtCustomTrackEvent="twitch-ext-custom-track-event",e.TwitchExtCallbackRequest="twitch-ext-callback-request",e.TwitchExtCallbackResponse="twitch-ext-callback-response",e.TwitchExtClientError="twitch-ext-client-error"}(l||(l={}))},834302:function(e,t,n){"use strict";var i;n.d(t,{t:function(){return i}}),function(e){e.LoginRequest="twitch-ext-login-request",e.FollowAction="twitch-ext-follow-action",e.FollowComplete="twitch-ext-follow-complete",e.FollowStatusRequest="twitch-ext-follow-status",e.FollowStatusResponse="twitch-ext-follow-status-response",e.IdShareRequest="twitch-ext-id-share-request",e.TwitchExtMinimize="twitch-ext-minimize",e.UseBitsPromptRequired="twitch-ext-use-bits",e.SubscribeToChannel="twitch-ext-subscribe-to-channel",e.SubscribeToChannelResult="twitch-ext-subscribe-to-channel-result",e.UseBits="twitch-ext-use-bits",e.UseBitsComplete="twitch-ext-use-bits-complete",e.ConditionParticipantsRequest="twitch-ext-condition-participants-request",e.ConditionParticipantsResponse="twitch-ext-condition-participants-response",e.ConditionsRequest="twitch-ext-conditions-request",e.ConditionsResponse="twitch-ext-conditions-response",e.CreateConditionRequest="twitch-ext-create-condition-request",e.CreateConditionResponse="twitch-ext-create-condition-response",e.ConditionConfirmationRequest="twitch-ext-condition-confirmation-request",e.ConditionConfirmationResponse="twitch-ext-condition-confirmation-response"}(i||(i={}))},124051:function(e,t,n){"use strict";n.d(t,{MN:function(){return u.MN},E_:function(){return u.E_},IX:function(){return r.IX},sh:function(){return r.sh},Z1:function(){return r.Z1},HX:function(){return l},WN:function(){return s},Fw:function(){return r.Fw},z$:function(){return r.z$},MB:function(){return c},HY:function(){return r.HY},d$:function(){return r.d$},tv:function(){return o.t},E1:function(){return u.E1},sg:function(){return u.sg},Nm:function(){return u.Nm},LS:function(){return a},bP:function(){return i}});var i,r=n(237698),o=n(834302);!function(e){e.SupervisorReady="supervisor-ready",e.SupervisorInit="supervisor-init"}(i||(i={}));var s,a,c;!function(e){e.ExtensionFrameLoaded="extensionFrameLoaded",e.IdentityLinked="identityLinked",e.Minimize="minimize",e.RequestModal="requestModal",e.ShowBitsBalance="showBitsBalance",e.ShowUseBitsSuccess="showUseBitsSuccess",e.UseBitsError="useBitsError",e.ExtensionClientError="extensionClientError"}(s||(s={})),function(e){e.Video="video",e.Audio="audio",e.Remote="remote",e.ChatOnly="chat-only"}(a||(a={})),function(e){e.RequestModal="requestModal",e.ContextUpdate="contextupdate"}(c||(c={}));var u=n(23042),l=[i.SupervisorReady,r.IX.TwitchExtLoaded,r.IX.TwitchExtLongtask,r.IX.TwitchExtUserAction,r.IX.TwitchExtNetworkTiming,r.IX.TwitchExtBeginPurchase,r.IX.TwitchExtBitsOnHover,r.IX.TwitchExtUseBits,r.IX.TwitchExtPubSubReceived,r.IX.TwitchExtPubsubListen,r.IX.TwitchExtPubsubUnlisten,r.IX.TwitchExtCallbackRequest,r.IX.TwitchExtCustomTrackEvent,o.t.FollowAction,o.t.FollowStatusRequest,o.t.IdShareRequest,o.t.TwitchExtMinimize,o.t.UseBits,o.t.SubscribeToChannel,o.t.ConditionParticipantsRequest,o.t.ConditionsRequest,o.t.CreateConditionRequest,o.t.ConditionConfirmationRequest]},23042:function(e,t,n){"use strict";var i,r,o;n.d(t,{E1:function(){return l},E_:function(){return s},KA:function(){return i},MN:function(){return a},Nm:function(){return c},sg:function(){return u}}),function(e){e.UseBitsLinkUserFailure="extension_use_bits_link_user_fail",e.UseBitsUserIneligible="extension_use_bits_user_ineligible",e.UseBitsFailure="extension_use_bits_fail",e.UseBitsInitialization="extension_use_bits_init",e.UseBitsConfirmation="extension_use_bits_confirm",e.UseBitsSuccess="extension_use_bits_success"}(i||(i={})),function(e){e.Click="click",e.Hover="hover",e.Tap="tap",e.Swipe="swipe",e.Impression="impression",e.Other="other"}(r||(r={})),function(e){e.Access="access",e.Content="content",e.Reward="reward",e.Bits="bits",e.Interact="interact",e.Account="account",e.Configuration="configuration",e.StreamManager="stream-mgr",e.Error="error",e.Other="other"}(o||(o={}));var s=Object.keys(r).map((function(e){return r[e]})),a=Object.keys(o).map((function(e){return o[e]})),c=1e3,u=32,l=100},265215:function(e,t,n){"use strict";n.d(t,{Gt:function(){return i},vE:function(){return c}});var i,r=n(331635),o=n(277008),s=n(124051),a=n(80803);!function(e){e.Context="context"}(i||(i={}));var c=function(e){function t(t,n){void 0===n&&(n="en");var o=e.call(this)||this;return o.extensionService=t,o.language=n,o.context={},o.isContextInitialized=!1,o.destroy=function(){o.extensionService.off(s.MB.ContextUpdate,o.updateLocalContext)},o.initializeContext=function(){o.isContextInitialized=!0,o.emit(i.Context,o.context,Object.keys(o.context))},o.getPlayerContext=function(){var e=o.extensionService.player;if(!e)return{};var t=e.getPlaybackStats();return{playerChannel:e.getChannel(),bitrate:t.playbackRate,bufferSize:t.bufferSize,displayResolution:t.displayResolution,hlsLatencyBroadcaster:t.hlsLatencyBroadcaster,isFullScreen:e.getFullscreen(),isPaused:e.isPaused(),isTheatreMode:e.getTheatre(),videoResolution:t.videoResolution,isMuted:e.getMuted(),volume:e.getVolume()}},o.getBaseContext=function(){return{language:o.language}},o.updateLocalContext=function(e){void 0===e&&(e={});var t=(0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({},o.context),o.getPlayerContext()),e),o.getBaseContext());void 0!==t.theme&&(t.theme=o.translateTheme(t.theme)),o.diffAndEmitContext(t)},o.diffAndEmitContext=function(e){var t=o.context;if(o.context=e,o.isContextInitialized){var n=Object.keys(e).reduce((function(n,i){return t[i]!==e[i]&&n.push(i),n}),[]);n.length>0&&o.emit(i.Context,e,n)}},o.translateTheme=function(e){return"number"==typeof e?a.St[e]||a.Sx.Light:e},o.extensionService.on(s.MB.ContextUpdate,o.updateLocalContext),o.context=o.getBaseContext(),o.context.theme=(0,a.O4)(),o.context.isVideoAdShowing=!1,o}return(0,r.__extends)(t,e),t}(o.EventEmitter)},352564:function(e,t,n){"use strict";var i,r,o;n.d(t,{RQ:function(){return r},d:function(){return i},eS:function(){return o}}),function(e){e.IN_TEST="IN_TEST",e.READY_FOR_REVIEW="READY_FOR_REVIEW",e.IN_REVIEW="IN_REVIEW",e.REJECTED="REJECTED",e.APPROVED="APPROVED",e.RELEASED="RELEASED",e.DEPRECATED="DEPRECATED",e.PENDING_ACTION="PENDING_ACTION",e.UPLOADING="UPLOADING",e.ASSETS_UPLOADED="ASSETS_UPLOADED",e.DELETED="DELETED"}(i||(i={})),function(e){e.COMPONENT="COMPONENT",e.HIDDEN="HIDDEN",e.PANEL="PANEL",e.VIDEO_OVERLAY="VIDEO_OVERLAY"}(r||(r={})),function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e.REJECTED_PERMISSIONS="REJECTED_PERMISSIONS"}(o||(o={}))},626858:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});var i=n(793406),r=function(){function e(){}return Object.defineProperty(e.prototype,"client",{get:function(){if(!e.clientInstance){if(window.__twitch_pubsub_client)return e.clientInstance=window.__twitch_pubsub_client,window.__twitch_pubsub_client;e.clientInstance=new i.z("production")}return e.clientInstance},enumerable:!1,configurable:!0}),e.prototype.setEnvironment=function(t){e.clientInstance=new i.z(t)},e.prototype.subscribe=function(e){var t=e.topic,n=e.success,i=e.failure,r=e.message,o=e.token,s=this.createSubscribeCallback(r),a=this.client.listen({auth:o,topic:t},s);return a.listenPromise.then((function(e){"success"===e.status?n():i(e.error)})),a},e.prototype.createSubscribeCallback=function(e){return function(t){var n;try{n=JSON.parse(t)}catch(e){return}e(n)}},e}()},25470:function(e,t,n){"use strict";n.d(t,{Zn:function(){return v},ZO:function(){return x}});var i=n(331635),r=n(277008),o=n(520309),s=n(116404),a=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return[2,o.F.graphQLRequest("query ExtensionSubscriptionStatus(\n  $channelID: ID\n) {\n  user(id: $channelID) {\n    id\n    self {\n      subscriptionBenefit {\n        tier\n      }\n    }\n  }\n}",{channelID:e})]}))}))},c=n(124051),u=n(265215),l=n(626858),h=n(331664),p=n(626457),f=n(238998),d=n(281200),v=new(function(){function e(){}return e.prototype.get=function(e,t){return t},e}()),y="statsupdate",m="play",b="pause",_="volumechange",x=new(function(e){function t(t){var n=e.call(this)||this;return n.viewerInfo={subscriptionStatus:{}},n.currentControlHandlers=[],n.broadcastSettingsUnsubscribe=null,n.viewerSubscriptionStatusUpdateUnsubscribe=null,n.currentChannelUnsubscribe=null,n.currentExtensionUnsubscribes=(0,d.j)(),n.currentSubscriptionStatusCallbacks=(0,d.j)(),n.hasPurchaseCompletedSubscriptionList=(0,d.j)(),n.hasBitsTransactionCompletedSubscriptionList=(0,d.j)(),n.listenForViewerSubscriptionStatus=function(e,t,r,s){n.currentSubscriptionStatusCallbacks[r]=s,n.viewerSubscriptionStatusUpdateUnsubscribe||(n.viewerSubscriptionStatusUpdateUnsubscribe=n.pubsub.subscribe({token:o.F.authToken,topic:"user-subscribe-events-v1.".concat(e),success:function(){},failure:function(){},message:function(e){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n,r=this;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e.channel_id!==t?[3,2]:[4,this.getViewerInfoForChannel(t,!0)];case 1:n=i.sent(),Object.keys(this.currentSubscriptionStatusCallbacks).forEach((function(e){r.currentSubscriptionStatusCallbacks[e](n)})),i.label=2;case 2:return[2]}}))}))}}))},n.unlistenFromViewerSubscriptionStatus=function(){n.currentSubscriptionStatusCallbacks={},n.viewerSubscriptionStatusUpdateUnsubscribe&&(n.viewerSubscriptionStatusUpdateUnsubscribe(),n.viewerSubscriptionStatusUpdateUnsubscribe=null)},n.onPlayerContextUpdate=function(){n.emit(c.MB.ContextUpdate)},n.onTwilightContextUpdate=function(e){n.emit(c.MB.ContextUpdate,e)},n.onExtensionControlMessage=function(e){switch(e.status){case"activate":if(e.maxDelayMS>0){var t=Math.random()*e.maxDelayMS;setTimeout((function(){n.onShouldFetchExtensions()}),t)}else n.onShouldFetchExtensions();break;case"anchor_changed":var i=e.activationConfig;i&&n.onActivationChanged(e.extensionId,i);break;case"deactivate":case"uninstall":n.onDestroyExtension(e.extensionId)}},n.onExtensionMassControlMessage=function(e){if("mass_deactivate"===e.status)n.onDestroyExtension(e.extensionId)},n.onBroadcastSettingsUpdateMessage=function(e){var t=e.channel_id,i=e.game,r=e.old_game;n.currentChannelId&&t===n.currentChannelId||!n.broadcastSettingsUnsubscribe?i!==r&&n.emit(c.MB.ContextUpdate,{game:i}):n.broadcastSettingsUnsubscribe()},n.onShouldFetchExtensions=function(){n.currentControlHandlers.forEach((function(e){e.onShouldFetchExtensions()}))},n.onActivationChanged=function(e,t){n.currentControlHandlers.forEach((function(n){n.onActivationChanged&&n.onActivationChanged(e,t)}))},n.onDestroyExtension=function(e){n.currentControlHandlers.forEach((function(t){t.onDestroyExtension(e)}))},n.pubsub=t||new l.Q,n.contextManager=new u.vE(n),n}return(0,i.__extends)(t,e),t.prototype.getInstalledExtensions=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,s.a)(e)];case 1:return t=n.sent(),[2,this.registerExtensionInstallations(t,e)]}}))}))},t.prototype.getContextManager=function(){return this.contextManager},t.prototype.registerExtensionInstallations=function(e,t){var n=this;return f.b.setClockSkew(e.issued_at),e.tokens.forEach((function(i){var r=e.installed_extensions.reduce((function(e,t){var n=t.extension,r=t.installation_status;return e||(n.id===i.extension_id?"active"===r.activation_state:e)}),!1),o=new p.o(i.token).isBroadcaster;(r||o)&&f.b.registerTokens(i.extension_id,t,{token:i.token,helixToken:i.helix_token}),r&&n.subscribeToMassExtensionControl(i.extension_id)})),e},t.prototype.registerCoordinatorInstallations=function(e,t,n){var i=this;return f.b.setClockSkew(t),e.forEach((function(e){var t=e.extension,r=t.id,o=t.helixToken,s=t.token,a=e.activationConfig.state===c.sh.Active,u=new p.o(s).isBroadcaster;(a||u)&&f.b.registerTokens(r,n,{token:s,helixToken:o}),a&&i.subscribeToMassExtensionControl(r)})),e},t.prototype.setEnvironmentOptions=function(e){e.env&&(this.pubsub.setEnvironment(this.getPubsubEnvironment(e.env)),h.W.environment=e.env),e.dynamicSettings&&(v=e.dynamicSettings),o.F.setApiOptions({apiUrl:e.apiUrl,authToken:e.authToken,graphQLRequestOverride:e.graphQLRequestOverride})},t.prototype.setSubscriptionStatusForChannel=function(e,t){this.viewerInfo.subscriptionStatus[t]=e},t.prototype.getViewerInfoForChannel=function(e,t){return void 0===t&&(t=!1),(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(n=this.viewerInfo.subscriptionStatus[e])&&!t?[2,Promise.resolve({subscriptionStatus:n})]:[4,a(e)];case 1:return(r=i.sent())&&r.user&&r.user.self?((o=r.user.self.subscriptionBenefit)&&r.user.id&&this.setSubscriptionStatusForChannel(o,r.user.id),[2,{subscriptionStatus:o}]):[2,{subscriptionStatus:null}]}}))}))},t.prototype.subscribeToExtensionControl=function(e,t){var n=String(e);this.currentChannelId&&n!==this.currentChannelId&&this.unsubscribeFromExtensionControl(this.currentChannelId),this.currentChannelId=n,this.currentControlHandlers.push(t),this.currentChannelUnsubscribe||(this.currentChannelUnsubscribe=this.pubsub.subscribe({topic:"extension-control.".concat(n),success:this.onSubscribeSuccess,failure:this.onSubscribeFailure,message:this.onExtensionControlMessage})),this.broadcastSettingsUnsubscribe||(this.broadcastSettingsUnsubscribe=this.pubsub.subscribe({topic:"broadcast-settings-update.".concat(n),success:this.onSubscribeSuccess,failure:this.onSubscribeFailure,message:this.onBroadcastSettingsUpdateMessage}))},t.prototype.unsubscribeFromExtensionControl=function(e){var t=String(e);if(this.currentChannelId&&t===this.currentChannelId){this.currentChannelUnsubscribe&&(this.currentChannelUnsubscribe(),this.currentChannelUnsubscribe=null),this.broadcastSettingsUnsubscribe&&(this.broadcastSettingsUnsubscribe(),this.broadcastSettingsUnsubscribe=null),this.currentControlHandlers.length>0&&(this.currentControlHandlers=[]);for(var n=0,i=Object.keys(this.currentExtensionUnsubscribes);n<i.length;n++){var r=i[n];this.currentExtensionUnsubscribes[r]()}this.unlistenFromViewerSubscriptionStatus()}},t.prototype.registerPlayer=function(e){this.player=e,this.player.addEventListener(b,this.onPlayerContextUpdate),this.player.addEventListener(m,this.onPlayerContextUpdate),this.player.addEventListener(y,this.onPlayerContextUpdate),this.player.addEventListener(_,this.onPlayerContextUpdate)},t.prototype.unregisterPlayer=function(){this.player&&(this.player.removeEventListener(b,this.onPlayerContextUpdate),this.player.removeEventListener(m,this.onPlayerContextUpdate),this.player.removeEventListener(y,this.onPlayerContextUpdate),this.player.removeEventListener(_,this.onPlayerContextUpdate),this.player=void 0)},t.prototype.setPlayerWindow=function(e){this.playerWindow=e},t.prototype.postContext=function(e){this.playerWindow&&this.playerWindow.postMessage({event:c.MB.ContextUpdate,context:e},"*"),this.emit(c.MB.ContextUpdate,e)},t.prototype.listenForContext=function(){var e=this;window.addEventListener("message",(function(t){var n=t.data;if(t.origin===window.location.origin&&n.event&&n.event===c.MB.ContextUpdate){var i=n.context;e.onTwilightContextUpdate(i)}}),!1)},t.prototype.onPurchaseCompleted=function(e,t){var n=this,i="".concat("purchase-completed",".").concat(e);if(this.on(i,t),!this.hasPurchaseCompletedSubscriptionList[e]){var r=o.F.authToken,s=this.pubsub.subscribe({token:r,topic:"".concat("user-extensionpurchase-events",".").concat(e),success:function(){},failure:function(){},message:function(e){n.emit(i,e)}});this.hasPurchaseCompletedSubscriptionList[e]=s}return function(){n.removeListener(i,t),n.listenerCount(i)<=0&&n.hasPurchaseCompletedSubscriptionList[e]&&(n.hasPurchaseCompletedSubscriptionList[e](),delete n.hasPurchaseCompletedSubscriptionList[e])}},t.prototype.onBitsTransactionCompleted=function(e,t,n,i){var r=this,s="".concat("bits-transaction-completed",".").concat(e,"-").concat(t);this.on(s,i);var a=[];if(!this.hasBitsTransactionCompletedSubscriptionList[s]){var c=this.pubsub.subscribe({token:o.F.authToken,topic:"".concat("bits-ext-v1-transaction",".").concat(e,"-").concat(t),success:function(){},failure:function(){},message:function(e){r.emit(s,e)}});if(a.push(c),null!==n){var u=this.pubsub.subscribe({token:o.F.authToken,topic:"".concat("bits-ext-v1-user-transaction",".").concat(n,".").concat(e,"-").concat(t),success:function(){},failure:function(){},message:function(e){r.emit(s,e)}});a.push(u)}this.hasBitsTransactionCompletedSubscriptionList[s]=function(){a.forEach((function(e){e()}))}}return function(){r.removeListener(s,i),r.listenerCount(s)<=0&&r.hasBitsTransactionCompletedSubscriptionList[s]&&(r.hasBitsTransactionCompletedSubscriptionList[s](),delete r.hasBitsTransactionCompletedSubscriptionList[s])}},t.prototype.onSubscribeFailure=function(){},t.prototype.onSubscribeSuccess=function(){},t.prototype.getPubsubEnvironment=function(e){return"staging"===e?"darklaunch":"test"===e?"production":null!==e.match("wss?://.*")?e:"production"},t.prototype.subscribeToMassExtensionControl=function(e){this.currentExtensionUnsubscribes[e]||(this.currentExtensionUnsubscribes[e]=this.pubsub.subscribe({topic:"extension-control.".concat(e),success:this.onSubscribeSuccess,failure:this.onSubscribeFailure,message:this.onExtensionMassControlMessage}))},t}(r.EventEmitter))},331664:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var i=new(function(){function e(){this.SUPERVISOR_LOCATION={production:"https://supervisor.ext-twitch.tv",staging:"https://supervisor.ext-assets.internal.justin.tv"},this.env="production"}return Object.defineProperty(e.prototype,"environment",{get:function(){return this.env},set:function(e){this.env=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supervisorOrigin",{get:function(){return this.SUPERVISOR_LOCATION[this.env]||this.SUPERVISOR_LOCATION.production},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supervisorURL",{get:function(){return"".concat(this.supervisorOrigin,"/supervisor/").concat("v1","/index.html")},enumerable:!1,configurable:!0}),e}())},626457:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});var i=n(238998),r=function(){function e(e){this.token=e;var t=Date.now(),n=t,r=1e3*this.payload.exp+i.b.clockSkew,o=Math.random()*(.9-.8)+.8;this.refreshAt=t+(r-n)*o}return Object.defineProperty(e.prototype,"payload",{get:function(){var e=this.token.split(".")[1];return JSON.parse(atob(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"expiresIn",{get:function(){return 1e3*this.payload.exp-Date.now()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLinked",{get:function(){return void 0!==this.payload.user_id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNearExpiration",{get:function(){return this.expiresIn<=6e4},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"refreshAfter",{get:function(){return this.refreshAt-Date.now()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldRefresh",{get:function(){return this.refreshAfter<=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUserLoggedIn",{get:function(){return"U"===this.payload.opaque_user_id.charAt(0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isBroadcaster",{get:function(){return"broadcaster"===this.payload.role},enumerable:!1,configurable:!0}),e}()},238998:function(e,t,n){"use strict";n.d(t,{b:function(){return c}});var i=n(331635),r=n(277008),o=n(458326),s=n(116404),a=n(626457),c=new(function(){function e(){var e=this;this.clockSkew=0,this.tokens={},this.timers={},this.tokenEmitter=new r.EventEmitter,this.helixTokens={},this.clearTokenManager=function(){for(var t in e.clockSkew=0,e.tokenEmitter.removeAllListeners(),e.tokens)e.tokens[t]&&(delete e.tokens[t],e.timers[t]&&(clearTimeout(e.timers[t]),delete e.timers[t]));for(var t in e.helixTokens)e.helixTokens[t]&&delete e.helixTokens[t]},this.getToken=function(t,n){return e.tokens[e.createExtensionChannelKey(t,n)]},this.getHelixToken=function(t,n){return e.helixTokens[e.createExtensionChannelKey(t,n)]},this.registerToken=function(t,n,i){var r=e.createExtensionChannelKey(t,n),o=new a.o(i),s=e.tokens[r]||o;e.tokens[r]=new a.o(i),e.tokenEmitter.emit(r,o,s),e.updateRefreshTimer(t,n)},this.registerHelixToken=function(t,n,i){var r=e.createExtensionChannelKey(t,n);e.helixTokens[r]=i},this.registerTokens=function(t,n,i){i.helixToken&&e.registerHelixToken(t,n,i.helixToken),i.token&&e.registerToken(t,n,i.token)},this.createExtensionChannelKey=function(e,t){return e+":"+t},this.updateRefreshTimer=function(t,n){var i=e.createExtensionChannelKey(t,n),r=e.getToken(t,n),o=e.tokenEmitter.listeners(i).length>0,s=void 0!==e.timers[i];o&&!s?e.timers[i]=window.setTimeout((function(){delete e.timers[i],e.refreshToken(t,n)}),r.refreshAfter):!o&&s&&(clearTimeout(e.timers[i]),delete e.timers[i])},this.refreshToken=function(t,n){return(0,i.__awaiter)(e,void 0,void 0,(function(){var e,r,s,a,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:e=this.getToken(t,n),r=this.getHelixToken(t,n),i.label=1;case 1:return i.trys.push([1,4,6,7]),[4,(0,o.Be)(t,e)];case 2:return s=i.sent().token,[4,(0,o.dK)(t,r)];case 3:return a=i.sent(),[3,7];case 4:return i.sent(),[4,this.getTokenFromExtensions(t,e)];case 5:return c=i.sent(),s=c.token,a=c.helixToken,[3,7];case 6:return this.registerTokens(t,n,{token:s,helixToken:a}),[7];case 7:return[2]}}))}))},this.getTokenFromExtensions=function(t,n){return(0,i.__awaiter)(e,void 0,void 0,(function(){var e,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,(0,s.a)(n.payload.channel_id)];case 1:return e=i.sent().tokens,r="",o="",e.forEach((function(e){e.extension_id===t&&(r=e.token,o=e.helix_token)})),[2,{token:r,helixToken:o}]}}))}))}}return e.prototype.setClockSkew=function(e){var t=new Date(e).getTime();this.clockSkew=Date.now()-t},e.prototype.subscribe=function(e,t,n){this.tokenEmitter.on(this.createExtensionChannelKey(e,t),n),this.getToken(e,t)&&this.updateRefreshTimer(e,t)},e.prototype.unsubscribe=function(e,t,n){this.tokenEmitter.off(this.createExtensionChannelKey(e,t),n),this.getToken(e,t)&&this.updateRefreshTimer(e,t)},e}())},665265:function(e,t,n){"use strict";n.d(t,{U_:function(){return c},Vu:function(){return l},XB:function(){return u},fL:function(){return a}});var i=n(569886),r=n(124051),o=n(352564);function s(e){var t={};return e.component&&(t.component={aspectHeight:e.component.aspect_height,aspectWidth:e.component.aspect_width,canLinkExternalContent:e.component.can_link_external_content,viewerUrl:e.component.viewer_url,zoom:e.component.zoom,zoomPixels:e.component.zoom_pixels,aspectRatioX:e.component.aspect_ratio_x,aspectRatioY:e.component.aspect_ratio_y,targetHeight:e.component.target_height,autoScale:e.component.autoscale||!1,scalePixels:e.component.scale_pixels||0}),e.config&&(t.config={canLinkExternalContent:e.config.can_link_external_content,viewerUrl:e.config.viewer_url}),e.hidden&&(t.hidden={canLinkExternalContent:e.hidden.can_link_external_content,viewerUrl:e.hidden.viewer_url}),e.live_config&&(t.liveConfig={canLinkExternalContent:e.live_config.can_link_external_content,viewerUrl:e.live_config.viewer_url}),e.mobile&&(t.mobile={viewerUrl:e.mobile.viewer_url}),e.panel&&(t.panel={canLinkExternalContent:e.panel.can_link_external_content,height:e.panel.height,viewerUrl:e.panel.viewer_url}),e.video_overlay&&(t.videoOverlay={canLinkExternalContent:e.video_overlay.can_link_external_content,viewerUrl:e.video_overlay.viewer_url}),t}function a(e){return e.installed_extensions.map((function(t){var n=t.extension,o=t.installation_status,a="",c="";e.tokens.forEach((function(e){var t=e.extension_id,i=e.helix_token,r=e.token;n.id===t&&(a=r,c=i)}));var u=o.activation_config.anchor===r.Z1.Component;return{abilities:{isChatEnabled:o.abilities.is_chat_enabled,isBitsEnabled:o.abilities.is_bits_enabled,isSubscriptionStatusAvailable:o.abilities.is_subscription_status_available},id:n.id,extension:{authorName:n.author_name,clientId:n.id,bitsEnabled:n.bits_enabled,description:n.description,name:n.name,helixToken:c,iconUrl:n.icon_urls[i.lV.Square100],iconUrls:{square24:n.icon_urls[i.lV.Square24],square100:n.icon_urls[i.lV.Square100],discoverySplash:n.icon_urls[i.lV.DiscoverySplash]},id:n.id,requestIdentityLink:n.request_identity_link,sku:n.sku,summary:n.summary,token:a,vendorCode:n.vendor_code,state:n.state,version:n.version,views:s(n.views),viewerSummary:n.viewer_summary,whitelistedConfigUrls:n.whitelisted_config_urls,whitelistedPanelUrls:n.whitelisted_panel_urls,allowlistedConfigUrls:n.whitelisted_config_urls,allowlistedPanelUrls:n.whitelisted_panel_urls},activationConfig:{anchor:o.activation_config.anchor,slot:o.activation_config.slot,x:u?o.activation_config.x:void 0,y:u?o.activation_config.y:void 0,state:o.activation_state},configuration:e.configurations?e.configurations[n.id]:{}}}))}function c(e){switch(e){case o.d.APPROVED:return r.HY.Approved;case o.d.ASSETS_UPLOADED:return r.HY.HostedTest;case o.d.IN_REVIEW:return r.HY.InReview;case o.d.IN_TEST:return r.HY.Testing;case o.d.PENDING_ACTION:return r.HY.PendingAction;case o.d.READY_FOR_REVIEW:return r.HY.ReadyForReview;case o.d.RELEASED:return r.HY.Released;case o.d.UPLOADING:return r.HY.Uploading;default:return null}}function u(e){switch(e){case o.RQ.COMPONENT:return r.Z1.Component;case o.RQ.PANEL:return r.Z1.Panel;case o.RQ.VIDEO_OVERLAY:return r.Z1.Overlay;case o.RQ.HIDDEN:default:return r.Z1.Hidden}}function l(e){switch(e){case o.eS.ACTIVE:return r.sh.Active;case o.eS.INACTIVE:case o.eS.REJECTED_PERMISSIONS:default:return r.sh.Inactive}}},281200:function(e,t,n){"use strict";function i(){return Object.create(null)}n.d(t,{j:function(){return i}})},80803:function(e,t,n){"use strict";var i;n.d(t,{O4:function(){return s},St:function(){return r},Sx:function(){return i}}),function(e){e.Light="light",e.Dark="dark"}(i||(i={}));var r={0:i.Light,1:i.Dark},o=i.Dark;function s(){if(!function(){try{var e=window.localStorage;if(e){var t="test_item_".concat(Date.now());if(e.setItem(t,"OK"),"OK"===e.getItem(t))return e.removeItem(t),e}}catch(e){}return null}())return o;var e=window.localStorage.getItem("twilight.theme");return null!=e&&r[e]||o}},536455:function(e,t,n){"use strict";n.d(t,{I:function(){return r},l:function(){return s}});var i=n(281200),r=function(){function e(){this.dict=(0,i.j)()}return e.prototype.append=function(e,t){!function(e,t,n){t in e?e[t].push("".concat(n)):e[t]=["".concat(n)]}(this.dict,e,t)},e.prototype.toString=function(){var e=[],t=this.dict;for(var n in t)for(var i=s(n),r=0,o=t[n];r<o.length;r++)e.push("".concat(i,"=").concat(s(o[r])));return e.join("&")},e}();var o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};function s(e){return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,(function(e){return o[e]}))}},277008:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,i,o,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new r(i,o||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},a.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,s=new Array(o);r<o;r++)s[r]=i[r].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,t,i,r,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,i),!0;case 4:return l.fn.call(l.context,t,i,r),!0;case 5:return l.fn.call(l.context,t,i,r,o),!0;case 6:return l.fn.call(l.context,t,i,r,o,s),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,i);break;case 4:l[u].fn.call(l[u].context,t,i,r);break;default:if(!c)for(p=1,c=new Array(h-1);p<h;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,i,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||i&&a.context!==i||s(this,o);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||r&&!a[c].once||i&&a[c].context!==i)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},467994:function(e){"use strict";e.exports=function(e){var t=e.uri,n=e.name,i=e.type;this.uri=t,this.name=n,this.type=i}},286818:function(e,t,n){"use strict";var i=n(935307);e.exports=function e(t,n,r){var o;void 0===n&&(n=""),void 0===r&&(r=i);var s=new Map;function a(e,t){var n=s.get(t);n?n.push.apply(n,e):s.set(t,e)}if(r(t))o=null,a([n],t);else{var c=n?n+".":"";if("undefined"!=typeof FileList&&t instanceof FileList)o=Array.prototype.map.call(t,(function(e,t){return a([""+c+t],e),null}));else if(Array.isArray(t))o=t.map((function(t,n){var i=e(t,""+c+n,r);return i.files.forEach(a),i.clone}));else if(t&&t.constructor===Object)for(var u in o={},t){var l=e(t[u],""+c+u,r);l.files.forEach(a),o[u]=l.clone}else o=t}return{clone:o,files:s}}},851048:function(e,t,n){"use strict";t.ReactNativeFile=n(467994),t.extractFiles=n(286818),t.isExtractableFile=n(935307)},935307:function(e,t,n){"use strict";var i=n(467994);e.exports=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof i}},451826:function(e,t,n){"use strict";var i=n(373738),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(851048),s=r(n(251894)),a=function(e){return o.isExtractableFile(e)||null!==e&&"object"===i(e)&&"function"==typeof e.pipe};t.default=function(e,t,n){var i=o.extractFiles({query:e,variables:t,operationName:n},"",a),r=i.clone,c=i.files;if(0===c.size){if(!Array.isArray(e))return JSON.stringify(r);if(void 0!==t&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");var u=e.reduce((function(e,n,i){return e.push({query:n,variables:t?t[i]:void 0}),e}),[]);return JSON.stringify(u)}var l=new("undefined"==typeof FormData?s.default:FormData);l.append("operations",JSON.stringify(r));var h={},p=0;return c.forEach((function(e){h[++p]=e})),l.append("map",JSON.stringify(h)),p=0,c.forEach((function(e,t){l.append(""+ ++p,t)})),l}},190135:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},u=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.gql=t.batchRequests=t.request=t.rawRequest=t.GraphQLClient=t.ClientError=void 0;var h=s(n(574945)),p=h,f=n(670585),d=l(n(451826)),v=n(618958);Object.defineProperty(t,"ClientError",{enumerable:!0,get:function(){return v.ClientError}});var y=function(e){var t={};return e&&("undefined"!=typeof Headers&&e instanceof Headers||e instanceof p.Headers?t=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}(e):Array.isArray(e)?e.forEach((function(e){var n=e[0],i=e[1];t[n]=i})):t=e),t},m=function(e){return e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim()},b=function(e){var t=e.url,n=e.query,r=e.variables,o=e.operationName,s=e.headers,u=e.fetch,l=e.fetchOptions;return a(void 0,void 0,void 0,(function(){var e;return c(this,(function(a){switch(a.label){case 0:return e=d.default(n,r,o),[4,u(t,i({method:"POST",headers:i(i({},"string"==typeof e?{"Content-Type":"application/json"}:{}),s),body:e},l))];case 1:return[2,a.sent()]}}))}))},_=function(e){var t=e.url,n=e.query,r=e.variables,o=e.operationName,s=e.headers,u=e.fetch,l=e.fetchOptions;return a(void 0,void 0,void 0,(function(){var e;return c(this,(function(a){switch(a.label){case 0:return e=function(e){var t=e.query,n=e.variables,i=e.operationName;if(!Array.isArray(t)){var r=["query="+encodeURIComponent(m(t))];return n&&r.push("variables="+encodeURIComponent(JSON.stringify(n))),i&&r.push("operationName="+encodeURIComponent(i)),r.join("&")}if(void 0!==n&&!Array.isArray(n))throw new Error("Cannot create query with given variable type, array expected");var o=t.reduce((function(e,t,i){return e.push({query:m(t),variables:n?JSON.stringify(n[i]):void 0}),e}),[]);return"query="+encodeURIComponent(JSON.stringify(o))}({query:n,variables:r,operationName:o}),[4,u(t+"?"+e,i({method:"GET",headers:s},l))];case 1:return[2,a.sent()]}}))}))},x=function(){function e(e,t){this.url=e,this.options=t||{}}return e.prototype.rawRequest=function(e,t,n){var r=this.options,o=r.headers,s=r.fetch,a=void 0===s?h.default:s,c=r.method,l=void 0===c?"POST":c,p=u(r,["headers","fetch","method"]);return E({url:this.url,query:e,variables:t,headers:i(i({},y(o)),y(n)),operationName:void 0,fetch:a,method:l,fetchOptions:p})},e.prototype.request=function(e,t,n){return a(this,void 0,void 0,(function(){var r,o,s,a,l,p,f,d,v,m,b;return c(this,(function(c){switch(c.label){case 0:return r=this.options,o=r.headers,s=r.fetch,a=void 0===s?h.default:s,l=r.method,p=void 0===l?"POST":l,f=u(r,["headers","fetch","method"]),d=this.url,v=T(e),m=v.query,b=v.operationName,[4,E({url:d,query:m,variables:t,headers:i(i({},y(o)),y(n)),operationName:b,fetch:a,method:p,fetchOptions:f})];case 1:return[2,c.sent().data]}}))}))},e.prototype.batchRequests=function(e,t){return a(this,void 0,void 0,(function(){var n,r,o,s,a,l,p,f,d,v;return c(this,(function(c){switch(c.label){case 0:return n=this.options,r=n.headers,o=n.fetch,s=void 0===o?h.default:o,a=n.method,l=void 0===a?"POST":a,p=u(n,["headers","fetch","method"]),f=this.url,d=e.map((function(e){return T(e.document).query})),v=e.map((function(e){return e.variables})),[4,E({url:f,query:d,variables:v,headers:i(i({},y(r)),y(t)),operationName:void 0,fetch:s,method:l,fetchOptions:p})];case 1:return[2,c.sent().data]}}))}))},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var n,i=this.options.headers;return i?i[e]=t:this.options.headers=((n={})[e]=t,n),this},e.prototype.setEndpoint=function(e){return this.url=e,this},e}();function E(e){var t=e.url,n=e.query,r=e.variables,o=e.headers,s=e.operationName,u=e.fetch,l=e.method,h=void 0===l?"POST":l,p=e.fetchOptions;return a(this,void 0,void 0,(function(){var e,a,l,f,d,y,m,x;return c(this,(function(c){switch(c.label){case 0:return e="POST"===h.toUpperCase()?b:_,a=Array.isArray(n),[4,e({url:t,query:n,variables:r,operationName:s,headers:o,fetch:u,fetchOptions:p})];case 1:return[4,g(l=c.sent())];case 2:if(f=c.sent(),d=a&&Array.isArray(f)?!f.some((function(e){return!e.data})):!!f.data,l.ok&&!f.errors&&d)return y=l.headers,m=l.status,[2,i(i({},a?{data:f}:f),{headers:y,status:m})];throw x="string"==typeof f?{error:f}:f,new v.ClientError(i(i({},x),{status:l.status,headers:l.headers}),{query:n,variables:r})}}))}))}function w(e,t,n,i){return a(this,void 0,void 0,(function(){return c(this,(function(r){return[2,new x(e).request(t,n,i)]}))}))}function g(e){var t=e.headers.get("Content-Type");return t&&t.startsWith("application/json")?e.json():e.text()}function T(e){var t;if("string"==typeof e)return{query:e};var n=void 0,i=e.definitions.filter((function(e){return"OperationDefinition"===e.kind}));return 1===i.length&&(n=null===(t=i[0].name)||void 0===t?void 0:t.value),{query:f.print(e),operationName:n}}t.GraphQLClient=x,t.rawRequest=function(e,t,n,i){return a(this,void 0,void 0,(function(){return c(this,(function(r){return[2,new x(e).rawRequest(t,n,i)]}))}))},t.request=w,t.batchRequests=function(e,t,n){return a(this,void 0,void 0,(function(){return c(this,(function(i){return[2,new x(e).batchRequests(t,n)]}))}))},t.default=w,t.gql=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.reduce((function(e,n,i){return""+e+n+(i in t?t[i]:"")}),"")}},618958:function(e,t){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.ClientError=void 0;var r=function(e){function t(n,i){var r=this,o=t.extractMessage(n)+": "+JSON.stringify({response:n,request:i});return r=e.call(this,o)||this,Object.setPrototypeOf(r,t.prototype),r.response=n,r.request=i,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(r,t),r}return i(t,e),t.extractMessage=function(e){try{return e.errors[0].message}catch(t){return"GraphQL Error (Code: "+e.status+")"}},t}(Error);t.ClientError=r},574945:function(e,t){var n="undefined"!=typeof self?self:this,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,i="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&r&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,n,i=f(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=d(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=u(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[u(e)]},p.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},p.prototype.set=function(e,t){this.map[u(e)]=l(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},i&&(p.prototype[Symbol.iterator]=p.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){var n,i,r=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),b.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function x(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},m.call(_.prototype),m.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];E.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function g(e,n){return new Promise((function(i,o){var s=new _(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;i(new E(r,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}g.polyfill=!0,e.fetch||(e.fetch=g,e.Headers=p,e.Request=_,e.Response=E),t.Headers=p,t.Request=_,t.Response=E,t.fetch=g,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var r=i;(t=r.fetch).default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t},466310:function(e){"use strict";e.exports=function(e,t,n){var i,r=e instanceof Error?e:new Error(e);if("object"==typeof t?n=t:null!=t&&(r.code=t),n)for(i in n)r[i]=n[i];return r}},251894:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},863580:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prototype.toJSON;"function"==typeof t||(0,i.default)(0),e.prototype.inspect=t,r.default&&(e.prototype[r.default]=t)};var i=o(n(761321)),r=o(n(498493));function o(e){return e&&e.__esModule?e:{default:e}}},29657:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return c(e,[])};var i,r=(i=n(498493))&&i.__esModule?i:{default:i};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var s=10,a=2;function c(e,t){switch(o(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),i=function(e){var t=e[String(r.default)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==i){var o=i.call(e);if(o!==e)return"string"==typeof o?o:c(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>a)return"[Array]";for(var n=Math.min(s,e.length),i=e.length-n,r=[],o=0;o<n;++o)r.push(c(e[o],t));1===i?r.push("... 1 more item"):i>1&&r.push("... ".concat(i," more items"));return"["+r.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>a)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";var i=n.map((function(n){return n+": "+c(e[n],t)}));return"{ "+i.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},761321:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}},498493:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.default=n},476257:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=function(e){return null!=e&&"string"==typeof e.kind},t.Token=t.Location=void 0;var i,r=(i=n(863580))&&i.__esModule?i:{default:i};var o=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();t.Location=o,(0,r.default)(o);var s=function(){function e(e,t,n,i,r,o,s){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=r,this.value=s,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();t.Token=s,(0,r.default)(s)},469165:function(e,t){"use strict";function n(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}function i(e){for(var t,n=!0,i=!0,r=0,o=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:10===e.charCodeAt(s+1)&&++s;case 10:n=!1,i=!0,r=0;break;case 9:case 32:++r;break;default:i&&!n&&(null===o||r<o)&&(o=r),i=!1}return null!==(t=o)&&void 0!==t?t:0}Object.defineProperty(t,"__esModule",{value:!0}),t.dedentBlockStringValue=function(e){var t=e.split(/\r\n|[\n\r]/g),r=i(e);if(0!==r)for(var o=1;o<t.length;o++)t[o]=t[o].slice(r);var s=0;for(;s<t.length&&n(t[s]);)++s;var a=t.length;for(;a>s&&n(t[a-1]);)--a;return t.slice(s,a).join("\n")},t.getBlockStringIndentation=i,t.printBlockString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=-1===e.indexOf("\n"),r=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],s="\\"===e[e.length-1],a=!i||o||s||n,c="";!a||i&&r||(c+="\n"+t);c+=t?e.replace(/\n/g,"\n"+t):e,a&&(c+="\n");return'"""'+c.replace(/"""/g,'\\"""')+'"""'}},670585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,i.visit)(e,{leave:o})};var i=n(609111),r=n(469165);var o={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return a(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,i=u("(",a(e.variableDefinitions,", "),")"),r=a(e.directives," "),o=e.selectionSet;return n||r||i||"query"!==t?a([t,a([n,i]),r,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,i=e.defaultValue,r=e.directives;return t+": "+n+u(" = ",i)+u(" ",a(r," "))},SelectionSet:function(e){return c(e.selections)},Field:function(e){var t=e.alias,n=e.name,i=e.arguments,r=e.directives,o=e.selectionSet,s=u("",t,": ")+n,c=s+u("(",a(i,", "),")");return c.length>80&&(c=s+u("(\n",l(a(i,"\n")),"\n)")),a([c,a(r," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+u(" ",a(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,i=e.selectionSet;return a(["...",u("on ",t),a(n," "),i]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,i=e.variableDefinitions,r=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(u("(",a(i,", "),")")," ")+"on ".concat(n," ").concat(u("",a(r," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?(0,r.printBlockString)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+a(e.values,", ")+"]"},ObjectValue:function(e){return"{"+a(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+u("(",a(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:s((function(e){var t=e.directives,n=e.operationTypes;return a(["schema",a(t," "),c(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:s((function(e){return a(["scalar",e.name,a(e.directives," ")]," ")})),ObjectTypeDefinition:s((function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return a(["type",t,u("implements ",a(n," & ")),a(i," "),c(r)]," ")})),FieldDefinition:s((function(e){var t=e.name,n=e.arguments,i=e.type,r=e.directives;return t+(p(n)?u("(\n",l(a(n,"\n")),"\n)"):u("(",a(n,", "),")"))+": "+i+u(" ",a(r," "))})),InputValueDefinition:s((function(e){var t=e.name,n=e.type,i=e.defaultValue,r=e.directives;return a([t+": "+n,u("= ",i),a(r," ")]," ")})),InterfaceTypeDefinition:s((function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return a(["interface",t,u("implements ",a(n," & ")),a(i," "),c(r)]," ")})),UnionTypeDefinition:s((function(e){var t=e.name,n=e.directives,i=e.types;return a(["union",t,a(n," "),i&&0!==i.length?"= "+a(i," | "):""]," ")})),EnumTypeDefinition:s((function(e){var t=e.name,n=e.directives,i=e.values;return a(["enum",t,a(n," "),c(i)]," ")})),EnumValueDefinition:s((function(e){return a([e.name,a(e.directives," ")]," ")})),InputObjectTypeDefinition:s((function(e){var t=e.name,n=e.directives,i=e.fields;return a(["input",t,a(n," "),c(i)]," ")})),DirectiveDefinition:s((function(e){var t=e.name,n=e.arguments,i=e.repeatable,r=e.locations;return"directive @"+t+(p(n)?u("(\n",l(a(n,"\n")),"\n)"):u("(",a(n,", "),")"))+(i?" repeatable":"")+" on "+a(r," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return a(["extend schema",a(t," "),c(n)]," ")},ScalarTypeExtension:function(e){return a(["extend scalar",e.name,a(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return a(["extend type",t,u("implements ",a(n," & ")),a(i," "),c(r)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return a(["extend interface",t,u("implements ",a(n," & ")),a(i," "),c(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,i=e.types;return a(["extend union",t,a(n," "),i&&0!==i.length?"= "+a(i," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,i=e.values;return a(["extend enum",t,a(n," "),c(i)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,i=e.fields;return a(["extend input",t,a(n," "),c(i)]," ")}};function s(e){return function(t){return a([t.description,e(t)],"\n")}}function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function c(e){return u("{\n",l(a(e,"\n")),"\n}")}function u(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function l(e){return u("  ",e.replace(/\n/g,"\n  "))}function h(e){return-1!==e.indexOf("\n")}function p(e){return null!=e&&e.some(h)}},609111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,i=void 0,u=Array.isArray(e),l=[e],h=-1,p=[],f=void 0,d=void 0,v=void 0,y=[],m=[],b=e;do{var _=++h===l.length,x=_&&0!==p.length;if(_){if(d=0===m.length?void 0:y[y.length-1],f=v,v=m.pop(),x){if(u)f=f.slice();else{for(var E={},w=0,g=Object.keys(f);w<g.length;w++){var T=g[w];E[T]=f[T]}f=E}for(var k=0,S=0;S<p.length;S++){var I=p[S][0],O=p[S][1];u&&(I-=k),u&&null===O?(f.splice(I,1),k++):f[I]=O}}h=i.index,l=i.keys,p=i.edits,u=i.inArray,i=i.prev}else{if(d=v?u?h:l[h]:void 0,null==(f=v?v[d]:b))continue;v&&y.push(d)}var C,A=void 0;if(!Array.isArray(f)){if(!(0,o.isNode)(f))throw new Error("Invalid AST Node: ".concat((0,r.default)(f),"."));var D=c(t,f.kind,_);if(D){if((A=D.call(t,f,d,v,y,m))===a)break;if(!1===A){if(!_){y.pop();continue}}else if(void 0!==A&&(p.push([d,A]),!_)){if(!(0,o.isNode)(A)){y.pop();continue}f=A}}}if(void 0===A&&x&&p.push([d,f]),_)y.pop();else i={inArray:u,index:h,keys:l,edits:p,prev:i},l=(u=Array.isArray(f))?f:null!==(C=n[f.kind])&&void 0!==C?C:[],h=-1,p=[],v&&m.push(v),v=f}while(void 0!==i);0!==p.length&&(b=p[p.length-1][1]);return b},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(n){for(var i=0;i<e.length;i++)if(null==t[i]){var r=c(e[i],n.kind,!1);if(r){var o=r.apply(e[i],arguments);if(!1===o)t[i]=n;else if(o===a)t[i]=a;else if(void 0!==o)return o}}},leave:function(n){for(var i=0;i<e.length;i++)if(null==t[i]){var r=c(e[i],n.kind,!0);if(r){var o=r.apply(e[i],arguments);if(o===a)t[i]=a;else if(void 0!==o&&!1!==o)return o}}else t[i]===n&&(t[i]=null)}}},t.getVisitFn=c,t.BREAK=t.QueryDocumentKeys=void 0;var i,r=(i=n(29657))&&i.__esModule?i:{default:i},o=n(476257);var s={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};t.QueryDocumentKeys=s;var a=Object.freeze({});function c(e,t,n){var i=e[t];if(i){if(!n&&"function"==typeof i)return i;var r=n?i.leave:i.enter;if("function"==typeof r)return r}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}t.BREAK=a},571369:function(e,t,n){"use strict";var i=n(466310),r=n(175617),o=Object.prototype.hasOwnProperty;function s(e){return e&&"EPROMISERETRY"===e.code&&o.call(e,"retried")}e.exports=function(e,t){var n,o;return"object"==typeof e&&"function"==typeof t&&(n=t,t=e,e=n),o=r.operation(t),new Promise((function(t,n){o.attempt((function(r){Promise.resolve().then((function(){return e((function(e){throw s(e)&&(e=e.retried),i("Retrying","EPROMISERETRY",{retried:e})}),r)})).then(t,(function(e){s(e)&&(e=e.retried,o.retry(e||new Error))||n(e)}))}))}))}},175617:function(e,t,n){e.exports=n(558303)},558303:function(e,t,n){var i=n(293961);t.operation=function(e){var n=t.timeouts(e);return new i(n,{forever:e&&e.forever,unref:e&&e.unref})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],r=0;r<t.retries;r++)i.push(this.createTimeout(r,t));return e&&e.forever&&!i.length&&i.push(this.createTimeout(r,t)),i.sort((function(e,t){return e-t})),i},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,i=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return i=Math.min(i,t.maxTimeout)},t.wrap=function(e,n,i){if(n instanceof Array&&(i=n,n=null),!i)for(var r in i=[],e)"function"==typeof e[r]&&i.push(r);for(var o=0;o<i.length;o++){var s=i[o],a=e[s];e[s]=function(){var i=t.operation(n),r=Array.prototype.slice.call(arguments),o=r.pop();r.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),o.apply(this,arguments))})),i.attempt((function(){a.apply(e,r)}))},e[s].options=n}}},293961:function(e){function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._timeouts=e,this._options=t||{},this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;this._errors.push(e);var t=this._timeouts.shift();if(void 0===t){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),t=this._timeouts.shift()}var n=this,i=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),this._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),t);return this._options.unref&&i.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,i=0;i<this._errors.length;i++){var r=this._errors[i],o=r.message,s=(e[o]||0)+1;e[o]=s,s>=n&&(t=r,n=s)}return t}},820150:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{qg:function(){return V}});"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var r="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function o(e,t){for(var n,i=/\r\n|[\n\r]/g,r=1,o=t+1;(n=i.exec(e.body))&&n.index<t;)r+=1,o=t+1-(n.index+n[0].length);return{line:r,column:o}}function s(e){return a(e.source,o(e.source,e.start))}function a(e,t){var n=e.locationOffset.column-1,i=u(n)+e.body,r=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,l=t.column+a,h="".concat(e.name,":").concat(s,":").concat(l,"\n"),p=i.split(/\r\n|[\n\r]/g),f=p[r];if(f.length>120){for(var d=Math.floor(l/80),v=l%80,y=[],m=0;m<f.length;m+=80)y.push(f.slice(m,m+80));return h+c([["".concat(s),y[0]]].concat(y.slice(1,d+1).map((function(e){return["",e]})),[[" ",u(v-1)+"^"],["",y[d+1]]]))}return h+c([["".concat(s-1),p[r-1]],["".concat(s),f],["",u(l-1)+"^"],["".concat(s+1),p[r+1]]])}function c(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,i=e[0],r=e[1];return u(n-(t=i).length)+t+(r?" | "+r:" |")})).join("\n")}function u(e){return Array(e+1).join(" ")}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return v(e,arguments,b(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),m(i,e)},d(e)}function v(e,t,n){return v=y()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&m(r,n.prototype),r},v.apply(null,arguments)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(v,e);var t,n,c,u,l,d=(t=v,n=y(),function(){var e,i=b(t);if(n){var r=b(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return p(this,e)});function v(e,t,n,r,s,a,c){var u,l,h,y,m;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),m=d.call(this,e);var b,_=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,x=n;!x&&_&&(x=null===(b=_[0].loc)||void 0===b?void 0:b.source);var E,w=r;!w&&_&&(w=_.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),w&&0===w.length&&(w=void 0),r&&n?E=r.map((function(e){return o(n,e)})):_&&(E=_.reduce((function(e,t){return t.loc&&e.push(o(t.loc.source,t.loc.start)),e}),[]));var g,T=c;if(null==T&&null!=a){var k=a.extensions;"object"==i(g=k)&&null!==g&&(T=k)}return Object.defineProperties(f(m),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!==(u=E)&&void 0!==u?u:void 0,enumerable:null!=E},path:{value:null!=s?s:void 0,enumerable:null!=s},nodes:{value:null!=_?_:void 0},source:{value:null!==(l=x)&&void 0!==l?l:void 0},positions:{value:null!==(h=w)&&void 0!==h?h:void 0},originalError:{value:a},extensions:{value:null!==(y=T)&&void 0!==y?y:void 0,enumerable:null!=T}}),null!=a&&a.stack?(Object.defineProperty(f(m),"stack",{value:a.stack,writable:!0,configurable:!0}),p(m)):(Error.captureStackTrace?Error.captureStackTrace(f(m),v):Object.defineProperty(f(m),"stack",{value:Error().stack,writable:!0,configurable:!0}),m)}return c=v,(u=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,i=e.nodes;n<i.length;n++){var r=i[n];r.loc&&(t+="\n\n"+s(r.loc))}else if(e.source&&e.locations)for(var o=0,c=e.locations;o<c.length;o++){var u=c[o];t+="\n\n"+a(e.source,u)}return t}(this)}},{key:r,get:function(){return"Object"}}])&&h(c.prototype,u),l&&h(c,l),v}(d(Error));function x(e,t,n){return new _("Syntax Error: ".concat(n),void 0,e,[t])}var E=n(843298),w=n(473559),g=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),T=n(380129);function k(e,t){if(!Boolean(e))throw new Error(t)}var S=function(e,t){return e instanceof t};function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var O=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||k(0,"Body must be a string. Received: ".concat((0,T.A)(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||k(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||k(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,i;return t=e,(n=[{key:r,get:function(){return"Source"}}])&&I(t.prototype,n),i&&I(t,i),e}();var C=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),A=n(175995),D=function(){function e(e){var t=new w.ou(g.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==g.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=N(this,e)}while(e.kind===g.COMMENT);return e},e}();function R(e){return isNaN(e)?g.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function N(e,t){for(var n=e.source,i=n.body,r=i.length,o=t.end;o<r;){var s=i.charCodeAt(o),a=e.line,c=1+o-e.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===i.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new w.ou(g.BANG,o,o+1,a,c,t);case 35:return U(n,o,a,c,t);case 36:return new w.ou(g.DOLLAR,o,o+1,a,c,t);case 38:return new w.ou(g.AMP,o,o+1,a,c,t);case 40:return new w.ou(g.PAREN_L,o,o+1,a,c,t);case 41:return new w.ou(g.PAREN_R,o,o+1,a,c,t);case 46:if(46===i.charCodeAt(o+1)&&46===i.charCodeAt(o+2))return new w.ou(g.SPREAD,o,o+3,a,c,t);break;case 58:return new w.ou(g.COLON,o,o+1,a,c,t);case 61:return new w.ou(g.EQUALS,o,o+1,a,c,t);case 64:return new w.ou(g.AT,o,o+1,a,c,t);case 91:return new w.ou(g.BRACKET_L,o,o+1,a,c,t);case 93:return new w.ou(g.BRACKET_R,o,o+1,a,c,t);case 123:return new w.ou(g.BRACE_L,o,o+1,a,c,t);case 124:return new w.ou(g.PIPE,o,o+1,a,c,t);case 125:return new w.ou(g.BRACE_R,o,o+1,a,c,t);case 34:return 34===i.charCodeAt(o+1)&&34===i.charCodeAt(o+2)?M(n,o,a,c,t,e):B(n,o,a,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return P(n,o,s,a,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return q(n,o,a,c,t)}throw x(n,o,L(s))}var u=e.line,l=1+o-e.lineStart;return new w.ou(g.EOF,r,r,u,l,t)}function L(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(R(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(R(e),".")}function U(e,t,n,i,r){var o,s=e.body,a=t;do{o=s.charCodeAt(++a)}while(!isNaN(o)&&(o>31||9===o));return new w.ou(g.COMMENT,t,a,n,i,r,s.slice(t+1,a))}function P(e,t,n,i,r,o){var s=e.body,a=n,c=t,u=!1;if(45===a&&(a=s.charCodeAt(++c)),48===a){if((a=s.charCodeAt(++c))>=48&&a<=57)throw x(e,c,"Invalid number, unexpected digit after 0: ".concat(R(a),"."))}else c=F(e,c,a),a=s.charCodeAt(c);if(46===a&&(u=!0,a=s.charCodeAt(++c),c=F(e,c,a),a=s.charCodeAt(c)),69!==a&&101!==a||(u=!0,43!==(a=s.charCodeAt(++c))&&45!==a||(a=s.charCodeAt(++c)),c=F(e,c,a),a=s.charCodeAt(c)),46===a||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(a))throw x(e,c,"Invalid number, expected digit but got: ".concat(R(a),"."));return new w.ou(u?g.FLOAT:g.INT,t,c,i,r,o,s.slice(t,c))}function F(e,t,n){var i=e.body,r=t,o=n;if(o>=48&&o<=57){do{o=i.charCodeAt(++r)}while(o>=48&&o<=57);return r}throw x(e,r,"Invalid number, expected digit but got: ".concat(R(o),"."))}function B(e,t,n,i,r){for(var o,s,a,c,u=e.body,l=t+1,h=l,p=0,f="";l<u.length&&!isNaN(p=u.charCodeAt(l))&&10!==p&&13!==p;){if(34===p)return f+=u.slice(h,l),new w.ou(g.STRING,t,l+1,n,i,r,f);if(p<32&&9!==p)throw x(e,l,"Invalid character within String: ".concat(R(p),"."));if(++l,92===p){switch(f+=u.slice(h,l-1),p=u.charCodeAt(l)){case 34:f+='"';break;case 47:f+="/";break;case 92:f+="\\";break;case 98:f+="\b";break;case 102:f+="\f";break;case 110:f+="\n";break;case 114:f+="\r";break;case 116:f+="\t";break;case 117:var d=(o=u.charCodeAt(l+1),s=u.charCodeAt(l+2),a=u.charCodeAt(l+3),c=u.charCodeAt(l+4),j(o)<<12|j(s)<<8|j(a)<<4|j(c));if(d<0){var v=u.slice(l+1,l+5);throw x(e,l,"Invalid character escape sequence: \\u".concat(v,"."))}f+=String.fromCharCode(d),l+=4;break;default:throw x(e,l,"Invalid character escape sequence: \\".concat(String.fromCharCode(p),"."))}h=++l}}throw x(e,l,"Unterminated string.")}function M(e,t,n,i,r,o){for(var s=e.body,a=t+3,c=a,u=0,l="";a<s.length&&!isNaN(u=s.charCodeAt(a));){if(34===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2))return l+=s.slice(c,a),new w.ou(g.BLOCK_STRING,t,a+3,n,i,r,(0,A.i$)(l));if(u<32&&9!==u&&10!==u&&13!==u)throw x(e,a,"Invalid character within String: ".concat(R(u),"."));10===u?(++a,++o.line,o.lineStart=a):13===u?(10===s.charCodeAt(a+1)?a+=2:++a,++o.line,o.lineStart=a):92===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2)&&34===s.charCodeAt(a+3)?(l+=s.slice(c,a)+'"""',c=a+=4):++a}throw x(e,a,"Unterminated string.")}function j(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function q(e,t,n,i,r){for(var o=e.body,s=o.length,a=t+1,c=0;a!==s&&!isNaN(c=o.charCodeAt(a))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++a;return new w.ou(g.NAME,t,a,n,i,r,o.slice(t,a))}function V(e,t){return new H(e,t).parseDocument()}var H=function(){function e(e,t){var n=function(e){return S(e,O)}(e)?e:new O(e);this._lexer=new D(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(g.NAME);return{kind:E.b.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:E.b.DOCUMENT,definitions:this.many(g.SOF,this.parseDefinition,g.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(g.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(g.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(g.BRACE_L))return{kind:E.b.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(g.NAME)&&(t=this.parseName()),{kind:E.b.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(g.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(g.PAREN_L,this.parseVariableDefinition,g.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:E.b.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(g.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(g.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(g.DOLLAR),{kind:E.b.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:E.b.SELECTION_SET,selections:this.many(g.BRACE_L,this.parseSelection,g.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(g.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,i=this.parseName();return this.expectOptionalToken(g.COLON)?(e=i,t=this.parseName()):t=i,{kind:E.b.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(g.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(g.PAREN_L,t,g.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(g.COLON),{kind:E.b.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:E.b.ARGUMENT,name:this.parseName(),value:(this.expectToken(g.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(g.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(g.NAME)?{kind:E.b.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:E.b.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:E.b.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:E.b.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case g.BRACKET_L:return this.parseList(e);case g.BRACE_L:return this.parseObject(e);case g.INT:return this._lexer.advance(),{kind:E.b.INT,value:t.value,loc:this.loc(t)};case g.FLOAT:return this._lexer.advance(),{kind:E.b.FLOAT,value:t.value,loc:this.loc(t)};case g.STRING:case g.BLOCK_STRING:return this.parseStringLiteral();case g.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:E.b.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:E.b.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:E.b.NULL,loc:this.loc(t)};default:return{kind:E.b.ENUM,value:t.value,loc:this.loc(t)}}case g.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:E.b.STRING,value:e.value,block:e.kind===g.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:E.b.LIST,values:this.any(g.BRACKET_L,(function(){return t.parseValueLiteral(e)}),g.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:E.b.OBJECT,fields:this.any(g.BRACE_L,(function(){return t.parseObjectField(e)}),g.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(g.COLON),{kind:E.b.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(g.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(g.AT),{kind:E.b.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(g.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(g.BRACKET_R),e={kind:E.b.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(g.BANG)?{kind:E.b.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:E.b.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===g.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(g.STRING)||this.peek(g.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),i=this.many(g.BRACE_L,this.parseOperationTypeDefinition,g.BRACE_R);return{kind:E.b.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:i,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(g.COLON);var n=this.parseNamedType();return{kind:E.b.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),i=this.parseDirectives(!0);return{kind:E.b.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:E.b.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(g.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(g.AMP)||this.peek(g.NAME));return t}return this.delimitedMany(g.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(g.BRACE_L)&&this._lexer.lookahead().kind===g.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(g.BRACE_L,this.parseFieldDefinition,g.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(g.COLON);var r=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:E.b.FIELD_DEFINITION,description:t,name:n,arguments:i,type:r,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(g.PAREN_L,this.parseInputValueDef,g.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(g.COLON);var i,r=this.parseTypeReference();this.expectOptionalToken(g.EQUALS)&&(i=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:E.b.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:i,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:E.b.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseUnionMemberTypes();return{kind:E.b.UNION_TYPE_DEFINITION,description:t,name:n,directives:i,types:r,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(g.EQUALS)?this.delimitedMany(g.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();return{kind:E.b.ENUM_TYPE_DEFINITION,description:t,name:n,directives:i,values:r,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(g.BRACE_L,this.parseEnumValueDefinition,g.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseDirectives(!0);return{kind:E.b.ENUM_VALUE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();return{kind:E.b.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:i,fields:r,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(g.BRACE_L,this.parseInputValueDef,g.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===g.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(g.BRACE_L,this.parseOperationTypeDefinition,g.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:E.b.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:E.b.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:E.b.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:E.b.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseUnionMemberTypes();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:E.b.UNION_TYPE_EXTENSION,name:t,directives:n,types:i,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:E.b.ENUM_TYPE_EXTENSION,name:t,directives:n,values:i,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:E.b.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:i,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(g.AT);var n=this.parseName(),i=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:E.b.DIRECTIVE_DEFINITION,description:t,name:n,arguments:i,repeatable:r,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(g.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==C[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new w.aZ(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw x(this._lexer.source,t.start,"Expected ".concat(G(e),", found ").concat(K(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==g.NAME||t.value!==e)throw x(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(K(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===g.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return x(this._lexer.source,t.start,"Unexpected ".concat(K(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var i=[];!this.expectOptionalToken(n);)i.push(t.call(this));return i},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var i=[];do{i.push(t.call(this))}while(!this.expectOptionalToken(n));return i}return[]},t.many=function(e,t,n){this.expectToken(e);var i=[];do{i.push(t.call(this))}while(!this.expectOptionalToken(n));return i},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function K(e){var t=e.value;return G(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function G(e){return function(e){return e===g.BANG||e===g.DOLLAR||e===g.AMP||e===g.PAREN_L||e===g.PAREN_R||e===g.SPREAD||e===g.COLON||e===g.EQUALS||e===g.AT||e===g.BRACKET_L||e===g.BRACKET_R||e===g.BRACE_L||e===g.PIPE||e===g.BRACE_R}(e)?'"'.concat(e,'"'):e}}}]);